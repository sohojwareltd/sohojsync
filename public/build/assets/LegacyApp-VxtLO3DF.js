var Zj=Object.defineProperty;var Qj=(e,t,r)=>t in e?Zj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var pc=(e,t,r)=>Qj(e,typeof t!="symbol"?t+"":t,r);import{r as _,R as ay,a as iy,j as i,c as Rt,g as Br,b as wd,d as Jj}from"./app-BvDN4566.js";import{c as ye,s as e_,a as bi,X as t_}from"./x-DaDaNW9J.js";import{D as r_,C as n_,P as a_,i as sy,a as i_,c as oy,b as s_,d as Xc,e as o_,s as l_,f as c_,g as u_}from"./dnd.esm-B_gdkLaI.js";/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(this,arguments)}var Jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jr||(Jr={}));const Zh="popstate";function d_(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Zc("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$s(a)}return h_(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f_(){return Math.random().toString(36).substr(2,8)}function Qh(e,t){return{usr:e.state,key:e.key,idx:t}}function Zc(e,t,r,n){return r===void 0&&(r=null),ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ma(t):t,{state:r,key:t&&t.key||n||f_()})}function $s(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h_(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Jr.Pop,u=null,f=c();f==null&&(f=0,o.replaceState(ri({},o.state,{idx:f}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Jr.Pop;let v=c(),y=v==null?null:v-f;f=v,u&&u({action:l,location:g.location,delta:y})}function h(v,y){l=Jr.Push;let x=Zc(g.location,v,y);f=c()+1;let w=Qh(x,f),b=g.createHref(x);try{o.pushState(w,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}s&&u&&u({action:l,location:g.location,delta:1})}function m(v,y){l=Jr.Replace;let x=Zc(g.location,v,y);f=c();let w=Qh(x,f),b=g.createHref(x);o.replaceState(w,"",b),s&&u&&u({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:$s(v);return x=x.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Zh,d),u=v,()=>{a.removeEventListener(Zh,d),u=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var Jh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jh||(Jh={}));function m_(e,t,r){return r===void 0&&(r="/"),p_(e,t,r)}function p_(e,t,r,n){let a=typeof t=="string"?ma(t):t,s=ia(a.pathname||"/",r);if(s==null)return null;let o=ly(e);g_(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=T_(s);l=E_(o[u],f)}return l}function ly(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=tn([n,u.relativePath]),c=r.concat(u);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),ly(s.children,t,c,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:__(f,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of cy(s.path))a(s,o,u)}),t}function cy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=cy(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function g_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:N_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const v_=/^:[\w-]+$/,y_=3,x_=2,b_=1,w_=10,j_=-2,em=e=>e==="*";function __(e,t){let r=e.split("/"),n=r.length;return r.some(em)&&(n+=j_),t&&(n+=x_),r.filter(a=>!em(a)).reduce((a,s)=>a+(v_.test(s)?y_:s===""?b_:w_),n)}function N_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function E_(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Qc({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},c),h=u.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:tn([s,d.pathname]),pathnameBase:k_(tn([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=tn([s,d.pathnameBase]))}return o}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=O_(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return m&&!p?f[h]=void 0:f[h]=(p||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function O_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function T_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const S_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=e=>S_.test(e);function A_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ma(e):e,s;if(r)if(P_(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),jd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=tm(r.substring(1),"/"):s=tm(r,t)}else s=t;return{pathname:s,search:C_(n),hash:D_(a)}}function tm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _d(e,t){let r=I_(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Nd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ma(e):(a=ri({},e),Be(!a.pathname||!a.pathname.includes("?"),gc("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),gc("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),gc("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let u=A_(a,l),f=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||c)&&(u.pathname+="/"),u}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),k_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uy=["post","put","patch","delete"];new Set(uy);const R_=["get",...uy];new Set(R_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}const $o=_.createContext(null),dy=_.createContext(null),$r=_.createContext(null),Fo=_.createContext(null),br=_.createContext({outlet:null,matches:[],isDataRoute:!1}),fy=_.createContext(null);function L_(e,t){let{relative:r}=t===void 0?{}:t;pa()||Be(!1);let{basename:n,navigator:a}=_.useContext($r),{hash:s,pathname:o,search:l}=zo(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:tn([n,o])),a.createHref({pathname:u,search:l,hash:s})}function pa(){return _.useContext(Fo)!=null}function Zt(){return pa()||Be(!1),_.useContext(Fo).location}function hy(e){_.useContext($r).static||_.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=_.useContext(br);return e?Q_():B_()}function B_(){pa()||Be(!1);let e=_.useContext($o),{basename:t,future:r,navigator:n}=_.useContext($r),{matches:a}=_.useContext(br),{pathname:s}=Zt(),o=JSON.stringify(_d(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return hy(()=>{l.current=!0}),_.useCallback(function(f,c){if(c===void 0&&(c={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let d=Nd(f,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:tn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,s,e])}const $_=_.createContext(null);function F_(e){let t=_.useContext(br).outlet;return t&&_.createElement($_.Provider,{value:e},t)}function wi(){let{matches:e}=_.useContext(br),t=e[e.length-1];return t?t.params:{}}function zo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext($r),{matches:a}=_.useContext(br),{pathname:s}=Zt(),o=JSON.stringify(_d(a,n.v7_relativeSplatPath));return _.useMemo(()=>Nd(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function z_(e,t){return U_(e,t)}function U_(e,t,r,n){pa()||Be(!1);let{navigator:a}=_.useContext($r),{matches:s}=_.useContext(br),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Zt(),c;if(t){var d;let v=typeof t=="string"?ma(t):t;u==="/"||(d=v.pathname)!=null&&d.startsWith(u)||Be(!1),c=v}else c=f;let h=c.pathname||"/",m=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=m_(e,{pathname:m}),g=W_(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:tn([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:tn([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?_.createElement(Fo.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Jr.Pop}},g):g}function H_(){let e=Z_(),t=M_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const q_=_.createElement(H_,null);class G_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(br.Provider,{value:this.props.routeContext},_.createElement(fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V_(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext($o);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(br.Provider,{value:t},n)}function W_(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||Be(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=c),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||q_,u&&(f<0&&h===0?(J_("route-fallback"),p=!0,v=null):f===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=g:p?w=v:d.route.Component?w=_.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,_.createElement(V_,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(G_,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var my=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(my||{}),py=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(py||{});function K_(e){let t=_.useContext($o);return t||Be(!1),t}function Y_(e){let t=_.useContext(dy);return t||Be(!1),t}function X_(e){let t=_.useContext(br);return t||Be(!1),t}function gy(e){let t=X_(),r=t.matches[t.matches.length-1];return r.route.id||Be(!1),r.route.id}function Z_(){var e;let t=_.useContext(fy),r=Y_(),n=gy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Q_(){let{router:e}=K_(my.UseNavigateStable),t=gy(py.UseNavigateStable),r=_.useRef(!1);return hy(()=>{r.current=!0}),_.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ni({fromRouteId:t},s)))},[e,t])}const rm={};function J_(e,t,r){rm[e]||(rm[e]=!0)}function eN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function er(e){let{to:t,replace:r,state:n,relative:a}=e;pa()||Be(!1);let{future:s,static:o}=_.useContext($r),{matches:l}=_.useContext(br),{pathname:u}=Zt(),f=wr(),c=Nd(t,_d(l,s.v7_relativeSplatPath),u,a==="path"),d=JSON.stringify(c);return _.useEffect(()=>f(JSON.parse(d),{replace:r,state:n,relative:a}),[f,d,a,r,n]),null}function Uo(e){return F_(e.context)}function me(e){Be(!1)}function tN(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Jr.Pop,navigator:s,static:o=!1,future:l}=e;pa()&&Be(!1);let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:s,static:o,future:ni({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof n=="string"&&(n=ma(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,g=_.useMemo(()=>{let v=ia(c,u);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:p},navigationType:a}},[u,c,d,h,m,p,a]);return g==null?null:_.createElement($r.Provider,{value:f},_.createElement(Fo.Provider,{children:r,value:g}))}function rN(e){let{children:t,location:r}=e;return z_(Jc(t),r)}new Promise(()=>{});function Jc(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let s=[...t,a];if(n.type===_.Fragment){r.push.apply(r,Jc(n.props.children,s));return}n.type!==me&&Be(!1),!n.props.index||!n.props.children||Be(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Jc(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(this,arguments)}function vy(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aN(e,t){return e.button===0&&(!t||t==="_self")&&!nN(e)}function eu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function iN(e,t){let r=eu(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const sN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lN="6";try{window.__reactRouterVersion=lN}catch{}const cN=_.createContext({isTransitioning:!1}),uN="startTransition",nm=ay[uN];function dN(e){let{basename:t,children:r,future:n,window:a}=e,s=_.useRef();s.current==null&&(s.current=d_({window:a,v5Compat:!0}));let o=s.current,[l,u]=_.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},c=_.useCallback(d=>{f&&nm?nm(()=>u(d)):u(d)},[u,f]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.useEffect(()=>eN(n),[n]),_.createElement(tN,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const fN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:f,preventScrollReset:c,viewTransition:d}=t,h=vy(t,sN),{basename:m}=_.useContext($r),p,g=!1;if(typeof f=="string"&&hN.test(f)&&(p=f,fN))try{let w=new URL(window.location.href),b=f.startsWith("//")?new URL(w.protocol+f):new URL(f),j=ia(b.pathname,m);b.origin===w.origin&&j!=null?f=j+b.search+b.hash:g=!0}catch{}let v=L_(f,{relative:a}),y=pN(f,{replace:o,state:l,target:u,preventScrollReset:c,relative:a,viewTransition:d});function x(w){n&&n(w),w.defaultPrevented||y(w)}return _.createElement("a",Fs({},h,{href:p||v,onClick:g||s?n:x,ref:r,target:u}))}),ga=_.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:c}=t,d=vy(t,oN),h=zo(u,{relative:d.relative}),m=Zt(),p=_.useContext(dy),{navigator:g,basename:v}=_.useContext($r),y=p!=null&&vN(h)&&f===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&v&&(b=ia(b,v)||b);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=w===x||!o&&w.startsWith(x)&&w.charAt(j)==="/",E=b!=null&&(b===x||!o&&b.startsWith(x)&&b.charAt(x.length)==="/"),S={isActive:T,isPending:E,isTransitioning:y},N=T?n:void 0,P;typeof s=="function"?P=s(S):P=[s,T?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(S):l;return _.createElement(zs,Fs({},d,{"aria-current":N,className:P,ref:r,style:O,to:u,viewTransition:f}),typeof c=="function"?c(S):c)});var tu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tu||(tu={}));var am;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(am||(am={}));function mN(e){let t=_.useContext($o);return t||Be(!1),t}function pN(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,u=wr(),f=Zt(),c=zo(e,{relative:o});return _.useCallback(d=>{if(aN(d,r)){d.preventDefault();let h=n!==void 0?n:$s(f)===$s(c);u(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,c,n,a,r,e,s,o,l])}function gN(e){let t=_.useRef(eu(e)),r=_.useRef(!1),n=Zt(),a=_.useMemo(()=>iN(n.search,r.current?null:t.current),[n.search]),s=wr(),o=_.useCallback((l,u)=>{const f=eu(typeof l=="function"?l(a):l);r.current=!0,s("?"+f,u)},[s,a]);return[a,o]}function vN(e,t){t===void 0&&(t={});let r=_.useContext(cN);r==null&&Be(!1);let{basename:n}=mN(tu.useViewTransitionState),a=zo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=ia(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ia(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qc(a.pathname,o)!=null||Qc(a.pathname,s)!=null}const yy="",yN="/api",se=iy.create({baseURL:yy+yN,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),im=async()=>{try{await iy.get(`${yy}/sanctum/csrf-cookie`,{withCredentials:!0})}catch(e){throw console.error("Failed to fetch CSRF cookie:",e),e}},xy=_.createContext(null),xN=({children:e})=>{const[t,r]=_.useState(null),[n,a]=_.useState(!0),s=async()=>{var c;try{const d=await se.get("/me");r(d.data)}catch(d){((c=d.response)==null?void 0:c.status)!==401&&console.error("Error fetching user:",d),r(null)}finally{a(!1)}},o=async c=>{var d,h;try{await im();const m=await se.post("/login",c);return r(m.data),{success:!0,user:m.data}}catch(m){return console.error("Login error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Login failed. Please try again."}}},l=async c=>{var d,h;try{await im();const m=await se.post("/register",c);return r(m.data),{success:!0}}catch(m){return console.error("Registration error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Registration failed. Please try again."}}},u=async()=>{try{await se.post("/logout")}catch(c){console.error("Logout error:",c)}finally{r(null)}};_.useEffect(()=>{s()},[]);const f={user:t,loading:n,login:o,register:l,logout:u,fetchUser:s};return i.jsx(xy.Provider,{value:f,children:e})},Fe=()=>{const e=_.useContext(xy);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Je=()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),va=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),ji=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),ya=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),xa=({className:e="w-6 h-6"})=>i.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),by=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),bN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),wN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),jN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Ho=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),qo=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),_N=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/admin/dashboard",icon:va,label:"Dashboard"},{path:"/admin/projects",icon:ji,label:"Projects"},{path:"/admin/tasks",icon:ya,label:"Tasks"},{path:"/admin/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/admin/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/admin/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Employees"},{path:"/admin/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/admin/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/admin/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Ho,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(qo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ga,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"A"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Admin User"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]})})]})},_i=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",NN=e=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"",En=e=>e?new Date(e)<new Date:!1,vc=({variant:e="primary",onClick:t,disabled:r=!1,type:n="button",className:a="",children:s})=>{const o="px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary text-white hover:bg-opacity-90 focus:ring-primary",secondary:"border-2 border-primary text-primary hover:bg-primary hover:text-white focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return i.jsx("button",{type:n,onClick:t,disabled:r,className:ye(o,l[e],a),children:s})},EN=({open:e,onClose:t})=>{const{logout:r}=Fe(),n=async()=>{await r(),t()},a=[{path:"/dashboard",icon:va,label:"Dashboard"},{path:"/projects",icon:ji,label:"Projects"},{path:"/tasks",icon:ya,label:"Tasks"},{path:"/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Employees"},{path:"/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/settings",icon:xa,label:"Settings"}];return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),i.jsxs("aside",{className:ye("fixed top-0 left-0 h-full w-80 bg-primary text-white z-50 transform transition-transform duration-300 md:hidden",e?"translate-x-0":"-translate-x-full"),children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-accent",children:[i.jsx("h1",{className:"text-xl font-bold",children:"SohojSync"}),i.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-accent transition-colors","aria-label":"Close menu",children:i.jsx(jN,{className:"w-6 h-6"})})]}),i.jsxs("nav",{className:"py-4",children:[a.map(s=>i.jsxs(ga,{to:s.path,onClick:t,className:({isActive:o})=>ye("flex items-center px-6 py-4 text-white hover:bg-accent transition-colors",o&&"bg-accent"),children:[i.jsx(s.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:s.label})]},s.path)),i.jsxs("button",{onClick:n,className:"flex items-center w-full px-6 py-4 text-white hover:bg-accent transition-colors mt-4 border-t border-accent",children:[i.jsx(by,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:"Logout"})]})]})]})]})},ON=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState([]),[a,s]=_.useState(0),[o,l]=_.useState(!1),u=_.useRef(null);_.useEffect(()=>{f();const g=setInterval(f,3e4);return()=>clearInterval(g)},[]),_.useEffect(()=>{e&&c()},[e]),_.useEffect(()=>{const g=v=>{u.current&&!u.current.contains(v.target)&&t(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=async()=>{try{const g=await se.get("/notifications/unread-count");s(g.data.count)}catch(g){console.error("Failed to fetch unread count:",g)}},c=async()=>{l(!0);try{const g=await se.get("/notifications");n(g.data.data||g.data)}catch(g){console.error("Failed to fetch notifications:",g)}finally{l(!1)}},d=async g=>{try{await se.patch(`/notifications/${g}/mark-read`),n(r.map(v=>v.id===g?{...v,is_read:!0,read_at:new Date}:v)),s(Math.max(0,a-1))}catch(v){console.error("Failed to mark notification as read:",v)}},h=async()=>{try{await se.patch("/notifications/mark-all-read"),n(r.map(g=>({...g,is_read:!0,read_at:new Date}))),s(0)}catch(g){console.error("Failed to mark all as read:",g)}},m=g=>{switch(g){case"project_assigned":return i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})});case"deadline_reminder":return i.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});case"project_created":return i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})});default:return i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}},p=g=>{const v=new Date(g),x=Math.floor((new Date-v)/1e3);return x<60?"Just now":x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:x<604800?`${Math.floor(x/86400)}d ago`:v.toLocaleDateString()};return i.jsxs("div",{className:"relative",ref:u,children:[i.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 hover:bg-gray-200 rounded-lg transition-colors group",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),a>0&&i.jsx("span",{className:"absolute top-0.5 right-0.5 w-4 h-4 rounded-full text-white text-xs flex items-center justify-center font-semibold",style:{background:"#F25292"},children:a>9?"9+":a})]}),e&&i.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Notifications"}),a>0&&i.jsx("button",{onClick:h,className:"text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Mark all as read"})]}),i.jsxs("div",{className:"max-h-96 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                .max-h-96::-webkit-scrollbar {
                  width: 6px;
                }
                .max-h-96::-webkit-scrollbar-track {
                  background: #f1f1f1;
                }
                .max-h-96::-webkit-scrollbar-thumb {
                  background: #888;
                  border-radius: 10px;
                }
                .max-h-96::-webkit-scrollbar-thumb:hover {
                  background: #555;
                }
              `}),o?i.jsx("div",{className:"p-8 text-center text-gray-500",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto"})}):r.length>0?r.map(g=>i.jsx("div",{onClick:()=>!g.is_read&&d(g.id),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${g.is_read?"":"bg-purple-50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${g.is_read?"bg-gray-100":"bg-white"}`,children:m(g.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-0.5",children:g.title}),i.jsx("p",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:g.message}),i.jsx("span",{className:"text-xs text-gray-400",children:p(g.created_at)})]}),!g.is_read&&i.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full flex-shrink-0 mt-1"})]})},g.id)):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]})]})]})]})},Go=({pageTitle:e})=>{var o;const{user:t,logout:r}=Fe(),[n,a]=_.useState(!1),s=async()=>{await r()};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-4 md:px-6 bg-white",style:{borderBottomColor:"#e3e8ef",fontFamily:"Inter, sans-serif",boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[i.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 hover:bg-gray-100 rounded-[8px] transition-colors","aria-label":"Open menu",children:i.jsx(wN,{className:"w-5 h-5 text-gray-700"})}),i.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-lg",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search for something...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-[8px] text-[14px] text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:bg-white transition-all",style:{fontFamily:"Inter, sans-serif"}})]})}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[i.jsx(ON,{}),i.jsxs("div",{className:"hidden sm:flex items-center gap-3 pl-3 border-l",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-semibold text-gray-900 text-right",style:{fontFamily:"Inter, sans-serif"},children:t==null?void 0:t.name}),i.jsx("p",{className:"text-[11px] text-right capitalize text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:(o=t==null?void 0:t.role)==null?void 0:o.replace("_"," ")})]}),i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white text-[13px] font-semibold cursor-pointer shadow-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:NN((t==null?void 0:t.name)||"")})]}),i.jsxs("button",{onClick:s,className:"hidden md:flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-[8px] text-gray-700 text-[14px] font-medium transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(by,{className:"w-4 h-4"}),"Logout"]})]})]}),i.jsx(EN,{open:n,onClose:()=>a(!1)})]})},Vo=()=>{const e=[{path:"/dashboard",icon:va,label:"Home"},{path:"/tasks",icon:ya,label:"Tasks"},{path:"/projects",icon:bN,label:"Projects"},{path:"/settings",icon:xa,label:"Settings"}];return i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:i.jsx("div",{className:"flex items-center justify-around h-16",children:e.map(t=>i.jsxs(ga,{to:t.path,className:({isActive:r})=>ye("flex flex-col items-center justify-center flex-1 h-full transition-colors",r?"text-primary":"text-gray-500"),children:[i.jsx(t.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"text-xs mt-1",children:t.label})]},t.path))})})},TN=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(_N,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Go,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(Vo,{})]})},SN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/manager/dashboard",icon:va,label:"Dashboard"},{path:"/manager/projects",icon:ji,label:"Projects"},{path:"/manager/tasks",icon:ya,label:"Tasks"},{path:"/manager/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/manager/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/manager/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/manager/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Ho,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(qo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ga,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"M"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Manager"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"manager@example.com"})]})]})})]})},PN=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(SN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Go,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(Vo,{})]})},AN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/developer/dashboard",icon:va,label:"Dashboard"},{path:"/developer/projects",icon:ji,label:"Projects"},{path:"/developer/tasks",icon:ya,label:"Tasks"},{path:"/developer/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/developer/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/developer/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Ho,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(qo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ga,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"D"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Developer"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"dev@example.com"})]})]})})]})},IN=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(AN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Go,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(Vo,{})]})},kN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/client/dashboard",icon:va,label:"Dashboard"},{path:"/client/projects",icon:ji,label:"Projects"},{path:"/client/tasks",icon:ya,label:"Tasks"},{path:"/client/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/client/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/client/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Ho,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(qo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ga,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"C"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Client"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"client@example.com"})]})]})})]})},CN=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(kN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Go,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(Vo,{})]})},sm=({label:e,type:t="text",name:r,value:n,onChange:a,error:s,placeholder:o,required:l=!1,className:u=""})=>i.jsxs("div",{className:ye("mb-5",u),children:[e&&i.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-2",children:[e,l&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{type:t,id:r,name:r,value:n,onChange:a,placeholder:o,required:l,style:{...s?{}:{"--tw-ring-color":"#b56e84"}},className:ye("w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all",s?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-[#b56e84]")}),s&&i.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]}),Ne=({children:e,className:t="",onClick:r})=>{const n="bg-white rounded-lg shadow-sm p-6",a=r?"cursor-pointer hover:shadow-md transition-shadow":"";return i.jsx("div",{className:ye(n,a,t),onClick:r,children:e})},DN=()=>{wr();const{login:e}=Fe(),[t,r]=_.useState({email:"",password:"",remember:!1}),[n,a]=_.useState({}),[s,o]=_.useState(!1),l=c=>{r({email:c,password:"password",remember:!1}),a({})},u=c=>{const{name:d,value:h,type:m,checked:p}=c.target;r(g=>({...g,[d]:m==="checkbox"?p:h})),n[d]&&a(g=>({...g,[d]:""}))},f=async c=>{c.preventDefault(),a({}),o(!0);const d=await e(t);if(o(!1),d.success){const h=d.user;let m="/admin";h.role==="project_manager"?m="/manager":h.role==="developer"?m="/developer":h.role==="client"&&(m="/client"),window.location.href=`${m}/dashboard`}else a({general:d.error})};return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-background",children:i.jsx("div",{className:"w-full max-w-md relative z-10",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[i.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 rounded-xl blur-md opacity-30 group-hover:opacity-50 transition-opacity duration-300",style:{background:"#59569d"}}),i.jsx("div",{className:"relative w-12 h-12 rounded-xl flex items-center justify-center transform transition-all duration-300 group-hover:scale-105",style:{background:"#59569d"},children:i.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",style:{color:"#59569d"},children:"SohojSync"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back!"})]})]}),n.general&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm animate-shake",children:n.general}),i.jsxs("form",{onSubmit:f,children:[i.jsx(sm,{label:"Email",type:"email",name:"email",value:t.email,onChange:u,placeholder:"your@email.com",required:!0,error:n.email}),i.jsx(sm,{label:"Password",type:"password",name:"password",value:t.password,onChange:u,placeholder:"",required:!0,error:n.password}),i.jsxs("div",{className:"mb-6 flex items-center",children:[i.jsx("input",{type:"checkbox",id:"remember",name:"remember",checked:t.remember,onChange:u,className:"w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:ring-offset-0 transition-all",style:{accentColor:"#59569d"}}),i.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),i.jsxs("button",{type:"submit",disabled:s,className:"relative w-full text-white font-semibold py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl overflow-hidden group",style:{background:"linear-gradient(135deg, #59569d, #8b86d4)"},children:[i.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),i.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[s&&i.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s?"Signing in...":"Sign In"]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Demo Credentials"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Click to fill"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l("admin@sync.sohojware.dev"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="admin@sync.sohojware.dev"?"#59569d":"#e5e7eb",backgroundColor:t.email==="admin@sync.sohojware.dev"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Admin Manager"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"admin@sync.sohojware.dev"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("raj.khan@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="raj.khan@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="raj.khan@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Raja Khan (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"raj.khan@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("priya.singh@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="priya.singh@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="priya.singh@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Priya Singh (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"priya.singh@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("ahmed@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="ahmed@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="ahmed@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Ahmed Hassan"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"ahmed@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("contact@techinnovations.com"),className:"col-span-2 w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="contact@techinnovations.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="contact@techinnovations.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Client Contact"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"contact@techinnovations.com"})]})]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3 italic",children:["All passwords: ",i.jsx("span",{className:"font-semibold text-gray-700",children:"password"})]})]})]})})})},kt="rgb(89, 86, 157)",MN=()=>{const{user:e}=Fe(),[t,r]=_.useState(!0),[n,a]=_.useState({totalUsers:0,totalProjects:0,totalTasks:0,completedTasks:0,totalClients:0,dueTasks:0,dueProjects:0,todayDeliveryProjects:0,todayDeliveryTasks:0}),[s,o]=_.useState([]),[l,u]=_.useState([]),[f,c]=_.useState([]),[d,h]=_.useState({tasks:[],projects:[]}),[m,p]=_.useState({tasks:[],projects:[]});_.useEffect(()=>{(async()=>{try{r(!0);const[b,j,T]=await Promise.all([se.get("/projects"),se.get("/tasks"),se.get("/clients").catch(()=>({data:[]}))]),E=Array.isArray(b.data)?b.data:b.data.data||b.data.projects||[],S=Array.isArray(j.data)?j.data:j.data.data||j.data.tasks||[],N=Array.isArray(T.data)?T.data:T.data.data||T.data.clients||[],P=new Date;P.setHours(0,0,0,0);const O=new Date(P);O.setHours(23,59,59,999);const I=S.filter(R=>R.status==="done"||R.status==="completed"||!R.due_date&&!R.deadline?!1:new Date(R.due_date||R.deadline)<P),k=E.filter(R=>R.status==="completed"||!R.deadline?!1:new Date(R.deadline)<P),A=S.filter(R=>{if(!R.due_date&&!R.deadline)return!1;const D=new Date(R.due_date||R.deadline);return D>=P&&D<=O}),M=E.filter(R=>{if(!R.deadline)return!1;const D=new Date(R.deadline);return D>=P&&D<=O});o(E),u(S),c(N),h({tasks:I,projects:k}),p({tasks:A,projects:M}),a({totalUsers:N.length+E.length,totalProjects:E.length,totalTasks:S.length,completedTasks:S.filter(R=>R.status==="done"||R.status==="completed").length,totalClients:N.length,dueTasks:I.length,dueProjects:k.length,todayDeliveryProjects:M.length,todayDeliveryTasks:A.length})}catch(b){console.error("Error fetching dashboard data:",b)}finally{r(!1)}})()},[]);const g=["Oct","Nov","Dec","Jan","Feb","Mar"],v=g.map(()=>Math.floor(Math.random()*n.totalProjects)+1),y=g.map(()=>Math.floor(Math.random()*n.totalTasks)+1),x=[{title:"Total Projects",value:n.totalProjects,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),color:kt},{title:"Active Tasks",value:Math.max(n.totalTasks-n.completedTasks,0),icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),color:"#4b8ef2"},{title:"Due Today",value:n.todayDeliveryProjects+n.todayDeliveryTasks,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),color:"#f97316"},{title:"Total Clients",value:n.totalClients,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),color:"#10b981"}];return t?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-4 bg-gray-50 min-h-screen p-5",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:x.map((w,b)=>i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center",style:{backgroundColor:`${w.color}20`},children:i.jsx("div",{className:"text-gray-900",style:{color:w.color},children:w.icon})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:w.value}),i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:w.title})]},b))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Projects vs. Tasks Trend"}),i.jsxs("select",{className:"text-xs border border-gray-200 rounded-md px-2.5 py-1 text-gray-600 bg-white",children:[i.jsx("option",{children:"Show by months"}),i.jsx("option",{children:"Show by weeks"}),i.jsx("option",{children:"Show by days"})]})]}),i.jsx("div",{className:"h-52 flex items-end justify-around gap-3",children:g.map((w,b)=>{const j=Math.max(...v,...y)||1;return i.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[i.jsxs("div",{className:"w-full flex gap-1",children:[i.jsx("div",{className:"flex-1 rounded-t-md",style:{backgroundColor:kt,height:`${v[b]/j*180}px`,minHeight:"16px"}}),i.jsx("div",{className:"flex-1 rounded-t-md",style:{backgroundColor:"#4b8ef2",height:`${y[b]/j*180}px`,minHeight:"16px"}})]}),i.jsx("span",{className:"text-[11px] text-gray-500",children:w})]},b)})}),i.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:kt}}),i.jsx("span",{children:"Projects"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#4b8ef2"}}),i.jsx("span",{children:"Tasks"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Task Status"}),i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"relative w-32 h-32",children:n.totalTasks>0?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10b981",strokeWidth:"10",strokeDasharray:`${n.completedTasks/n.totalTasks*251} 251`,strokeLinecap:"round"}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#f97316",strokeWidth:"10",strokeDasharray:`${(n.totalTasks-n.completedTasks)/n.totalTasks*251} 251`,strokeDashoffset:`-${n.completedTasks/n.totalTasks*251}`,strokeLinecap:"round"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("svg",{className:"w-7 h-7 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-400",children:"No data"})})})}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"}}),i.jsx("span",{className:"text-xs text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[Math.round(n.completedTasks/n.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f97316"}}),i.jsx("span",{className:"text-xs text-gray-600",children:"Pending"})]}),i.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[Math.round((n.totalTasks-n.completedTasks)/n.totalTasks*100)||0,"%"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Due Items"})}),i.jsxs("div",{className:"space-y-3",children:[d.projects.length>0&&d.projects.slice(0,3).map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#fef2f2",color:"#ef4444"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-800 block",children:w.name||w.title}),i.jsxs("span",{className:"text-[11px] text-red-600",children:["Overdue: ",new Date(w.deadline).toLocaleDateString()]})]})]}),i.jsx("span",{className:"text-[11px] font-semibold text-red-600",children:n.dueProjects})]},w.id)),d.tasks.length>0&&d.tasks.slice(0,3).map(w=>i.jsx("div",{className:"flex itemscenter justify-between py-2 border-b border-gray-100 last:border-0",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#fff7ed",color:"#f97316"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-800 block truncate max-w-[150px]",children:w.title}),i.jsxs("span",{className:"text-[11px] text-orange-600",children:["Due: ",new Date(w.due_date||w.deadline).toLocaleDateString()]})]})]})},w.id)),d.projects.length===0&&d.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-3",children:" All caught up!"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Due Today"})}),i.jsxs("div",{className:"space-y-3",children:[m.projects.length>0&&m.projects.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#eef2ff",color:kt}}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:w.name||w.title})]}),i.jsx("span",{className:"text-[11px] font-semibold",style:{color:kt},children:"Project"})]},w.id)),m.tasks.length>0&&m.tasks.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#eff6ff",color:"#2563eb"}}),i.jsx("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[150px]",children:w.title})]}),i.jsx("span",{className:"text-[11px] font-semibold text-blue-600",children:"Task"})]},w.id)),m.projects.length===0&&m.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-3",children:"No deliveries today"})]})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-white border border-gray-200 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-white",style:{background:kt}}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Active Projects"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 leading-tight",children:n.totalProjects})]})]}),i.jsx("div",{className:"w-full h-12 relative overflow-hidden",children:i.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 200 50",children:i.jsx("path",{d:"M 5 40 Q 30 10, 50 25 T 90 20 T 130 30 T 170 15 T 195 20",fill:"none",stroke:kt,strokeWidth:"2"})})}),i.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:kt}}),i.jsx("span",{children:"Weekly trend"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-white",style:{background:kt},children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Tasks"})]}),i.jsx("a",{href:"/admin/tasks",className:"text-xs font-semibold",style:{color:kt},children:"View All"})]}),i.jsx("div",{className:"space-y-2.5 max-h-80 overflow-y-auto",children:l.length>0?l.slice(0,6).map(w=>{const b=w.due_date||w.deadline,j=b&&new Date(b)<new Date&&w.status!=="done"&&w.status!=="completed",T=b&&new Date(b).toDateString()===new Date().toDateString();return i.jsx("div",{className:"bg-white rounded-md p-3 border border-gray-100",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:w.title}),j&&i.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-[11px] font-semibold rounded-full",children:"OVERDUE"}),T&&!j&&i.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-[11px] font-semibold rounded-full",children:"TODAY"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[w.project&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),w.project.name||w.project.title]}),b&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(b).toLocaleDateString()]})]})]}),i.jsx("span",{className:`px-2.5 py-1 rounded text-[11px] font-semibold ${w.status==="done"||w.status==="completed"?"bg-emerald-50 text-emerald-700 border border-emerald-200":w.status==="in_progress"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:w.status==="done"||w.status==="completed"?"Done":w.status==="in_progress"?"Active":"Open"})]})},w.id)}):i.jsxs("div",{className:"text-center py-10 bg-white rounded-md border border-gray-100",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No tasks yet"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-white",style:{background:kt},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Clients"})]}),i.jsx("a",{href:"/admin/clients",className:"text-xs font-semibold",style:{color:kt},children:"View All"})]}),i.jsx("div",{className:"space-y-2.5 max-h-80 overflow-y-auto",children:f.length>0?f.slice(0,6).map(w=>{var b,j,T,E,S,N;return i.jsx("div",{className:"bg-white rounded-md p-3 border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:kt},children:(w.name||w.company_name||((b=w.user)==null?void 0:b.name)||"C").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-0.5 truncate",children:w.name||w.company_name||((j=w.user)==null?void 0:j.name)||"Unknown Client"}),(w.email||((T=w.user)==null?void 0:T.email))&&i.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1",children:[i.jsxs("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),w.email||((E=w.user)==null?void 0:E.email)]}),(w.phone||((S=w.user)==null?void 0:S.phone))&&i.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),w.phone||((N=w.user)==null?void 0:N.phone)]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"px-2.5 py-1 bg-gray-50 text-gray-700 text-[11px] font-semibold rounded border border-gray-200",children:"Active"})})]})},w.id)}):i.jsxs("div",{className:"text-center py-10 bg-white rounded-md border border-gray-100",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No clients yet"})]})})]})]})]})},Wo=({title:e,subtitle:t,actions:r})=>i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:e}),t&&i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),r&&i.jsx("div",{className:"flex gap-3",children:r})]}),RN=()=>{const{user:e}=Fe(),[t,r]=_.useState({myProjects:0,totalTasks:0,assignedToMe:0,teamTasks:0}),[n,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(!0);_.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([se.get("/projects"),se.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(y=>{var x;return y.project_manager_id===(e==null?void 0:e.id)||((x=y.project_manager)==null?void 0:x.id)===(e==null?void 0:e.id)}),g=m.filter(y=>{var x,w,b;return((x=y.project)==null?void 0:x.project_manager_id)===(e==null?void 0:e.id)||((b=(w=y.project)==null?void 0:w.project_manager)==null?void 0:b.id)===(e==null?void 0:e.id)});a(p),o(g);const v=m.filter(y=>y.assigned_to===(e==null?void 0:e.id));r({myProjects:p.length,totalTasks:g.length,assignedToMe:v.length,teamTasks:g.filter(y=>y.status==="open"||y.status==="in_progress").length})}catch(c){console.error("Failed to fetch manager data:",c)}finally{u(!1)}};return l?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Wo,{title:`Manager Dashboard - Welcome ${e==null?void 0:e.name}!`,subtitle:"Manage your team's projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.totalTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Assigned to Me"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.assignedToMe})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Team Open Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.teamTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Projects"}),i.jsx("div",{className:"space-y-3",children:n.length>0?n.map(c=>i.jsxs(Ne,{children:[i.jsx("h4",{className:"font-semibold text-lg mb-2",children:c.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3",children:[i.jsxs("span",{children:["Created ",new Date(c.created_at).toLocaleDateString()]}),i.jsx("button",{className:"text-primary hover:underline",children:"Manage"})]})]},c.id)):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects yet. Start creating!"})})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Team Tasks"}),i.jsx("a",{href:"/manager/tasks",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-3",children:s.length>0?s.slice(0,5).map(c=>{var d;return i.jsxs(Ne,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:c.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:c.status==="done"?"Done":"Open"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:(d=c.project)==null?void 0:d.title}),c.assigned_to===(e==null?void 0:e.id)&&i.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:" Assigned to you"})]},c.id)}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks available"})})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-accent to-blue-500 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Manager Tools"}),i.jsx("p",{className:"mb-4",children:"Coordinate your team's work effectively"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Create Project"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Assign Tasks"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Team Reports"})]})]})})]})},LN=()=>{const{user:e}=Fe(),t=d=>{if(!d)return d;const h=document.createElement("textarea");return h.innerHTML=d,h.value},[r,n]=_.useState({myTasks:0,completedTasks:0,pendingTasks:0,overdueTask:0,myProjects:0}),[a,s]=_.useState([]),[o,l]=_.useState([]),[u,f]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{try{const[d,h]=await Promise.all([se.get("/projects"),se.get("/tasks")]),m=Array.isArray(d.data)?d.data:d.data.data||[],p=Array.isArray(h.data)?h.data:h.data.data||[],g=m.filter(w=>(Array.isArray(w.members)?w.members:[]).some(j=>j.user_id===(e==null?void 0:e.id)||j.id===(e==null?void 0:e.id)));l(g),s(p);const v=p.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,y=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length,x=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())&&w.due_date&&En(w.due_date)).length;n({myTasks:p.length,completedTasks:v,pendingTasks:y,overdueTask:x,myProjects:g.length})}catch(d){console.error("Failed to fetch developer data:",d)}finally{f(!1)}};return u?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Wo,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Your developer dashboard - track your projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:r.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:r.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:r.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueTask})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/developer/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),o.length>0?i.jsx("div",{className:"space-y-3",children:o.map(d=>{var h;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:d.title||d.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",dangerouslySetInnerHTML:{__html:d.description?t(d.description).substring(0,100):"No description"}}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:((h=d.status)==null?void 0:h.replace("_"," "))||"Planning"}),d.project_manager&&i.jsxs("span",{children:["PM: ",d.project_manager.name]})]})]}),i.jsx("a",{href:`/developer/projects/${d.id}`,className:"text-primary font-medium hover:underline whitespace-nowrap ml-4",children:"View"})]})},d.id)})}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you yet."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Assigned Tasks"}),a.length>0?i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(d=>{var h;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:d.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${["done","completed"].includes(String(d.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(d.status).toLowerCase())?"Done":"Pending"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((h=d.project)==null?void 0:h.title)||"No project"}),d.description&&i.jsx("div",{className:"text-sm text-gray-700 mb-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t(d.description)}}),d.due_date&&i.jsxs("p",{className:`text-xs ${En(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())?"text-red-600 font-medium":"text-gray-500"}`,children:["Due ",_i(d.due_date),En(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())&&" (Overdue!)"]})]})})},d.id)}),a.length>5&&i.jsxs("a",{href:"/developer/tasks",className:"text-primary font-medium hover:underline",children:["View all ",a.length," tasks "]})]}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks assigned yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Development Tip"}),i.jsx("p",{className:"text-blue-50",children:"Stay organized by checking your tasks regularly. Coordinate with your team to ensure smooth project delivery!"})]})})]})},BN=()=>{const{user:e}=Fe(),[t,r]=_.useState({myProjects:0,myTasks:0,completedTasks:0,pendingTasks:0}),[n,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(!0);_.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([se.get("/projects"),se.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(w=>{var b;return w.client_id===(e==null?void 0:e.id)||((b=w.client)==null?void 0:b.id)===(e==null?void 0:e.id)});o(p);const g=new Set(p.map(w=>w.id)),v=m.filter(w=>{var b;return g.has((b=w.project)==null?void 0:b.id)});a(v);const y=v.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,x=v.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length;r({myProjects:p.length,myTasks:v.length,completedTasks:y,pendingTasks:x})}catch(c){console.error("Failed to fetch client data:",c)}finally{u(!1)}};return l?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Wo,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Track your projects and their progress"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Progress"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/client/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),s.length>0?i.jsx("div",{className:"space-y-3",children:s.map(c=>{var p,g;const d=n.filter(v=>{var y;return((y=v.project)==null?void 0:y.id)===c.id}),h=d.filter(v=>["done","completed"].includes(String(v.status).toLowerCase())).length,m=d.length>0?Math.round(h/d.length*100):0;return i.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:c.title||c.name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["PM: ",((p=c.project_manager)==null?void 0:p.name)||"Unassigned"]})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:((g=c.status)==null?void 0:g.replace("_"," ").toUpperCase())||"PLANNING"})]}),d.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[m,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full transition-all",style:{width:`${m}%`}})}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[h," of ",d.length," tasks done"]})]})]}),i.jsx("a",{href:`/client/projects/${c.id}`,className:"text-primary font-medium text-sm hover:underline",children:"View Project "})]},c.id)})}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Tasks Overview"}),n.length>0?i.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(c=>{var d;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.title})}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:(d=c.project)==null?void 0:d.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${["done","completed"].includes(String(c.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(c.status).toLowerCase())?" Done":" In Progress"}),c.assigned_to&&i.jsx("span",{className:"text-xs text-gray-500",children:"Assigned to developer"})]})]})})},c.id)}),n.length>5&&i.jsxs("a",{href:"/client/tasks",className:"text-primary font-medium text-sm hover:underline",children:["View all ",n.length," tasks "]})]}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Project Insights"}),i.jsx("p",{className:"text-blue-50",children:"Monitor your project progress through task completion. Stay in touch with your project manager for updates and timelines."})]})})]})},$N=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},wy=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState(new Date),[l,u]=_.useState("week"),[f,c]=_.useState(!1),[d,h]=_.useState(null),[m,p]=_.useState({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),g=$N((e==null?void 0:e.role)||"admin");_.useEffect(()=>{v(),console.log("AdminTasksCalendar mounted")},[]);const v=async()=>{try{let O=(await se.get("/tasks")).data;O.data&&Array.isArray(O.data)?O=O.data:Array.isArray(O)||(O=[]),console.log("Calendar tasks loaded:",O),r(O)}catch(P){console.error("Failed to fetch tasks:",P)}finally{a(!1)}},y=P=>({"Website Translation":{bg:"bg-purple-500",text:"text-white"},"Website Development":{bg:"bg-blue-500",text:"text-white"},"Blog Post Writing":{bg:"bg-green-500",text:"text-white"},"Employee Training":{bg:"bg-yellow-500",text:"text-white"},Marketing:{bg:"bg-pink-500",text:"text-white"},"Executive meeting":{bg:"bg-indigo-500",text:"text-white"}})[P]||{bg:"bg-gray-500",text:"text-white"},x=()=>{const P=[],O=new Date(s),I=O.getDate()-O.getDay();for(let k=0;k<7;k++){const A=new Date(O.setDate(I+k));P.push(new Date(A))}return P},w=()=>{const P=x(),O=[];return t.forEach((I,k)=>{if(I.due_date){const A=new Date(I.due_date);P.forEach((M,R)=>{if(A.getDate()===M.getDate()&&A.getMonth()===M.getMonth()&&A.getFullYear()===M.getFullYear()){const D=String(9+k%8).padStart(2,"0"),q=["Website Translation","Website Development","Blog Post Writing","Employee Training","Marketing","Executive meeting"],F={...I,time:I.time||`${D}:00`,category:I.category||q[k%q.length],dayIndex:R,displayDate:M};O.push(F)}})}}),console.log("Week Tasks:",O),O},b=async()=>{if(!m.title||!m.time){alert("Please fill in all fields");return}try{const P={title:m.title,description:m.description,due_date:d==null?void 0:d.toISOString().split("T")[0],status:"open",priority:"medium"};await se.post("/tasks",P),p({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),c(!1),h(null),v()}catch(P){console.error("Failed to create task:",P),alert("Error creating task")}},j=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=Array.from({length:24},(P,O)=>O),S=x(),N=w();return n?i.jsx(Je,{}):i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Calendar"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your tasks, events, and meetings"})]}),i.jsxs("button",{onClick:()=>{h(new Date),c(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Event"]})]})}),i.jsxs("div",{className:"bg-white rounded-xl p-4 border flex items-center justify-between",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>o(new Date(s.setDate(s.getDate()-7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("button",{onClick:()=>o(new Date),className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 border border-gray-300 hover:bg-gray-50 transition-colors",children:"today"}),i.jsx("button",{onClick:()=>o(new Date(s.setDate(s.getDate()+7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[j[s.getMonth()]," ",s.getFullYear()]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>u("month"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="month"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="month"?{background:"rgb(89, 86, 157)"}:{},children:"month"}),i.jsx("button",{onClick:()=>u("week"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="week"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="week"?{background:"rgb(89, 86, 157)"}:{},children:"week"}),i.jsx("button",{onClick:()=>u("day"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="day"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="day"?{background:"rgb(89, 86, 157)"}:{},children:"day"})]})]}),l==="week"&&i.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"grid grid-cols-8 gap-0 border-b",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"p-3 font-semibold text-gray-700 text-sm"}),S.map((P,O)=>i.jsxs("div",{className:"p-3 text-center border-l",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"text-xs font-medium text-gray-600",children:T[P.getDay()]}),i.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P.getDate()})]},O))]}),i.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"70vh"},children:i.jsxs("div",{className:"grid grid-cols-8 gap-0",children:[i.jsx("div",{className:"border-r",style:{borderColor:"#e9ecef"},children:E.map(P=>i.jsxs("div",{className:"h-20 p-2 text-xs text-gray-500 font-medium border-b text-right pr-3",style:{borderColor:"#e9ecef"},children:[String(P).padStart(2,"0"),":00"]},P))}),S.map((P,O)=>i.jsxs("div",{className:"border-l relative",style:{borderColor:"#e9ecef"},onClick:()=>{h(new Date(P)),c(!0)},children:[E.map(I=>i.jsx("div",{className:"h-20 border-b cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"#e9ecef"}},`${O}-${I}`)),N.filter(I=>I.dayIndex===O).map((I,k)=>{var q,F;const A=y(I.category||"Website Translation"),M=parseInt(((q=I.time)==null?void 0:q.split(":")[0])||"09"),R=parseInt(((F=I.time)==null?void 0:F.split(":")[1])||"00"),D=(M+R/60)/24*100;return i.jsxs("a",{href:`${g}/tasks/${I.id}`,className:`absolute left-0 right-0 mx-1 px-2 py-1 rounded text-xs font-medium text-white truncate hover:opacity-80 transition-opacity ${A.bg}`,style:{top:`calc(${D}% + 2px)`,height:"40px",zIndex:k+1},title:`${I.time||"09:00"} ${I.title}`,children:[i.jsx("div",{className:"text-xs font-bold",children:I.time||"09:00"}),i.jsx("div",{className:"truncate",children:I.title})]},`${I.id}-${k}`)})]},O))]})})]}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md border",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d?`Add event for ${d.toDateString()}`:"Add Event"}),i.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),i.jsx("input",{type:"text",value:m.title,onChange:P=>p({...m,title:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",placeholder:"e.g., Write email announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),i.jsx("input",{type:"time",value:m.time,onChange:P=>p({...m,time:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),i.jsx("input",{type:"number",min:"0.5",step:"0.5",value:m.duration,onChange:P=>p({...m,duration:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:m.category,onChange:P=>p({...m,category:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",children:[i.jsx("option",{children:"Website Translation"}),i.jsx("option",{children:"Website Development"}),i.jsx("option",{children:"Blog Post Writing"}),i.jsx("option",{children:"Employee Training"}),i.jsx("option",{children:"Marketing"}),i.jsx("option",{children:"Executive meeting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{value:m.description,onChange:P=>p({...m,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 resize-none",rows:"3",placeholder:"Add details..."})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"Create Event"})]})]})]})})]})},FN=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},zN=(e="")=>e.split(" ").filter(Boolean).slice(0,2).map(t=>{var r;return((r=t[0])==null?void 0:r.toUpperCase())||""}).join(""),UN=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState("all"),[l,u]=_.useState(""),[f,c]=_.useState(1),[d,h]=_.useState("table"),m=12,p=FN((e==null?void 0:e.role)||"admin");_.useEffect(()=>{g()},[]);const g=async()=>{var E;try{const S=await se.get("/tasks");console.log("Tasks API Response:",S.data);let N=S.data;N.data&&Array.isArray(N.data)?N=N.data:Array.isArray(N)||(N=[]),console.log("Parsed Tasks:",N),r(N)}catch(S){console.error("Failed to fetch tasks:",S),console.error("Error details:",((E=S.response)==null?void 0:E.data)||S.message)}finally{a(!1)}},v=t.filter(E=>{var P,O;const S=s==="all"||E.status===s,N=((P=E.title)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((O=E.description)==null?void 0:O.toLowerCase().includes(l.toLowerCase()));return S&&N});if(n)return i.jsx(Je,{});if(d==="calendar")return i.jsx(wy,{});const y=Math.max(1,Math.ceil(v.length/m)),x=Math.min(f,y),w=(x-1)*m,b=v.slice(w,w+m),j=E=>{var R,D,q,F;const S=[];if(Array.isArray(E.task_assignments)&&E.task_assignments.length>0&&E.task_assignments.forEach($=>{const C=$.user||$;S.push({id:C.id,name:C.name||C.full_name||C.username||"Developer",role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})}),S.length===0&&E.assignee&&S.push(E.assignee),S.length===0){const $=Array.isArray((R=E.project)==null?void 0:R.members)?E.project.members:[],C=Array.isArray((D=E.project)==null?void 0:D.developers)?E.project.developers:[],L=Array.isArray((q=E.project)==null?void 0:q.users)?E.project.users:[],z=[...$,...C,...L].filter(W=>{var B;return(W.role||((B=W.pivot)==null?void 0:B.role))==="developer"});z.length>0?S.push(...z):S.push(...$,...L)}const N=S.map($=>({id:$.id||$.user_id,name:$.name||$.full_name||$.username||"Developer",avatar:$.avatar||$.profile_image||null,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})).filter($=>$.id||$.name).reduce(($,C)=>$.some(z=>z.id&&C.id&&z.id===C.id&&z.role===C.role)?$:[...$,C],[]),P=((F=E.project)==null?void 0:F.project_manager)||E.project_manager,O=P?[{id:P.id,name:P.name||P.full_name||P.username||"Project Manager",avatar:P.avatar||P.profile_image||null,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}]:[],I=Math.max(0,N.length-2),k=N.slice(0,2),A=[...k,...O],M=[...k,...O].map($=>$.name).filter(Boolean).join(", ");return{avatars:A,extraDevelopers:I,labelText:M}},T=E=>{const S=(E||"").toLowerCase();return S==="done"||S==="completed"?"text-green-700 bg-green-50 border-green-200":S==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":S==="open"||S==="pending"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"};return i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage all tasks"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>h("table"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="table"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="table"?{background:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2V3m-6 4h12m-12 6h12m-12 6h12"})})}),i.jsx("button",{onClick:()=>h("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="calendar"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="calendar"?{background:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),i.jsxs("button",{className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:E=>{u(E.target.value),c(1)},className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(E=>{const S=s===E,N=E==="all"?"All":E.replace("_"," "),P=E==="all"?t.length:t.filter(O=>O.status===E).length;return i.jsxs("button",{onClick:()=>{o(E),c(1)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:S?{background:"rgb(89, 86, 157)"}:{},children:[N.charAt(0).toUpperCase()+N.slice(1)," (",P,")"]},E)})})]})}),v.length>0?i.jsxs("div",{className:"bg-white rounded-xl border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(E=>{var k;const S=E.due_date?_i(E.due_date):"Not set",N=E.due_date&&En(E.due_date)&&E.status!=="done",P=((k=E.workflow_status)==null?void 0:k.name)||E.workflow_status||"Not set",{avatars:O,extraDevelopers:I}=j(E);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:E.title})]}),E.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:E.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${T(E.status)}`,children:E.status?E.status.replace("_"," "):"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:P}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:N?"text-red-600":"text-gray-700",children:S})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:O.length>0?i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"flex -space-x-2",children:[O.map((A,M)=>i.jsx("a",{href:`${p}/users/${A.role}/${A.id}`,title:`${A.name} - ${A.roleLabel}`,className:"w-8 h-8 rounded-full text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer overflow-hidden flex-shrink-0",style:A.avatar?{backgroundImage:`url(${A.avatar})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:`linear-gradient(135deg, ${A.from}, ${A.to})`},children:!A.avatar&&zN(A.name)},`${A.role}-${A.id||M}`)),I>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white flex-shrink-0",children:["+",I]})]})}):"Not assigned"})]},E.id)})})]})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Showing ",v.length===0?0:w+1,"",Math.min(w+m,v.length)," of ",v.length," tasks"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>c(E=>Math.max(1,E-1)),disabled:x===1,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===1?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Previous page",children:" Prev"}),i.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:y},(E,S)=>S+1).map(E=>i.jsx("button",{onClick:()=>c(E),className:`w-8 h-8 rounded-lg text-xs font-semibold transition-all ${x===E?"bg-blue-600 text-white border border-blue-600":"text-gray-700 hover:bg-gray-100 border border-gray-200 hover:border-gray-300"}`,children:E},E))}),i.jsx("button",{onClick:()=>c(E=>Math.min(y,E+1)),disabled:x===y,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===y?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Next page",children:"Next "})]})]})]}):i.jsxs("div",{className:"bg-white border rounded-xl p-8 text-center",style:{borderColor:"#e5e7eb"},children:[i.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("h3",{className:"text-base font-semibold mb-1 text-gray-700",children:s==="all"?"No Tasks Yet":`No ${s.replace("_"," ")} tasks`}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s==="all"?"Create your first task to get started":`You don't have any ${s.replace("_"," ")} tasks`}),i.jsx("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"+ Create Task"})]})]})},HN=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("all"),[o,l]=_.useState("");_.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await se.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Manage tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${En(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",_i(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})},qN=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState("all"),[l,u]=_.useState("");_.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await se.get("/tasks"),h=Array.isArray(d.data)?d.data:d.data.data||[];r(h)}catch(d){console.error("Failed to fetch tasks:",d)}finally{a(!1)}},c=t.filter(d=>{var p,g;const h=s==="all"||d.status===s,m=((p=d.title)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=d.description)==null?void 0:g.toLowerCase().includes(l.toLowerCase()));return h&&m});return n?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"My Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Tasks assigned to you"})]})})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:d=>u(d.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(d=>i.jsx("button",{onClick:()=>o(d),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${s===d?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:s===d?{background:"#59569D"}:{},children:d==="all"?`All (${t.length})`:d.replace("_"," ").charAt(0).toUpperCase()+d.slice(1)},d))})]})}),i.jsx("div",{className:"space-y-2",children:c.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks assigned to you"})}):c.map(d=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:d.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:d.description||"No description"}}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.status==="done"?"bg-green-100 text-green-700":d.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status}),d.due_date&&i.jsxs("span",{className:`text-xs ${En(d.due_date)&&d.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",_i(d.due_date)]}),d.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",d.project.name||d.project.title]})]})]})})},d.id))})]})},GN=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("all"),[o,l]=_.useState("");_.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await se.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Track tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${En(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",_i(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})};function VN(){this.__data__=[],this.size=0}var WN=VN;function KN(e,t){return e===t||e!==e&&t!==t}var jy=KN,YN=jy;function XN(e,t){for(var r=e.length;r--;)if(YN(e[r][0],t))return r;return-1}var Ko=XN,ZN=Ko,QN=Array.prototype,JN=QN.splice;function eE(e){var t=this.__data__,r=ZN(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():JN.call(t,r,1),--this.size,!0}var tE=eE,rE=Ko;function nE(e){var t=this.__data__,r=rE(t,e);return r<0?void 0:t[r][1]}var aE=nE,iE=Ko;function sE(e){return iE(this.__data__,e)>-1}var oE=sE,lE=Ko;function cE(e,t){var r=this.__data__,n=lE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var uE=cE,dE=WN,fE=tE,hE=aE,mE=oE,pE=uE;function ba(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ba.prototype.clear=dE;ba.prototype.delete=fE;ba.prototype.get=hE;ba.prototype.has=mE;ba.prototype.set=pE;var Yo=ba,gE=Yo;function vE(){this.__data__=new gE,this.size=0}var yE=vE;function xE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bE=xE;function wE(e){return this.__data__.get(e)}var jE=wE;function _E(e){return this.__data__.has(e)}var NE=_E,EE=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt,_y=EE,OE=_y,TE=typeof self=="object"&&self&&self.Object===Object&&self,SE=OE||TE||Function("return this")(),Fr=SE,PE=Fr,AE=PE.Symbol,Ed=AE,om=Ed,Ny=Object.prototype,IE=Ny.hasOwnProperty,kE=Ny.toString,Ba=om?om.toStringTag:void 0;function CE(e){var t=IE.call(e,Ba),r=e[Ba];try{e[Ba]=void 0;var n=!0}catch{}var a=kE.call(e);return n&&(t?e[Ba]=r:delete e[Ba]),a}var DE=CE,ME=Object.prototype,RE=ME.toString;function LE(e){return RE.call(e)}var BE=LE,lm=Ed,$E=DE,FE=BE,zE="[object Null]",UE="[object Undefined]",cm=lm?lm.toStringTag:void 0;function HE(e){return e==null?e===void 0?UE:zE:cm&&cm in Object(e)?$E(e):FE(e)}var Xo=HE;function qE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ey=qE,GE=Xo,VE=Ey,WE="[object AsyncFunction]",KE="[object Function]",YE="[object GeneratorFunction]",XE="[object Proxy]";function ZE(e){if(!VE(e))return!1;var t=GE(e);return t==KE||t==YE||t==WE||t==XE}var Oy=ZE,QE=Fr,JE=QE["__core-js_shared__"],eO=JE,yc=eO,um=function(){var e=/[^.]+$/.exec(yc&&yc.keys&&yc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tO(e){return!!um&&um in e}var rO=tO,nO=Function.prototype,aO=nO.toString;function iO(e){if(e!=null){try{return aO.call(e)}catch{}try{return e+""}catch{}}return""}var Ty=iO,sO=Oy,oO=rO,lO=Ey,cO=Ty,uO=/[\\^$.*+?()[\]{}|]/g,dO=/^\[object .+?Constructor\]$/,fO=Function.prototype,hO=Object.prototype,mO=fO.toString,pO=hO.hasOwnProperty,gO=RegExp("^"+mO.call(pO).replace(uO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vO(e){if(!lO(e)||oO(e))return!1;var t=sO(e)?gO:dO;return t.test(cO(e))}var yO=vO;function xO(e,t){return e==null?void 0:e[t]}var bO=xO,wO=yO,jO=bO;function _O(e,t){var r=jO(e,t);return wO(r)?r:void 0}var wa=_O,NO=wa,EO=Fr,OO=NO(EO,"Map"),Od=OO,TO=wa,SO=TO(Object,"create"),Zo=SO,dm=Zo;function PO(){this.__data__=dm?dm(null):{},this.size=0}var AO=PO;function IO(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kO=IO,CO=Zo,DO="__lodash_hash_undefined__",MO=Object.prototype,RO=MO.hasOwnProperty;function LO(e){var t=this.__data__;if(CO){var r=t[e];return r===DO?void 0:r}return RO.call(t,e)?t[e]:void 0}var BO=LO,$O=Zo,FO=Object.prototype,zO=FO.hasOwnProperty;function UO(e){var t=this.__data__;return $O?t[e]!==void 0:zO.call(t,e)}var HO=UO,qO=Zo,GO="__lodash_hash_undefined__";function VO(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qO&&t===void 0?GO:t,this}var WO=VO,KO=AO,YO=kO,XO=BO,ZO=HO,QO=WO;function ja(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ja.prototype.clear=KO;ja.prototype.delete=YO;ja.prototype.get=XO;ja.prototype.has=ZO;ja.prototype.set=QO;var JO=ja,fm=JO,eT=Yo,tT=Od;function rT(){this.size=0,this.__data__={hash:new fm,map:new(tT||eT),string:new fm}}var nT=rT;function aT(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var iT=aT,sT=iT;function oT(e,t){var r=e.__data__;return sT(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qo=oT,lT=Qo;function cT(e){var t=lT(this,e).delete(e);return this.size-=t?1:0,t}var uT=cT,dT=Qo;function fT(e){return dT(this,e).get(e)}var hT=fT,mT=Qo;function pT(e){return mT(this,e).has(e)}var gT=pT,vT=Qo;function yT(e,t){var r=vT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var xT=yT,bT=nT,wT=uT,jT=hT,_T=gT,NT=xT;function _a(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_a.prototype.clear=bT;_a.prototype.delete=wT;_a.prototype.get=jT;_a.prototype.has=_T;_a.prototype.set=NT;var Sy=_a,ET=Yo,OT=Od,TT=Sy,ST=200;function PT(e,t){var r=this.__data__;if(r instanceof ET){var n=r.__data__;if(!OT||n.length<ST-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new TT(n)}return r.set(e,t),this.size=r.size,this}var AT=PT,IT=Yo,kT=yE,CT=bE,DT=jE,MT=NE,RT=AT;function Na(e){var t=this.__data__=new IT(e);this.size=t.size}Na.prototype.clear=kT;Na.prototype.delete=CT;Na.prototype.get=DT;Na.prototype.has=MT;Na.prototype.set=RT;var LT=Na,BT="__lodash_hash_undefined__";function $T(e){return this.__data__.set(e,BT),this}var FT=$T;function zT(e){return this.__data__.has(e)}var UT=zT,HT=Sy,qT=FT,GT=UT;function Us(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new HT;++t<r;)this.add(e[t])}Us.prototype.add=Us.prototype.push=qT;Us.prototype.has=GT;var VT=Us;function WT(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var KT=WT;function YT(e,t){return e.has(t)}var XT=YT,ZT=VT,QT=KT,JT=XT,eS=1,tS=2;function rS(e,t,r,n,a,s){var o=r&eS,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=s.get(e),c=s.get(t);if(f&&c)return f==t&&c==e;var d=-1,h=!0,m=r&tS?new ZT:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var p=e[d],g=t[d];if(n)var v=o?n(g,p,d,t,e,s):n(p,g,d,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!QT(t,function(y,x){if(!JT(m,x)&&(p===y||a(p,y,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Py=rS,nS=Fr,aS=nS.Uint8Array,iS=aS;function sS(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var oS=sS;function lS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cS=lS,hm=Ed,mm=iS,uS=jy,dS=Py,fS=oS,hS=cS,mS=1,pS=2,gS="[object Boolean]",vS="[object Date]",yS="[object Error]",xS="[object Map]",bS="[object Number]",wS="[object RegExp]",jS="[object Set]",_S="[object String]",NS="[object Symbol]",ES="[object ArrayBuffer]",OS="[object DataView]",pm=hm?hm.prototype:void 0,xc=pm?pm.valueOf:void 0;function TS(e,t,r,n,a,s,o){switch(r){case OS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ES:return!(e.byteLength!=t.byteLength||!s(new mm(e),new mm(t)));case gS:case vS:case bS:return uS(+e,+t);case yS:return e.name==t.name&&e.message==t.message;case wS:case _S:return e==t+"";case xS:var l=fS;case jS:var u=n&mS;if(l||(l=hS),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;n|=pS,o.set(e,t);var c=dS(l(e),l(t),n,a,s,o);return o.delete(e),c;case NS:if(xc)return xc.call(e)==xc.call(t)}return!1}var SS=TS;function PS(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var AS=PS,IS=Array.isArray,Td=IS,kS=AS,CS=Td;function DS(e,t,r){var n=t(e);return CS(e)?n:kS(n,r(e))}var MS=DS;function RS(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var LS=RS;function BS(){return[]}var $S=BS,FS=LS,zS=$S,US=Object.prototype,HS=US.propertyIsEnumerable,gm=Object.getOwnPropertySymbols,qS=gm?function(e){return e==null?[]:(e=Object(e),FS(gm(e),function(t){return HS.call(e,t)}))}:zS,GS=qS;function VS(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WS=VS;function KS(e){return e!=null&&typeof e=="object"}var Jo=KS,YS=Xo,XS=Jo,ZS="[object Arguments]";function QS(e){return XS(e)&&YS(e)==ZS}var JS=QS,vm=JS,eP=Jo,Ay=Object.prototype,tP=Ay.hasOwnProperty,rP=Ay.propertyIsEnumerable,nP=vm(function(){return arguments}())?vm:function(e){return eP(e)&&tP.call(e,"callee")&&!rP.call(e,"callee")},aP=nP,Hs={exports:{}};function iP(){return!1}var sP=iP;Hs.exports;(function(e,t){var r=Fr,n=sP,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;e.exports=f})(Hs,Hs.exports);var Iy=Hs.exports,oP=9007199254740991,lP=/^(?:0|[1-9]\d*)$/;function cP(e,t){var r=typeof e;return t=t??oP,!!t&&(r=="number"||r!="symbol"&&lP.test(e))&&e>-1&&e%1==0&&e<t}var uP=cP,dP=9007199254740991;function fP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dP}var ky=fP,hP=Xo,mP=ky,pP=Jo,gP="[object Arguments]",vP="[object Array]",yP="[object Boolean]",xP="[object Date]",bP="[object Error]",wP="[object Function]",jP="[object Map]",_P="[object Number]",NP="[object Object]",EP="[object RegExp]",OP="[object Set]",TP="[object String]",SP="[object WeakMap]",PP="[object ArrayBuffer]",AP="[object DataView]",IP="[object Float32Array]",kP="[object Float64Array]",CP="[object Int8Array]",DP="[object Int16Array]",MP="[object Int32Array]",RP="[object Uint8Array]",LP="[object Uint8ClampedArray]",BP="[object Uint16Array]",$P="[object Uint32Array]",Ae={};Ae[IP]=Ae[kP]=Ae[CP]=Ae[DP]=Ae[MP]=Ae[RP]=Ae[LP]=Ae[BP]=Ae[$P]=!0;Ae[gP]=Ae[vP]=Ae[PP]=Ae[yP]=Ae[AP]=Ae[xP]=Ae[bP]=Ae[wP]=Ae[jP]=Ae[_P]=Ae[NP]=Ae[EP]=Ae[OP]=Ae[TP]=Ae[SP]=!1;function FP(e){return pP(e)&&mP(e.length)&&!!Ae[hP(e)]}var zP=FP;function UP(e){return function(t){return e(t)}}var HP=UP,qs={exports:{}};qs.exports;(function(e,t){var r=_y,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qs,qs.exports);var qP=qs.exports,GP=zP,VP=HP,ym=qP,xm=ym&&ym.isTypedArray,WP=xm?VP(xm):GP,Cy=WP,KP=WS,YP=aP,XP=Td,ZP=Iy,QP=uP,JP=Cy,eA=Object.prototype,tA=eA.hasOwnProperty;function rA(e,t){var r=XP(e),n=!r&&YP(e),a=!r&&!n&&ZP(e),s=!r&&!n&&!a&&JP(e),o=r||n||a||s,l=o?KP(e.length,String):[],u=l.length;for(var f in e)(t||tA.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||QP(f,u)))&&l.push(f);return l}var nA=rA,aA=Object.prototype;function iA(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||aA;return e===r}var sA=iA;function oA(e,t){return function(r){return e(t(r))}}var lA=oA,cA=lA,uA=cA(Object.keys,Object),dA=uA,fA=sA,hA=dA,mA=Object.prototype,pA=mA.hasOwnProperty;function gA(e){if(!fA(e))return hA(e);var t=[];for(var r in Object(e))pA.call(e,r)&&r!="constructor"&&t.push(r);return t}var vA=gA,yA=Oy,xA=ky;function bA(e){return e!=null&&xA(e.length)&&!yA(e)}var wA=bA,jA=nA,_A=vA,NA=wA;function EA(e){return NA(e)?jA(e):_A(e)}var OA=EA,TA=MS,SA=GS,PA=OA;function AA(e){return TA(e,PA,SA)}var IA=AA,bm=IA,kA=1,CA=Object.prototype,DA=CA.hasOwnProperty;function MA(e,t,r,n,a,s){var o=r&kA,l=bm(e),u=l.length,f=bm(t),c=f.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=l[d];if(!(o?h in t:DA.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++d<u;){h=l[d];var y=e[h],x=t[h];if(n)var w=o?n(x,y,h,t,e,s):n(y,x,h,e,t,s);if(!(w===void 0?y===x||a(y,x,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var b=e.constructor,j=t.constructor;b!=j&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var RA=MA,LA=wa,BA=Fr,$A=LA(BA,"DataView"),FA=$A,zA=wa,UA=Fr,HA=zA(UA,"Promise"),qA=HA,GA=wa,VA=Fr,WA=GA(VA,"Set"),KA=WA,YA=wa,XA=Fr,ZA=YA(XA,"WeakMap"),QA=ZA,ru=FA,nu=Od,au=qA,iu=KA,su=QA,Dy=Xo,Ea=Ty,wm="[object Map]",JA="[object Object]",jm="[object Promise]",_m="[object Set]",Nm="[object WeakMap]",Em="[object DataView]",eI=Ea(ru),tI=Ea(nu),rI=Ea(au),nI=Ea(iu),aI=Ea(su),mn=Dy;(ru&&mn(new ru(new ArrayBuffer(1)))!=Em||nu&&mn(new nu)!=wm||au&&mn(au.resolve())!=jm||iu&&mn(new iu)!=_m||su&&mn(new su)!=Nm)&&(mn=function(e){var t=Dy(e),r=t==JA?e.constructor:void 0,n=r?Ea(r):"";if(n)switch(n){case eI:return Em;case tI:return wm;case rI:return jm;case nI:return _m;case aI:return Nm}return t});var iI=mn,bc=LT,sI=Py,oI=SS,lI=RA,Om=iI,Tm=Td,Sm=Iy,cI=Cy,uI=1,Pm="[object Arguments]",Am="[object Array]",Ki="[object Object]",dI=Object.prototype,Im=dI.hasOwnProperty;function fI(e,t,r,n,a,s){var o=Tm(e),l=Tm(t),u=o?Am:Om(e),f=l?Am:Om(t);u=u==Pm?Ki:u,f=f==Pm?Ki:f;var c=u==Ki,d=f==Ki,h=u==f;if(h&&Sm(e)){if(!Sm(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new bc),o||cI(e)?sI(e,t,r,n,a,s):oI(e,t,u,r,n,a,s);if(!(r&uI)){var m=c&&Im.call(e,"__wrapped__"),p=d&&Im.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new bc),a(g,v,r,n,s)}}return h?(s||(s=new bc),lI(e,t,r,n,a,s)):!1}var hI=fI,mI=hI,km=Jo;function My(e,t,r,n,a){return e===t?!0:e==null||t==null||!km(e)&&!km(t)?e!==e&&t!==t:mI(e,t,r,n,My,a)}var pI=My,gI=pI;function vI(e,t){return gI(e,t)}var yI=vI,Ry={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:Rt,function(){return function(r){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=109)}([function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(17),o=a(18),l=a(19),u=a(45),f=a(46),c=a(47),d=a(48),h=a(49),m=a(12),p=a(32),g=a(33),v=a(31),y=a(1),x={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:d.default,Scroll:u.default,Block:c.default,Inline:f.default,Text:h.default,Attributor:{Attribute:m.default,Class:p.default,Style:g.default,Store:v.default}};n.default=x},function(r,n,a){var s=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)x.hasOwnProperty(w)&&(y[w]=x[w])};return function(y,x){v(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(v){s(y,v);function y(x){var w=this;return x="[Parchment] "+x,w=v.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return y}(Error);n.ParchmentError=o;var l={},u={},f={},c={};n.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function h(v,y){var x=p(v);if(x==null)throw new o("Unable to create "+v+" blot");var w=x,b=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:w.create(y);return new w(b,y)}n.create=h;function m(v,y){return y===void 0&&(y=!1),v==null?null:v[n.DATA_KEY]!=null?v[n.DATA_KEY].blot:y?m(v.parentNode,y):null}n.find=m;function p(v,y){y===void 0&&(y=d.ANY);var x;if(typeof v=="string")x=c[v]||l[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?x=c.block:v&d.LEVEL&d.INLINE&&(x=c.inline);else if(v instanceof HTMLElement){var w=(v.getAttribute("class")||"").split(/\s+/);for(var b in w)if(x=u[w[b]],x)break;x=x||f[v.tagName]}return x==null?null:y&d.LEVEL&x.scope&&y&d.TYPE&x.scope?x:null}n.query=p;function g(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(v.length>1)return v.map(function(b){return g(b)});var x=v[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(u[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(b){return b.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(b){(f[b]==null||x.className==null)&&(f[b]=x)})}return x}n.register=g},function(r,n,a){var s=a(51),o=a(11),l=a(3),u=a(20),f="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var m={};return d.length===0?this:(m.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var m={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},c.prototype.push=function(d){var h=this.ops.length,m=this.ops[h-1];if(d=l(!0,{},d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(d),this;if(o(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],m=[];return this.forEach(function(p){var g=d(p)?h:m;g.push(p)}),[h,m]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+u.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+u.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var m=[],p=u.iterator(this.ops),g=0;g<h&&p.hasNext();){var v;g<d?v=p.next(d-g):(v=p.next(h-g),m.push(v)),g+=u.length(v)}return new c(m)},c.prototype.compose=function(d){var h=u.iterator(this.ops),m=u.iterator(d.ops),p=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var v=g.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),p.push(h.next());g.retain-v>0&&m.next(g.retain-v)}for(var y=new c(p);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")y.push(m.next());else if(h.peekType()==="delete")y.push(h.next());else{var x=Math.min(h.peekLength(),m.peekLength()),w=h.next(x),b=m.next(x);if(typeof b.retain=="number"){var j={};typeof w.retain=="number"?j.retain=x:j.insert=w.insert;var T=u.attributes.compose(w.attributes,b.attributes,typeof w.retain=="number");if(T&&(j.attributes=T),y.push(j),!m.hasNext()&&o(y.ops[y.ops.length-1],j)){var E=new c(h.rest());return y.concat(E).chop()}}else typeof b.delete=="number"&&typeof w.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var m=[this,d].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:f;var b=x===d?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),p=new c,g=s(m[0],m[1],h),v=u.iterator(this.ops),y=u.iterator(d.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var b=0;switch(x[0]){case s.INSERT:b=Math.min(y.peekLength(),w),p.push(y.next(b));break;case s.DELETE:b=Math.min(w,v.peekLength()),v.next(b),p.delete(b);break;case s.EQUAL:b=Math.min(v.peekLength(),y.peekLength(),w);var j=v.next(b),T=y.next(b);o(j.insert,T.insert)?p.retain(b,u.attributes.diff(j.attributes,T.attributes)):p.push(T).delete(b);break}w-=b}}),p.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var m=u.iterator(this.ops),p=new c,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var v=m.peek(),y=u.length(v)-m.peekLength(),x=typeof v.insert=="string"?v.insert.indexOf(h,y)-y:-1;if(x<0)p.push(m.next());else if(x>0)p.push(m.next(x));else{if(d(p,m.next(1).attributes||{},g)===!1)return;g+=1,p=new c}}p.length()>0&&d(p,{},g)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var m=u.iterator(this.ops),p=u.iterator(d.ops),g=new c;m.hasNext()||p.hasNext();)if(m.peekType()==="insert"&&(h||p.peekType()!=="insert"))g.retain(u.length(m.next()));else if(p.peekType()==="insert")g.push(p.next());else{var v=Math.min(m.peekLength(),p.peekLength()),y=m.next(v),x=p.next(v);if(y.delete)continue;x.delete?g.push(x):g.retain(v,u.attributes.transform(y.attributes,x.attributes,h))}return g.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var m=u.iterator(this.ops),p=0;m.hasNext()&&p<=d;){var g=m.peekLength(),v=m.peekType();if(m.next(),v==="delete"){d-=Math.min(g,d-p);continue}else v==="insert"&&(p<d||!h)&&(d+=g);p+=g}return d},r.exports=c},function(r,n){var a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},f=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var p=a.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!p&&!g)return!1;var v;for(v in m);return typeof v>"u"||a.call(m,v)},c=function(m,p){o&&p.name==="__proto__"?o(m,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):m[p.name]=p.newValue},d=function(m,p){if(p==="__proto__")if(a.call(m,p)){if(l)return l(m,p).value}else return;return m[p]};r.exports=function h(){var m,p,g,v,y,x,w=arguments[0],b=1,j=arguments.length,T=!1;for(typeof w=="boolean"&&(T=w,w=arguments[1]||{},b=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});b<j;++b)if(m=arguments[b],m!=null)for(p in m)g=d(w,p),v=d(m,p),w!==v&&(T&&v&&(f(v)||(y=u(v)))?(y?(y=!1,x=g&&u(g)?g:[]):x=g&&f(g)?g:{},c(w,{name:p,newValue:h(T,x,v)})):typeof v<"u"&&c(w,{name:p,newValue:v}));return w}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=function(){function O(I,k){for(var A=0;A<k.length;A++){var M=k[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),o=function O(I,k,A){I===null&&(I=Function.prototype);var M=Object.getOwnPropertyDescriptor(I,k);if(M===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:O(R,k,A)}else{if("value"in M)return M.value;var D=M.get;return D===void 0?void 0:D.call(A)}},l=a(3),u=w(l),f=a(2),c=w(f),d=a(0),h=w(d),m=a(16),p=w(m),g=a(6),v=w(g),y=a(7),x=w(y);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function j(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function T(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var E=1,S=function(O){T(I,O);function I(){return b(this,I),j(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,M){var R=h.default.query(A,h.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,M)}},{key:"formatAt",value:function(A,M,R,D){this.format(R,D)}},{key:"insertAt",value:function(A,M,R){if(typeof M=="string"&&M.endsWith(`
`)){var D=h.default.create(N.blotName);this.parent.insertBefore(D,A===0?this:this.next),D.insertAt(0,M.slice(0,-1))}else o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,A,M,R)}}]),I}(h.default.Embed);S.scope=h.default.Scope.BLOCK_BLOT;var N=function(O){T(I,O);function I(k){b(this,I);var A=j(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k));return A.cache={},A}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(A,M){return M.length()===0?A:A.insert(M.value(),P(M))},new c.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(A,M){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,A,M),this.cache={}}},{key:"formatAt",value:function(A,M,R,D){M<=0||(h.default.query(R,h.default.Scope.BLOCK)?A+M===this.length()&&this.format(R,D):o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,A,Math.min(M,this.length()-A-1),R,D),this.cache={})}},{key:"insertAt",value:function(A,M,R){if(R!=null)return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,A,M,R);if(M.length!==0){var D=M.split(`
`),q=D.shift();q.length>0&&(A<this.length()-1||this.children.tail==null?o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),q):this.children.tail.insertAt(this.children.tail.length(),q),this.cache={});var F=this;D.reduce(function($,C){return F=F.split($,!0),F.insertAt(0,C),C.length},A+q.length)}}},{key:"insertBefore",value:function(A,M){var R=this.children.head;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,A,M),R instanceof p.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(A,M){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,A,M),this.cache={}}},{key:"optimize",value:function(A){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(A===0||A>=this.length()-E)){var R=this.clone();return A===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var D=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,A,M);return this.cache={},D}}}]),I}(h.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[v.default,h.default.Embed,x.default];function P(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(I=(0,u.default)(I,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?I:P(O.parent,I)}n.bubbleFormats=P,n.BlockEmbed=S,n.default=N},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F($,C){var L=[],z=!0,W=!1,V=void 0;try{for(var B=$[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(C&&L.length===C));z=!0);}catch(Z){W=!0,V=Z}finally{try{!z&&B.return&&B.return()}finally{if(W)throw V}}return L}return function($,C){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return F($,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F($,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty($,z.key,z)}}return function($,C,L){return C&&F($.prototype,C),L&&F($,L),$}}();a(50);var u=a(2),f=P(u),c=a(14),d=P(c),h=a(8),m=P(h),p=a(9),g=P(p),v=a(0),y=P(v),x=a(15),w=P(x),b=a(3),j=P(b),T=a(10),E=P(T),S=a(34),N=P(S);function P(F){return F&&F.__esModule?F:{default:F}}function O(F,$,C){return $ in F?Object.defineProperty(F,$,{value:C,enumerable:!0,configurable:!0,writable:!0}):F[$]=C,F}function I(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")}var k=(0,E.default)("quill"),A=function(){l(F,null,[{key:"debug",value:function(C){C===!0&&(C="log"),E.default.level(C)}},{key:"find",value:function(C){return C.__quill||y.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&k.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var V=C.attrName||C.blotName;typeof V=="string"?this.register("formats/"+V,C,L):Object.keys(C).forEach(function(B){z.register(B,C[B],L)})}else this.imports[C]!=null&&!W&&k.warn("Overwriting "+C+" with",L),this.imports[C]=L,(C.startsWith("blots/")||C.startsWith("formats/"))&&L.blotName!=="abstract"?y.default.register(L):C.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function F($){var C=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,F),this.options=M($,L),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",$);this.options.debug&&F.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(V){V===m.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(V,B){var H=C.selection.lastRange,Z=H&&H.length===0?H.index:void 0;R.call(C,function(){return C.editor.update(null,B,Z)},V)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(F,[{key:"addContainer",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var z=C;C=document.createElement("div"),C.classList.add(z)}return this.container.insertBefore(C,L),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,L,z){var W=this,V=D(C,L,z),B=o(V,4);return C=B[0],L=B[1],z=B[3],R.call(this,function(){return W.editor.deleteText(C,L)},z,C,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return R.call(this,function(){var V=z.getSelection(!0),B=new f.default;if(V==null)return B;if(y.default.query(C,y.default.Scope.BLOCK))B=z.editor.formatLine(V.index,V.length,O({},C,L));else{if(V.length===0)return z.selection.format(C,L),B;B=z.editor.formatText(V.index,V.length,O({},C,L))}return z.setSelection(V,m.default.sources.SILENT),B},W)}},{key:"formatLine",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,L,z,W,V),U=o(Z,4);return C=U[0],L=U[1],H=U[2],V=U[3],R.call(this,function(){return B.editor.formatLine(C,L,H)},V,C,0)}},{key:"formatText",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,L,z,W,V),U=o(Z,4);return C=U[0],L=U[1],H=U[2],V=U[3],R.call(this,function(){return B.editor.formatText(C,L,H)},V,C,0)}},{key:"getBounds",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof C=="number"?z=this.selection.getBounds(C,L):z=this.selection.getBounds(C.index,C.length);var W=this.container.getBoundingClientRect();return{bottom:z.bottom-W.top,height:z.height,left:z.left-W.left,right:z.right-W.left,top:z.top-W.top,width:z.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,z=D(C,L),W=o(z,2);return C=W[0],L=W[1],this.editor.getContents(C,L)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,L):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,L)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,z=D(C,L),W=o(z,2);return C=W[0],L=W[1],this.editor.getText(C,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,L,z){var W=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return R.call(this,function(){return W.editor.insertEmbed(C,L,z)},V,C)}},{key:"insertText",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,0,z,W,V),U=o(Z,4);return C=U[0],H=U[2],V=U[3],R.call(this,function(){return B.editor.insertText(C,L,H)},V,C,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,L,z){this.clipboard.dangerouslyPasteHTML(C,L,z)}},{key:"removeFormat",value:function(C,L,z){var W=this,V=D(C,L,z),B=o(V,4);return C=B[0],L=B[1],z=B[3],R.call(this,function(){return W.editor.removeFormat(C,L)},z,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return R.call(this,function(){C=new f.default(C);var W=L.getLength(),V=L.editor.deleteText(0,W),B=L.editor.applyDelta(C),H=B.ops[B.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),B.delete(1));var Z=V.compose(B);return Z},z)}},{key:"setSelection",value:function(C,L,z){if(C==null)this.selection.setRange(null,L||F.sources.API);else{var W=D(C,L,z),V=o(W,4);C=V[0],L=V[1],z=V[3],this.selection.setRange(new x.Range(C,L),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new f.default().insert(C);return this.setContents(z,L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,L=this.scroll.update(C);return this.selection.update(C),L}},{key:"updateContents",value:function(C){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return R.call(this,function(){return C=new f.default(C),L.editor.applyDelta(C,z)},z,!0)}}]),F}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=m.default.events,A.sources=m.default.sources,A.version="1.3.7",A.imports={delta:f.default,parchment:y.default,"core/module":g.default,"core/theme":N.default};function M(F,$){if($=(0,j.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===A.DEFAULTS.theme)$.theme=N.default;else if($.theme=A.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var C=(0,j.default)(!0,{},$.theme.DEFAULTS);[C,$].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(V){W.modules[V]===!0&&(W.modules[V]={})})});var L=Object.keys(C.modules).concat(Object.keys($.modules)),z=L.reduce(function(W,V){var B=A.import("modules/"+V);return B==null?k.error("Cannot load "+V+" module. Are you sure you registered it?"):W[V]=B.DEFAULTS||{},W},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,j.default)(!0,{},A.DEFAULTS,{modules:z},C,$),["bounds","container","scrollingContainer"].forEach(function(W){typeof $[W]=="string"&&($[W]=document.querySelector($[W]))}),$.modules=Object.keys($.modules).reduce(function(W,V){return $.modules[V]&&(W[V]=$.modules[V]),W},{}),$}function R(F,$,C,L){if(this.options.strict&&!this.isEnabled()&&$===m.default.sources.USER)return new f.default;var z=C==null?null:this.getSelection(),W=this.editor.delta,V=F();if(z!=null&&(C===!0&&(C=z.index),L==null?z=q(z,V,$):L!==0&&(z=q(z,C,L,$)),this.setSelection(z,m.default.sources.SILENT)),V.length()>0){var B,H=[m.default.events.TEXT_CHANGE,V,W,$];if((B=this.emitter).emit.apply(B,[m.default.events.EDITOR_CHANGE].concat(H)),$!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,H)}}return V}function D(F,$,C,L,z){var W={};return typeof F.index=="number"&&typeof F.length=="number"?typeof $!="number"?(z=L,L=C,C=$,$=F.length,F=F.index):($=F.length,F=F.index):typeof $!="number"&&(z=L,L=C,C=$,$=0),(typeof C>"u"?"undefined":s(C))==="object"?(W=C,z=L):typeof C=="string"&&(L!=null?W[C]=L:z=C),z=z||m.default.sources.API,[F,$,W,z]}function q(F,$,C,L){if(F==null)return null;var z=void 0,W=void 0;if($ instanceof f.default){var V=[F.index,F.index+F.length].map(function(U){return $.transformPosition(U,L!==m.default.sources.USER)}),B=o(V,2);z=B[0],W=B[1]}else{var H=[F.index,F.index+F.length].map(function(U){return U<$||U===$&&L===m.default.sources.USER?U:C>=0?U+C:Math.max($,U+C)}),Z=o(H,2);z=Z[0],W=Z[1]}return new x.Range(z,W-z)}n.expandConfig=M,n.overload=D,n.default=A},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(7),u=d(l),f=a(0),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function m(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){p(y,v);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"formatAt",value:function(w,b,j,T){if(y.compare(this.statics.blotName,j)<0&&c.default.query(j,c.default.Scope.BLOT)){var E=this.isolate(w,b);T&&E.wrap(j,T)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,b,j,T)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(w,b){var j=y.order.indexOf(w),T=y.order.indexOf(b);return j>=0||T>=0?j-T:w===b?0:w<b?-1:1}}]),y}(c.default.Inline);g.allowedChildren=[g,c.default.Embed,u.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function x(w,b){for(var j=0;j<b.length;j++){var T=b[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,b,j){return b&&x(w.prototype,b),j&&x(w,j),w}}(),o=function x(w,b,j){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,b);if(T===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:x(E,b,j)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(j)}},l=a(54),u=d(l),f=a(10),c=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function m(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function p(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,b=Array(w),j=0;j<w;j++)b[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var E;(E=T.__quill.emitter).handleDOM.apply(E,b)}})})});var y=function(x){p(w,x);function w(){h(this,w);var b=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return b.listeners={},b.on("error",g.error),b}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var T=arguments.length,E=Array(T>1?T-1:0),S=1;S<T;S++)E[S-1]=arguments[S];(this.listeners[j.type]||[]).forEach(function(N){var P=N.node,O=N.handler;(j.target===P||P.contains(j.target))&&O.apply(void 0,[j].concat(E))})}},{key:"listenDOM",value:function(j,T,E){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:T,handler:E})}}]),w}(u.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=u,this.options=f};o.DEFAULTS={},n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(f){if(s.indexOf(f)<=s.indexOf(o)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];(c=console)[f].apply(c,h)}}function u(f){return s.reduce(function(c,d){return c[d]=l.bind(console,d,f),c},{})}l.level=u.level=function(f){o=f},n.default=u},function(r,n,a){var s=Array.prototype.slice,o=a(52),l=a(53),u=r.exports=function(h,m,p){return p||(p={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?p.strict?h===m:h==m:d(h,m,p)};function f(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,m,p){var g,v;if(f(h)||f(m)||h.prototype!==m.prototype)return!1;if(l(h))return l(m)?(h=s.call(h),m=s.call(m),u(h,m,p)):!1;if(c(h)){if(!c(m)||h.length!==m.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==m[g])return!1;return!0}try{var y=o(h),x=o(m)}catch{return!1}if(y.length!=x.length)return!1;for(y.sort(),x.sort(),g=y.length-1;g>=0;g--)if(y[g]!=x[g])return!1;for(g=y.length-1;g>=0;g--)if(v=y[g],!u(h[v],m[v],p))return!1;return typeof h==typeof m}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u,f,c){c===void 0&&(c={}),this.attrName=u,this.keyName=f;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return l.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},l.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},l.prototype.canAdd=function(u,f){var c=s.query(u,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},l.prototype.remove=function(u){u.removeAttribute(this.keyName)},l.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=function(){function S(N,P){var O=[],I=!0,k=!1,A=void 0;try{for(var M=N[Symbol.iterator](),R;!(I=(R=M.next()).done)&&(O.push(R.value),!(P&&O.length===P));I=!0);}catch(D){k=!0,A=D}finally{try{!I&&M.return&&M.return()}finally{if(k)throw A}}return O}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(N,P){for(var O=0;O<P.length;O++){var I=P[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}return function(N,P,O){return P&&S(N.prototype,P),O&&S(N,O),N}}(),l=function S(N,P,O){N===null&&(N=Function.prototype);var I=Object.getOwnPropertyDescriptor(N,P);if(I===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:S(k,P,O)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(O)}},u=a(2),f=x(u),c=a(0),d=x(c),h=a(4),m=x(h),p=a(6),g=x(p),v=a(7),y=x(v);function x(S){return S&&S.__esModule?S:{default:S}}function w(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function b(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function j(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var T=function(S){j(N,S);function N(){return w(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(g.default);T.blotName="code",T.tagName="CODE";var E=function(S){j(N,S);function N(){return w(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"delta",value:function(){var O=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(k,A){return k.insert(A).insert(`
`,O.formats())},new f.default)}},{key:"format",value:function(O,I){if(!(O===this.statics.blotName&&I)){var k=this.descendant(y.default,this.length()-1),A=s(k,1),M=A[0];M!=null&&M.deleteAt(M.length()-1,1),l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,O,I)}}},{key:"formatAt",value:function(O,I,k,A){if(I!==0&&!(d.default.query(k,d.default.Scope.BLOCK)==null||k===this.statics.blotName&&A===this.statics.formats(this.domNode))){var M=this.newlineIndex(O);if(!(M<0||M>=O+I)){var R=this.newlineIndex(O,!0)+1,D=M-R+1,q=this.isolate(R,D),F=q.next;q.format(k,A),F instanceof N&&F.formatAt(0,O-R+I-D,k,A)}}}},{key:"insertAt",value:function(O,I,k){if(k==null){var A=this.descendant(y.default,O),M=s(A,2),R=M[0],D=M[1];R.insertAt(D,I)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var k=this.domNode.textContent.slice(O).indexOf(`
`);return k>-1?O+k:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(O),I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var k=d.default.find(I);k==null?I.parentNode.removeChild(I):k instanceof d.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(O){var I=l(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,O);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),N}(m.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",n.Code=T,n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F($,C){var L=[],z=!0,W=!1,V=void 0;try{for(var B=$[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(C&&L.length===C));z=!0);}catch(Z){W=!0,V=Z}finally{try{!z&&B.return&&B.return()}finally{if(W)throw V}}return L}return function($,C){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return F($,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F($,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty($,z.key,z)}}return function($,C,L){return C&&F($.prototype,C),L&&F($,L),$}}(),u=a(2),f=I(u),c=a(20),d=I(c),h=a(0),m=I(h),p=a(13),g=I(p),v=a(24),y=I(v),x=a(4),w=I(x),b=a(16),j=I(b),T=a(21),E=I(T),S=a(11),N=I(S),P=a(3),O=I(P);function I(F){return F&&F.__esModule?F:{default:F}}function k(F,$,C){return $ in F?Object.defineProperty(F,$,{value:C,enumerable:!0,configurable:!0,writable:!0}):F[$]=C,F}function A(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,R=function(){function F($){A(this,F),this.scroll=$,this.delta=this.getDelta()}return l(F,[{key:"applyDelta",value:function(C){var L=this,z=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),C=q(C),C.reduce(function(V,B){var H=B.retain||B.delete||B.insert.length||1,Z=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var U=B.insert;U.endsWith(`
`)&&z&&(z=!1,U=U.slice(0,-1)),V>=W&&!U.endsWith(`
`)&&(z=!0),L.scroll.insertAt(V,U);var Q=L.scroll.line(V),ne=o(Q,2),te=ne[0],he=ne[1],ce=(0,O.default)({},(0,x.bubbleFormats)(te));if(te instanceof w.default){var ge=te.descendant(m.default.Leaf,he),Y=o(ge,1),K=Y[0];ce=(0,O.default)(ce,(0,x.bubbleFormats)(K))}Z=d.default.attributes.diff(ce,Z)||{}}else if(s(B.insert)==="object"){var G=Object.keys(B.insert)[0];if(G==null)return V;L.scroll.insertAt(V,G,B.insert[G])}W+=H}return Object.keys(Z).forEach(function(X){L.scroll.formatAt(V,H,X,Z[X])}),V+H},0),C.reduce(function(V,B){return typeof B.delete=="number"?(L.scroll.deleteAt(V,B.delete),V):V+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,L){return this.scroll.deleteAt(C,L),this.update(new f.default().retain(C).delete(L))}},{key:"formatLine",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(V){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[V])){var B=z.scroll.lines(C,Math.max(L,1)),H=L;B.forEach(function(Z){var U=Z.length();if(!(Z instanceof g.default))Z.format(V,W[V]);else{var Q=C-Z.offset(z.scroll),ne=Z.newlineIndex(Q+H)-Q+1;Z.formatAt(Q,ne,V,W[V])}H-=U})}}),this.scroll.optimize(),this.update(new f.default().retain(C).retain(L,(0,E.default)(W)))}},{key:"formatText",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(V){z.scroll.formatAt(C,L,V,W[V])}),this.update(new f.default().retain(C).retain(L,(0,E.default)(W)))}},{key:"getContents",value:function(C,L){return this.delta.slice(C,C+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,L){return C.concat(L.delta())},new f.default)}},{key:"getFormat",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],W=[];L===0?this.scroll.path(C).forEach(function(B){var H=o(B,1),Z=H[0];Z instanceof w.default?z.push(Z):Z instanceof m.default.Leaf&&W.push(Z)}):(z=this.scroll.lines(C,L),W=this.scroll.descendants(m.default.Leaf,C,L));var V=[z,W].map(function(B){if(B.length===0)return{};for(var H=(0,x.bubbleFormats)(B.shift());Object.keys(H).length>0;){var Z=B.shift();if(Z==null)return H;H=D((0,x.bubbleFormats)(Z),H)}return H});return O.default.apply(O.default,V)}},{key:"getText",value:function(C,L){return this.getContents(C,L).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(C,L,z){return this.scroll.insertAt(C,L,z),this.update(new f.default().retain(C).insert(k({},L,z)))}},{key:"insertText",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,L),Object.keys(W).forEach(function(V){z.scroll.formatAt(C,L.length,V,W[V])}),this.update(new f.default().retain(C).insert(L,(0,E.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==w.default.blotName||C.children.length>1?!1:C.children.head instanceof j.default}},{key:"removeFormat",value:function(C,L){var z=this.getText(C,L),W=this.scroll.line(C+L),V=o(W,2),B=V[0],H=V[1],Z=0,U=new f.default;B!=null&&(B instanceof g.default?Z=B.newlineIndex(H)-H+1:Z=B.length()-H,U=B.delta().slice(H,H+Z-1).insert(`
`));var Q=this.getContents(C,L+Z),ne=Q.diff(new f.default().insert(z).concat(U)),te=new f.default().retain(C).concat(ne);return this.applyDelta(te)}},{key:"update",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(M)&&m.default.find(L[0].target)){var V=m.default.find(L[0].target),B=(0,x.bubbleFormats)(V),H=V.offset(this.scroll),Z=L[0].oldValue.replace(y.default.CONTENTS,""),U=new f.default().insert(Z),Q=new f.default().insert(V.value()),ne=new f.default().retain(H).concat(U.diff(Q,z));C=ne.reduce(function(te,he){return he.insert?te.insert(he.insert,B):te.push(he)},new f.default),this.delta=W.compose(C)}else this.delta=this.getDelta(),(!C||!(0,N.default)(W.compose(C),this.delta))&&(C=W.diff(this.delta,z));return C}}]),F}();function D(F,$){return Object.keys($).reduce(function(C,L){return F[L]==null||($[L]===F[L]?C[L]=$[L]:Array.isArray($[L])?$[L].indexOf(F[L])<0&&(C[L]=$[L].concat([F[L]])):C[L]=[$[L],F[L]]),C},{})}function q(F){return F.reduce(function($,C){if(C.insert===1){var L=(0,E.default)(C.attributes);return delete L.image,$.insert({image:C.attributes.image},L)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,E.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var z=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(z,C.attributes)}return $.push(C)},new f.default)}n.default=R},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=function(){function S(N,P){var O=[],I=!0,k=!1,A=void 0;try{for(var M=N[Symbol.iterator](),R;!(I=(R=M.next()).done)&&(O.push(R.value),!(P&&O.length===P));I=!0);}catch(D){k=!0,A=D}finally{try{!I&&M.return&&M.return()}finally{if(k)throw A}}return O}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(N,P){for(var O=0;O<P.length;O++){var I=P[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}return function(N,P,O){return P&&S(N.prototype,P),O&&S(N,O),N}}(),l=a(0),u=y(l),f=a(21),c=y(f),d=a(11),h=y(d),m=a(8),p=y(m),g=a(10),v=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function x(S){if(Array.isArray(S)){for(var N=0,P=Array(S.length);N<S.length;N++)P[N]=S[N];return P}else return Array.from(S)}function w(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}var b=(0,v.default)("quill:selection"),j=function S(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,S),this.index=N,this.length=P},T=function(){function S(N,P){var O=this;w(this,S),this.emitter=P,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(I,k){I===p.default.events.TEXT_CHANGE&&k.length()>0&&O.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var I=O.getNativeRange();I!=null&&I.start.node!==O.cursor.textNode&&O.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(I,k){if(k.range){var A=k.range,M=A.startNode,R=A.startOffset,D=A.endNode,q=A.endOffset;O.setNativeRange(M,R,D,q)}}),this.update(p.default.sources.SILENT)}return o(S,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var O=P.cursor.restore();if(!O)return;setTimeout(function(){P.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||u.default.query(P,u.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var k=u.default.find(I.start.node,!1);if(k==null)return;if(k instanceof u.default.Leaf){var A=k.split(I.start.offset);k.parent.insertBefore(this.cursor,A)}else k.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(P,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();P=Math.min(P,I-1),O=Math.min(P+O,I-1)-P;var k=void 0,A=this.scroll.leaf(P),M=s(A,2),R=M[0],D=M[1];if(R==null)return null;var q=R.position(D,!0),F=s(q,2);k=F[0],D=F[1];var $=document.createRange();if(O>0){$.setStart(k,D);var C=this.scroll.leaf(P+O),L=s(C,2);if(R=L[0],D=L[1],R==null)return null;var z=R.position(D,!0),W=s(z,2);return k=W[0],D=W[1],$.setEnd(k,D),$.getBoundingClientRect()}else{var V="left",B=void 0;return k instanceof Text?(D<k.data.length?($.setStart(k,D),$.setEnd(k,D+1)):($.setStart(k,D-1),$.setEnd(k,D),V="right"),B=$.getBoundingClientRect()):(B=R.domNode.getBoundingClientRect(),D>0&&(V="right")),{bottom:B.top+B.height,height:B.height,left:B[V],right:B[V],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var O=P.getRangeAt(0);if(O==null)return null;var I=this.normalizeNative(O);return b.info("getNativeRange",I),I}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var O=this.normalizedToRange(P);return[O,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var O=this,I=[[P.start.node,P.start.offset]];P.native.collapsed||I.push([P.end.node,P.end.offset]);var k=I.map(function(R){var D=s(R,2),q=D[0],F=D[1],$=u.default.find(q,!0),C=$.offset(O.scroll);return F===0?C:$ instanceof u.default.Container?C+$.length():C+$.index(q,F)}),A=Math.min(Math.max.apply(Math,x(k)),this.scroll.length()-1),M=Math.min.apply(Math,[A].concat(x(k)));return new j(M,A-M)}},{key:"normalizeNative",value:function(P){if(!E(this.root,P.startContainer)||!P.collapsed&&!E(this.root,P.endContainer))return null;var O={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[O.start,O.end].forEach(function(I){for(var k=I.node,A=I.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>A)k=k.childNodes[A],A=0;else if(k.childNodes.length===A)k=k.lastChild,A=k instanceof Text?k.data.length:k.childNodes.length+1;else break;I.node=k,I.offset=A}),O}},{key:"rangeToNative",value:function(P){var O=this,I=P.collapsed?[P.index]:[P.index,P.index+P.length],k=[],A=this.scroll.length();return I.forEach(function(M,R){M=Math.min(A-1,M);var D=void 0,q=O.scroll.leaf(M),F=s(q,2),$=F[0],C=F[1],L=$.position(C,R!==0),z=s(L,2);D=z[0],C=z[1],k.push(D,C)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(P){var O=this.lastRange;if(O!=null){var I=this.getBounds(O.index,O.length);if(I!=null){var k=this.scroll.length()-1,A=this.scroll.line(Math.min(O.index,k)),M=s(A,1),R=M[0],D=R;if(O.length>0){var q=this.scroll.line(Math.min(O.index+O.length,k)),F=s(q,1);D=F[0]}if(!(R==null||D==null)){var $=P.getBoundingClientRect();I.top<$.top?P.scrollTop-=$.top-I.top:I.bottom>$.bottom&&(P.scrollTop+=I.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(P,O){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",P,O,I,k),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||I.parentNode==null))){var M=document.getSelection();if(M!=null)if(P!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||A||P!==R.startContainer||O!==R.startOffset||I!==R.endContainer||k!==R.endOffset){P.tagName=="BR"&&(O=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),I.tagName=="BR"&&(k=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var D=document.createRange();D.setStart(P,O),D.setEnd(I,k),M.removeAllRanges(),M.addRange(D)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof O=="string"&&(I=O,O=!1),b.info("setRange",P),P!=null){var k=this.rangeToNative(P);this.setNativeRange.apply(this,x(k).concat([O]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,O=this.lastRange,I=this.getRange(),k=s(I,2),A=k[0],M=k[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(O,this.lastRange)){var R;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(O),P];if((R=this.emitter).emit.apply(R,[p.default.events.EDITOR_CHANGE].concat(D)),P!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,D)}}}}]),S}();function E(S,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),S.contains(N)}n.Range=j,n.default=T},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(0),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(y,x){y.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,y,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(u.default.Embed);m.blotName="break",m.tagName="BR",n.default=m},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),u=a(1),f=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.build(),p}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=c(p);m.insertBefore(g,m.children.head||void 0)}catch(v){if(v instanceof u.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(m,p){if(m===0&&p===this.length())return this.remove();this.children.forEachAt(m,p,function(g,v,y){g.deleteAt(v,y)})},h.prototype.descendant=function(m,p){var g=this.children.find(p),v=g[0],y=g[1];return m.blotName==null&&m(v)||m.blotName!=null&&v instanceof m?[v,y]:v instanceof h?v.descendant(m,y):[null,-1]},h.prototype.descendants=function(m,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var v=[],y=g;return this.children.forEachAt(p,g,function(x,w,b){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&v.push(x),x instanceof h&&(v=v.concat(x.descendants(m,w,y))),y-=b}),v},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(m,p,g,v){this.children.forEachAt(m,p,function(y,x,w){y.formatAt(x,w,g,v)})},h.prototype.insertAt=function(m,p,g){var v=this.children.find(m),y=v[0],x=v[1];if(y)y.insertAt(x,p,g);else{var w=g==null?u.create("text",p):u.create(p,g);this.appendChild(w)}},h.prototype.insertBefore=function(m,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new u.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,p)},h.prototype.length=function(){return this.children.reduce(function(m,p){return m+p.length()},0)},h.prototype.moveChildren=function(m,p){this.children.forEach(function(g){m.insertBefore(g,p)})},h.prototype.optimize=function(m){if(d.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var p=u.create(this.statics.defaultChild);this.appendChild(p),p.optimize(m)}else this.remove()},h.prototype.path=function(m,p){p===void 0&&(p=!1);var g=this.children.find(m,p),v=g[0],y=g[1],x=[[this,m]];return v instanceof h?x.concat(v.path(y,p)):(v!=null&&x.push([v,y]),x)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),d.prototype.replace.call(this,m)},h.prototype.split=function(m,p){if(p===void 0&&(p=!1),!p){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(v,y,x){v=v.split(y,p),g.appendChild(v)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,p){var g=this,v=[],y=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(v.push.apply(v,x.addedNodes),y.push.apply(y,x.removedNodes))}),y.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=u.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),v.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=u.find(x.nextSibling));var b=c(x);(b.next!=w||b.next==null)&&(b.parent!=null&&b.parent.removeChild(g),g.insertBefore(b,w||void 0))})},h}(l.default);function c(d){var h=u.find(d);if(h==null)try{h=u.create(d)}catch{h=u.create(u.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){h.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),u=a(17),f=a(1),c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.attributes=new l.default(p.domNode),p}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,p){var g=f.query(m);g instanceof o.default?this.attributes.attribute(g,p):p&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==p)&&this.replaceWith(m,p)},h.prototype.formats=function(){var m=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(m[this.statics.blotName]=p),m},h.prototype.replaceWith=function(m,p){var g=d.prototype.replaceWith.call(this,m,p);return this.attributes.copy(g),g},h.prototype.update=function(m,p){var g=this;d.prototype.update.call(this,m,p),m.some(function(v){return v.target===g.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,p){var g=d.prototype.wrap.call(this,m,p);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(u.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=a(11),o=a(3),l={attributes:{compose:function(f,c,d){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var h=o(!0,{},c);d||(h=Object.keys(h).reduce(function(p,g){return h[g]!=null&&(p[g]=h[g]),p},{}));for(var m in f)f[m]!==void 0&&c[m]===void 0&&(h[m]=f[m]);return Object.keys(h).length>0?h:void 0},diff:function(f,c){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var d=Object.keys(f).concat(Object.keys(c)).reduce(function(h,m){return s(f[m],c[m])||(h[m]=c[m]===void 0?null:c[m]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(f,c,d){if(typeof f!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(m,p){return f[p]===void 0&&(m[p]=c[p]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=l.length(c);if(f>=h-d?(f=h-d,this.index+=1,this.offset=0):this.offset+=f,typeof c.delete=="number")return{delete:f};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=f:typeof c.insert=="string"?m.insert=c.insert.substr(d,f):m.insert=c.insert,m}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=f,this.index=c,[d].concat(h)}else return[]},r.exports=l},function(r,n){var a=function(){function s(g,v){return v!=null&&g instanceof v}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(g,v,y,x,w){typeof v=="object"&&(y=v.depth,x=v.prototype,w=v.includeNonEnumerable,v=v.circular);var b=[],j=[],T=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof y>"u"&&(y=1/0);function E(S,N){if(S===null)return null;if(N===0)return S;var P,O;if(typeof S!="object")return S;if(s(S,o))P=new o;else if(s(S,l))P=new l;else if(s(S,u))P=new u(function($,C){S.then(function(L){$(E(L,N-1))},function(L){C(E(L,N-1))})});else if(f.__isArray(S))P=[];else if(f.__isRegExp(S))P=new RegExp(S.source,p(S)),S.lastIndex&&(P.lastIndex=S.lastIndex);else if(f.__isDate(S))P=new Date(S.getTime());else{if(T&&Buffer.isBuffer(S))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(S.length):P=new Buffer(S.length),S.copy(P),P;s(S,Error)?P=Object.create(S):typeof x>"u"?(O=Object.getPrototypeOf(S),P=Object.create(O)):(P=Object.create(x),O=x)}if(v){var I=b.indexOf(S);if(I!=-1)return j[I];b.push(S),j.push(P)}s(S,o)&&S.forEach(function($,C){var L=E(C,N-1),z=E($,N-1);P.set(L,z)}),s(S,l)&&S.forEach(function($){var C=E($,N-1);P.add(C)});for(var k in S){var A;O&&(A=Object.getOwnPropertyDescriptor(O,k)),!(A&&A.set==null)&&(P[k]=E(S[k],N-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(S),k=0;k<M.length;k++){var R=M[k],D=Object.getOwnPropertyDescriptor(S,R);D&&!D.enumerable&&!w||(P[R]=E(S[R],N-1),D.enumerable||Object.defineProperty(P,R,{enumerable:!1}))}if(w)for(var q=Object.getOwnPropertyNames(S),k=0;k<q.length;k++){var F=q[k],D=Object.getOwnPropertyDescriptor(S,F);D&&D.enumerable||(P[F]=E(S[F],N-1),Object.defineProperty(P,F,{enumerable:!1}))}return P}return E(g,y)}f.clonePrototype=function(v){if(v===null)return null;var y=function(){};return y.prototype=v,new y};function c(g){return Object.prototype.toString.call(g)}f.__objToStr=c;function d(g){return typeof g=="object"&&c(g)==="[object Date]"}f.__isDate=d;function h(g){return typeof g=="object"&&c(g)==="[object Array]"}f.__isArray=h;function m(g){return typeof g=="object"&&c(g)==="[object RegExp]"}f.__isRegExp=m;function p(g){var v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),v}return f.__getRegExpFlags=p,f}();typeof r=="object"&&r.exports&&(r.exports=a)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function P(O,I){var k=[],A=!0,M=!1,R=void 0;try{for(var D=O[Symbol.iterator](),q;!(A=(q=D.next()).done)&&(k.push(q.value),!(I&&k.length===I));A=!0);}catch(F){M=!0,R=F}finally{try{!A&&D.return&&D.return()}finally{if(M)throw R}}return k}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return P(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&P(O.prototype,I),k&&P(O,k),O}}(),l=function P(O,I,k){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,I);if(A===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:P(M,I,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},u=a(0),f=b(u),c=a(8),d=b(c),h=a(4),m=b(h),p=a(16),g=b(p),v=a(13),y=b(v),x=a(25),w=b(x);function b(P){return P&&P.__esModule?P:{default:P}}function j(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function T(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function E(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}function S(P){return P instanceof m.default||P instanceof h.BlockEmbed}var N=function(P){E(O,P);function O(I,k){j(this,O);var A=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I));return A.emitter=k.emitter,Array.isArray(k.whitelist)&&(A.whitelist=k.whitelist.reduce(function(M,R){return M[R]=!0,M},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,A){var M=this.line(k),R=s(M,2),D=R[0],q=R[1],F=this.line(k+A),$=s(F,1),C=$[0];if(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,k,A),C!=null&&D!==C&&q>0){if(D instanceof h.BlockEmbed||C instanceof h.BlockEmbed){this.optimize();return}if(D instanceof y.default){var L=D.newlineIndex(D.length(),!0);if(L>-1&&(D=D.split(L+1),D===C)){this.optimize();return}}else if(C instanceof y.default){var z=C.newlineIndex(0);z>-1&&C.split(z+1)}var W=C.children.head instanceof g.default?null:C.children.head;D.moveChildren(C,W),D.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,A,M,R){this.whitelist!=null&&!this.whitelist[M]||(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,k,A,M,R),this.optimize())}},{key:"insertAt",value:function(k,A,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[A])){if(k>=this.length())if(M==null||f.default.query(A,f.default.Scope.BLOCK)==null){var R=f.default.create(this.statics.defaultChild);this.appendChild(R),M==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),R.insertAt(0,A,M)}else{var D=f.default.create(A,M);this.appendChild(D)}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,k,A,M);this.optimize()}}},{key:"insertBefore",value:function(k,A){if(k.statics.scope===f.default.Scope.INLINE_BLOT){var M=f.default.create(this.statics.defaultChild);M.appendChild(k),k=M}l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,k,A)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(S,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function R(D,q,F){var $=[],C=F;return D.children.forEachAt(q,F,function(L,z,W){S(L)?$.push(L):L instanceof f.default.Container&&($=$.concat(R(L,z,C))),C-=W}),$};return M(this,k,A)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,k,A),k.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,k,A))}},{key:"path",value:function(k){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var A=d.default.sources.USER;typeof k=="string"&&(A=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,A,k),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,A,k)}}}]),O}(f.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[m.default,h.BlockEmbed,w.default],n.default=N},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B(H,Z){var U=[],Q=!0,ne=!1,te=void 0;try{for(var he=H[Symbol.iterator](),ce;!(Q=(ce=he.next()).done)&&(U.push(ce.value),!(Z&&U.length===Z));Q=!0);}catch(ge){ne=!0,te=ge}finally{try{!Q&&he.return&&he.return()}finally{if(ne)throw te}}return U}return function(H,Z){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return B(H,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function B(H,Z){for(var U=0;U<Z.length;U++){var Q=Z[U];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(H,Q.key,Q)}}return function(H,Z,U){return Z&&B(H.prototype,Z),U&&B(H,U),H}}(),u=a(21),f=P(u),c=a(11),d=P(c),h=a(3),m=P(h),p=a(2),g=P(p),v=a(20),y=P(v),x=a(0),w=P(x),b=a(5),j=P(b),T=a(10),E=P(T),S=a(9),N=P(S);function P(B){return B&&B.__esModule?B:{default:B}}function O(B,H,Z){return H in B?Object.defineProperty(B,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[H]=Z,B}function I(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}function k(B,H){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:B}function A(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(B,H):B.__proto__=H)}var M=(0,E.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(B){A(H,B),l(H,null,[{key:"match",value:function(U,Q){return Q=V(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!Q[ne]!==U[ne]&&Q[ne]!==null})?!1:Q.key===(U.which||U.keyCode)}}]);function H(Z,U){I(this,H);var Q=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Z,U));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(ne){ne==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||Q.options.bindings[ne]&&Q.addBinding(Q.options.bindings[ne])}),Q.addBinding({key:H.keys.ENTER,shiftKey:null},L),Q.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},F),Q.addBinding({key:H.keys.DELETE},{collapsed:!0},$)):(Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),Q.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},C),Q.addBinding({key:H.keys.DELETE},{collapsed:!1},C),Q.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),Q.listen(),Q}return l(H,[{key:"addBinding",value:function(U){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=V(U);if(te==null||te.key==null)return M.warn("Attempted to add invalid keyboard binding",te);typeof Q=="function"&&(Q={handler:Q}),typeof ne=="function"&&(ne={handler:ne}),te=(0,m.default)(te,Q,ne),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var U=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var ne=Q.which||Q.keyCode,te=(U.bindings[ne]||[]).filter(function(Ke){return H.match(Q,Ke)});if(te.length!==0){var he=U.quill.getSelection();if(!(he==null||!U.quill.hasFocus())){var ce=U.quill.getLine(he.index),ge=o(ce,2),Y=ge[0],K=ge[1],G=U.quill.getLeaf(he.index),X=o(G,2),J=X[0],ae=X[1],re=he.length===0?[J,ae]:U.quill.getLeaf(he.index+he.length),le=o(re,2),oe=le[0],ve=le[1],pe=J instanceof w.default.Text?J.value().slice(0,ae):"",je=oe instanceof w.default.Text?oe.value().slice(ve):"",be={collapsed:he.length===0,empty:he.length===0&&Y.length()<=1,format:U.quill.getFormat(he),offset:K,prefix:pe,suffix:je},hn=te.some(function(Ke){if(Ke.collapsed!=null&&Ke.collapsed!==be.collapsed||Ke.empty!=null&&Ke.empty!==be.empty||Ke.offset!=null&&Ke.offset!==be.offset)return!1;if(Array.isArray(Ke.format)){if(Ke.format.every(function(Kr){return be.format[Kr]==null}))return!1}else if(s(Ke.format)==="object"&&!Object.keys(Ke.format).every(function(Kr){return Ke.format[Kr]===!0?be.format[Kr]!=null:Ke.format[Kr]===!1?be.format[Kr]==null:(0,d.default)(Ke.format[Kr],be.format[Kr])}))return!1;return Ke.prefix!=null&&!Ke.prefix.test(be.prefix)||Ke.suffix!=null&&!Ke.suffix.test(be.suffix)?!1:Ke.handler.call(U,he,be)!==!0});hn&&Q.preventDefault()}}}})}}]),H}(N.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,Z){Z.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,j.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(H){this.quill.history.cutoff();var Z=new g.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(Z,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,j.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,Z){this.quill.format("list",!1,j.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var Z=this.quill.getLine(H.index),U=o(Z,2),Q=U[0],ne=U[1],te=(0,m.default)({},Q.formats(),{list:"checked"}),he=new g.default().retain(H.index).insert(`
`,te).retain(Q.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,Z){var U=this.quill.getLine(H.index),Q=o(U,2),ne=Q[0],te=Q[1],he=new g.default().retain(H.index).insert(`
`,Z.format).retain(ne.length()-te-1).retain(1,{header:null});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,Z){var U=Z.prefix.length,Q=this.quill.getLine(H.index),ne=o(Q,2),te=ne[0],he=ne[1];if(he>U)return!0;var ce=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":ce="unchecked";break;case"[x]":ce="checked";break;case"-":case"*":ce="bullet";break;default:ce="ordered"}this.quill.insertText(H.index," ",j.default.sources.USER),this.quill.history.cutoff();var ge=new g.default().retain(H.index-he).delete(U+1).retain(te.length()-2-he).retain(1,{list:ce});this.quill.updateContents(ge,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-U,j.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var Z=this.quill.getLine(H.index),U=o(Z,2),Q=U[0],ne=U[1],te=new g.default().retain(H.index+Q.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,j.default.sources.USER)}},"embed left":q(D.keys.LEFT,!1),"embed left shift":q(D.keys.LEFT,!0),"embed right":q(D.keys.RIGHT,!1),"embed right shift":q(D.keys.RIGHT,!0)}};function q(B,H){var Z,U=B===D.keys.LEFT?"prefix":"suffix";return Z={key:B,shiftKey:H,altKey:null},O(Z,U,/^$/),O(Z,"handler",function(ne){var te=ne.index;B===D.keys.RIGHT&&(te+=ne.length+1);var he=this.quill.getLeaf(te),ce=o(he,1),ge=ce[0];return ge instanceof w.default.Embed?(B===D.keys.LEFT?H?this.quill.setSelection(ne.index-1,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index-1,j.default.sources.USER):H?this.quill.setSelection(ne.index,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,j.default.sources.USER),!1):!0}),Z}function F(B,H){if(!(B.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(B.index),U=o(Z,1),Q=U[0],ne={};if(H.offset===0){var te=this.quill.getLine(B.index-1),he=o(te,1),ce=he[0];if(ce!=null&&ce.length()>1){var ge=Q.formats(),Y=this.quill.getFormat(B.index-1,1);ne=y.default.attributes.diff(ge,Y)||{}}}var K=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(B.index-K,K,j.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(B.index-K,K,ne,j.default.sources.USER),this.quill.focus()}}function $(B,H){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(B.index>=this.quill.getLength()-Z)){var U={},Q=0,ne=this.quill.getLine(B.index),te=o(ne,1),he=te[0];if(H.offset>=he.length()-1){var ce=this.quill.getLine(B.index+1),ge=o(ce,1),Y=ge[0];if(Y){var K=he.formats(),G=this.quill.getFormat(B.index,1);U=y.default.attributes.diff(K,G)||{},Q=Y.length()}}this.quill.deleteText(B.index,Z,j.default.sources.USER),Object.keys(U).length>0&&this.quill.formatLine(B.index+Q-1,Z,U,j.default.sources.USER)}}function C(B){var H=this.quill.getLines(B),Z={};if(H.length>1){var U=H[0].formats(),Q=H[H.length-1].formats();Z=y.default.attributes.diff(Q,U)||{}}this.quill.deleteText(B,j.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(B.index,1,Z,j.default.sources.USER),this.quill.setSelection(B.index,j.default.sources.SILENT),this.quill.focus()}function L(B,H){var Z=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var U=Object.keys(H.format).reduce(function(Q,ne){return w.default.query(ne,w.default.Scope.BLOCK)&&!Array.isArray(H.format[ne])&&(Q[ne]=H.format[ne]),Q},{});this.quill.insertText(B.index,`
`,U,j.default.sources.USER),this.quill.setSelection(B.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(Q){U[Q]==null&&(Array.isArray(H.format[Q])||Q!=="link"&&Z.quill.format(Q,H.format[Q],j.default.sources.USER))})}function z(B){return{key:D.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(Z){var U=w.default.query("code-block"),Q=Z.index,ne=Z.length,te=this.quill.scroll.descendant(U,Q),he=o(te,2),ce=he[0],ge=he[1];if(ce!=null){var Y=this.quill.getIndex(ce),K=ce.newlineIndex(ge,!0)+1,G=ce.newlineIndex(Y+ge+ne),X=ce.domNode.textContent.slice(K,G).split(`
`);ge=0,X.forEach(function(J,ae){B?(ce.insertAt(K+ge,U.TAB),ge+=U.TAB.length,ae===0?Q+=U.TAB.length:ne+=U.TAB.length):J.startsWith(U.TAB)&&(ce.deleteAt(K+ge,U.TAB.length),ge-=U.TAB.length,ae===0?Q-=U.TAB.length:ne-=U.TAB.length),ge+=J.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(Q,ne,j.default.sources.SILENT)}}}}function W(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(Z,U){this.quill.format(B,!U.format[B],j.default.sources.USER)}}}function V(B){if(typeof B=="string"||typeof B=="number")return V({key:B});if((typeof B>"u"?"undefined":s(B))==="object"&&(B=(0,f.default)(B,!1)),typeof B.key=="string")if(D.keys[B.key.toUpperCase()]!=null)B.key=D.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[R]=B.shortKey,delete B.shortKey),B}n.default=D,n.SHORTKEY=R},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){var b=[],j=!0,T=!1,E=void 0;try{for(var S=x[Symbol.iterator](),N;!(j=(N=S.next()).done)&&(b.push(N.value),!(w&&b.length===w));j=!0);}catch(P){T=!0,E=P}finally{try{!j&&S.return&&S.return()}finally{if(T)throw E}}return b}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),u=a(0),f=h(u),c=a(7),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function g(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var v=function(y){g(x,y),l(x,null,[{key:"value",value:function(){}}]);function x(w,b){m(this,x);var j=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.selection=b,j.textNode=document.createTextNode(x.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,j){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,b,j);for(var T=this,E=0;T!=null&&T.statics.scope!==f.default.Scope.BLOCK_BLOT;)E+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=x.CONTENTS.length,T.optimize(),T.formatAt(E,x.CONTENTS.length,b,j),this._length=0)}},{key:"index",value:function(b,j){return b===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,j=this.selection.getNativeRange(),T=void 0,E=void 0,S=void 0;if(j!=null&&j.start.node===b&&j.end.node===b){var N=[b,j.start.offset,j.end.offset];T=N[0],E=N[1],S=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var P=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof d.default?(T=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=x.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=[E,S].map(function(k){return Math.max(0,Math.min(T.data.length,k-1))}),I=s(O,2);return E=I[0],S=I[1],{startNode:T,startOffset:E,endNode:T,endOffset:S}}}}},{key:"update",value:function(b,j){var T=this;if(b.some(function(S){return S.type==="characterData"&&S.target===T.textNode})){var E=this.restore();E&&(j.range=E)}}},{key:"value",value:function(){return""}}]),x}(f.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=f(s),l=a(4),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[u.default,l.BlockEmbed,m],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(0),u=f(l);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"value",value:function(w){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):b}}]),y}(u.default.Attributor.Style),p=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),g=new m("color","color",{scope:u.default.Scope.INLINE});n.ColorAttributor=m,n.ColorClass=p,n.ColorStyle=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(6),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return p(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),v}(u.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,v){var y=document.createElement("a");y.href=g;var x=y.href.slice(0,y.href.indexOf(":"));return v.indexOf(x)>-1}n.default=m,n.sanitize=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),l=a(23),u=d(l),f=a(107),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var m=0;function p(v,y){v.setAttribute(y,v.getAttribute(y)!=="true")}var g=function(){function v(y){var x=this;h(this,v),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case u.default.keys.ENTER:x.togglePicker();break;case u.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),x.hasAttribute("value")&&b.setAttribute("data-value",x.getAttribute("value")),x.textContent&&b.setAttribute("data-label",x.textContent),b.addEventListener("click",function(){w.selectItem(b,!0)}),b.addEventListener("keydown",function(j){switch(j.keyCode){case u.default.keys.ENTER:w.selectItem(b,!0),j.preventDefault();break;case u.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(b){var j=x.buildItem(b);w.appendChild(j),b.selected===!0&&x.selectItem(j)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(x!==b&&(b!=null&&b.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var b=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),v}();n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=M(s),l=a(5),u=M(l),f=a(4),c=M(f),d=a(16),h=M(d),m=a(25),p=M(m),g=a(24),v=M(g),y=a(35),x=M(y),w=a(6),b=M(w),j=a(22),T=M(j),E=a(7),S=M(E),N=a(55),P=M(N),O=a(42),I=M(O),k=a(23),A=M(k);function M(R){return R&&R.__esModule?R:{default:R}}u.default.register({"blots/block":c.default,"blots/block/embed":f.BlockEmbed,"blots/break":h.default,"blots/container":p.default,"blots/cursor":v.default,"blots/embed":x.default,"blots/inline":b.default,"blots/scroll":T.default,"blots/text":S.default,"modules/clipboard":P.default,"modules/history":I.default,"modules/keyboard":A.default}),o.default.register(c.default,h.default,v.default,b.default,T.default,S.default),n.default=u.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u){this.domNode=u,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(u){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return s.create(u)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(u,f){var c=this.isolate(u,f);c.remove()},l.prototype.formatAt=function(u,f,c,d){var h=this.isolate(u,f);if(s.query(c,s.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);h.wrap(m),m.format(c,d)}},l.prototype.insertAt=function(u,f,c){var d=c==null?s.create("text",f):s.create(f,c),h=this.split(u);this.parent.insertBefore(d,h)},l.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var c=null;u.children.insertBefore(this,f),f!=null&&(c=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=c)&&u.domNode.insertBefore(this.domNode,c),this.parent=u,this.attach()},l.prototype.isolate=function(u,f){var c=this.split(u);return c.split(f),c},l.prototype.length=function(){return 1},l.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},l.prototype.optimize=function(u){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},l.prototype.replaceWith=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return c.replace(this),c},l.prototype.split=function(u,f){return u===0?this:this.next},l.prototype.update=function(u,f){},l.prototype.wrap=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},l.blotName="abstract",l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(12),o=a(32),l=a(33),u=a(1),f=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=s.default.keys(this.domNode),m=o.default.keys(this.domNode),p=l.default.keys(this.domNode);h.concat(m).concat(p).forEach(function(g){var v=u.query(g,u.Scope.ATTRIBUTE);v instanceof s.default&&(d.attributes[v.attrName]=v)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(m){var p=h.attributes[m].value(h.domNode);d.format(m,p)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=d.attributes[m].value(d.domNode),h},{})},c}();n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f,c){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=l(d,this.keyName);h.forEach(function(m){d.classList.remove(m)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=l(d,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(d,m)?m:""},c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f){var c=f.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[l(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[l(this.keyName)];return this.canAdd(d,h)?h:""},c}(o.default);n.default=u},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){o(this,u),this.quill=f,this.options=c,this.modules={}}return s(u,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),u}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=a(0),u=d(l),f=a(7),c=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function h(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function m(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function p(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g="\uFEFF",v=function(y){p(x,y);function x(w){h(this,x);var b=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(j){b.contentNode.appendChild(j)}),b.leftGuard=document.createTextNode(g),b.rightGuard=document.createTextNode(g),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return s(x,[{key:"index",value:function(b,j){return b===this.leftGuard?0:b===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"restore",value:function(b){var j=void 0,T=void 0,E=b.data.split(g).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var S=this.prev.length();this.prev.insertAt(S,E),j={startNode:this.prev.domNode,startOffset:S+E.length}}else T=document.createTextNode(E),this.parent.insertBefore(u.default.create(T),this),j={startNode:T,startOffset:E.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,E),j={startNode:this.next.domNode,startOffset:E.length}):(T=document.createTextNode(E),this.parent.insertBefore(u.default.create(T),this.next),j={startNode:T,startOffset:E.length}));return b.data=g,j}},{key:"update",value:function(b,j){var T=this;b.forEach(function(E){if(E.type==="characterData"&&(E.target===T.leftGuard||E.target===T.rightGuard)){var S=T.restore(E.target);S&&(j.range=S)}})}}]),x}(u.default.Embed);n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",u),c=new o.default.Attributor.Class("align","ql-align",u),d=new o.default.Attributor.Style("align","text-align",u);n.AlignAttribute=f,n.AlignClass=c,n.AlignStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=a(0),o=u(s),l=a(26);function u(d){return d&&d.__esModule?d:{default:d}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=c},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",u),c=new o.default.Attributor.Class("direction","ql-direction",u),d=new o.default.Attributor.Style("direction","direction",u);n.DirectionAttribute=f,n.DirectionClass=c,n.DirectionStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=a(0),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function d(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function h(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var m={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new u.default.Attributor.Class("font","ql-font",m),g=function(y){h(x,y);function x(){return c(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(b){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),x}(u.default.Attributor.Style),v=new g("font","font-family",m);n.FontStyle=v,n.FontClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=a(0),o=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=u,n.SizeStyle=f},function(r,n,a){r.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=function(){function w(b,j){for(var T=0;T<j.length;T++){var E=j[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,j,T){return j&&w(b.prototype,j),T&&w(b,T),b}}(),o=a(0),l=h(o),u=a(5),f=h(u),c=a(9),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=function(w){g(b,w);function b(j,T){m(this,b);var E=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,T));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(f.default.events.EDITOR_CHANGE,function(S,N,P,O){S!==f.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||O===f.default.sources.USER?E.record(N,P):E.transform(N))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return s(b,[{key:"change",value:function(T,E){if(this.stack[T].length!==0){var S=this.stack[T].pop();this.stack[E].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[T],f.default.sources.USER),this.ignoreChange=!1;var N=x(S[T]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,E){if(T.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(E),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var P=this.stack.undo.pop();S=S.compose(P.undo),T=P.redo.compose(T)}else this.lastRecorded=N;this.stack.undo.push({redo:T,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(E){E.undo=T.transform(E.undo,!0),E.redo=T.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=T.transform(E.undo,!0),E.redo=T.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var b=w.ops[w.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(j){return l.default.query(j,l.default.Scope.BLOCK)!=null}):!1}function x(w){var b=w.reduce(function(T,E){return T+=E.delete||0,T},0),j=w.length()-b;return y(w)&&(j-=1),j}n.default=v,n.getLastChangeIndex=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=function(){function L(z,W){for(var V=0;V<W.length;V++){var B=W[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(z,B.key,B)}}return function(z,W,V){return W&&L(z.prototype,W),V&&L(z,V),z}}(),o=function L(z,W,V){z===null&&(z=Function.prototype);var B=Object.getOwnPropertyDescriptor(z,W);if(B===void 0){var H=Object.getPrototypeOf(z);return H===null?void 0:L(H,W,V)}else{if("value"in B)return B.value;var Z=B.get;return Z===void 0?void 0:Z.call(V)}},l=a(3),u=N(l),f=a(2),c=N(f),d=a(8),h=N(d),m=a(23),p=N(m),g=a(34),v=N(g),y=a(59),x=N(y),w=a(60),b=N(w),j=a(28),T=N(j),E=a(61),S=N(E);function N(L){return L&&L.__esModule?L:{default:L}}function P(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function O(L,z){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:L}function I(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(L,z):L.__proto__=z)}var k=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],R=["1","2","3",!1],D=["small",!1,"large","huge"],q=function(L){I(z,L);function z(W,V){P(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,W,V)),H=function Z(U){if(!document.body.contains(W.root))return document.body.removeEventListener("click",Z);B.tooltip!=null&&!B.tooltip.root.contains(U.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(Q){Q.container.contains(U.target)||Q.close()})};return W.emitter.listenDOM("click",document.body,H),B}return s(z,[{key:"addModule",value:function(V){var B=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,V);return V==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(V,B){V.forEach(function(H){var Z=H.getAttribute("class")||"";Z.split(/\s+/).forEach(function(U){if(U.startsWith("ql-")&&(U=U.slice(3),B[U]!=null))if(U==="direction")H.innerHTML=B[U][""]+B[U].rtl;else if(typeof B[U]=="string")H.innerHTML=B[U];else{var Q=H.value||"";Q!=null&&B[U][Q]&&(H.innerHTML=B[U][Q])}})})}},{key:"buildPickers",value:function(V,B){var H=this;this.pickers=V.map(function(U){if(U.classList.contains("ql-align"))return U.querySelector("option")==null&&C(U,k),new b.default(U,B.align);if(U.classList.contains("ql-background")||U.classList.contains("ql-color")){var Q=U.classList.contains("ql-background")?"background":"color";return U.querySelector("option")==null&&C(U,A,Q==="background"?"#ffffff":"#000000"),new x.default(U,B[Q])}else return U.querySelector("option")==null&&(U.classList.contains("ql-font")?C(U,M):U.classList.contains("ql-header")?C(U,R):U.classList.contains("ql-size")&&C(U,D)),new T.default(U)});var Z=function(){H.pickers.forEach(function(Q){Q.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,Z)}}]),z}(v.default);q.DEFAULTS=(0,u.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var V=new FileReader;V.onload=function(B){var H=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(H.index).delete(H.length).insert({image:B.target.result}),h.default.sources.USER),z.quill.setSelection(H.index+1,h.default.sources.SILENT),W.value=""},V.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(L){I(z,L);function z(W,V){P(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,W,V));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return s(z,[{key:"listen",value:function(){var V=this;this.textbox.addEventListener("keydown",function(B){p.default.match(B,"enter")?(V.save(),B.preventDefault()):p.default.match(B,"escape")&&(V.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:V!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+V)||""),this.root.setAttribute("data-mode",V)}},{key:"restoreFocus",value:function(){var V=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=V}},{key:"save",value:function(){var V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,h.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":V=$(V);case"formula":{if(!V)break;var H=this.quill.getSelection(!0);if(H!=null){var Z=H.index+H.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),V,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",h.default.sources.USER),this.quill.setSelection(Z+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(S.default);function $(L){var z=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":L}function C(L,z){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(V){var B=document.createElement("option");V===W?B.setAttribute("selected","selected"):B.setAttribute("value",V),L.appendChild(B)})}n.BaseTooltip=F,n.default=q},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var u,f=this.iterator();u=f();)if(u===l)return!0;return!1},o.prototype.insertBefore=function(l,u){l&&(l.next=u,u!=null?(l.prev=u.prev,u.prev!=null&&(u.prev.next=l),u.prev=l,u===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var u=0,f=this.head;f!=null;){if(f===l)return u;u+=f.length(),f=f.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var u=l;return l!=null&&(l=l.next),u}},o.prototype.find=function(l,u){u===void 0&&(u=!1);for(var f,c=this.iterator();f=c();){var d=f.length();if(l<d||u&&l===d&&(f.next==null||f.next.length()!==0))return[f,l];l-=d}return[null,0]},o.prototype.forEach=function(l){for(var u,f=this.iterator();u=f();)l(u)},o.prototype.forEachAt=function(l,u,f){if(!(u<=0))for(var c=this.find(l),d=c[0],h=c[1],m,p=l-h,g=this.iterator(d);(m=g())&&p<l+u;){var v=m.length();l>p?f(m,l-p,Math.min(u,p+v-l)):f(m,0,Math.min(v,l+u-p)),p+=v}},o.prototype.map=function(l){return this.reduce(function(u,f){return u.push(l(f)),u},[])},o.prototype.reduce=function(l,u){for(var f,c=this.iterator();f=c();)u=l(u,f);return u},o}();n.default=s},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,u),p.attach(),p}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,p){this.update(),m===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,m,p)},h.prototype.formatAt=function(m,p,g,v){this.update(),d.prototype.formatAt.call(this,m,p,g,v)},h.prototype.insertAt=function(m,p,g){this.update(),d.prototype.insertAt.call(this,m,p,g)},h.prototype.optimize=function(m,p){var g=this;m===void 0&&(m=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)m.push(v.pop());for(var y=function(j,T){T===void 0&&(T=!0),!(j==null||j===g)&&j.domNode.parentNode!=null&&(j.domNode[l.DATA_KEY].mutations==null&&(j.domNode[l.DATA_KEY].mutations=[]),T&&y(j.parent))},x=function(j){j.domNode[l.DATA_KEY]==null||j.domNode[l.DATA_KEY].mutations==null||(j instanceof o.default&&j.children.forEach(x),j.optimize(p))},w=m,b=0;w.length>0;b+=1){if(b>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(j){var T=l.find(j.target,!0);T!=null&&(T.domNode===j.target&&(j.type==="childList"?(y(l.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(E){var S=l.find(E,!1);y(S,!1),S instanceof o.default&&S.children.forEach(function(N){y(N,!1)})})):j.type==="attributes"&&y(T.prev)),y(T))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),v=w.slice();v.length>0;)m.push(v.pop())}},h.prototype.update=function(m,p){var g=this;p===void 0&&(p={}),m=m||this.observer.takeRecords(),m.map(function(v){var y=l.find(v.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[v],y):(y.domNode[l.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===g||v.domNode[l.DATA_KEY]==null||v.update(v.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(m,p)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){c(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function u(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var f=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,m){var p=this;h===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(d.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):c.prototype.format.call(this,h,m)},d.prototype.formatAt=function(h,m,p,g){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var v=this.isolate(h,m);v.format(p,g)}else c.prototype.formatAt.call(this,h,m,p,g)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&u(m,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){var h=l.query(c.blotName).tagName;if(d.tagName!==h)return f.formats.call(this,d)},c.prototype.format=function(d,h){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):f.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,m,p){l.query(m,l.Scope.BLOCK)!=null?this.format(m,p):f.prototype.formatAt.call(this,d,h,m,p)},c.prototype.insertAt=function(d,h,m){if(m==null||l.query(h,l.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,h,m);else{var p=this.split(d),g=l.create(h,m);p.parent.insertBefore(g,p)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,h)},c.blotName="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(c){},f.prototype.format=function(c,d){u.prototype.formatAt.call(this,0,this.length(),c,d)},f.prototype.formatAt=function(c,d,h,m){c===0&&d===this.length()?this.format(h,m):u.prototype.formatAt.call(this,c,d,h,m)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);n.default=l},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),u=function(f){s(c,f);function c(d){var h=f.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,m){m==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,h,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var m=l.create(this.domNode.splitText(d));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(d,h){var m=this;d.some(function(p){return p.type==="characterData"&&p.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,u){return arguments.length>1&&!this.contains(l)==!u?u:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=l.length;var c=f.indexOf(l,u);return c!==-1&&c===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),c=f.length>>>0,d=arguments[1],h,m=0;m<c;m++)if(h=f[m],u.call(d,h,m,f))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var a=-1,s=1,o=0;function l(b,j,T){if(b==j)return b?[[o,b]]:[];(T<0||b.length<T)&&(T=null);var E=d(b,j),S=b.substring(0,E);b=b.substring(E),j=j.substring(E),E=h(b,j);var N=b.substring(b.length-E);b=b.substring(0,b.length-E),j=j.substring(0,j.length-E);var P=u(b,j);return S&&P.unshift([o,S]),N&&P.push([o,N]),p(P),T!=null&&(P=y(P,T)),P=x(P),P}function u(b,j){var T;if(!b)return[[s,j]];if(!j)return[[a,b]];var E=b.length>j.length?b:j,S=b.length>j.length?j:b,N=E.indexOf(S);if(N!=-1)return T=[[s,E.substring(0,N)],[o,S],[s,E.substring(N+S.length)]],b.length>j.length&&(T[0][0]=T[2][0]=a),T;if(S.length==1)return[[a,b],[s,j]];var P=m(b,j);if(P){var O=P[0],I=P[1],k=P[2],A=P[3],M=P[4],R=l(O,k),D=l(I,A);return R.concat([[o,M]],D)}return f(b,j)}function f(b,j){for(var T=b.length,E=j.length,S=Math.ceil((T+E)/2),N=S,P=2*S,O=new Array(P),I=new Array(P),k=0;k<P;k++)O[k]=-1,I[k]=-1;O[N+1]=0,I[N+1]=0;for(var A=T-E,M=A%2!=0,R=0,D=0,q=0,F=0,$=0;$<S;$++){for(var C=-$+R;C<=$-D;C+=2){var L=N+C,z;C==-$||C!=$&&O[L-1]<O[L+1]?z=O[L+1]:z=O[L-1]+1;for(var W=z-C;z<T&&W<E&&b.charAt(z)==j.charAt(W);)z++,W++;if(O[L]=z,z>T)D+=2;else if(W>E)R+=2;else if(M){var V=N+A-C;if(V>=0&&V<P&&I[V]!=-1){var B=T-I[V];if(z>=B)return c(b,j,z,W)}}}for(var H=-$+q;H<=$-F;H+=2){var V=N+H,B;H==-$||H!=$&&I[V-1]<I[V+1]?B=I[V+1]:B=I[V-1]+1;for(var Z=B-H;B<T&&Z<E&&b.charAt(T-B-1)==j.charAt(E-Z-1);)B++,Z++;if(I[V]=B,B>T)F+=2;else if(Z>E)q+=2;else if(!M){var L=N+A-H;if(L>=0&&L<P&&O[L]!=-1){var z=O[L],W=N+z-L;if(B=T-B,z>=B)return c(b,j,z,W)}}}}return[[a,b],[s,j]]}function c(b,j,T,E){var S=b.substring(0,T),N=j.substring(0,E),P=b.substring(T),O=j.substring(E),I=l(S,N),k=l(P,O);return I.concat(k)}function d(b,j){if(!b||!j||b.charAt(0)!=j.charAt(0))return 0;for(var T=0,E=Math.min(b.length,j.length),S=E,N=0;T<S;)b.substring(N,S)==j.substring(N,S)?(T=S,N=T):E=S,S=Math.floor((E-T)/2+T);return S}function h(b,j){if(!b||!j||b.charAt(b.length-1)!=j.charAt(j.length-1))return 0;for(var T=0,E=Math.min(b.length,j.length),S=E,N=0;T<S;)b.substring(b.length-S,b.length-N)==j.substring(j.length-S,j.length-N)?(T=S,N=T):E=S,S=Math.floor((E-T)/2+T);return S}function m(b,j){var T=b.length>j.length?b:j,E=b.length>j.length?j:b;if(T.length<4||E.length*2<T.length)return null;function S(D,q,F){for(var $=D.substring(F,F+Math.floor(D.length/4)),C=-1,L="",z,W,V,B;(C=q.indexOf($,C+1))!=-1;){var H=d(D.substring(F),q.substring(C)),Z=h(D.substring(0,F),q.substring(0,C));L.length<Z+H&&(L=q.substring(C-Z,C)+q.substring(C,C+H),z=D.substring(0,F-Z),W=D.substring(F+H),V=q.substring(0,C-Z),B=q.substring(C+H))}return L.length*2>=D.length?[z,W,V,B,L]:null}var N=S(T,E,Math.ceil(T.length/4)),P=S(T,E,Math.ceil(T.length/2)),O;if(!N&&!P)return null;P?N?O=N[4].length>P[4].length?N:P:O=P:O=N;var I,k,A,M;b.length>j.length?(I=O[0],k=O[1],A=O[2],M=O[3]):(A=O[0],M=O[1],I=O[2],k=O[3]);var R=O[4];return[I,k,A,M,R]}function p(b){b.push([o,""]);for(var j=0,T=0,E=0,S="",N="",P;j<b.length;)switch(b[j][0]){case s:E++,N+=b[j][1],j++;break;case a:T++,S+=b[j][1],j++;break;case o:T+E>1?(T!==0&&E!==0&&(P=d(N,S),P!==0&&(j-T-E>0&&b[j-T-E-1][0]==o?b[j-T-E-1][1]+=N.substring(0,P):(b.splice(0,0,[o,N.substring(0,P)]),j++),N=N.substring(P),S=S.substring(P)),P=h(N,S),P!==0&&(b[j][1]=N.substring(N.length-P)+b[j][1],N=N.substring(0,N.length-P),S=S.substring(0,S.length-P))),T===0?b.splice(j-E,T+E,[s,N]):E===0?b.splice(j-T,T+E,[a,S]):b.splice(j-T-E,T+E,[a,S],[s,N]),j=j-T-E+(T?1:0)+(E?1:0)+1):j!==0&&b[j-1][0]==o?(b[j-1][1]+=b[j][1],b.splice(j,1)):j++,E=0,T=0,S="",N="";break}b[b.length-1][1]===""&&b.pop();var O=!1;for(j=1;j<b.length-1;)b[j-1][0]==o&&b[j+1][0]==o&&(b[j][1].substring(b[j][1].length-b[j-1][1].length)==b[j-1][1]?(b[j][1]=b[j-1][1]+b[j][1].substring(0,b[j][1].length-b[j-1][1].length),b[j+1][1]=b[j-1][1]+b[j+1][1],b.splice(j-1,1),O=!0):b[j][1].substring(0,b[j+1][1].length)==b[j+1][1]&&(b[j-1][1]+=b[j+1][1],b[j][1]=b[j][1].substring(b[j+1][1].length)+b[j+1][1],b.splice(j+1,1),O=!0)),j++;O&&p(b)}var g=l;g.INSERT=s,g.DELETE=a,g.EQUAL=o,r.exports=g;function v(b,j){if(j===0)return[o,b];for(var T=0,E=0;E<b.length;E++){var S=b[E];if(S[0]===a||S[0]===o){var N=T+S[1].length;if(j===N)return[E+1,b];if(j<N){b=b.slice();var P=j-T,O=[S[0],S[1].slice(0,P)],I=[S[0],S[1].slice(P)];return b.splice(E,1,O,I),[E+1,b]}else T=N}}throw new Error("cursor_pos is out of bounds!")}function y(b,j){var T=v(b,j),E=T[1],S=T[0],N=E[S],P=E[S+1];if(N==null)return b;if(N[0]!==o)return b;if(P!=null&&N[1]+P[1]===P[1]+N[1])return E.splice(S,2,P,N),w(E,S,2);if(P!=null&&P[1].indexOf(N[1])===0){E.splice(S,2,[P[0],N[1]],[0,N[1]]);var O=P[1].slice(N[1].length);return O.length>0&&E.splice(S+2,0,[P[0],O]),w(E,S,3)}else return b}function x(b){for(var j=!1,T=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},E=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},S=2;S<b.length;S+=1)b[S-2][0]===o&&E(b[S-2][1])&&b[S-1][0]===a&&T(b[S-1][1])&&b[S][0]===s&&T(b[S][1])&&(j=!0,b[S-1][1]=b[S-2][1].slice(-1)+b[S-1][1],b[S][1]=b[S-2][1].slice(-1)+b[S][1],b[S-2][1]=b[S-2][1].slice(0,-1));if(!j)return b;for(var N=[],S=0;S<b.length;S+=1)b[S][1].length>0&&N.push(b[S]);return N}function w(b,j,T){for(var E=j+T-1;E>=0&&E>=j-1;E--)if(E+1<b.length){var S=b[E],N=b[E+1];S[0]===N[1]&&b.splice(E,2,[S[0],S[1]+N[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(s){var o=[];for(var l in s)o.push(l);return o}},function(r,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=a?s:o,n.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var a=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function u(){this._events=new o,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)a.call(d,h)&&c.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},u.prototype.listeners=function(c,d){var h=s?s+c:c,m=this._events[h];if(d)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},u.prototype.emit=function(c,d,h,m,p,g){var v=s?s+c:c;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,m),!0;case 5:return y.fn.call(y.context,d,h,m,p),!0;case 6:return y.fn.call(y.context,d,h,m,p,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,T;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,h);break;case 4:y[b].fn.call(y[b].context,d,h,m);break;default:if(!w)for(T=1,w=new Array(x-1);T<x;T++)w[T-1]=arguments[T];y[b].fn.apply(y[b].context,w)}}return!0},u.prototype.on=function(c,d,h){var m=new l(d,h||this),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.once=function(c,d,h){var m=new l(d,h||this,!0),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.removeListener=function(c,d,h,m){var p=s?s+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==d||m&&!g[v].once||h&&g[v].context!==h)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},u.prototype.removeAllListeners=function(c){var d;return c?(d=s?s+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=s,u.EventEmitter=u,typeof r<"u"&&(r.exports=u)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(X,J){var ae=[],re=!0,le=!1,oe=void 0;try{for(var ve=X[Symbol.iterator](),pe;!(re=(pe=ve.next()).done)&&(ae.push(pe.value),!(J&&ae.length===J));re=!0);}catch(je){le=!0,oe=je}finally{try{!re&&ve.return&&ve.return()}finally{if(le)throw oe}}return ae}return function(X,J){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return G(X,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(X,J){for(var ae=0;ae<J.length;ae++){var re=J[ae];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(X,re.key,re)}}return function(X,J,ae){return J&&G(X.prototype,J),ae&&G(X,ae),X}}(),u=a(3),f=I(u),c=a(2),d=I(c),h=a(0),m=I(h),p=a(5),g=I(p),v=a(10),y=I(v),x=a(9),w=I(x),b=a(36),j=a(37),T=a(13),E=I(T),S=a(26),N=a(38),P=a(39),O=a(40);function I(G){return G&&G.__esModule?G:{default:G}}function k(G,X,J){return X in G?Object.defineProperty(G,X,{value:J,enumerable:!0,configurable:!0,writable:!0}):G[X]=J,G}function A(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}function M(G,X){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:G}function R(G,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(G,X):G.__proto__=X)}var D=(0,y.default)("quill:clipboard"),q="__ql-matcher",F=[[Node.TEXT_NODE,K],[Node.TEXT_NODE,ce],["br",ne],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,Y],["li",he],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",te]],$=[b.AlignAttribute,N.DirectionAttribute].reduce(function(G,X){return G[X.keyName]=X,G},{}),C=[b.AlignStyle,j.BackgroundStyle,S.ColorStyle,N.DirectionStyle,P.FontStyle,O.SizeStyle].reduce(function(G,X){return G[X.keyName]=X,G},{}),L=function(G){R(X,G);function X(J,ae){A(this,X);var re=M(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,J,ae));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],F.concat(re.options.matchers).forEach(function(le){var oe=o(le,2),ve=oe[0],pe=oe[1];!ae.matchVisual&&pe===ge||re.addMatcher(ve,pe)}),re}return l(X,[{key:"addMatcher",value:function(ae,re){this.matchers.push([ae,re])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[E.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new d.default().insert(le,k({},E.default.blotName,re[E.default.blotName]))}var oe=this.prepareMatching(),ve=o(oe,2),pe=ve[0],je=ve[1],be=H(this.container,pe,je);return V(be,`
`)&&be.ops[be.ops.length-1].attributes==null&&(be=be.compose(new d.default().retain(be.length()-1).delete(1))),D.log("convert",this.container.innerHTML,be),this.container.innerHTML="",be}},{key:"dangerouslyPasteHTML",value:function(ae,re){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),re),this.quill.setSelection(0,g.default.sources.SILENT);else{var oe=this.convert(re);this.quill.updateContents(new d.default().retain(ae).concat(oe),le),this.quill.setSelection(ae+oe.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var re=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),oe=new d.default().retain(le.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){oe=oe.concat(re.convert()).delete(le.length),re.quill.updateContents(oe,g.default.sources.USER),re.quill.setSelection(oe.length()-le.length,g.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=ve,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,re=[],le=[];return this.matchers.forEach(function(oe){var ve=o(oe,2),pe=ve[0],je=ve[1];switch(pe){case Node.TEXT_NODE:le.push(je);break;case Node.ELEMENT_NODE:re.push(je);break;default:[].forEach.call(ae.container.querySelectorAll(pe),function(be){be[q]=be[q]||[],be[q].push(je)});break}}),[re,le]}}]),X}(w.default);L.DEFAULTS={matchers:[],matchVisual:!0};function z(G,X,J){return(typeof X>"u"?"undefined":s(X))==="object"?Object.keys(X).reduce(function(ae,re){return z(ae,re,X[re])},G):G.reduce(function(ae,re){return re.attributes&&re.attributes[X]?ae.push(re):ae.insert(re.insert,(0,f.default)({},k({},X,J),re.attributes))},new d.default)}function W(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var X="__ql-computed-style";return G[X]||(G[X]=window.getComputedStyle(G))}function V(G,X){for(var J="",ae=G.ops.length-1;ae>=0&&J.length<X.length;--ae){var re=G.ops[ae];if(typeof re.insert!="string")break;J=re.insert+J}return J.slice(-1*X.length)===X}function B(G){if(G.childNodes.length===0)return!1;var X=W(G);return["block","list-item"].indexOf(X.display)>-1}function H(G,X,J){return G.nodeType===G.TEXT_NODE?J.reduce(function(ae,re){return re(G,ae)},new d.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ae,re){var le=H(re,X,J);return re.nodeType===G.ELEMENT_NODE&&(le=X.reduce(function(oe,ve){return ve(re,oe)},le),le=(re[q]||[]).reduce(function(oe,ve){return ve(re,oe)},le)),ae.concat(le)},new d.default):new d.default}function Z(G,X,J){return z(J,G,!0)}function U(G,X){var J=m.default.Attributor.Attribute.keys(G),ae=m.default.Attributor.Class.keys(G),re=m.default.Attributor.Style.keys(G),le={};return J.concat(ae).concat(re).forEach(function(oe){var ve=m.default.query(oe,m.default.Scope.ATTRIBUTE);ve!=null&&(le[ve.attrName]=ve.value(G),le[ve.attrName])||(ve=$[oe],ve!=null&&(ve.attrName===oe||ve.keyName===oe)&&(le[ve.attrName]=ve.value(G)||void 0),ve=C[oe],ve!=null&&(ve.attrName===oe||ve.keyName===oe)&&(ve=C[oe],le[ve.attrName]=ve.value(G)||void 0))}),Object.keys(le).length>0&&(X=z(X,le)),X}function Q(G,X){var J=m.default.query(G);if(J==null)return X;if(J.prototype instanceof m.default.Embed){var ae={},re=J.value(G);re!=null&&(ae[J.blotName]=re,X=new d.default().insert(ae,J.formats(G)))}else typeof J.formats=="function"&&(X=z(X,J.blotName,J.formats(G)));return X}function ne(G,X){return V(X,`
`)||X.insert(`
`),X}function te(){return new d.default}function he(G,X){var J=m.default.query(G);if(J==null||J.blotName!=="list-item"||!V(X,`
`))return X;for(var ae=-1,re=G.parentNode;!re.classList.contains("ql-clipboard");)(m.default.query(re)||{}).blotName==="list"&&(ae+=1),re=re.parentNode;return ae<=0?X:X.compose(new d.default().retain(X.length()-1).retain(1,{indent:ae}))}function ce(G,X){return V(X,`
`)||(B(G)||X.length()>0&&G.nextSibling&&B(G.nextSibling))&&X.insert(`
`),X}function ge(G,X){if(B(G)&&G.nextElementSibling!=null&&!V(X,`

`)){var J=G.offsetHeight+parseFloat(W(G).marginTop)+parseFloat(W(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+J*1.5&&X.insert(`
`)}return X}function Y(G,X){var J={},ae=G.style||{};return ae.fontStyle&&W(G).fontStyle==="italic"&&(J.italic=!0),ae.fontWeight&&(W(G).fontWeight.startsWith("bold")||parseInt(W(G).fontWeight)>=700)&&(J.bold=!0),Object.keys(J).length>0&&(X=z(X,J)),parseFloat(ae.textIndent||0)>0&&(X=new d.default().insert("	").concat(X)),X}function K(G,X){var J=G.data;if(G.parentNode.tagName==="O:P")return X.insert(J.trim());if(J.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return X;if(!W(G.parentNode).whiteSpace.startsWith("pre")){var ae=function(le,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&le?" ":oe};J=J.replace(/\r\n/g," ").replace(/\n/g," "),J=J.replace(/\s\s+/g,ae.bind(ae,!0)),(G.previousSibling==null&&B(G.parentNode)||G.previousSibling!=null&&B(G.previousSibling))&&(J=J.replace(/^\s+/,ae.bind(ae,!1))),(G.nextSibling==null&&B(G.parentNode)||G.nextSibling!=null&&B(G.nextSibling))&&(J=J.replace(/\s+$/,ae.bind(ae,!1)))}return X.insert(J)}n.default=L,n.matchAttributor=U,n.matchBlot=Q,n.matchNewline=ce,n.matchSpacing=ge,n.matchText=K},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(y){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(u.default);m.blotName="bold",m.tagName=["STRONG","B"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=function(){function O(I,k){var A=[],M=!0,R=!1,D=void 0;try{for(var q=I[Symbol.iterator](),F;!(M=(F=q.next()).done)&&(A.push(F.value),!(k&&A.length===k));M=!0);}catch($){R=!0,D=$}finally{try{!M&&q.return&&q.return()}finally{if(R)throw D}}return A}return function(I,k){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(I,k){for(var A=0;A<k.length;A++){var M=k[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),l=a(2),u=y(l),f=a(0),c=y(f),d=a(5),h=y(d),m=a(10),p=y(m),g=a(9),v=y(g);function y(O){return O&&O.__esModule?O:{default:O}}function x(O,I,k){return I in O?Object.defineProperty(O,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[I]=k,O}function w(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function b(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function j(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var T=(0,p.default)("quill:toolbar"),E=function(O){j(I,O);function I(k,A){w(this,I);var M=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,A));if(Array.isArray(M.options.container)){var R=document.createElement("div");N(R,M.options.container),k.container.parentNode.insertBefore(R,k.container),M.container=R}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var D;return D=T.error("Container required for toolbar",M.options),b(M,D)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(q){M.addHandler(q,M.options.handlers[q])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(q){M.attach(q)}),M.quill.on(h.default.events.EDITOR_CHANGE,function(q,F){q===h.default.events.SELECTION_CHANGE&&M.update(F)}),M.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var q=M.quill.selection.getRange(),F=s(q,1),$=F[0];M.update($)}),M}return o(I,[{key:"addHandler",value:function(A,M){this.handlers[A]=M}},{key:"attach",value:function(A){var M=this,R=[].find.call(A.classList,function(q){return q.indexOf("ql-")===0});if(R){if(R=R.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){T.warn("ignoring attaching to disabled format",R,A);return}if(c.default.query(R)==null){T.warn("ignoring attaching to nonexistent format",R,A);return}}var D=A.tagName==="SELECT"?"change":"click";A.addEventListener(D,function(q){var F=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var $=A.options[A.selectedIndex];$.hasAttribute("selected")?F=!1:F=$.value||!1}else A.classList.contains("ql-active")?F=!1:F=A.value||!A.hasAttribute("value"),q.preventDefault();M.quill.focus();var C=M.quill.selection.getRange(),L=s(C,1),z=L[0];if(M.handlers[R]!=null)M.handlers[R].call(M,F);else if(c.default.query(R).prototype instanceof c.default.Embed){if(F=prompt("Enter "+R),!F)return;M.quill.updateContents(new u.default().retain(z.index).delete(z.length).insert(x({},R,F)),h.default.sources.USER)}else M.quill.format(R,F,h.default.sources.USER);M.update(z)}),this.controls.push([R,A])}}},{key:"update",value:function(A){var M=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(R){var D=s(R,2),q=D[0],F=D[1];if(F.tagName==="SELECT"){var $=void 0;if(A==null)$=null;else if(M[q]==null)$=F.querySelector("option[selected]");else if(!Array.isArray(M[q])){var C=M[q];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),$=F.querySelector('option[value="'+C+'"]')}$==null?(F.value="",F.selectedIndex=-1):$.selected=!0}else if(A==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var L=M[q]===F.getAttribute("value")||M[q]!=null&&M[q].toString()===F.getAttribute("value")||M[q]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",L)}else F.classList.toggle("ql-active",M[q]!=null)})}}]),I}(v.default);E.DEFAULTS={};function S(O,I,k){var A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("ql-"+I),k!=null&&(A.value=k),O.appendChild(A)}function N(O,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(k){var A=document.createElement("span");A.classList.add("ql-formats"),k.forEach(function(M){if(typeof M=="string")S(A,M);else{var R=Object.keys(M)[0],D=M[R];Array.isArray(D)?P(A,R,D):S(A,R,D)}}),O.appendChild(A)})}function P(O,I,k){var A=document.createElement("select");A.classList.add("ql-"+I),k.forEach(function(M){var R=document.createElement("option");M!==!1?R.setAttribute("value",M):R.setAttribute("selected","selected"),A.appendChild(R)}),O.appendChild(A)}E.DEFAULTS={container:null,handlers:{clean:function(){var I=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(M){c.default.query(M,c.default.Scope.INLINE)!=null&&I.quill.format(M,!1)})}else this.quill.removeFormat(k,h.default.sources.USER)},direction:function(I){var k=this.quill.getFormat().align;I==="rtl"&&k==null?this.quill.format("align","right",h.default.sources.USER):!I&&k==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var k=this.quill.getSelection(),A=this.quill.getFormat(k),M=parseInt(A.indent||0);if(I==="+1"||I==="-1"){var R=I==="+1"?1:-1;A.direction==="rtl"&&(R*=-1),this.quill.format("indent",M+R,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var k=this.quill.getSelection(),A=this.quill.getFormat(k);I==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},n.default=E,n.addControls=N},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.label.innerHTML=y,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(y){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,y);return x.style.backgroundColor=y.getAttribute("value")||"",x}},{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x);var w=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=b:w.style.fill=b)}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){var d=this;o(this,u),this.quill=f,this.boundsContainer=c||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>m.right&&(g=m.right-p.right,this.root.style.left=d+g+"px"),p.left<m.left&&(g=m.left-p.left,this.root.style.left=d+g+"px"),p.bottom>m.bottom){var v=p.bottom-p.top,y=c.bottom-c.top+v;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function P(O,I){var k=[],A=!0,M=!1,R=void 0;try{for(var D=O[Symbol.iterator](),q;!(A=(q=D.next()).done)&&(k.push(q.value),!(I&&k.length===I));A=!0);}catch(F){M=!0,R=F}finally{try{!A&&D.return&&D.return()}finally{if(M)throw R}}return k}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return P(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function P(O,I,k){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,I);if(A===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:P(M,I,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},l=function(){function P(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&P(O.prototype,I),k&&P(O,k),O}}(),u=a(3),f=w(u),c=a(8),d=w(c),h=a(43),m=w(h),p=a(27),g=w(p),v=a(15),y=a(41),x=w(y);function w(P){return P&&P.__esModule?P:{default:P}}function b(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function j(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function T(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(P){T(O,P);function O(I,k){b(this,O),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=E);var A=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));return A.quill.container.classList.add("ql-snow"),A}return l(O,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),x.default),this.tooltip=new N(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,M){k.handlers.link.call(k,!M.format.link)})}}]),O}(m.default);S.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var I=this.quill.getSelection();if(I==null||I.length==0)return;var k=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var A=this.quill.theme.tooltip;A.edit("link",k)}else this.quill.format("link",!1)}}}}});var N=function(P){T(O,P);function O(I,k){b(this,O);var A=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));return A.preview=A.root.querySelector("a.ql-preview"),A}return l(O,[{key:"listen",value:function(){var k=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(k.linkRange!=null){var M=k.linkRange;k.restoreFocus(),k.quill.formatText(M,"link",!1,d.default.sources.USER),delete k.linkRange}A.preventDefault(),k.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(A,M,R){if(A!=null){if(A.length===0&&R===d.default.sources.USER){var D=k.quill.scroll.descendant(g.default,A.index),q=s(D,2),F=q[0],$=q[1];if(F!=null){k.linkRange=new v.Range(A.index-$,F.length());var C=g.default.formats(F.domNode);k.preview.textContent=C,k.preview.setAttribute("href",C),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(h.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=S},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(29),o=re(s),l=a(36),u=a(38),f=a(64),c=a(65),d=re(c),h=a(66),m=re(h),p=a(67),g=re(p),v=a(37),y=a(26),x=a(39),w=a(40),b=a(56),j=re(b),T=a(68),E=re(T),S=a(27),N=re(S),P=a(69),O=re(P),I=a(70),k=re(I),A=a(71),M=re(A),R=a(72),D=re(R),q=a(73),F=re(q),$=a(13),C=re($),L=a(74),z=re(L),W=a(75),V=re(W),B=a(57),H=re(B),Z=a(41),U=re(Z),Q=a(28),ne=re(Q),te=a(59),he=re(te),ce=a(60),ge=re(ce),Y=a(61),K=re(Y),G=a(108),X=re(G),J=a(62),ae=re(J);function re(le){return le&&le.__esModule?le:{default:le}}o.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":C.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":j.default,"formats/code":$.Code,"formats/italic":E.default,"formats/link":N.default,"formats/script":O.default,"formats/strike":k.default,"formats/underline":M.default,"formats/image":D.default,"formats/video":F.default,"formats/list/item":p.ListItem,"modules/formula":z.default,"modules/syntax":V.default,"modules/toolbar":H.default,"themes/bubble":X.default,"themes/snow":ae.default,"ui/icons":U.default,"ui/picker":ne.default,"ui/icon-picker":ge.default,"ui/color-picker":he.default,"ui/tooltip":K.default},!0),n.default=o.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(0),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var b=this.value(x)||0;w=w==="+1"?b+1:b-1}return w===0?(this.remove(x),!0):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,w)||o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,x))||void 0}}]),v}(u.default.Attributor.Class),p=new m("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function m(p,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,v){return g&&m(p.prototype,g),v&&m(p,v),p}}(),o=a(4),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){d(p,m);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),p}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=function(){function b(j,T){for(var E=0;E<T.length;E++){var S=T[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,T,E){return T&&b(j.prototype,T),E&&b(j,E),j}}(),o=function b(j,T,E){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,T);if(S===void 0){var N=Object.getPrototypeOf(j);return N===null?void 0:b(N,T,E)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(E)}},l=a(0),u=m(l),f=a(4),c=m(f),d=a(25),h=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,j,T){return j in b?Object.defineProperty(b,j,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[j]=T,b}function g(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")}function v(b,j){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:b}function y(b,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);b.prototype=Object.create(j&&j.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(b,j):b.__proto__=j)}var x=function(b){y(j,b);function j(){return g(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return s(j,[{key:"format",value:function(E,S){E===w.blotName&&!S?this.replaceWith(u.default.create(this.statics.scope)):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,E,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,S){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,S),this):(this.parent.unwrap(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,E,S))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:o(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,E)}}]),j}(c.default);x.blotName="list-item",x.tagName="LI";var w=function(b){y(j,b),s(j,null,[{key:"create",value:function(E){var S=E==="ordered"?"OL":"UL",N=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,S);return(E==="checked"||E==="unchecked")&&N.setAttribute("data-checked",E==="checked"),N}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(T){g(this,j);var E=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,T)),S=function(P){if(P.target.parentNode===T){var O=E.statics.formats(T),I=u.default.find(P.target);O==="checked"?I.format("list","unchecked"):O==="unchecked"&&I.format("list","checked")}};return T.addEventListener("touchstart",S),T.addEventListener("mousedown",S),E}return s(j,[{key:"format",value:function(E,S){this.children.length>0&&this.children.tail.format(E,S)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,S){if(E instanceof x)o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,E,S);else{var N=S==null?this.length():S.offset(this),P=this.split(N);P.parent.insertBefore(E,P)}}},{key:"optimize",value:function(E){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,E);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var S=u.default.create(this.statics.defaultChild);E.moveChildren(S),this.appendChild(S)}o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,E)}}]),j}(h.default);w.blotName="list",w.scope=u.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],n.ListItem=x,n.default=w},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(56),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),g}(u.default);m.blotName="script",m.tagName=["SUB","SUP"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(0),u=c(l),f=a(27);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["alt","height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,f.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(u.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(4),u=a(27),f=c(u);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"sanitize",value:function(w){return f.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=function(){function w(b,j){for(var T=0;T<j.length;T++){var E=j[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,j,T){return j&&w(b.prototype,j),T&&w(b,T),b}}(),o=function w(b,j,T){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,j);if(E===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,j,T)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(T)}},l=a(35),u=m(l),f=a(5),c=m(f),d=a(9),h=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function g(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function v(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){v(b,w);function b(){return p(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,null,[{key:"create",value:function(T){var E=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",T)),E}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),b}(u.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var x=function(w){v(b,w),s(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){p(this,b);var j=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return b}(h.default);n.FormulaBlot=y,n.default=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=function(){function T(E,S){for(var N=0;N<S.length;N++){var P=S[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,S,N){return S&&T(E.prototype,S),N&&T(E,N),E}}(),o=function T(E,S,N){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,S);if(P===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,S,N)}else{if("value"in P)return P.value;var I=P.get;return I===void 0?void 0:I.call(N)}},l=a(0),u=g(l),f=a(5),c=g(f),d=a(9),h=g(d),m=a(13),p=g(m);function g(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function y(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function x(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var w=function(T){x(E,T);function E(){return v(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),E}(p.default);w.className="ql-syntax";var b=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),j=function(T){x(E,T),s(E,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(w,!0)}}]);function E(S,N){v(this,E);var P=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,N));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){P.highlight(),O=null},P.options.interval)}),P.highlight(),P}return s(E,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(O){O.highlight(N.options.highlight)}),this.quill.update(c.default.sources.SILENT),P!=null&&this.quill.setSelection(P,c.default.sources.SILENT)}}}]),E}(h.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var E=window.hljs.highlightAuto(T);return E.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=b,n.default=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function E(S,N,P){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,N);if(O===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:E(I,N,P)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(P)}},o=function(){function E(S,N){for(var P=0;P<N.length;P++){var O=N[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,N,P){return N&&E(S.prototype,N),P&&E(S,P),S}}(),l=a(3),u=v(l),f=a(8),c=v(f),d=a(43),h=v(d),m=a(15),p=a(41),g=v(p);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function x(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(E){w(S,E);function S(N,P){y(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=b);var O=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,P));return O.quill.container.classList.add("ql-bubble"),O}return o(S,[{key:"extendToolbar",value:function(P){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default)}}]),S}(h.default);j.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(E){w(S,E);function S(N,P){y(this,S);var O=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,P));return O.quill.on(c.default.events.EDITOR_CHANGE,function(I,k,A,M){if(I===c.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&M===c.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var R=O.quill.getLines(k.index,k.length);if(R.length===1)O.position(O.quill.getBounds(k));else{var D=R[R.length-1],q=O.quill.getIndex(D),F=Math.min(D.length()-1,k.index+k.length-q),$=O.quill.getBounds(new m.Range(q,F));O.position($)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(S,[{key:"listen",value:function(){var P=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var O=P.quill.getSelection();O!=null&&P.position(P.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var O=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,P),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",O===0)return O;I.style.marginLeft=-1*O-I.offsetWidth/2+"px"}}]),S}(d.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=T,n.default=j},function(r,n,a){r.exports=a(63)}]).default})})(Ry);var xI=Ry.exports,bI=Rt&&Rt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gs=Rt&&Rt.__assign||function(){return Gs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Gs.apply(this,arguments)},wI=Rt&&Rt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],o=0,l=s.length;o<l;o++,a++)n[a]=s[o];return n},el=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dr=el(_),jI=el(wd),$a=el(yI),Cm=el(xI),_I=function(e){bI(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(s,o,l,u){var f,c,d,h;s==="text-change"?(c=(f=n).onEditorChangeText)===null||c===void 0||c.call(f,n.editor.root.innerHTML,o,u,n.unprivilegedEditor):s==="selection-change"&&((h=(d=n).onEditorChangeSelection)===null||h===void 0||h.call(d,o,u,n.unprivilegedEditor))};var a=n.isControlled()?r.value:r.defaultValue;return n.value=a??"",n}return t.prototype.validateProps=function(r){var n;if(dr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(dr.default.Children.count(r.children)){var a=dr.default.Children.only(r.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var a=this,s;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(s=r.value,s??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),wI(this.cleanProps,this.dirtyProps).some(function(u){return!$a.default(r[u],a.props[u])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(a){return!$a.default(r[a],n.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(r)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,s=l.delta,u=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(s),Dm(function(){return a.setEditorSelection(f,u)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var a=new Cm.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?$a.default(r.ops,n.ops):$a.default(r,n)},t.prototype.setEditorContents=function(r,n){var a=this;this.value=n;var s=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Dm(function(){return a.setEditorSelection(r,s)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var a=r.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var a,s;!((s=(a=r)===null||a===void 0?void 0:a.scroll)===null||s===void 0)&&s.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=jI.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,a=n.children,s=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(u){r.editingArea=u}};return dr.default.Children.count(a)?dr.default.cloneElement(dr.default.Children.only(a),l):s?dr.default.createElement("pre",Gs({},l)):dr.default.createElement("div",Gs({},l))},t.prototype.render=function(){var r;return dr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,a,s){var o,l;if(this.editor){var u=this.isDelta(this.value)?s.getContents():s.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=u,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,a,s))}},t.prototype.onEditorChangeSelection=function(r,n,a){var s,o,l,u,f,c;if(this.editor){var d=this.getEditorSelection(),h=!d&&r,m=d&&!r;$a.default(r,d)||(this.selection=r,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,r,n,a),h?(u=(l=this.props).onFocus)===null||u===void 0||u.call(l,r,n,a):m&&((c=(f=this.props).onBlur)===null||c===void 0||c.call(f,d,n,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Cm.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(dr.default.Component);function Dm(e){Promise.resolve().then(e)}var NI=_I;const Ly=Br(NI),EI=e=>{switch(e){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},OI="rgb(89, 86, 157)",zt=OI,fr="rgb(242, 82, 146)",Yi=()=>{const{user:e}=Fe(),t=EI(e==null?void 0:e.role),[r,n]=_.useState([]),[a,s]=_.useState(!0),[o,l]=_.useState("grid"),[u,f]=_.useState(""),[c,d]=_.useState("all"),[h,m]=_.useState("deadline"),[p,g]=_.useState(!1),[v,y]=_.useState(null),[x,w]=_.useState({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),[b,j]=_.useState({}),[T,E]=_.useState(!1),[S,N]=_.useState({project_managers:[],developers:[],clients:[]}),[P,O]=_.useState({}),I=_.useRef(null);_.useEffect(()=>{k(),A()},[]);const k=async()=>{try{const Y=await se.get("/projects");let K=Y.data.data||Y.data;Array.isArray(K)||(K=Array.isArray(K.data)?K.data:[]),console.log("=== FULL API RESPONSE ===",Y.data);const G=K.map(J=>{const ae=Array.isArray(J.tasks)?J.tasks:[],re=ae.length>0?ae.length:J.tasks_count||0,le=ae.length>0?ae.filter(ve=>["completed","done","resolved"].includes(String(ve.status||"").toLowerCase())).length:J.completed_tasks_count||0,oe=re>0?Math.round(le/re*100):0;return console.log(`Project: "${J.name||J.title}"`,{tasks_count:J.tasks_count,completed_tasks_count:J.completed_tasks_count,totalTasks:re,completedTasks:le,calculatedProgress:oe,hasProgressField:"progress"in J,apiProgress:J.progress}),{...J,progress:oe,total_tasks:re,completed_tasks:le}}),X=J=>{var re,le;const ae=e==null?void 0:e.role;return!ae||ae==="admin"?!0:ae==="client"?J.client_id===(e==null?void 0:e.id)||((re=J.client)==null?void 0:re.id)===(e==null?void 0:e.id):ae==="project_manager"?J.project_manager_id===(e==null?void 0:e.id)||((le=J.project_manager)==null?void 0:le.id)===(e==null?void 0:e.id):ae==="developer"?(Array.isArray(J.members)?J.members:[]).some(ve=>ve.user_id===(e==null?void 0:e.id)||ve.id===(e==null?void 0:e.id)):!0};n(G.filter(X))}catch(Y){console.error("Failed to fetch projects:",Y)}finally{s(!1)}},A=async()=>{try{const Y=await se.get("/projects/users-for-assignment");N(Y.data)}catch(Y){console.error("Failed to fetch users for assignment:",Y)}},M=()=>{y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),O({}),g(!0)},R=async Y=>{var K;try{const X=(await se.get(`/projects/${Y.id}`)).data;y(X),w({title:X.title||X.name,description:X.description||"",status:X.status,project_manager_id:X.project_manager_id||"",client_id:X.client_id||"",developer_ids:((K=X.members)==null?void 0:K.map(J=>J.user_id))||[],deadline:X.deadline||"",attachments:[],existingAttachments:X.attachments||[]}),j({}),O({}),g(!0)}catch(G){console.error("Error fetching project details:",G),alert("Failed to load project details")}},D=()=>{g(!1),y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),O({})},q=()=>{const Y={};return x.title.trim()||(Y.title="Project title is required"),j(Y),Object.keys(Y).length===0},F=Y=>{Array.from(Y.target.files).forEach(G=>{if(G.size>10*1024*1024){alert(`File ${G.name} is too large. Maximum size is 10MB.`);return}const X={id:Date.now()+Math.random(),file:G,name:G.name,size:G.size,type:G.type,uploaded:!1,progress:0};w(J=>({...J,attachments:[...J.attachments,X]}))}),I.current&&(I.current.value="")},$=Y=>{w(K=>({...K,attachments:K.attachments.filter(G=>G.id!==Y)}))},C=Y=>Y.startsWith("image/")?i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"})}):Y.includes("pdf")?i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}):i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),L=Y=>{if(Y===0)return"0 Bytes";const K=1024,G=["Bytes","KB","MB"],X=Math.floor(Math.log(Y)/Math.log(K));return Math.round(Y/Math.pow(K,X)*100)/100+" "+G[X]},z=(Y="")=>Y.split(" ").filter(Boolean).slice(0,2).map(K=>{var G;return((G=K[0])==null?void 0:G.toUpperCase())||""}).join(""),W=[{label:"All Projects",value:"all"},{label:"Current",value:"current"},{label:"Pending",value:"pending"},{label:"Completed",value:"completed"},{label:"Failed",value:"failed"}],V=(Y,K)=>{const G=Y.status;return K==="all"?!0:K==="current"?["in_progress"].includes(G):K==="pending"?["planning","review","on_hold"].includes(G):K==="completed"?G==="completed":K==="failed"?["cancelled","failed"].includes(G):G===K},B=Y=>r.filter(K=>V(K,Y)).length,H=Y=>{switch(Y){case"completed":return"bg-emerald-50 text-emerald-700 border border-emerald-200";case"in_progress":return"bg-blue-50 text-blue-700 border border-blue-200";case"planning":case"review":return"bg-amber-50 text-amber-700 border border-amber-200";case"on_hold":return"bg-gray-50 text-gray-700 border border-gray-200";case"cancelled":case"failed":return"bg-rose-50 text-rose-700 border border-rose-200";default:return"bg-purple-50 text-purple-700 border border-purple-200"}},Z=async Y=>{var K,G;if(Y.preventDefault(),!!q()){E(!0);try{let X={...x};delete X.attachments;let J;v?J=await se.put(`/projects/${v.id}`,X):J=await se.post("/projects",X);const ae=((K=J.data.data)==null?void 0:K.id)||J.data.id;if(x.attachments&&x.attachments.length>0){console.log("Starting file uploads, count:",x.attachments.length);for(const re of x.attachments)if(console.log("Processing attachment:",re.name,"Has file:",!!re.file),re.file&&!re.uploaded){const le=new FormData;le.append("file",re.file),le.append("project_id",ae),le.append("file_name",re.name),console.log("Uploading file:",re.name,"to project:",ae);try{const oe=await se.post("/projects/upload-attachment",le,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ve=>{const pe=Math.round(ve.loaded*100/ve.total);O(je=>({...je,[re.id]:pe}))}});console.log("File uploaded successfully:",oe.data)}catch(oe){console.error(`Failed to upload ${re.name}:`,oe),console.error("Error response:",(G=oe.response)==null?void 0:G.data),alert(`Failed to upload file: ${re.name}`)}}}else console.log("No attachments to upload");await k(),D()}catch(X){console.error("Failed to save project:",X),j({submit:"Failed to save project. Please try again."})}finally{E(!1)}}},[U,Q]=_.useState({show:!1,projectId:null,projectTitle:""}),ne=Y=>{Q({show:!0,projectId:Y.id,projectTitle:Y.title||Y.name})},te=()=>{Q({show:!1,projectId:null,projectTitle:""})},he=async()=>{try{await se.delete(`/projects/${U.projectId}`),await k(),te()}catch(Y){console.error("Failed to delete project:",Y),alert("Failed to delete project. Please try again.")}},ce=r.filter(Y=>{const K=(Y.name||"").toLowerCase().includes(u.toLowerCase())||(Y.description||"").toLowerCase().includes(u.toLowerCase()),G=V(Y,c);return K&&G}),ge=[...ce].sort((Y,K)=>{if(h==="progress")return(K.progress||0)-(Y.progress||0);if(h==="deadline"){const G=Y.deadline?new Date(Y.deadline).getTime():Number.MAX_SAFE_INTEGER,X=K.deadline?new Date(K.deadline).getTime():Number.MAX_SAFE_INTEGER;return G-X}return h==="name"?(Y.name||Y.title||"").localeCompare(K.name||K.title||""):0});return a?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-4",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("div",{children:i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Projects"})}),i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between bg-white border border-gray-100 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:zt},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:ce.length})]})]}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsxs("button",{onClick:M,className:"px-4 py-2 rounded-lg font-medium text-white transition-all flex items-center gap-2 text-sm",style:{background:fr},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-100",children:[i.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:W.map(Y=>i.jsxs("button",{onClick:()=>d(Y.value),className:`px-3 py-1.5 rounded-lg border transition-all text-xs font-medium flex items-center gap-1.5 ${c===Y.value?"text-white border-transparent":"bg-white text-gray-600 border-gray-100 hover:border-gray-200"}`,style:c===Y.value?{background:zt,borderColor:zt}:{},children:[i.jsx("span",{children:Y.label}),i.jsx("span",{className:`text-xs px-1 py-0 rounded-sm font-medium ${c===Y.value?"bg-white/30":"bg-gray-100 text-gray-600"}`,children:B(Y.value)})]},Y.value))}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-stretch md:items-center",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:Y=>f(Y.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-100 rounded-lg focus:outline-none focus:border-gray-300 hover:border-gray-200 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsxs("select",{value:h,onChange:Y=>m(Y.target.value),className:"px-2.5 py-1.5 border border-gray-100 rounded-lg focus:outline-none focus:border-gray-300 hover:border-gray-200 transition-colors text-xs bg-white",style:{minWidth:"120px"},children:[i.jsx("option",{value:"deadline",children:"Deadline"}),i.jsx("option",{value:"progress",children:"Progress"}),i.jsx("option",{value:"name",children:"Name"})]}),i.jsxs("div",{className:"flex gap-0.5 bg-gray-100 rounded-lg p-0.5",children:[i.jsx("button",{onClick:()=>l("grid"),className:`p-1.5 rounded-md transition-colors ${o==="grid"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="grid"?{background:fr}:{},title:"Grid view",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>l("table"),className:`p-1.5 rounded-md transition-colors ${o==="table"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="table"?{background:fr}:{},title:"Table view",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]})]}),ce.length>0?i.jsxs(i.Fragment,{children:[o==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ge.map((Y,K)=>{var le;const G=Y.deadline?Math.ceil((new Date(Y.deadline)-new Date)/864e5):null,X=Y.deadline&&new Date(Y.deadline)<new Date,J=[];Y.project_manager&&J.push({name:Y.project_manager.name,id:Y.project_manager.id,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}),Y.client&&J.push({name:Y.client.name,id:Y.client.id,role:"client",roleLabel:"Client",from:"#059669",to:"#10b981"}),Y.members&&Y.members.length>0&&Y.members.slice(0,2).forEach(oe=>{J.push({name:oe.name||oe.full_name||oe.username||"Dev",id:oe.user_id||oe.id,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})});const ae=Math.max(0,(((le=Y.members)==null?void 0:le.length)||0)-2),re=J.length+(ae>0?ae:0);return i.jsxs("div",{onClick:()=>window.location.href=`${t}/projects/${Y.id}`,className:"bg-white border border-gray-150 rounded-lg p-3 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{background:zt},children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide\\",children:"Project"}),i.jsxs("h3",{className:"font-semibold text-gray-900 text-sm group-hover:opacity-80 transition-opacity\\",children:["\\n                            ",Y.name||Y.title]})]})]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${H(Y.status)}`,children:Y.status.replace("_"," ").toUpperCase()})]}),Y.description&&i.jsx("div",{className:"text-xs text-gray-600 mb-2 line-clamp-2",dangerouslySetInnerHTML:{__html:Y.description}}),Y.progress!==void 0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold",style:{color:zt},children:[Y.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${Y.progress||0}%`,background:fr}})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex -space-x-2",children:[J.map((oe,ve)=>i.jsx("a",{href:`${t}/users/${oe.role}/${oe.id}`,onClick:pe=>pe.stopPropagation(),title:`${oe.name} - ${oe.roleLabel}`,className:"w-8 h-8 rounded-full bg-gradient-to-br text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer",style:{backgroundImage:`linear-gradient(135deg, ${oe.from}, ${oe.to})`},children:z(oe.name)},`${oe.name}-${ve}`)),ae>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white",children:["+",ae]})]}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Team ",re]})]}),Y.deadline&&i.jsx("div",{className:`px-2 py-1 rounded-lg border text-xs font-medium ${X?"bg-rose-50 text-rose-700 border-rose-200":G<=3?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-xs",children:X?"Overdue":G<=3?"Due soon":"Deadline"})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[i.jsxs("a",{href:`${t}/projects/${Y.id}/tasks`,onClick:oe=>oe.stopPropagation(),className:"px-3 py-1 rounded-lg font-medium text-white transition-all flex items-center gap-1 text-xs",style:{background:zt},children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM15 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2h-2zM5 13a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM13 11a1 1 0 10-2 0v3.586L9.707 13.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L13 14.586V11z"})}),"Tasks"]}),i.jsxs("div",{className:"flex items-center gap-1",onClick:oe=>oe.preventDefault(),children:[i.jsx("button",{onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),R(Y)},className:"p-1 rounded-md transition-colors border",style:{color:zt,borderColor:zt},title:"Edit",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),ne(Y)},className:"p-1 rounded-md transition-colors border",style:{color:fr,borderColor:fr},title:"Delete",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},Y.id)})}),o==="table"&&i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"All Projects"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Project"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Team"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Deadline"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",style:{borderColor:"#e5e7eb"},children:ge.map((Y,K)=>{const G=Y.deadline?Math.ceil((new Date(Y.deadline)-new Date)/864e5):null,X=Y.deadline&&new Date(Y.deadline)<new Date;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",onClick:()=>window.location.href=`${t}/projects/${Y.id}`,style:{cursor:"pointer"},children:[i.jsx("td",{className:"py-3 px-4 border-l-2",style:{borderLeftColor:zt},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{background:zt},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsx("div",{children:i.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-purple-600 transition-colors",children:Y.name||Y.title})})]})}),i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"space-y-1.5 text-sm text-gray-600",children:[Y.project_manager&&i.jsxs("a",{href:`${t}/users/project-manager/${Y.project_manager.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0z"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"PM:"}),i.jsx("span",{className:"ml-1 font-bold text-purple-700 text-sm group-hover:text-purple-900 group-hover:underline",children:Y.project_manager.name})]})]}),Y.client&&i.jsxs("a",{href:`${t}/users/client/${Y.client.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Client:"}),i.jsx("span",{className:"ml-1 font-bold text-blue-700 text-sm group-hover:text-blue-900 group-hover:underline",children:Y.client.name})]})]}),Y.members&&Y.members.length>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-medium",children:"Devs:"}),i.jsx("span",{children:Y.members.length})]})]})}),i.jsx("td",{className:"py-3 px-4 text-center",children:Y.progress!==void 0?i.jsx("div",{className:"flex flex-col items-center gap-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${Y.progress||0}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[Y.progress,"%"]})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:Y.deadline?i.jsx("div",{className:`inline-block px-3 py-1.5 rounded-full text-xs font-semibold border ${X?"bg-red-50 text-red-700 border-red-300":G<=3?"bg-yellow-50 text-yellow-700 border-yellow-300":"bg-blue-50 text-blue-700 border-blue-300"}`,children:i.jsxs("div",{className:"flex items-center gap-1",children:[X&&"",G<=3&&!X&&"",G>3&&"",i.jsx("span",{children:new Date(Y.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"No deadline"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${Y.status==="completed"?"bg-green-100 text-green-700 border border-green-300":Y.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":Y.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":Y.status==="on_hold"?"bg-gray-100 text-gray-700 border border-gray-300":"bg-purple-100 text-purple-700 border border-purple-300"}`,children:Y.status.replace("_"," ").toUpperCase()})}),i.jsx("td",{className:"py-3 px-4",onClick:J=>J.stopPropagation(),children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:J=>{J.stopPropagation(),R(Y)},className:"p-1.5 rounded-lg transition-colors",style:{color:zt},title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:J=>{J.stopPropagation(),ne(Y)},className:"p-1.5 rounded-lg transition-colors",style:{color:fr},title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Y.id)})})]})})]})]}):i.jsxs("div",{className:"bg-white rounded-xl p-16 text-center shadow-sm border border-gray-100",children:[i.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-gray-500 mb-6",children:u||c!=="all"?"Try adjusting your filters":"Get started by creating your first project"}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsx("button",{onClick:M,className:"px-6 py-3 rounded-xl font-medium text-white shadow-md hover:shadow-lg transition-all",style:{background:fr},children:"+ Create Project"})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"px-8 py-6 border-b border-gray-200 flex-shrink-0",style:{background:zt},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-white",children:v?"Edit Project":"Create New Project"}),i.jsx("button",{onClick:D,className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-8 py-6",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                  .flex-1::-webkit-scrollbar {
                    width: 6px;
                  }
                  .flex-1::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb:hover {
                    background: #555;
                  }
                  .ql-container {
                    min-height: 180px;
                  }
                  .ql-editor {
                    min-height: 180px;
                  }
                `}),i.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:x.title,onChange:Y=>w({...x,title:Y.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base ${b.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter project title"}),b.title&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),i.jsx(Ly,{value:x.description,onChange:Y=>w({...x,description:Y}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},placeholder:"Enter project description",theme:"snow"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Manager"}),i.jsxs("select",{value:x.project_manager_id,onChange:Y=>w({...x,project_manager_id:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Project Manager --"}),S.project_managers.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client"}),i.jsxs("select",{value:x.client_id,onChange:Y=>w({...x,client_id:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Client --"}),S.clients.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Developers"}),x.developer_ids.length>0&&i.jsxs("div",{className:"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-purple-900",children:[x.developer_ids.length," Developer",x.developer_ids.length>1?"s":""," Selected"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:x.developer_ids.map(Y=>{const K=S.developers.find(G=>G.id===Y);return K?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border border-purple-300 rounded-lg text-sm text-gray-700",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),K.name,i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:x.developer_ids.filter(G=>G!==Y)}),className:"ml-1 text-gray-400 hover:text-red-600 transition-colors",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y):null})})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:i.jsxs("div",{className:"max-h-64 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                          .max-h-64::-webkit-scrollbar {
                            width: 6px;
                          }
                          .max-h-64::-webkit-scrollbar-track {
                            background: #f1f1f1;
                          }
                          .max-h-64::-webkit-scrollbar-thumb {
                            background: #888;
                            border-radius: 10px;
                          }
                        `}),S.developers.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:S.developers.map(Y=>{const K=x.developer_ids.includes(Y.id);return i.jsxs("label",{className:`flex items-center gap-3 cursor-pointer px-4 py-3 hover:bg-purple-50 transition-colors ${K?"bg-purple-50":""}`,children:[i.jsx("input",{type:"checkbox",checked:K,onChange:G=>{G.target.checked?w({...x,developer_ids:[...x.developer_ids,Y.id]}):w({...x,developer_ids:x.developer_ids.filter(X=>X!==Y.id)})},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-sm font-medium ${K?"text-purple-900":"text-gray-700"}`,children:Y.name}),K&&i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("span",{className:"text-xs text-gray-500",children:Y.email})]})]},Y.id)})}):i.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No developers available"})]})}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:S.developers.map(Y=>Y.id)}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Select All"}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Deselect All"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Attachments"}),i.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-all",onClick:()=>{var Y;return(Y=I.current)==null?void 0:Y.click()},children:[i.jsx("input",{ref:I,type:"file",multiple:!0,onChange:F,className:"hidden",accept:"*/*"}),i.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF or any file up to 10MB"})]}),x.existingAttachments&&x.existingAttachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[" ",x.existingAttachments.length," Existing File",x.existingAttachments.length>1?"s":""]})}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-blue-50 p-3 rounded-lg border border-blue-200",children:x.existingAttachments.map(Y=>i.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-3 flex items-center gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:C(Y.file_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:Y.file_name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(Y.file_size)}),i.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Uploaded"})]}),i.jsx("a",{href:`/storage/${Y.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1.5 text-blue-600 hover:text-blue-800 transition-colors",title:"Download file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]},Y.id))})]}),x.attachments&&x.attachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[" ",x.attachments.length," New File",x.attachments.length>1?"s":""," to Upload"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,attachments:[]}),className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Remove All"})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:x.attachments.map(Y=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center gap-3 hover:shadow-sm transition-shadow",children:[i.jsx("div",{className:"flex-shrink-0",children:C(Y.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:Y.name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(Y.size)}),P[Y.id]&&P[Y.id]<100&&i.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"bg-purple-500 h-full transition-all",style:{width:`${P[Y.id]}%`}})})]}),i.jsx("button",{type:"button",onClick:()=>$(Y.id),className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-red-600 transition-colors",title:"Remove file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deadline"}),i.jsxs("div",{className:"relative group",children:[i.jsx("style",{children:`
                          input[type="date"]::-webkit-calendar-picker-indicator {
                            opacity: 0;
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            cursor: pointer;
                          }
                          input[type="date"] {
                            appearance: none;
                            -webkit-appearance: none;
                          }
                        `}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:x.deadline,onChange:Y=>w({...x,deadline:Y.target.value}),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-base transition-all hover:border-purple-400 group-hover:shadow-md",style:{cursor:"pointer"},placeholder:"Select deadline date"}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]})]}),x.deadline&&i.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-medium text-purple-900",children:"Selected Deadline"}),i.jsx("p",{className:"text-sm font-semibold text-purple-700",children:new Date(x.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsx("button",{type:"button",onClick:()=>w({...x,deadline:""}),className:"p-1.5 hover:bg-white rounded-lg transition-colors",title:"Clear deadline",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:x.status,onChange:Y=>w({...x,status:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"planning",children:"Planning"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"review",children:"Review"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"on_hold",children:"On Hold"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),b.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.submit})]})]}),i.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:D,className:"px-8 py-3 border-2 border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-100 transition-colors text-base",disabled:T,children:"Cancel"}),i.jsx("button",{onClick:Z,className:"px-8 py-3 rounded-xl font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base",style:{background:fr},disabled:T,children:T?"Saving...":v?"Update Project":"Create Project"})]})})]})}),U.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-scale-in",children:[i.jsx("div",{className:"px-6 py-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"Delete Project"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]})}),i.jsxs("div",{className:"px-6 py-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"You are about to delete:"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"font-semibold text-gray-900",children:U.projectTitle})}),i.jsx("p",{className:"text-xs text-gray-500",children:"All associated data including tasks, members, and files will be permanently deleted."})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3 border-t border-gray-200",children:[i.jsx("button",{onClick:te,className:"px-5 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:he,className:"px-5 py-2.5 rounded-lg font-medium text-white transition-colors",style:{background:fr},children:"Delete Project"})]})]})}),i.jsx("style",{children:`
          @keyframes scale-in {
            from {
              opacity: 0;
              transform: scale(0.9);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          .animate-scale-in {
            animation: scale-in 0.2s ease-out;
          }
        `})]})},Fa="rgb(89, 86, 157)",Xi=()=>{var O,I;const{projectId:e}=wi(),t=wr(),{user:r}=Fe(),[n,a]=_.useState(null),[s,o]=_.useState([]),[l,u]=_.useState(!0),[f,c]=_.useState(null),[d,h]=_.useState({total:0,completed:0,inProgress:0,pending:0,onHold:0});_.useEffect(()=>{m(),g(),p()},[e]);const m=async()=>{try{const k=await se.get(`/projects/${e}`);a(k.data.data||k.data)}catch(k){console.error("Failed to fetch project:",k)}},p=async()=>{try{const k=await se.get(`/projects/${e}/analytics`);c(k.data)}catch{c({todaysPendingTasks:0,overdueTasks:0,clientProjectCount:1,userPendingTaskRatio:0})}},g=async()=>{try{const k=await se.get(`/projects/${e}/tasks`),A=k.data.data||k.data||[];o(A);const M={total:A.length,completed:A.filter(R=>R.status==="completed").length,inProgress:A.filter(R=>R.status==="in_progress").length,pending:A.filter(R=>R.status==="pending").length,onHold:A.filter(R=>R.status==="on_hold").length};h(M)}catch(k){console.error("Failed to fetch tasks:",k)}finally{u(!1)}},v=()=>d.total===0?0:Math.round(d.completed/d.total*100),y=k=>k?new Date(k)<new Date:!1,x=k=>k?Math.ceil((new Date(k)-new Date)/(1e3*60*60*24)):null,w=(k,A)=>{const M=b();t(`${M}/chat?user=${k}&name=${encodeURIComponent(A)}`)},b=()=>{switch(r==null?void 0:r.role){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},j=k=>({completed:"bg-green-50 text-green-800 border-green-200",in_progress:"bg-blue-50 text-blue-800 border-blue-200",pending:"bg-yellow-50 text-yellow-800 border-yellow-200",on_hold:"bg-orange-50 text-orange-800 border-orange-200",planning:"bg-gray-50 text-gray-800 border-gray-200"})[k]||"bg-gray-50 text-gray-800 border-gray-200";if(l)return i.jsx(Je,{});if(!n)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Project not found"}),i.jsx("button",{onClick:()=>t(`${b()}/projects`),className:"mt-4 px-4 py-2 text-white rounded-lg",style:{background:"rgb(155 2 50 / 76%)"},children:"Back to Projects"})]});const T=v(),E=x(n==null?void 0:n.deadline),S=y(n==null?void 0:n.deadline),N=b(),P=s.filter(k=>{if(k.status==="completed"||!k.due_date)return!1;const A=new Date(k.due_date),M=new Date;return A.toDateString()===M.toDateString()}).length;return i.jsxs("div",{className:"space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[(n==null?void 0:n.deadline)&&i.jsx("div",{className:`rounded-[12px] p-5 border-l-4 ${S?"bg-red-50 border-red-500":E<=3?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${S?"bg-red-100":E<=3?"bg-yellow-100":"bg-blue-100"}`,children:i.jsx("svg",{className:`w-6 h-6 ${S?"text-red-600":E<=3?"text-yellow-600":"text-blue-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-semibold ${S?"text-red-800":E<=3?"text-yellow-800":"text-blue-800"}`,children:S?" Deadline Overdue!":E<=3?" Deadline Approaching!":" Upcoming Deadline"}),i.jsxs("p",{className:`text-sm ${S?"text-red-700":E<=3?"text-yellow-700":"text-blue-700"}`,children:["Deadline: ",new Date(n.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!S&&` (${E} ${E===1?"day":"days"} remaining)`,S&&` (${Math.abs(E)} ${Math.abs(E)===1?"day":"days"} overdue)`]})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(zs,{to:`${N}/projects`,className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n.name||n.title}),n.description&&i.jsx("div",{className:"text-gray-600 mt-2",style:{fontSize:"14px",lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:n.description}})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-sm font-semibold border border-gray-200",style:{color:Fa,background:"#f5f3ff"},children:n.status.replace("_"," ")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.project_manager&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${N}/users/project-manager/${n.project_manager.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Project Manager"})]}),i.jsx("p",{className:"text-lg font-extrabold text-purple-700 mb-1 group-hover:text-purple-900 group-hover:underline",children:n.project_manager.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.project_manager.email})]}),i.jsxs("button",{onClick:k=>{k.preventDefault(),w(n.project_manager.id,n.project_manager.name)},className:"mt-2 px-3 py-1 bg-purple-100 hover:bg-purple-200 rounded text-xs text-purple-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.client&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${N}/users/client/${n.client.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Client"})]}),i.jsx("p",{className:"text-lg font-extrabold text-blue-700 mb-1 group-hover:text-blue-900 group-hover:underline",children:n.client.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.client.email})]}),i.jsxs("button",{onClick:k=>{k.preventDefault(),w(n.client.id,n.client.name)},className:"mt-2 px-3 py-1 bg-blue-100 hover:bg-blue-200 rounded text-xs text-blue-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.deadline&&i.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[i.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-1 flex items-center gap-1 uppercase tracking-wide",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Deadline"]}),i.jsx("p",{className:"text-base font-bold text-gray-900",children:new Date(n.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("p",{className:"text-xs mt-1 font-medium text-gray-600",children:S?`${Math.abs(E)} days overdue`:E<=0?"Today!":`${E} days left`})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"TEAM SIZE"}),i.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[((O=n.members)==null?void 0:O.length)||0," Developer",(((I=n.members)==null?void 0:I.length)||0)!==1?"s":""]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(f==null?void 0:f.clientProjectCount)||1," project",((f==null?void 0:f.clientProjectCount)||1)!==1?"s":""," for this client"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Total Tasks"}),i.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.total})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Pending Tasks"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.pending+d.inProgress}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[P," due today"]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.completed}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T,"% completion"]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Overdue"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.overdueTasks)||0})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Project Progress & Analytics"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Progress"}),i.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[T,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${T}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.completed," of ",d.total," tasks completed"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{label:"Total",value:d.total,icon:""},{label:"Completed",value:d.completed,icon:""},{label:"In Progress",value:d.inProgress,icon:""},{label:"Pending",value:d.pending,icon:""},{label:"On Hold",value:d.onHold,icon:""}].map((k,A)=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center shadow-sm",children:[i.jsx("p",{className:"text-xl mb-1",children:k.icon}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.value}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:k.label})]},A))}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Status Distribution"]}),i.jsx("div",{className:"space-y-3",children:[{status:"completed",label:"Completed",count:d.completed,color:"bg-green-500"},{status:"in_progress",label:"In Progress",count:d.inProgress,color:"bg-blue-500"},{status:"pending",label:"Pending",count:d.pending,color:"bg-yellow-500"},{status:"on_hold",label:"On Hold",count:d.onHold,color:"bg-orange-500"}].map((k,A)=>{const M=d.total>0?k.count/d.total*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:k.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[M.toFixed(1),"%"]}),i.jsx("span",{className:"text-sm font-semibold text-gray-800 w-8 text-right",children:k.count})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:`${k.color} h-full transition-all duration-500 relative`,style:{width:`${M}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20"})})})]},A)})})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",style:{color:Fa},children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Team Members"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:n.members.map((k,A)=>{var F,$;const M=s.filter(C=>{var L;return((L=C.assigned_to)==null?void 0:L.id)===k.user_id}),R=M.filter(C=>C.status!=="completed").length,D=M.filter(C=>C.status==="completed").length,q=M.length>0?(D/M.length*100).toFixed(0):0;return i.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",style:{background:Fa},children:(((F=k.user)==null?void 0:F.name)||"D").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("a",{href:`${N}/users/developer/${k.user_id}`,className:"font-semibold text-gray-900 text-sm truncate hover:text-purple-700 block",children:(($=k.user)==null?void 0:$.name)||"Developer"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[M.length," task",M.length!==1?"s":""]})]}),i.jsx("button",{onClick:C=>{var L;C.preventDefault(),w(k.user_id,(L=k.user)==null?void 0:L.name)},className:"p-2 rounded-lg transition-colors border border-gray-200 hover:border-purple-300 hover:bg-purple-50 flex-shrink-0",title:"Send Message",children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",style:{color:Fa},children:[i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),i.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${q}%`,background:Fa}})})}),i.jsxs("span",{className:"font-semibold text-gray-700 text-xs",children:[q,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[i.jsxs("span",{className:"text-gray-500",children:[i.jsx("span",{className:"text-green-600 font-semibold",children:D})," done"]}),i.jsxs("span",{className:"text-gray-500",children:[i.jsx("span",{className:"text-yellow-600 font-semibold",children:R})," pending"]})]})]},A)})})]})]})]}),P>0&&i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:i.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-yellow-800",children:[" ",P," Task",P!==1?"s":""," Due Today!"]}),i.jsx("p",{className:"text-sm text-yellow-700",children:"You have pending tasks that need attention today."})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Tasks (",s.length,")"]})}),s.length>0?i.jsx("div",{className:"divide-y divide-gray-200",children:s.map((k,A)=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:k.title||k.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.description})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${j(k.status)}`,children:k.status.replace("_"," ")})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[k.assigned_to&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),k.assigned_to.name]}),k.due_date&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(k.due_date).toLocaleDateString()]}),k.priority&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),k.priority]})]})]},k.id))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-gray-500",children:"No tasks yet for this project"}),i.jsx("a",{href:`${N}/projects/${e}/tasks`,className:"mt-3 inline-block px-4 py-2 text-white rounded-lg text-sm",style:{background:"rgb(155 2 50 / 76%)"},children:"Create Task"})]})]}),n.attachments&&n.attachments.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Project Attachments"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.attachments.map(k=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:k.file_name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(k.file_size/1024).toFixed(2)," KB",k.created_at&&`  ${new Date(k.created_at).toLocaleDateString()}`]})]})]}),i.jsx("a",{href:`${se.defaults.baseURL.replace("/api","")}/${k.file_path}`,download:!0,target:"_blank",rel:"noopener noreferrer",className:"ml-3 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded transition-colors",children:"Download"})]},k.id))})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Team Members"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:n.members.map((k,A)=>{var M;return i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:k.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.email}),i.jsx("p",{className:"text-xs text-purple-600 font-medium mt-1 capitalize",children:(M=k.role)==null?void 0:M.replace("_"," ")})]},A)})})]})]})},Zi=()=>{var x,w;const{userId:e}=wi(),t=wr(),[r,n]=_.useState(null),[a,s]=_.useState([]),[o,l]=_.useState([]),[u,f]=_.useState(!0),[c,d]=_.useState({totalTasks:0,completedTasks:0,pendingTasks:0,emergencyTasks:0,onHoldTasks:0,todayCompletedTasks:0});_.useEffect(()=>{h()},[e]);const h=async()=>{try{f(!0);const b=await se.get(`/users/${e}`);n(b.data.data||b.data);const j=await se.get(`/users/${e}/projects`),T=j.data.data||j.data||[];s(T);const E=await se.get(`/users/${e}/tasks`),S=E.data.data||E.data||[];l(S);const N=new Date().toISOString().split("T")[0],P=S.filter(O=>O.status==="completed"&&O.updated_at&&O.updated_at.startsWith(N)).length;d({totalTasks:S.length,completedTasks:S.filter(O=>O.status==="completed").length,pendingTasks:S.filter(O=>O.status==="pending").length,emergencyTasks:S.filter(O=>O.priority==="high"||O.priority==="critical").length,onHoldTasks:S.filter(O=>O.status==="on_hold").length,todayCompletedTasks:P})}catch(b){console.error("Failed to fetch user data:",b)}finally{f(!1)}};if(u)return i.jsx(Je,{});if(!r)return i.jsx("div",{className:"p-6 text-center",children:"User not found"});const m=o.filter(b=>b.status==="pending"||b.status==="in_progress"),p=o.filter(b=>b.status==="completed"),g=o.filter(b=>b.priority==="high"||b.priority==="critical"),v=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=b=>{switch(b){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";case"pending":return"text-yellow-600 bg-yellow-50";case"on_hold":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"bg-white rounded-[12px] p-6 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsxs("button",{onClick:()=>t(-1),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-3",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:(x=r.name)==null?void 0:x.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r.name}),i.jsx("p",{className:"text-gray-600 text-sm",children:r.email}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700 capitalize",children:(w=r.role)==null?void 0:w.replace("_"," ")}),r.department&&i.jsxs("span",{className:"text-sm text-gray-600",children:["Department: ",r.department]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[i.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"TOTAL TASKS"}),i.jsx("p",{className:"text-3xl font-bold text-blue-700",children:c.totalTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[i.jsx("p",{className:"text-xs text-green-600 font-semibold mb-1",children:"COMPLETED"}),i.jsx("p",{className:"text-3xl font-bold text-green-700",children:c.completedTasks}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[Math.round(c.completedTasks/c.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[i.jsx("p",{className:"text-xs text-yellow-600 font-semibold mb-1",children:"PENDING"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:c.pendingTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[i.jsx("p",{className:"text-xs text-red-600 font-semibold mb-1",children:"EMERGENCY"}),i.jsx("p",{className:"text-3xl font-bold text-red-700",children:c.emergencyTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[i.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"ON HOLD"}),i.jsx("p",{className:"text-3xl font-bold text-orange-700",children:c.onHoldTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[i.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"TODAY DONE"}),i.jsx("p",{className:"text-3xl font-bold text-purple-700",children:c.todayCompletedTasks})]})]}),a.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Projects (",a.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:a.map(b=>{var j,T;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.name||b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(j=b.client)==null?void 0:j.name})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-xs font-medium text-white",style:{background:b.status==="completed"?"rgb(107, 114, 128)":"#F25292"},children:(T=b.status)==null?void 0:T.replace("_"," ")})]})},b.id)})})]}),g.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border-2 border-red-300 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-red-200 bg-red-50",children:i.jsxs("h2",{className:"text-lg font-bold text-red-800",children:[" Emergency Tasks (",g.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[g.slice(0,5).map(b=>{var j,T;return i.jsxs("div",{className:"p-4 hover:bg-red-50 transition-colors border-l-4 border-red-500",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(T=b.status)==null?void 0:T.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)}),g.length>5&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",g.length-5," more emergency tasks"]})]})]}),m.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Active Tasks (",m.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:m.map(b=>{var j,T;return i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[b.priority&&i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(T=b.status)==null?void 0:T.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)})})]}),p.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Completed (",p.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[p.slice(0,10).map(b=>{var j;return i.jsx("div",{className:"p-4 opacity-75 hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-700 line-through",children:b.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700",children:" Done"})]})},b.id)}),p.length>10&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",p.length-10," more completed tasks"]})]})]})]})},Qi=()=>{var S;const{userId:e,userType:t}=wi(),r=wr(),n=Zt(),[a,s]=_.useState(null),[o,l]=_.useState(null),[u,f]=_.useState([]),[c,d]=_.useState([]),[h,m]=_.useState(!0);_.useEffect(()=>{p(),g(),v(),(t==="developer"||t==="project-manager")&&y()},[e,t]);const p=async()=>{var N,P,O,I,k,A,M,R,D,q;try{const F=t==="client"?`/clients/${e}`:`/users/${e}`,$=await se.get(F),C=((N=$.data)==null?void 0:N.data)??$.data??{},L={id:C.id||C.user_id||e,name:C.name||((P=C.user)==null?void 0:P.name)||((O=C.client)==null?void 0:O.name)||"Unknown",email:C.email||((I=C.user)==null?void 0:I.email)||((k=C.client)==null?void 0:k.email)||"",role:t||C.role||((A=C.user)==null?void 0:A.role)||"",phone:C.phone||((M=C.user)==null?void 0:M.phone)||"",company:C.company||((R=C.client)==null?void 0:R.company)||"",profile_image:C.profile_image||((D=C.user)==null?void 0:D.profile_image)||((q=C.client)==null?void 0:q.profile_image)||""};s(L)}catch{s({id:e,name:"Unknown",email:"",role:t})}},g=async()=>{try{const N=await se.get(`/users/${e}/analytics`);l(N.data)}catch{l({totalProjects:0,activeProjects:0,completedProjects:0,totalTasks:0,completedTasks:0,pendingTasks:0,overdueTasks:0,completionRate:0})}},v=async()=>{try{let N;t==="client"?N=await se.get(`/projects?client_id=${e}`):t==="project-manager"?N=await se.get(`/projects?project_manager_id=${e}`):N=await se.get(`/projects?developer_id=${e}`),f(N.data.data||N.data||[])}catch(N){console.error("Failed to fetch projects:",N),f([])}finally{m(!1)}},y=async()=>{try{const N=await se.get(`/tasks?assigned_to=${e}`);d(N.data.data||N.data||[])}catch(N){console.error("Failed to fetch tasks:",N),d([])}},x=()=>{switch(t){case"project-manager":return{title:"Project Manager",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),gradient:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",textColor:"text-purple-600",borderColor:"border-purple-300"};case"client":return{title:"Client",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),gradient:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-300"};case"developer":return{title:"Developer",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),gradient:"from-green-500 to-green-700",bgColor:"bg-green-50",textColor:"text-green-600",borderColor:"border-green-300"};default:return{title:"User",icon:null,gradient:"from-gray-500 to-gray-700",bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-300"}}},w=()=>{var P;const N=((P=n.pathname.split("/"))==null?void 0:P[1])||"admin";r(`/${N}/chat?userId=${e}`)};if(h)return i.jsx(Je,{});if(!a)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"User Not Found"}),i.jsx(zs,{to:"/projects",className:"text-purple-600 hover:underline",children:"Back to Projects"})]})});const b=x(),j=(o==null?void 0:o.totalTasks)>0?(o.completedTasks/o.totalTasks*100).toFixed(1):0,T={total:u.length,completed:u.filter(N=>N.status==="completed").length,inProgress:u.filter(N=>N.status==="in_progress").length,planning:u.filter(N=>N.status==="planning").length,onHold:u.filter(N=>N.status==="on_hold").length},E={total:c.length,completed:c.filter(N=>N.status==="completed").length,inProgress:c.filter(N=>N.status==="in_progress").length,pending:c.filter(N=>N.status==="pending"||N.status==="todo").length,overdue:c.filter(N=>!N.due_date||N.status==="completed"?!1:new Date(N.due_date)<new Date).length};return T.total>0&&(T.completed/T.total*100).toFixed(1),i.jsxs("div",{className:"space-y-5 pb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(zs,{to:"/projects",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[a.profile_image?i.jsx("img",{src:`/storage/${a.profile_image}`,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-lg font-semibold",style:{background:"rgb(89, 86, 157)"},children:((S=a.name)==null?void 0:S.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a.name}),i.jsx("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:b.title})]})]})]}),i.jsxs("button",{onClick:w,className:"px-4 py-2 text-white rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2 text-sm",style:{background:"rgb(89, 86, 157)"},children:[i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),i.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Chat"]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),i.jsx("span",{className:"font-medium",children:a.email})]}),a.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),i.jsx("span",{className:"font-medium",children:a.phone})]}),a.company&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"})}),i.jsx("span",{className:"font-medium",children:a.company})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg",style:{background:"rgba(89, 86, 157, 0.1)"},children:i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[T.inProgress," active"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Projects"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-green-50",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E.completed}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["of ",E.total," tasks"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completed Tasks"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-blue-50",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E.inProgress}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[E.pending," pending"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:`p-2.5 rounded-lg ${E.overdue>0?"bg-red-50":"bg-purple-50"}`,children:i.jsx("svg",{className:`w-5 h-5 ${E.overdue>0?"text-red-600":"text-purple-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11 4a1 1 0 10-2 0v4a1 1 0 102 0V7zm-3 1a1 1 0 10-2 0v3a1 1 0 102 0V8zM8 9a1 1 0 00-2 0v2a1 1 0 102 0V9z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[j,"%"]}),i.jsx("p",{className:`text-xs mt-0.5 font-medium ${E.overdue>0?"text-red-600":"text-gray-500"}`,children:E.overdue>0?`${E.overdue} overdue`:"On track"})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-5 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Project Status Distribution"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[T.completed," (",T.total>0?(T.completed/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.completed/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[T.inProgress," (",T.total>0?(T.inProgress/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.inProgress/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Planning"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[T.planning," (",T.total>0?(T.planning/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.planning/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Hold"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[T.onHold," (",T.total>0?(T.onHold/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 h-3 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.onHold/T.total*100:0}%`}})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Task Progress Overview"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.completed," (",E.total>0?(E.completed/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.completed/E.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.inProgress," (",E.total>0?(E.inProgress/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.inProgress/E.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pending"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.pending," (",E.total>0?(E.pending/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.pending/E.total*100:0}%`}})})]}),E.overdue>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overdue"})]}),i.jsxs("span",{className:"text-sm font-bold text-red-600",children:[E.overdue," (",E.total>0?(E.overdue/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.overdue/E.total*100:0}%`}})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-purple-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Projects"}),i.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.filter(N=>N.status!=="completed").length," active"]})]}),(t==="developer"||t==="project-manager")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Tasks"}),i.jsxs("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.filter(N=>N.status!=="completed").length," pending"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(N=>N.status==="completed").length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j,"% completion"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-red-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Overdue"}),i.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(N=>!N.due_date||N.status==="completed"?!1:new Date(N.due_date)<new Date).length})]})]}),t==="client"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(N=>N.status==="completed").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"In Progress"}),i.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(N=>N.status==="in_progress").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-yellow-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Planning"}),i.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(N=>N.status==="planning").length})]})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Task Progress"}),i.jsx("div",{className:"space-y-4",children:[{label:"Completed",count:c.filter(N=>N.status==="completed").length,color:"bg-green-500",textColor:"text-green-700"},{label:"In Progress",count:c.filter(N=>N.status==="in_progress").length,color:"bg-blue-500",textColor:"text-blue-700"},{label:"Pending",count:c.filter(N=>N.status==="pending"||N.status==="todo").length,color:"bg-yellow-500",textColor:"text-yellow-700"}].map((N,P)=>{const O=c.length>0?N.count/c.length*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:N.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`text-sm font-bold ${N.textColor}`,children:[O.toFixed(1),"%"]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",N.count,")"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`${N.color} h-full transition-all duration-500`,style:{width:`${O}%`}})})]},P)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),t==="project-manager"?"Managing Projects":t==="client"?"Client Projects":"Assigned Projects"]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length," total projects"]})]})}),u.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:u.map(N=>{var I;const P=N.deadline&&new Date(N.deadline)<new Date&&N.status!=="completed",O=N.deadline?Math.ceil((new Date(N.deadline)-new Date)/(1e3*60*60*24)):null;return i.jsxs("a",{href:`/${(a==null?void 0:a.role)==="admin"?"admin":(a==null?void 0:a.role)==="project_manager"?"manager":(a==null?void 0:a.role)==="developer"?"developer":"client"}/projects/${N.id}`,className:"group block bg-gradient-to-br from-gray-50 to-white p-5 rounded-lg border-2 border-gray-200 hover:border-purple-400 hover:shadow-lg transition-all duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-purple-600 transition-colors mb-1",children:N.name||N.title}),N.description&&i.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:N.description}})]}),i.jsx("span",{className:`ml-3 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap ${N.status==="completed"?"bg-green-100 text-green-700 border border-green-300":N.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":N.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:N.status.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[N.deadline&&i.jsxs("div",{className:`flex items-center gap-1 font-semibold ${P?"text-red-600":O<=7?"text-orange-600":"text-gray-600"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{children:new Date(N.deadline).toLocaleDateString()}),P&&i.jsx("span",{className:"text-xs",children:"(Overdue)"}),!P&&O<=7&&O>0&&i.jsxs("span",{className:"text-xs",children:["(",O,"d left)"]})]}),N.members&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsxs("span",{className:"font-medium",children:[((I=N.members)==null?void 0:I.length)||0," members"]})]})]}),N.progress!==void 0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("span",{className:"font-bold text-gray-800",children:[N.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${N.progress===100?"bg-gradient-to-r from-green-500 to-green-600":N.progress>=75?"bg-gradient-to-r from-blue-500 to-blue-600":N.progress>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,style:{width:`${N.progress||0}%`}})})]})]},N.id)})}):i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsxs("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),"Recent Tasks"]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[c.length," total tasks"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:c.slice(0,12).map(N=>{var A,M;const P=N.due_date&&new Date(N.due_date)<new Date&&N.status!=="completed",O=N.status==="completed"?"text-green-700 bg-green-50 border-green-200":N.status==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":"text-yellow-700 bg-yellow-50 border-yellow-200",I=N.due_date?new Date(N.due_date).toLocaleDateString():"",k=((A=N.assignee)==null?void 0:A.name)||a.name;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:N.title||N.name})]}),N.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:N.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${O}`,children:((M=N.status)==null?void 0:M.replace("_"," "))||"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:N.type||"Operational"}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:P?"text-red-600":"text-gray-700",children:I})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:k||""})]},N.id)})})]})}),c.length>12&&i.jsxs("div",{className:"p-4 border-t border-gray-200 text-center text-sm text-gray-600",children:["Showing 12 of ",c.length," tasks"]})]})]})},Ji=()=>{const{projectId:e}=wi(),t=wr(),{user:r}=Fe(),n=r!=null&&r.role?`/${r.role}`:"",[a,s]=_.useState(null),[o,l]=_.useState([]),[u,f]=_.useState([]),[c,d]=_.useState([]),[h,m]=_.useState(!0),[p,g]=_.useState(!1),[v,y]=_.useState(null),[x,w]=_.useState(!1),[b,j]=_.useState(null),[T,E]=_.useState({name:"",color:"#8B5CF6",order:0}),[S,N]=_.useState({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]});_.useEffect(()=>{P()},[e]);const P=async()=>{try{const[L,z,W,V]=await Promise.all([se.get(`/projects/${e}`),se.get(`/projects/${e}/workflow-statuses`),se.get(`/projects/${e}/tasks`),se.get("/projects/users-for-assignment")]);s(L.data),l(z.data),f(W.data);const B=[...V.data.project_managers||[],...V.data.developers||[]];d(B)}catch(L){console.error("Error fetching data:",L)}finally{m(!1)}},O=async L=>{const{destination:z,source:W,draggableId:V}=L;if(!z||z.droppableId===W.droppableId&&z.index===W.index)return;const B=parseInt(V),H=parseInt(z.droppableId),Z=Array.from(u),U=Z.findIndex(ne=>ne.id===B),Q=Z[U];Q.workflow_status_id=H,Q.order=z.index,f(Z);try{await se.patch(`/projects/${e}/tasks/${B}/status`,{workflow_status_id:H,order:z.index})}catch(ne){console.error("Error updating task status:",ne),P()}},I=(L=null)=>{var z,W;L?(y(L),N({title:L.title,description:L.description||"",priority:L.priority,start_date:L.start_date||"",due_date:L.due_date||"",estimated_hours:((z=L.estimated_hours)==null?void 0:z.toString())||"",labels:L.labels||[],assigned_users:((W=L.assigned_users)==null?void 0:W.map(V=>V.id))||[]})):(y(null),N({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]})),g(!0)},k=()=>{g(!1),y(null)},A=async L=>{L.preventDefault();try{v?await se.put(`/projects/${e}/tasks/${v.id}`,S):await se.post(`/projects/${e}/tasks`,S),k(),P()}catch(z){console.error("Error saving task:",z),alert("Failed to save task. Please try again.")}},M=async L=>{if(window.confirm("Are you sure you want to delete this task?"))try{await se.delete(`/projects/${e}/tasks/${L}`),k(),P()}catch(z){console.error("Error deleting task:",z),alert("Failed to delete task. Please try again.")}},R=(L=null)=>{L?(j(L),E({name:L.name,color:L.color,order:L.order})):(j(null),E({name:"",color:"#8B5CF6",order:o.length})),w(!0)},D=()=>{w(!1),j(null)},q=async L=>{var z,W,V,B,H,Z,U,Q;L.preventDefault();try{if(b){const ne=await se.put(`/projects/${e}/workflow-statuses/${b.id}`,T);console.log("Update response:",ne.data)}else{const ne=await se.post(`/projects/${e}/workflow-statuses`,T);console.log("Create response:",ne.data)}D(),await P(),alert("Status saved successfully!")}catch(ne){console.error("Error saving status:",ne),console.error("Error response:",ne.response);const te=((W=(z=ne.response)==null?void 0:z.data)==null?void 0:W.message)||((B=(V=ne.response)==null?void 0:V.data)==null?void 0:B.error)||((Q=(U=(Z=(H=ne.response)==null?void 0:H.data)==null?void 0:Z.errors)==null?void 0:U.color)==null?void 0:Q[0])||"Failed to save status. Please try again.";alert("Error: "+te)}},F=async L=>{var W,V,B,H;const z=C(L);if(z.length>0){alert(`Cannot delete status with ${z.length} task(s). Please move or delete tasks first.`);return}if(window.confirm("Are you sure you want to delete this status?"))try{const Z=await se.delete(`/projects/${e}/workflow-statuses/${L}`);console.log("Delete response:",Z.data),D(),await P(),alert("Status deleted successfully!")}catch(Z){console.error("Error deleting status:",Z),console.error("Error response:",Z.response);const U=((V=(W=Z.response)==null?void 0:W.data)==null?void 0:V.message)||((H=(B=Z.response)==null?void 0:B.data)==null?void 0:H.error)||"Failed to delete status. Please try again.";alert("Error: "+U)}},$=L=>{switch(L){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=L=>u.filter(z=>z.workflow_status_id===L).sort((z,W)=>z.order-W.order);return h?i.jsx(Je,{}):a?i.jsxs("div",{className:"flex flex-col overflow-hidden bg-white",style:{height:"88vh"},children:[i.jsx("div",{className:"flex-shrink-0 bg-white shadow-sm border-b p-3",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>t(`${n}/projects`),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Projects",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:a.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Task Board - ",u.length," tasks"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(r==null?void 0:r.role)!=="developer"&&i.jsxs("button",{onClick:()=>R(),className:"px-3 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50 transition-all flex items-center gap-1.5",style:{borderColor:"#e5e7eb",color:"#6b7280"},title:"Customize Statuses",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Statuses"]}),(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{onClick:()=>I(),className:"px-3 py-2 rounded-lg text-sm font-medium text-white hover:shadow-md transition-all",style:{background:"#59569D"},children:i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})})]})]})}),i.jsx("div",{className:"flex-1 overflow-hidden p-3",children:i.jsx(r_,{onDragEnd:O,children:i.jsx("div",{className:"flex gap-3 h-full overflow-x-auto custom-scrollbar",children:o.map(L=>i.jsx("div",{className:"flex-shrink-0 w-80 flex flex-col h-full",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-full overflow-hidden border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"px-3 py-2 flex-shrink-0 border-b",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:L.color}}),i.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:L.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:C(L.id).length}),i.jsx("button",{onClick:()=>R(L),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Edit Status",children:i.jsx("svg",{className:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]})}),i.jsx(n_,{droppableId:L.id.toString(),children:(z,W)=>i.jsxs("div",{ref:z.innerRef,...z.droppableProps,className:`flex-1 overflow-y-auto custom-scrollbar p-2 ${W.isDraggingOver?"bg-gray-50":"bg-white"} transition-colors`,style:{minHeight:"100px"},children:[C(L.id).map((V,B)=>i.jsx(a_,{draggableId:V.id.toString(),index:B,children:(H,Z)=>{var U;return i.jsxs("div",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:`rounded-lg p-3 mb-2 cursor-pointer transition-all ${Z.isDragging?"shadow-lg border":"border hover:shadow-md"} ${$(V.priority)}`,style:{...H.draggableProps.style,borderColor:Z.isDragging?"#59569D":"#e5e7eb"},onClick:()=>t(`${n}/projects/${e}/tasks/${V.id}`),children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["#",V.id]}),i.jsxs("div",{className:"flex items-center gap-1",children:[(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{title:"Edit Task",onClick:Q=>{Q.stopPropagation(),I(V)},className:"p-1 rounded hover:bg-gray-100",children:i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M4 20h4l10.732-10.732a2.5 2.5 0 10-3.536-3.536L4 16v4z"})})}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-semibold border",style:{borderColor:"#e5e7eb",background:V.priority==="urgent"?"#fee2e2":V.priority==="high"?"#ffedd5":V.priority==="medium"?"#fef9c3":V.priority==="low"?"#f0fdf4":"#f3f4f6",color:V.priority==="urgent"?"#991b1b":V.priority==="high"?"#9a3412":V.priority==="medium"?"#854d0e":V.priority==="low"?"#166534":"#374151"},children:(U=V.priority)==null?void 0:U.toUpperCase()})]})]}),i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2 line-clamp-2",children:V.title}),Array.isArray(V.labels)&&V.labels.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[V.labels.slice(0,3).map((Q,ne)=>i.jsx("span",{className:"text-xs text-white px-2 py-0.5 rounded font-medium",style:{background:"#59569D"},children:Q},ne)),V.labels.length>3&&i.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-medium",children:["+",V.labels.length-3]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",style:{borderColor:"#e5e7eb"},children:[i.jsxs("div",{className:"flex -space-x-2",children:[V.assigned_users&&V.assigned_users.slice(0,3).map(Q=>i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-semibold border-2 border-white",style:{background:"#59569D"},title:Q.name,children:Q.name.charAt(0).toUpperCase()},Q.id)),V.assigned_users&&V.assigned_users.length>3&&i.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-semibold border-2 border-white",children:["+",V.assigned_users.length-3]})]}),V.due_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"font-medium",children:new Date(V.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})]})}},V.id)),z.placeholder]})})]})},L.id))})})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"px-4 py-3 border-b",style:{background:"#59569D",borderColor:"#e5e7eb"},children:i.jsx("h2",{className:"text-base font-semibold text-white",children:v?"Edit Task":"Create New Task"})}),i.jsxs("form",{onSubmit:A,className:"p-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),i.jsx("input",{type:"text",value:S.title,onChange:L=>N({...S,title:L.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx(Ly,{theme:"snow",value:S.description,onChange:L=>N({...S,description:L}),modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code-block"],["clean"]]},className:"bg-white rounded-lg",style:{height:"150px",marginBottom:"50px"}})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),i.jsxs("select",{value:S.priority,onChange:L=>N({...S,priority:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"urgent",children:"Urgent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),i.jsx("input",{type:"number",step:"0.5",value:S.estimated_hours,onChange:L=>N({...S,estimated_hours:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:S.start_date,onChange:L=>N({...S,start_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:S.due_date,onChange:L=>N({...S,due_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-gray-500 font-normal text-xs",children:"(Optional - auto-assigns project developers if empty)"})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg p-2 max-h-40 overflow-y-auto bg-white",children:c.length===0?i.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No users available"}):i.jsx("div",{className:"space-y-1",children:c.map(L=>i.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ${S.assigned_users.includes(L.id)?"bg-purple-50 border border-purple-200":"hover:bg-gray-50 border border-transparent"}`,children:[i.jsx("input",{type:"checkbox",checked:S.assigned_users.includes(L.id),onChange:z=>{z.target.checked?N({...S,assigned_users:[...S.assigned_users,L.id]}):N({...S,assigned_users:S.assigned_users.filter(W=>W!==L.id)})},className:"rounded text-purple-600 focus:ring-purple-500 focus:ring-offset-0"}),i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-semibold flex-shrink-0",style:{backgroundColor:"#59569D"},children:L.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.name}),L.role&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",L.role,")"]})]})]},L.id))})}),S.assigned_users.length===0&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" All project developers will be automatically assigned"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:v&&i.jsx("button",{type:"button",onClick:()=>M(v.id),className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Task"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:v?"Update Task":"Create Task"})]})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-4 text-white rounded-t-lg",style:{background:"#59569D"},children:[i.jsx("h2",{className:"text-lg font-semibold",children:b?"Edit Status":"Add New Status"}),i.jsx("p",{className:"text-sm text-purple-100 mt-1",children:b?"Update workflow status details":"Create a new workflow status for tasks"})]}),i.jsxs("form",{onSubmit:q,className:"p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Name *"}),i.jsx("input",{type:"text",required:!0,value:T.name,onChange:L=>E({...T,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., In Progress, Done"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Color *"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"color",value:T.color,onChange:L=>E({...T,color:L.target.value}),className:"h-10 w-20 border border-gray-300 rounded-lg cursor-pointer"}),i.jsx("input",{type:"text",value:T.color,onChange:L=>E({...T,color:L.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"#8B5CF6"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This color will appear as an indicator on the status column"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),i.jsx("input",{type:"number",min:"0",value:T.order,onChange:L=>E({...T,order:parseInt(L.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first on the board"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Preview:"}),i.jsx("div",{className:"bg-white rounded-lg p-2 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:T.color}}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:T.name||"Status Name"}),i.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:"0"})]})})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:b&&i.jsx("button",{type:"button",onClick:()=>F(b.id),className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Status"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:b?"Update Status":"Create Status"})]})]})]})]})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"Project not found"}),i.jsx("button",{onClick:()=>t("/projects"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg",children:"Back to Projects"})]})})},es=()=>{var O,I,k;const{projectId:e,taskId:t}=wi(),r=wr(),[n,a]=_.useState(null),[s,o]=_.useState([]),[l,u]=_.useState(""),[f,c]=_.useState(null),[d,h]=_.useState(!0),[m,p]=_.useState([]),[g,v]=_.useState(!1),[y,x]=_.useState("");_.useEffect(()=>{w(),b()},[t]);const w=async()=>{try{const M=(await se.get(`/projects/${e}/tasks`)).data.find(R=>R.id===parseInt(t));a(M),M!=null&&M.assigned_users&&p(M.assigned_users),h(!1)}catch(A){console.error("Error fetching task:",A),h(!1)}},b=async()=>{try{const A=await se.get(`/tasks/${t}/comments`);o(A.data)}catch(A){console.error("Error fetching comments:",A)}},j=async A=>{if(A.preventDefault(),!!l.trim())try{const M=/@\[([^\]]+)\]\((\d+)\)/g,R=[];let D;for(;(D=M.exec(l))!==null;)R.push(parseInt(D[2]));await se.post(`/tasks/${t}/comments`,{content:l,parent_id:f,mentions:R}),u(""),c(null),b()}catch(M){console.error("Error posting comment:",M)}},T=async A=>{if(confirm("Delete this comment?"))try{await se.delete(`/tasks/${t}/comments/${A}`),b()}catch(M){console.error("Error deleting comment:",M)}},E=A=>({low:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"})[A]||"bg-gray-100 text-gray-700",S=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",N=A=>{const M=l.endsWith("@")?l.slice(0,-1):l,R=`@[${A.name}](${A.id}) `;u(M+R),v(!1),x("")},P=m.filter(A=>{var M;return(M=A.name)==null?void 0:M.toLowerCase().includes(y.toLowerCase())});return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-600",children:"Loading task..."})}):n?i.jsx("div",{className:"min-h-screen p-6",style:{background:"#f8f9fa",fontFamily:"Inter, sans-serif"},children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-5 flex items-start gap-3 bg-white rounded-[12px] p-5 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsx("button",{onClick:()=>r(`/projects/${e}/tasks`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600 group-hover:text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-base font-semibold text-gray-900 mb-1",children:n.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["#",n.id]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["Created ",new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-3 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Description"]}),i.jsx("div",{className:"prose max-w-none text-sm text-gray-700",dangerouslySetInnerHTML:{__html:n.description||'<span class="text-gray-400 italic">No description provided</span>'}})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-4 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Comments",i.jsx("span",{className:"ml-1 px-2 py-0.5 text-white text-xs font-medium rounded-full",style:{background:"#59569D"},children:s.length})]}),i.jsxs("form",{onSubmit:j,className:"mb-4 pb-4",children:[f&&i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs",children:[i.jsx("span",{style:{color:"#59569D"},children:"Replying to comment"}),i.jsx("button",{type:"button",onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{value:l,onChange:A=>{u(A.target.value),A.target.value.endsWith("@")&&v(!0)},placeholder:"Write a comment... (use @ to mention someone)",className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-sm focus:ring-1 focus:border-gray-300 resize-none transition-all focus:outline-none",rows:2}),g&&i.jsxs("div",{className:"absolute bottom-full left-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg mb-2 max-h-48 overflow-y-auto",children:[i.jsx("input",{type:"text",placeholder:"Search...",value:y,onChange:A=>x(A.target.value),className:"w-full p-2 text-xs border-b border-gray-200 focus:outline-none"}),P.map(A=>{var M;return i.jsxs("button",{type:"button",onClick:()=>N(A),className:"w-full text-left p-2 hover:bg-gray-50 flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs",style:{background:"#59569D"},children:(M=A.name)==null?void 0:M.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs",children:A.name})]},A.id)})]})]}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[i.jsx("button",{type:"button",onClick:()=>v(!g),className:"text-xs hover:opacity-80 transition-opacity",style:{color:"#59569D"},children:"@ Mention"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:"Post Comment"})]})]}),i.jsx("div",{className:"space-y-3",children:s.map(A=>{var M,R;return i.jsx("div",{className:"bg-white rounded-lg p-3 hover:shadow-sm transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",style:{background:"#59569D"},children:(M=A.user)==null?void 0:M.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm text-gray-900",children:(R=A.user)==null?void 0:R.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:A.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}}),i.jsxs("div",{className:"mt-1 flex gap-3 text-xs",children:[i.jsx("button",{onClick:()=>c(A.id),className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#59569D"},children:"Reply"}),i.jsx("button",{onClick:()=>T(A.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]}),A.replies&&A.replies.length>0&&i.jsx("div",{className:"mt-3 space-y-2 pl-2",children:A.replies.map(D=>{var q,F;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 flex items-start gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:(q=D.user)==null?void 0:q.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-xs text-gray-900",children:(F=D.user)==null?void 0:F.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-xs text-gray-700",dangerouslySetInnerHTML:{__html:D.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}})]})]},D.id)})})]})]})},A.id)})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Status"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"px-3 py-1.5 rounded-lg text-white text-xs font-medium text-center",style:{backgroundColor:(O=n.workflow_status)==null?void 0:O.color},children:(I=n.workflow_status)==null?void 0:I.name}),i.jsx("div",{className:"text-xs",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(n.priority)}`,children:(k=n.priority)==null?void 0:k.toUpperCase()})})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Details"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:S(n.start_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Due Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:S(n.due_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Estimated Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.estimated_hours||"Not set"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Actual Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.actual_hours||"Not set"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Assigned To"}),i.jsx("div",{className:"space-y-2",children:n.assigned_users&&n.assigned_users.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:A.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs text-gray-900 font-medium",children:A.name})]},A.id))})]}),Array.isArray(n.labels)&&n.labels.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Labels"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.labels.map((A,M)=>i.jsx("span",{className:"text-xs text-white px-2 py-1 rounded-full font-medium",style:{background:"#59569D"},children:A},M))})]})]})]})]})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-red-600",children:"Task not found"})})},ts=()=>i.jsx(wy,{}),TI=()=>{var k;const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("grid"),[o,l]=_.useState(""),[u,f]=_.useState(!1),[c,d]=_.useState(null),[h,m]=_.useState(null),[p,g]=_.useState({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),[v,y]=_.useState({}),[x,w]=_.useState(!1);_.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await se.get("/clients");t(A.data)}catch(A){console.error("Failed to fetch clients:",A)}finally{n(!1)}},j=e.filter(A=>{var R,D;const M=o.toLowerCase();return(((R=A.user)==null?void 0:R.name)||"").toLowerCase().includes(M)||(((D=A.user)==null?void 0:D.email)||"").toLowerCase().includes(M)||(A.company||"").toLowerCase().includes(M)}),T=()=>{d(null),m(null),g({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),y({}),f(!0)},E=A=>{var M,R,D;d(A),m(((M=A.user)==null?void 0:M.avatar)||null),g({name:((R=A.user)==null?void 0:R.name)||"",email:((D=A.user)==null?void 0:D.email)||"",company:A.company||"",phone:A.phone||"",address:A.address||"",website:A.website||"",notes:A.notes||""}),y({}),f(!0)},S=()=>{f(!1),d(null),m(null),g({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),y({})},N=()=>{const A={};return p.name.trim()||(A.name="Name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(A.email="Email is invalid"):A.email="Email is required",y(A),Object.keys(A).length===0},P=A=>{const M=A.target.files[0];if(M){const R=new FileReader;R.onloadend=()=>{m(R.result)},R.readAsDataURL(M)}},O=async A=>{var M,R;if(A.preventDefault(),!!N()){w(!0);try{c?await se.put(`/clients/${c.id}`,p):await se.post("/clients",p),await b(),S(),alert(c?"Client updated successfully":"Client created and credentials sent via email")}catch(D){console.error("Failed to save client:",D),y({submit:((R=(M=D.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to save client. Please try again."})}finally{w(!1)}}},I=async A=>{if(confirm("Are you sure you want to delete this client?"))try{await se.delete(`/clients/${A}`),await b()}catch(M){console.error("Failed to delete client:",M),alert("Failed to delete client. Please try again.")}};return r?i.jsx(Je,{}):i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clients"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your client accounts and credentials"})]}),i.jsxs("button",{onClick:T,className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Client"]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search clients...",value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s("grid"),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${a==="grid"?"text-white border":"text-gray-700 hover:bg-gray-100 border-gray-300"}`,style:a==="grid"?{background:"rgb(89, 86, 157)",borderColor:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>s("table"),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${a==="table"?"text-white border":"text-gray-700 hover:bg-gray-100 border-gray-300"}`,style:a==="table"?{background:"rgb(89, 86, 157)",borderColor:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),j.length>0?i.jsxs(i.Fragment,{children:[a==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:j.map(A=>{var M,R,D,q,F,$;return i.jsxs("div",{className:"bg-white rounded-xl border p-5 hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex-shrink-0 overflow-hidden flex items-center justify-center text-sm font-bold text-white",style:{background:"rgb(89, 86, 157)"},children:(M=A.user)!=null&&M.avatar?i.jsx("img",{src:A.user.avatar,alt:(R=A.user)==null?void 0:R.name,className:"w-full h-full object-cover"}):(q=(D=A.user)==null?void 0:D.name)==null?void 0:q.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:(F=A.user)==null?void 0:F.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:($=A.user)==null?void 0:$.email})]})]}),A.company&&i.jsxs("div",{className:"mb-3 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Company:"})," ",A.company]}),A.phone&&i.jsxs("div",{className:"mb-3 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",A.phone]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t justify-end",style:{borderColor:"#e5e7eb"},children:[i.jsx("button",{onClick:()=>E(A),className:"py-2 px-3 rounded-lg text-xs font-medium text-white transition-all hover:shadow-sm",style:{background:"rgb(242, 82, 146)"},children:"Edit"}),i.jsx("button",{onClick:()=>I(A.id),className:"py-2 px-3 rounded-lg text-xs font-medium border transition-colors hover:bg-opacity-5",style:{color:"rgb(242, 82, 146)",borderColor:"rgb(242, 82, 146)"},children:"Delete"})]})]},A.id)})}),a==="table"&&i.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",style:{borderBottomColor:"#e5e7eb"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Client"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Company"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Phone"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Created"}),i.jsx("th",{className:"text-center px-4 py-3",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(A=>{var M,R,D,q,F,$;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-full flex-shrink-0 overflow-hidden flex items-center justify-center text-xs font-bold text-white",style:{background:"rgb(89, 86, 157)"},children:(M=A.user)!=null&&M.avatar?i.jsx("img",{src:A.user.avatar,alt:(R=A.user)==null?void 0:R.name,className:"w-full h-full object-cover"}):(q=(D=A.user)==null?void 0:D.name)==null?void 0:q.charAt(0).toUpperCase()}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:(F=A.user)==null?void 0:F.name}),i.jsx("p",{className:"text-xs text-gray-500",children:($=A.user)==null?void 0:$.email})]})]})}),i.jsx("td",{className:"px-4 py-3 text-gray-700",children:A.company||"-"}),i.jsx("td",{className:"px-4 py-3 text-gray-700",children:A.phone||"-"}),i.jsx("td",{className:"px-4 py-3 text-gray-600 text-xs",children:new Date(A.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>E(A),className:"p-2 rounded-lg transition-colors",title:"Edit",style:{color:"rgb(242, 82, 146)"},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>I(A.id),className:"p-2 rounded-lg transition-colors",title:"Delete",style:{color:"rgb(242, 82, 146)"},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},A.id)})})]})})})]}):i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"rgba(89, 86, 157, 0.1)"},children:i.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"rgb(89, 86, 157)"},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Clients Found"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by creating your first client"}),i.jsx("button",{onClick:T,className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"+ Create Client"})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"p-6 border-b",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Edit Client":"Create New Client"}),!c&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Login credentials will be auto-generated and sent via email"})]}),i.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-2xl font-bold text-white overflow-hidden",style:{background:"rgb(89, 86, 157)"},children:h?i.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover"}):((k=p.name)==null?void 0:k.charAt(0).toUpperCase())||"+"}),i.jsxs("label",{className:"absolute bottom-0 right-0 p-2 rounded-full bg-white border-2 border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"rgb(89, 86, 157)"},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:p.name,onChange:A=>g({...p,name:A.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${v.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),v.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${v.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),v.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),i.jsx("input",{type:"text",value:p.company,onChange:A=>g({...p,company:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"Company Name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"+1234567890"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),i.jsx("input",{type:"url",value:p.website,onChange:A=>g({...p,website:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"https://example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:p.address,onChange:A=>g({...p,address:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Full address",rows:"2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:p.notes,onChange:A=>g({...p,notes:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Additional notes",rows:"3"})]}),v.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-xs",children:v.submit}),i.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",style:{borderColor:"#e5e7eb"},children:[i.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors text-sm",disabled:x,children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg font-medium text-white shadow-sm hover:shadow-md transition-all text-sm disabled:opacity-50",style:{background:"rgb(89, 86, 157)"},disabled:x,children:x?"Saving...":c?"Update Client":"Create Client"})]})]})]})})]})};var SI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Sd(e){if(typeof e!="string")return!1;var t=SI;return t.includes(e)}var PI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AI=new Set(PI);function By(e){return typeof e!="string"?!1:AI.has(e)}function $y(e){return typeof e=="string"&&e.startsWith("data-")}function $t(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(By(r)||$y(r))&&(t[r]=e[r]);return t}function Cn(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $t(t)}return typeof e=="object"&&!Array.isArray(e)?$t(e):null}function Nt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(By(r)||$y(r)||Sd(r))&&(t[r]=e[r]);return t}function II(e){return e==null?null:_.isValidElement(e)?Nt(e.props):typeof e=="object"&&!Array.isArray(e)?Nt(e):null}var kI=["children","width","height","viewBox","className","style","title","desc"];function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(null,arguments)}function CI(e,t){if(e==null)return{};var r,n,a=DI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fy=_.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:u,desc:f}=e,c=CI(e,kI),d=s||{width:n,height:a,x:0,y:0},h=ye("recharts-surface",o);return _.createElement("svg",ou({},Nt(c),{className:h,width:n,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,f),r)}),MI=["children","className"];function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(null,arguments)}function RI(e,t){if(e==null)return{};var r,n,a=LI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ht=_.forwardRef((e,t)=>{var{children:r,className:n}=e,a=RI(e,MI),s=ye("recharts-layer",n);return _.createElement("g",lu({className:s},Nt(a),{ref:t}),r)}),BI=_.createContext(null);function Pe(e){return function(){return e}}const zy=Math.cos,Vs=Math.sin,ur=Math.sqrt,Ws=Math.PI,tl=2*Ws,cu=Math.PI,uu=2*cu,pn=1e-6,$I=uu-pn;function Uy(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function FI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Uy;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Uy:FI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-t,f=a-r,c=o-t,d=l-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>pn)if(!(Math.abs(d*u-f*c)>pn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=u*u+f*f,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),w=s*Math.tan((cu-Math.acos((g+h-v)/(2*y*x)))/2),b=w/x,j=w/y;Math.abs(b-1)>pn&&this._append`L${t+b*c},${r+b*d}`,this._append`A${s},${s},0,0,${+(d*m>c*p)},${this._x1=t+j*u},${this._y1=r+j*f}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),f=t+l,c=r+u,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>pn||Math.abs(this._y1-c)>pn)&&this._append`L${f},${c}`,n&&(h<0&&(h=h%uu+uu),h>$I?this._append`A${n},${n},0,1,${d},${t-l},${r-u}A${n},${n},0,1,${d},${this._x1=f},${this._y1=c}`:h>pn&&this._append`A${n},${n},0,${+(h>=cu)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Pd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zI(t)}function Ad(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hy(e){this._context=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rl(e){return new Hy(e)}function qy(e){return e[0]}function Gy(e){return e[1]}function Vy(e,t){var r=Pe(!0),n=null,a=rl,s=null,o=Pd(l);e=typeof e=="function"?e:e===void 0?qy:Pe(e),t=typeof t=="function"?t:t===void 0?Gy:Pe(t);function l(u){var f,c=(u=Ad(u)).length,d,h=!1,m;for(n==null&&(s=a(m=o())),f=0;f<=c;++f)!(f<c&&r(d=u[f],f,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,f,u),+t(d,f,u));if(m)return s=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Pe(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Pe(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Pe(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function rs(e,t,r){var n=null,a=Pe(!0),s=null,o=rl,l=null,u=Pd(f);e=typeof e=="function"?e:e===void 0?qy:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Gy:Pe(+r);function f(d){var h,m,p,g=(d=Ad(d)).length,v,y=!1,x,w=new Array(g),b=new Array(g);for(s==null&&(l=o(x=u())),h=0;h<=g;++h){if(!(h<g&&a(v=d[h],h,d))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],b[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,d),b[h]=+t(v,h,d),l.point(n?+n(v,h,d):w[h],r?+r(v,h,d):b[h]))}if(x)return l=null,x+""||null}function c(){return Vy().defined(a).curve(o).context(s)}return f.x=function(d){return arguments.length?(e=typeof d=="function"?d:Pe(+d),n=null,f):e},f.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Pe(+d),f):e},f.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pe(+d),f):n},f.y=function(d){return arguments.length?(t=typeof d=="function"?d:Pe(+d),r=null,f):t},f.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Pe(+d),f):t},f.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pe(+d),f):r},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(r)},f.lineX1=function(){return c().x(n).y(t)},f.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Pe(!!d),f):a},f.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),f):o},f.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),f):s},f}class Wy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function UI(e){return new Wy(e,!0)}function HI(e){return new Wy(e,!1)}const Id={draw(e,t){const r=ur(t/Ws);e.moveTo(r,0),e.arc(0,0,r,0,tl)}},qI={draw(e,t){const r=ur(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ky=ur(1/3),GI=Ky*2,VI={draw(e,t){const r=ur(t/GI),n=r*Ky;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},WI={draw(e,t){const r=ur(t),n=-r/2;e.rect(n,n,r,r)}},KI=.8908130915292852,Yy=Vs(Ws/10)/Vs(7*Ws/10),YI=Vs(tl/10)*Yy,XI=-zy(tl/10)*Yy,ZI={draw(e,t){const r=ur(t*KI),n=YI*r,a=XI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=tl*s/5,l=zy(o),u=Vs(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},wc=ur(3),QI={draw(e,t){const r=-ur(t/(wc*3));e.moveTo(0,r*2),e.lineTo(-wc*r,-r),e.lineTo(wc*r,-r),e.closePath()}},Ut=-.5,Ht=ur(3)/2,du=1/ur(12),JI=(du/2+1)*3,e5={draw(e,t){const r=ur(t/JI),n=r/2,a=r*du,s=n,o=r*du+r,l=-s,u=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,u),e.lineTo(Ut*n-Ht*a,Ht*n+Ut*a),e.lineTo(Ut*s-Ht*o,Ht*s+Ut*o),e.lineTo(Ut*l-Ht*u,Ht*l+Ut*u),e.lineTo(Ut*n+Ht*a,Ut*a-Ht*n),e.lineTo(Ut*s+Ht*o,Ut*o-Ht*s),e.lineTo(Ut*l+Ht*u,Ut*u-Ht*l),e.closePath()}};function t5(e,t){let r=null,n=Pd(a);e=typeof e=="function"?e:Pe(e||Id),t=typeof t=="function"?t:Pe(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pe(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pe(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ks(){}function Ys(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Xy(e){this._context=e}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ys(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r5(e){return new Xy(e)}function Zy(e){this._context=e}Zy.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n5(e){return new Zy(e)}function Qy(e){this._context=e}Qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a5(e){return new Qy(e)}function Jy(e){this._context=e}Jy.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function i5(e){return new Jy(e)}function Mm(e){return e<0?-1:1}function Rm(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(Mm(s)+Mm(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Lm(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jc(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Xs(e){this._context=e}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jc(this,this._t0,Lm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jc(this,Lm(this,r=Rm(this,e,t)),r);break;default:jc(this,this._t0,r=Rm(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ex(e){this._context=new tx(e)}(ex.prototype=Object.create(Xs.prototype)).point=function(e,t){Xs.prototype.point.call(this,t,e)};function tx(e){this._context=e}tx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function s5(e){return new Xs(e)}function o5(e){return new ex(e)}function rx(e){this._context=e}rx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Bm(e),a=Bm(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bm(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function l5(e){return new rx(e)}function nl(e,t){this._context=e,this._t=t}nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function c5(e){return new nl(e,.5)}function u5(e){return new nl(e,0)}function d5(e){return new nl(e,1)}function Dn(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function f5(e,t){return e[t]}function h5(e){const t=[];return t.key=e,t}function m5(){var e=Pe([]),t=fu,r=Dn,n=f5;function a(s){var o=Array.from(e.apply(this,arguments),h5),l,u=o.length,f=-1,c;for(const d of s)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(d,o[l].key,f,s)]).data=d;for(l=0,c=Ad(t(o));l<u;++l)o[c[l]].index=l;return r(o,c),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pe(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pe(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?fu:typeof s=="function"?s:Pe(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Dn,a):r},a}function p5(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Dn(e,t)}}function g5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dn(e,t)}}function v5(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,u=0,f=0;l<o;++l){for(var c=e[t[l]],d=c[n][1]||0,h=c[n-1][1]||0,m=(d-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}u+=d,f+=m*d}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Dn(e,t)}}var al={},nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(nx);var kd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(kd);var il={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(il);var sl={},ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ax);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=il;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,u="",f="",c=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const d=a[l];f?d==="\\"&&l+1<o?(l++,u+=a[l]):d===f?f="":u+=d:c?d==='"'||d==="'"?f=d:d==="]"?(c=!1,s.push(u),u=""):u+=d:d==="["?(c=!0,u&&(s.push(u),u="")):d==="."?u&&(s.push(u),u=""):u+=d,l++}return u&&s.push(u),s}e.toPath=n})(sl);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=kd,n=il,a=sl;function s(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?r.isDeepKey(u)?s(l,a.toPath(u),f):f:c}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const c=l[u];return c===void 0?f:c}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?f:c}}}function o(l,u,f){if(u.length===0)return f;let c=l;for(let d=0;d<u.length;d++){if(c==null||t.isUnsafeProperty(u[d]))return f;c=c[u[d]]}return c===void 0?f:c}e.get=s})(al);var y5=al.get;const Mn=Br(y5);var x5=4;function en(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x5,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ue(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,o)=>{var l=r[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+en(l)+s:a+s},"")}var ft=e=>e===0?0:e>0?1:-1,lr=e=>typeof e=="number"&&e!=+e,Pr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!lr(e),vr=e=>de(e)||typeof e=="string",b5=0,ai=e=>{var t=++b5;return"".concat(e||"").concat(t)},xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(Pr(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return lr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},ix=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ce(e,t,r){return de(e)&&de(t)?en(e+r*(t-e)):t}function sx(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Mn(n,t))===r)}var Me=e=>e===null||typeof e>"u",Ni=e=>Me(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function w5(e){return e!=null}function Ei(){}var j5=["type","size","sizeType"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(null,arguments)}function $m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(r),!0).forEach(function(n){_5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _5(e,t,r){return(t=N5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5(e){var t=E5(e,"string");return typeof t=="symbol"?t:t+""}function E5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5(e,t){if(e==null)return{};var r,n,a=T5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ox={symbolCircle:Id,symbolCross:qI,symbolDiamond:VI,symbolSquare:WI,symbolStar:ZI,symbolTriangle:QI,symbolWye:e5},S5=Math.PI/180,P5=e=>{var t="symbol".concat(Ni(e));return ox[t]||Id},A5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*S5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},I5=(e,t)=>{ox["symbol".concat(Ni(e))]=t},lx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=O5(e,j5),s=Fm(Fm({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=P5(o),m=t5().type(h).size(A5(r,n,o)),p=m();if(p!==null)return p},{className:u,cx:f,cy:c}=s,d=Nt(s);return de(f)&&de(c)&&de(r)?_.createElement("path",hu({},d,{className:ye("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:l()})):null};lx.registerSymbol=I5;var cx=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Cd=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Sd(a)&&(n[a]=s=>r[a](r,s))}),n},k5=(e,t,r)=>n=>(e(t,r,n),null),ol=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Sd(a)&&typeof s=="function"&&(n||(n={}),n[a]=k5(s,t,r))}),n};function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(r),!0).forEach(function(n){D5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D5(e,t,r){return(t=M5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M5(e){var t=R5(e,"string");return typeof t=="symbol"?t:t+""}function R5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=C5({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}var ux={},dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(dx);var Dd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Dd);var fx={},ll={},hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(hx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ll);var mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ll,r=mx;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(fx);var px={},gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=al;function r(n){return function(a){return t.get(a,n)}}e.property=r})(gx);var vx={},Md={},yx={},Rd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Rd);var Ld={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ld);var Bd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Bd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rd,r=Ld,n=Bd;function a(c,d,h){return typeof h!="function"?a(c,d,()=>{}):s(c,d,function m(p,g,v,y,x,w){const b=h(p,g,v,y,x,w);return b!==void 0?!!b:s(p,g,m,w)},new Map)}function s(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,m);case"function":return Object.keys(d).length>0?s(c,{...d},h,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return u(c,d,h,m);if(d instanceof Map)return l(c,d,h,m);if(d instanceof Set)return f(c,d,h,m);const p=Object.keys(d);if(c==null||r.isPrimitive(c))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let g=0;g<p.length;g++){const v=p[g];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!h(c[v],d[v],v,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function l(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,g]of d.entries()){const v=c.get(p);if(h(v,g,p,c,d,m)===!1)return!1}return!0}function u(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let g=0;g<d.length;g++){const v=d[g];let y=!1;for(let x=0;x<c.length;x++){if(p.has(x))continue;const w=c[x];let b=!1;if(h(w,v,g,c,d,m)&&(b=!0),b){p.add(x),y=!0;break}}if(!y)return!1}return!0}function f(c,d,h,m){return d.size===0?!0:c instanceof Set?u([...c],[...d],h,m):!1}e.isMatchWith=a,e.isSetMatch=f})(yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Md);var xx={},$d={},bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bx);var Fd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Fd);var zd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",j="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",S="[object BigInt64Array]",N="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=N,e.float64ArrayTag=P,e.functionTag=d,e.int16ArrayTag=T,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(zd);var wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx,r=Fd,n=zd,a=Ld,s=wx;function o(c,d){return l(c,void 0,c,new Map,d)}function l(c,d,h,m=new Map,p=void 0){const g=p==null?void 0:p(c,d,h,m);if(g!==void 0)return g;if(a.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const v=new Array(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;m.set(c,v);for(const[y,x]of c)v.set(y,l(x,y,h,m,p));return v}if(c instanceof Set){const v=new Set;m.set(c,v);for(const y of c)v.add(l(y,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,v),u(v,c,h,m,p),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Error){const v=new c.constructor;return m.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,u(v,c,h,m,p),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Number){const v=new Number(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof String){const v=new String(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(typeof c=="object"&&f(c)){const v=Object.create(Object.getPrototypeOf(c));return m.set(c,v),u(v,c,h,m,p),v}return c}function u(c,d,h=c,m,p){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(c,y);(x==null||x.writable)&&(c[y]=l(d[y],y,h,m,p))}}function f(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})($d);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$d;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md,r=xx;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(vx);var jx={},_x={},Nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$d,r=zd;function n(a,s){return t.cloneDeepWith(a,(o,l,u,f)=>{const c=s==null?void 0:s(o,l,u,f);if(c!==void 0)return c;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Nx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nx;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(_x);var Ex={},Ud={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ud);var Ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ox);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kd,r=Ud,n=Ox,a=sl;function s(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let c=0;c<u.length;c++){const d=u[c];if((f==null||!Object.hasOwn(f,d))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(d)&&d<f.length))return!1;f=f[d]}return!0}e.has=s})(Ex);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md,r=il,n=_x,a=al,s=Ex;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const c=a.get(f,l);return c===void 0?s.has(f,l):u===void 0?c===void 0:t.isMatch(c,u)}}e.matchesProperty=o})(jx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dd,r=gx,n=vx,a=jx;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx,r=Dd,n=fx,a=px;function s(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(ux);var L5=ux.uniqBy;const Um=Br(L5);function B5(e,t,r){return t===!0?Um(e,r):typeof t=="function"?Um(e,t):e}var Tx={exports:{}},Sx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=_,$5=e_;function F5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z5=typeof Object.is=="function"?Object.is:F5,U5=$5.useSyncExternalStore,H5=cl.useRef,q5=cl.useEffect,G5=cl.useMemo,V5=cl.useDebugValue;Sx.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=H5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=G5(function(){function u(m){if(!f){if(f=!0,c=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return d=p}return d=m}if(p=d,z5(c,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(c=m,p):(c=m,d=g)}var f=!1,c,d,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,a]);var l=U5(e,s[0],s[1]);return q5(function(){o.hasValue=!0,o.value=l},[l]),V5(l),l};Tx.exports=Sx;var W5=Tx.exports,Hd=_.createContext(null),K5=e=>e,Re=()=>{var e=_.useContext(Hd);return e?e.store.dispatch:K5},ks=()=>{},Y5=()=>ks,X5=(e,t)=>e===t;function fe(e){var t=_.useContext(Hd);return W5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Y5,t?t.store.getState:ks,t?t.store.getState:ks,t?e:ks,X5)}function Z5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Q5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function J5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Hm=e=>Array.isArray(e)?e:[e];function ek(e){const t=Array.isArray(e[0])?e[0]:e;return J5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tk(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var rk=class{constructor(e){this.value=e}deref(){return this.value}},nk=typeof WeakRef<"u"?WeakRef:rk,ak=0,qm=1;function ns(){return{s:ak,v:void 0,o:null,p:null}}function Px(e,t={}){let r=ns();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var d;let l=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=ns(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=ns(),g.set(p,l)):l=v}}const f=l;let c;if(l.s===qm)c=l.v;else if(c=e.apply(null,arguments),s++,n){const h=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;h!=null&&n(h,c)&&(c=h,s!==0&&s--),a=typeof c=="object"&&c!==null||typeof c=="function"?new nk(c):c}return f.s=qm,f.v=c,c}return o.clearCache=()=>{r=ns(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ik(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),Z5(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const c={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Px,argsMemoizeOptions:p=[]}=c,g=Hm(h),v=Hm(p),y=ek(a),x=d(function(){return s++,f.apply(null,arguments)},...g),w=m(function(){o++;const j=tk(y,arguments);return l=x.apply(null,j),l},...v);return Object.assign(w,{resultFunc:f,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ee=ik(Px),sk=Object.assign((e,t=ee)=>{Q5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>sk}),Ax={},Ix={},kx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(kx);var Cx={},qd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qd,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(Cx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kx,r=Cx,n=sl;function a(s,o,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},c=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:f(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?f(p,m):typeof p=="object"?p[m]:p,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:d.map(p=>c(p,m))})).slice().sort((m,p)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(Ix);var Dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,u)=>{for(let f=0;f<l.length;f++){const c=l[f];Array.isArray(c)&&u<s?o(c,u+1):a.push(c)}};return o(r,0),a}e.flatten=t})(Dx);var Gd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ud,r=ll,n=Rd,a=Bd;function s(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=s})(Gd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ix,r=Dx,n=Gd;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(Ax);var ok=Ax.sortBy;const ul=Br(ok);var Mx=e=>e.legend.settings,lk=e=>e.legend.size,ck=e=>e.legend.payload;ee([ck,Mx],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ul(n,r):n});var as=1;function uk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>as||Math.abs(o.left-t.left)>as||Math.abs(o.top-t.top)>as||Math.abs(o.width-t.width)>as)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var Rx=Symbol.for("immer-nothing"),Gm=Symbol.for("immer-draftable"),Et=Symbol.for("immer-state");function rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Lt=Object,sa=Lt.getPrototypeOf,Zs="constructor",dl="prototype",mu="configurable",Qs="enumerable",Cs="writable",ii="value",Ar=e=>!!e&&!!e[Et];function cr(e){var t;return e?Lx(e)||fl(e)||!!e[Gm]||!!((t=e[Zs])!=null&&t[Gm])||hl(e)||ml(e):!1}var dk=Lt[dl][Zs].toString(),Vm=new WeakMap;function Lx(e){if(!e||!Vd(e))return!1;const t=sa(e);if(t===null||t===Lt[dl])return!0;const r=Lt.hasOwnProperty.call(t,Zs)&&t[Zs];if(r===Object)return!0;if(!Zn(r))return!1;let n=Vm.get(r);return n===void 0&&(n=Function.toString.call(r),Vm.set(r,n)),n===dk}function Oi(e,t,r=!0){Ti(e)===0?(r?Reflect.ownKeys(e):Lt.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ti(e){const t=e[Et];return t?t.type_:fl(e)?1:hl(e)?2:ml(e)?3:0}var Wm=(e,t,r=Ti(e))=>r===2?e.has(t):Lt[dl].hasOwnProperty.call(e,t),pu=(e,t,r=Ti(e))=>r===2?e.get(t):e[t],Js=(e,t,r,n=Ti(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function fk(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var fl=Array.isArray,hl=e=>e instanceof Map,ml=e=>e instanceof Set,Vd=e=>typeof e=="object",Zn=e=>typeof e=="function",_c=e=>typeof e=="boolean";function hk(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var jr=e=>e.copy_||e.base_,Wd=e=>e.modified_?e.copy_:e.base_;function gu(e,t){if(hl(e))return new Map(e);if(ml(e))return new Set(e);if(fl(e))return Array[dl].slice.call(e);const r=Lx(e);if(t===!0||t==="class_only"&&!r){const n=Lt.getOwnPropertyDescriptors(e);delete n[Et];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[Cs]===!1&&(l[Cs]=!0,l[mu]=!0),(l.get||l.set)&&(n[o]={[mu]:!0,[Cs]:!0,[Qs]:l[Qs],[ii]:e[o]})}return Lt.create(sa(e),n)}else{const n=sa(e);if(n!==null&&r)return{...e};const a=Lt.create(n);return Lt.assign(a,e)}}function Kd(e,t=!1){return pl(e)||Ar(e)||!cr(e)||(Ti(e)>1&&Lt.defineProperties(e,{set:is,add:is,clear:is,delete:is}),Lt.freeze(e),t&&Oi(e,(r,n)=>{Kd(n,!0)},!1)),e}function mk(){rr(2)}var is={[ii]:mk};function pl(e){return e===null||!Vd(e)?!0:Lt.isFrozen(e)}var eo="MapSet",vu="Patches",Km="ArrayMethods",Bx={};function Rn(e){const t=Bx[e];return t||rr(0,e),t}var Ym=e=>!!Bx[e],si,$x=()=>si,pk=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ym(eo)?Rn(eo):void 0,arrayMethodsPlugin_:Ym(Km)?Rn(Km):void 0});function Xm(e,t){t&&(e.patchPlugin_=Rn(vu),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yu(e){xu(e),e.drafts_.forEach(gk),e.drafts_=null}function xu(e){e===si&&(si=e.parent_)}var Zm=e=>si=pk(si,e);function gk(e){const t=e[Et];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Et].modified_&&(yu(t),rr(4)),cr(e)&&(e=Jm(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Et].base_,e,t)}else e=Jm(t,r);return vk(t,e,!0),yu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Rx?e:void 0}function Jm(e,t){if(pl(t))return t;const r=t[Et];if(!r)return Yd(t,e.handledSet_,e);if(!gl(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Ux(r,e)}return r.copy_}function vk(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kd(t,r)}function Fx(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var gl=(e,t)=>e.scope_===t,yk=[];function zx(e,t,r,n){const a=jr(e),s=e.type_;if(n!==void 0&&pu(a,n,s)===t){Js(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Oi(a,(u,f)=>{if(Ar(f)){const c=l.get(f)||[];c.push(u),l.set(f,c)}})}const o=e.draftLocations_.get(t)??yk;for(const l of o)Js(a,l,r,s)}function xk(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!gl(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=Wd(s);zx(e,s.draft_??s,o,r),Ux(s,a)})}function Ux(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}Fx(e)}}function bk(e,t,r){const{scope_:n}=e;if(Ar(r)){const a=r[Et];gl(a,n)&&a.callbacks_.push(function(){Ds(e);const o=Wd(a);zx(e,r,o,t)})}else cr(r)&&e.callbacks_.push(function(){const s=jr(e);pu(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yd(pu(e.copy_,t,e.type_),n.handledSet_,n)})}function Yd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ar(e)||t.has(e)||!cr(e)||pl(e)||(t.add(e),Oi(e,(n,a)=>{if(Ar(a)){const s=a[Et];if(gl(s,r)){const o=Wd(s);Js(e,n,o,e.type_),Fx(s)}}else cr(a)&&Yd(a,t,r)})),e}function wk(e,t){const r=fl(e),n={type_:r?1:0,scope_:t?t.scope_:$x(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Xd;r&&(a=[n],s=oi);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var Xd={get(e,t){if(t===Et)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=jr(e);if(!Wm(a,t,e.type_))return jk(e,a,t);const s=a[t];if(e.finalized_||!cr(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&hk(t))return s;if(s===Nc(e.base_,t)){Ds(e);const o=e.type_===1?+t:t,l=wu(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in jr(e)},ownKeys(e){return Reflect.ownKeys(jr(e))},set(e,t,r){const n=Hx(jr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Nc(jr(e),t),s=a==null?void 0:a[Et];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(fk(r,a)&&(r!==void 0||Wm(e.base_,t,e.type_)))return!0;Ds(e),bu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),bk(e,t,r)),!0},deleteProperty(e,t){return Ds(e),Nc(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),bu(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Cs]:!0,[mu]:e.type_!==1||t!=="length",[Qs]:n[Qs],[ii]:r[t]}},defineProperty(){rr(11)},getPrototypeOf(e){return sa(e.base_)},setPrototypeOf(){rr(12)}},oi={};Oi(Xd,(e,t)=>{oi[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});oi.deleteProperty=function(e,t){return oi.set.call(this,e,t,void 0)};oi.set=function(e,t,r){return Xd.set.call(this,e[0],t,r,e[0])};function Nc(e,t){const r=e[Et];return(r?jr(r):e)[t]}function jk(e,t,r){var a;const n=Hx(t,r);return n?ii in n?n[ii]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Hx(e,t){if(!(t in e))return;let r=sa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sa(r)}}function bu(e){e.modified_||(e.modified_=!0,e.parent_&&bu(e.parent_))}function Ds(e){e.copy_||(e.assigned_=new Map,e.copy_=gu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _k=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Zn(r)&&!Zn(n)){const o=n;n=r;const l=this;return function(f=o,...c){return l.produce(f,d=>n.call(this,d,...c))}}Zn(n)||rr(6),a!==void 0&&!Zn(a)&&rr(7);let s;if(cr(r)){const o=Zm(this),l=wu(o,r,void 0);let u=!0;try{s=n(l),u=!1}finally{u?yu(o):xu(o)}return Xm(o,a),Qm(s,o)}else if(!r||!Vd(r)){if(s=n(r),s===void 0&&(s=r),s===Rx&&(s=void 0),this.autoFreeze_&&Kd(s,!0),a){const o=[],l=[];Rn(vu).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else rr(1,r)},this.produceWithPatches=(r,n)=>{if(Zn(r))return(l,...u)=>this.produceWithPatches(l,f=>r(f,...u));let a,s;return[this.produce(r,n,(l,u)=>{a=l,s=u}),a,s]},_c(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),_c(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),_c(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cr(t)||rr(8),Ar(t)&&(t=or(t));const r=Zm(this),n=wu(r,t,void 0);return n[Et].isManual_=!0,xu(r),n}finishDraft(t,r){const n=t&&t[Et];(!n||!n.isManual_)&&rr(9);const{scope_:a}=n;return Xm(a,r),Qm(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Rn(vu).applyPatches_;return Ar(t)?a(t,r):this.produce(t,s=>a(s,r))}};function wu(e,t,r,n){const[a,s]=hl(t)?Rn(eo).proxyMap_(t,r):ml(t)?Rn(eo).proxySet_(t,r):wk(t,r);return((r==null?void 0:r.scope_)??$x()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?xk(r,s,n):s.callbacks_.push(function(u){var c;(c=u.mapSetPlugin_)==null||c.fixSetContents(s);const{patchPlugin_:f}=u;s.modified_&&f&&f.generatePatches_(s,[],u)}),a}function or(e){return Ar(e)||rr(10,e),qx(e)}function qx(e){if(!cr(e)||pl(e))return e;const t=e[Et];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gu(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gu(e,!0);return Oi(r,(a,s)=>{Js(r,a,qx(s))},n),t&&(t.finalized_=!1),r}var Nk=new _k,Gx=Nk.produce;function Vx(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Ek=Vx(),Ok=Vx,Tk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xc:Xc.apply(null,arguments)};function Yt(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Bt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>sy(n)&&n.type===e,r}var Wx=class Qa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qa.prototype)}static get[Symbol.species](){return Qa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qa(...t[0].concat(this)):new Qa(...t.concat(this))}};function ep(e){return cr(e)?Gx(e,()=>{}):e}function ss(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Sk(e){return typeof e=="boolean"}var Pk=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new Wx;return r&&(Sk(r)?o.push(Ek):o.push(Ok(r.extraArgument))),o},Kx="RTK_autoBatch",ke=()=>e=>({payload:e,meta:{[Kx]:!0}}),tp=e=>t=>{setTimeout(t,e)},Yx=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tp(10):e.type==="callback"?e.queueNotification:tp(e.timeout),f=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>a&&c(),h=n.subscribe(d);return l.add(c),()=>{h(),l.delete(c)}},dispatch(c){var d;try{return a=!((d=c==null?void 0:c.meta)!=null&&d[Kx]),s=!a,s&&(o||(o=!0,u(f))),n.dispatch(c)}finally{a=!0}}})},Ak=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Wx(e);return n&&a.push(Yx(typeof n=="object"?n:void 0)),a};function Ik(e){const t=Pk(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(i_(r))l=oy(r);else throw new Error(Bt(1));let u;typeof n=="function"?u=n(t):u=t();let f=Xc;a&&(f=Tk({trace:!1,...typeof a=="object"&&a}));const c=s_(...u),d=Ak(c);let h=typeof o=="function"?o(d):d();const m=f(...h);return o_(l,s,m)}function Xx(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Bt(28));if(l in t)throw new Error(Bt(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function kk(e){return typeof e=="function"}function Ck(e,t){let[r,n,a]=Xx(t),s;if(kk(e))s=()=>ep(e());else{const l=ep(e);s=()=>l}function o(l=s(),u){let f=[r[u.type],...n.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return f.filter(c=>!!c).length===0&&(f=[a]),f.reduce((c,d)=>{if(d)if(Ar(c)){const m=d(c,u);return m===void 0?c:m}else{if(cr(c))return Gx(c,h=>d(h,u));{const h=d(c,u);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},l)}return o.getInitialState=s,o}var Dk="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mk=(e=21)=>{let t="",r=e;for(;r--;)t+=Dk[Math.random()*64|0];return t},Rk=Symbol.for("rtk-slice-createasyncthunk");function Lk(e,t){return`${e}/${t}`}function Bk({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Rk];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(Bt(11));const l=(typeof a.reducers=="function"?a.reducers(Fk()):a.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,j){const T=typeof b=="string"?b:b.type;if(!T)throw new Error(Bt(12));if(T in f.sliceCaseReducersByType)throw new Error(Bt(13));return f.sliceCaseReducersByType[T]=j,c},addMatcher(b,j){return f.sliceMatchers.push({matcher:b,reducer:j}),c},exposeAction(b,j){return f.actionCreators[b]=j,c},exposeCaseReducer(b,j){return f.sliceCaseReducersByName[b]=j,c}};u.forEach(b=>{const j=l[b],T={reducerName:b,type:Lk(s,b),createNotation:typeof a.reducers=="function"};Uk(j)?qk(T,j,c,t):zk(T,j,c)});function d(){const[b={},j=[],T=void 0]=typeof a.extraReducers=="function"?Xx(a.extraReducers):[a.extraReducers],E={...b,...f.sliceCaseReducersByType};return Ck(a.initialState,S=>{for(let N in E)S.addCase(N,E[N]);for(let N of f.sliceMatchers)S.addMatcher(N.matcher,N.reducer);for(let N of j)S.addMatcher(N.matcher,N.reducer);T&&S.addDefaultCase(T)})}const h=b=>b,m=new Map,p=new WeakMap;let g;function v(b,j){return g||(g=d()),g(b,j)}function y(){return g||(g=d()),g.getInitialState()}function x(b,j=!1){function T(S){let N=S[b];return typeof N>"u"&&j&&(N=ss(p,T,y)),N}function E(S=h){const N=ss(m,j,()=>new WeakMap);return ss(N,S,()=>{const P={};for(const[O,I]of Object.entries(a.selectors??{}))P[O]=$k(I,S,()=>ss(p,S,y),j);return P})}return{reducerPath:b,getSelectors:E,get selectors(){return E(T)},selectSlice:T}}const w={name:s,reducer:v,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(b,{reducerPath:j,...T}={}){const E=j??o;return b.inject({reducerPath:E,reducer:v},T),{...w,...x(E,!0)}}};return w}}function $k(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var At=Bk();function Fk(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function zk({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!Hk(n))throw new Error(Bt(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Yt(e,o):Yt(e))}function Uk(e){return e._reducerDefinitionType==="asyncThunk"}function Hk(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qk({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Bt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:f,options:c}=r,d=a(e,s,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),l&&n.addCase(d.pending,l),u&&n.addCase(d.rejected,u),f&&n.addMatcher(d.settled,f),n.exposeCaseReducer(t,{fulfilled:o||os,pending:l||os,rejected:u||os,settled:f||os})}function os(){}var Gk="task",Zx="listener",Qx="completed",Zd="cancelled",Vk=`task-${Zd}`,Wk=`task-${Qx}`,ju=`${Zx}-${Zd}`,Kk=`${Zx}-${Qx}`,vl=class{constructor(e){pc(this,"name","TaskAbortError");pc(this,"message");this.code=e,this.message=`${Gk} ${Zd} (reason: ${e})`}},Qd=(e,t)=>{if(typeof e!="function")throw new TypeError(Bt(32))},to=()=>{},Jx=(e,t=to)=>(e.catch(t),e),eb=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),On=e=>{if(e.aborted)throw new vl(e.reason)};function tb(e,t){let r=to;return new Promise((n,a)=>{const s=()=>a(new vl(e.reason));if(e.aborted){s();return}r=eb(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=to})}var Yk=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof vl?"cancelled":"rejected",error:r}}finally{t==null||t()}},ro=e=>t=>Jx(tb(e,t).then(r=>(On(e),r))),rb=e=>{const t=ro(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ra}=Object,rp={},yl="listenerMiddleware",Xk=(e,t)=>{const r=n=>eb(e,()=>n.abort(e.reason));return(n,a)=>{Qd(n);const s=new AbortController;r(s);const o=Yk(async()=>{On(e),On(s.signal);const l=await n({pause:ro(s.signal),delay:rb(s.signal),signal:s.signal});return On(s.signal),l},()=>s.abort(Wk));return a!=null&&a.autoJoin&&t.push(o.catch(to)),{result:ro(e)(o),cancel(){s.abort(Vk)}}}},Zk=(e,t)=>{const r=async(n,a)=>{On(t);let s=()=>{};const l=[new Promise((u,f)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),u([d,h.getState(),h.getOriginalState()])}});s=()=>{c(),f()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await tb(t,Promise.race(l));return On(t),u}finally{s()}};return(n,a)=>Jx(r(n,a))},nb=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Yt(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Bt(21));return Qd(s),{predicate:a,type:t,effect:s}},ab=ra(e=>{const{type:t,predicate:r,effect:n}=nb(e);return{id:Mk(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Bt(22))}}},{withTypes:()=>ab}),np=(e,t)=>{const{type:r,effect:n,predicate:a}=nb(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},_u=e=>{e.pending.forEach(t=>{t.abort(ju)})},Qk=(e,t)=>()=>{for(const r of t.keys())_u(r);e.clear()},ap=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ib=ra(Yt(`${yl}/add`),{withTypes:()=>ib}),Jk=Yt(`${yl}/removeAll`),sb=ra(Yt(`${yl}/remove`),{withTypes:()=>sb}),eC=(...e)=>{console.error(`${yl}/error`,...e)},Si=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:o=eC}=e;Qd(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&_u(m)}),u=m=>{const p=np(t,m)??ab(m);return l(p)};ra(u,{withTypes:()=>u});const f=m=>{const p=np(t,m);return p&&(p.unsubscribe(),m.cancelActive&&_u(p)),!!p};ra(f,{withTypes:()=>f});const c=async(m,p,g,v)=>{const y=new AbortController,x=Zk(u,y.signal),w=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(p,ra({},g,{getOriginalState:v,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:rb(y.signal),pause:ro(y.signal),extra:s,signal:y.signal,fork:Xk(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((b,j,T)=>{b!==y&&(b.abort(ju),T.delete(b))})},cancel:()=>{y.abort(ju),m.pending.delete(y)},throwIfCancelled:()=>{On(y.signal)}})))}catch(b){b instanceof vl||ap(o,b,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(Kk),a(m),m.pending.delete(y)}},d=Qk(t,r);return{middleware:m=>p=>g=>{if(!sy(g))return p(g);if(ib.match(g))return u(g.payload);if(Jk.match(g)){d();return}if(sb.match(g))return f(g.payload);let v=m.getState();const y=()=>{if(v===rp)throw new Error(Bt(23));return v};let x;try{if(x=p(g),t.size>0){const w=m.getState(),b=Array.from(t.values());for(const j of b){let T=!1;try{T=j.predicate(g,w,v)}catch(E){T=!1,ap(o,E,{raisedBy:"predicate"})}T&&c(j,g,m,y)}}}finally{v=rp}return x},startListening:u,stopListening:f,clearListeners:d}};function Bt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tC={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ob=At({name:"chartLayout",initialState:tC,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:rC,setLayout:nC,setChartSize:aC,setScale:iC}=ob.actions,sC=ob.reducer;function lb(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $e(e){return Number.isFinite(e)}function yr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(n){oC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oC(e,t,r){return(t=lC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lC(e){var t=cC(e,"string");return typeof t=="symbol"?t:t+""}function cC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oe(e,t,r){return Me(e)||Me(t)?r:vr(t)?Mn(e,t,r):typeof t=="function"?t(e):r}var uC=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&de(e[s]))return Qn(Qn({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&de(e[o]))return Qn(Qn({},e),{},{[o]:e[o]+(a||0)})}return e},un=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cb=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},ub=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:c,ticks:d,niceTicks:h,axisType:m}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(g=m==="angleAxis"&&s&&s.length>=2?ft(s[0]-s[1])*2*g:g,d||h){var v=(d||h||[]).map((y,x)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+g,value:y,offset:g,index:x}});return v.filter(y=>!lr(y.coordinate))}return u&&f?f.map((y,x)=>({coordinate:o(y)+g,value:y,index:x,offset:g})):o.ticks&&c!=null?o.ticks(c).map((y,x)=>({coordinate:o(y)+g,value:y,offset:g,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+g,value:n?n[y]:y,index:x,offset:g}))},sp=1e-4,dC=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sp,s=Math.max(n[0],n[1])+sp,o=e(t[0]),l=e(t[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},fC=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},hC=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var u=e[l],f=u==null?void 0:u[a];if(f!=null){var c=f[1],d=f[0],h=lr(c)?d:c;h>=0?(f[0]=s,f[1]=s+h,s=c):(f[0]=o,f[1]=o+h,o=c)}}}},mC=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[a];if(u!=null){var f=lr(u[1])?u[0]:u[1];f>=0?(u[0]=s,u[1]=s+f,s=u[1]):(u[0]=0,u[1]=0)}}}},pC={sign:hC,expand:p5,none:Dn,silhouette:g5,wiggle:v5,positive:mC},gC=(e,t,r)=>{var n,a=(n=pC[r])!==null&&n!==void 0?n:Dn,s=m5().keys(t).value((l,u)=>Number(Oe(l,u,0))).order(fu).offset(a),o=s(e);return o.forEach((l,u)=>{l.forEach((f,c)=>{var d=Oe(e[c],t[u],0);Array.isArray(d)&&d.length===2&&de(d[0])&&de(d[1])&&(f[0]=d[0],f[1]=d[1])})}),o};function vC(e){return e==null?void 0:String(e)}function op(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(a[t.dataKey])){var l=sx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Oe(a,Me(o)?t.dataKey:o);return Me(u)?null:t.scale(u)}var lp=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Oe(s,t.dataKey,t.scale.domain()[o]);return Me(l)?null:t.scale(l)-a/2+n},yC=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},xC=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},bC=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wC=(e,t,r)=>{if(e!=null)return bC(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:o}=s,l=o.reduce((u,f)=>{var c=lb(f,t,r),d=xC(c);return!$e(d[0])||!$e(d[1])?u:[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},cp=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,up=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oa=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ul(t,c=>c.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],f=a[o-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((f==null?void 0:f.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function dp(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Qn(Qn({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Oa(e,t){if(e)return String(e);if(typeof t=="string")return t}var jC=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_C=(e,t)=>t==="centric"?e.angle:e.radius,zr=e=>e.layout.width,Ur=e=>e.layout.height,NC=e=>e.layout.scale,db=e=>e.layout.margin,xl=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bl=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fb="data-recharts-item-index",hb="data-recharts-item-id",Pi=60;function fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fp(Object(r),!0).forEach(function(n){EC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EC(e,t,r){return(t=OC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OC(e){var t=TC(e,"string");return typeof t=="symbol"?t:t+""}function TC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SC=e=>e.brush.height;function PC(e){var t=bl(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pi;return r+a}return r},0)}function AC(e){var t=bl(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pi;return r+a}return r},0)}function IC(e){var t=xl(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function kC(e){var t=xl(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nt=ee([zr,Ur,db,SC,PC,AC,IC,kC,Mx,lk],(e,t,r,n,a,s,o,l,u,f)=>{var c={left:(r.left||0)+a,right:(r.right||0)+s},d={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=ls(ls({},d),c),m=h.bottom;h.bottom+=n,h=uC(h,u,f);var p=e-h.left-h.right,g=t-h.top-h.bottom;return ls(ls({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),CC=ee(nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jd=ee(zr,Ur,(e,t)=>({x:0,y:0,width:e,height:t})),DC=_.createContext(null),bt=()=>_.useContext(DC)!=null,wl=e=>e.brush,jl=ee([wl,nt,db],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),mb={},pb={},gb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),c=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},d=()=>{f&&c(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),o=void 0,l=null},v=()=>{c()},y=function(...x){if(a!=null&&a.aborted)return;o=this,l=x;const w=h==null;m(),u&&w&&c()};return y.schedule=m,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(gb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gb;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:u}=s,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let c,d=null;const h=t.debounce(function(...g){c=n.apply(this,g),d=null},a,{edges:f}),m=function(...g){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(c=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},p=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(pb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pb;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(mb);var MC=mb.throttle;const RC=Br(MC);var no=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},vb=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:o}=r,l=Pr(n)?e:Number(n),u=Pr(a)?t:Number(a);return s&&s>0&&(l?u=l/s:u&&(l=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},LC={width:0,height:0,overflow:"visible"},BC={width:0,overflowX:"visible"},$C={height:0,overflowY:"visible"},FC={},zC=e=>{var{width:t,height:r}=e,n=Pr(t),a=Pr(r);return n&&a?LC:n?BC:a?$C:FC};function UC(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(r),!0).forEach(function(n){HC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HC(e,t,r){return(t=qC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qC(e){var t=GC(e,"string");return typeof t=="symbol"?t:t+""}function GC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yb=_.createContext({width:-1,height:-1});function VC(e){return yr(e.width)&&yr(e.height)}function xb(e){var{children:t,width:r,height:n}=e,a=_.useMemo(()=>({width:r,height:n}),[r,n]);return VC(a)?_.createElement(yb.Provider,{value:a},t):null}var ef=()=>_.useContext(yb),WC=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:c=0,id:d,className:h,onResize:m,style:p={}}=e,g=_.useRef(null),v=_.useRef();v.current=m,_.useImperativeHandle(t,()=>g.current);var[y,x]=_.useState({containerWidth:n.width,containerHeight:n.height}),w=_.useCallback((S,N)=>{x(P=>{var O=Math.round(S),I=Math.round(N);return P.containerWidth===O&&P.containerHeight===I?P:{containerWidth:O,containerHeight:I}})},[]);_.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Ei;var S=I=>{var k,{width:A,height:M}=I[0].contentRect;w(A,M),(k=v.current)===null||k===void 0||k.call(v,A,M)};c>0&&(S=RC(S,c,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:P,height:O}=g.current.getBoundingClientRect();return w(P,O),N.observe(g.current),()=>{N.disconnect()}},[w,c]);var{containerWidth:b,containerHeight:j}=y;no(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:E}=vb(b,j,{width:a,height:s,aspect:r,maxHeight:u});return no(T!=null&&T>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,E,a,s,o,l,r),_.createElement("div",{id:d?"".concat(d):void 0,className:ye("recharts-responsive-container",h),style:mp(mp({},p),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:u}),ref:g},_.createElement("div",{style:zC({width:a,height:s})},_.createElement(xb,{width:T,height:E},f)))}),cs=_.forwardRef((e,t)=>{var r=ef();if(yr(r.width)&&yr(r.height))return e.children;var{width:n,height:a}=UC({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=vb(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(o)?_.createElement(xb,{width:s,height:o},e.children):_.createElement(WC,Nu({},e,{width:n,height:a,ref:t}))});function bb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _l=()=>{var e,t=bt(),r=fe(CC),n=fe(jl),a=(e=fe(wl))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},KC={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wb=()=>{var e;return(e=fe(nt))!==null&&e!==void 0?e:KC},jb=()=>fe(zr),_b=()=>fe(Ur),we=e=>e.layout.layoutType,Ta=()=>fe(we),YC=()=>{var e=Ta();return e!==void 0},Nl=e=>{var t=Re(),r=bt(),{width:n,height:a}=e,s=ef(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),_.useEffect(()=>{!r&&yr(o)&&yr(l)&&t(aC({width:o,height:l}))},[t,r,o,l]),null},Nb=Symbol.for("immer-nothing"),pp=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function nr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object.getPrototypeOf;function la(e){return!!e&&!!e[Ft]}function Ln(e){var t;return e?Eb(e)||Array.isArray(e)||!!e[pp]||!!((t=e.constructor)!=null&&t[pp])||Ai(e)||Ol(e):!1}var XC=Object.prototype.constructor.toString(),gp=new WeakMap;function Eb(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=gp.get(r);return n===void 0&&(n=Function.toString.call(r),gp.set(r,n)),n===XC}function ao(e,t,r=!0){El(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function El(e){const t=e[Ft];return t?t.type_:Array.isArray(e)?1:Ai(e)?2:Ol(e)?3:0}function Eu(e,t){return El(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ob(e,t,r){const n=El(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ai(e){return e instanceof Map}function Ol(e){return e instanceof Set}function gn(e){return e.copy_||e.base_}function Ou(e,t){if(Ai(e))return new Map(e);if(Ol(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Eb(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ft];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(li(e),n)}else{const n=li(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function tf(e,t=!1){return Tl(e)||la(e)||!Ln(e)||(El(e)>1&&Object.defineProperties(e,{set:us,add:us,clear:us,delete:us}),Object.freeze(e),t&&Object.values(e).forEach(r=>tf(r,!0))),e}function QC(){nr(2)}var us={value:QC};function Tl(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var JC={};function Bn(e){const t=JC[e];return t||nr(0,e),t}var ci;function Tb(){return ci}function e3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vp(e,t){t&&(Bn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tu(e){Su(e),e.drafts_.forEach(t3),e.drafts_=null}function Su(e){e===ci&&(ci=e.parent_)}function yp(e){return ci=e3(ci,e)}function t3(e){const t=e[Ft];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ft].modified_&&(Tu(t),nr(4)),Ln(e)&&(e=io(t,e),t.parent_||so(t,e)),t.patches_&&Bn("Patches").generateReplacementPatches_(r[Ft].base_,e,t.patches_,t.inversePatches_)):e=io(t,r,[]),Tu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Nb?e:void 0}function io(e,t,r){if(Tl(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ft];if(!a)return ao(t,(s,o)=>bp(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return so(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),ao(o,(u,f)=>bp(e,a,s,u,f,r,l),n),so(e,s,!1),r&&e.patches_&&Bn("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function bp(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=Tl(a);if(!(l&&!o)){if(la(a)){const u=s&&t&&t.type_!==3&&!Eu(t.assigned_,n)?s.concat(n):void 0,f=io(e,a,u);if(Ob(r,n,f),la(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ln(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;io(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ai(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&so(e,a)}}}function so(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tf(t,r)}function r3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Tb(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=rf;r&&(a=[n],s=ui);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var rf={get(e,t){if(t===Ft)return e;const r=gn(e);if(!Eu(r,t))return n3(e,r,t);const n=r[t];return e.finalized_||!Ln(n)?n:n===Ec(e.base_,t)?(Oc(e),e.copy_[t]=Au(n,e)):n},has(e,t){return t in gn(e)},ownKeys(e){return Reflect.ownKeys(gn(e))},set(e,t,r){const n=Sb(gn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ec(gn(e),t),s=a==null?void 0:a[Ft];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZC(r,a)&&(r!==void 0||Eu(e.base_,t)))return!0;Oc(e),Pu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ec(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Oc(e),Pu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nr(11)},getPrototypeOf(e){return li(e.base_)},setPrototypeOf(){nr(12)}},ui={};ao(rf,(e,t)=>{ui[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ui.deleteProperty=function(e,t){return ui.set.call(this,e,t,void 0)};ui.set=function(e,t,r){return rf.set.call(this,e[0],t,r,e[0])};function Ec(e,t){const r=e[Ft];return(r?gn(r):e)[t]}function n3(e,t,r){var a;const n=Sb(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Sb(e,t){if(!(t in e))return;let r=li(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=li(r)}}function Pu(e){e.modified_||(e.modified_=!0,e.parent_&&Pu(e.parent_))}function Oc(e){e.copy_||(e.copy_=Ou(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var a3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(u=s,...f){return o.produce(u,c=>r.call(this,c,...f))}}typeof r!="function"&&nr(6),n!==void 0&&typeof n!="function"&&nr(7);let a;if(Ln(t)){const s=yp(this),o=Au(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Tu(s):Su(s)}return vp(s,n),xp(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Nb&&(a=void 0),this.autoFreeze_&&tf(a,!0),n){const s=[],o=[];Bn("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else nr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ln(e)||nr(8),la(e)&&(e=i3(e));const t=yp(this),r=Au(e,void 0);return r[Ft].isManual_=!0,Su(t),r}finishDraft(e,t){const r=e&&e[Ft];(!r||!r.isManual_)&&nr(9);const{scope_:n}=r;return vp(n,t),xp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Bn("Patches").applyPatches_;return la(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Au(e,t){const r=Ai(e)?Bn("MapSet").proxyMap_(e,t):Ol(e)?Bn("MapSet").proxySet_(e,t):r3(e,t);return(t?t.scope_:Tb()).drafts_.push(r),r}function i3(e){return la(e)||nr(10,e),Pb(e)}function Pb(e){if(!Ln(e)||Tl(e))return e;const t=e[Ft];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ou(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ou(e,!0);return ao(r,(a,s)=>{Ob(r,a,Pb(s))},n),t&&(t.finalized_=!1),r}var s3=new a3;s3.produce;var o3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ab=At({name:"legend",initialState:o3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ke()},removeLegendPayload:{reducer(e,t){var r=or(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ke()}}}),{setLegendSize:HV,setLegendSettings:qV,addLegendPayload:Ib,replaceLegendPayload:kb,removeLegendPayload:Cb}=Ab.actions,l3=Ab.reducer;function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(null,arguments)}function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wp(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return(t=u3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=d3(e,"string");return typeof t=="symbol"?t:t+""}function d3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f3(e){return Array.isArray(e)&&vr(e[0])&&vr(e[1])?e.join(" ~ "):e}var h3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},T=(l?ul(s,l):s).map((E,S)=>{if(E.type==="none")return null;var N=E.formatter||o||f3,{value:P,name:O}=E,I=P,k=O;if(N){var A=N(P,O,E,S,s);if(Array.isArray(A))[I,k]=A;else if(A!=null)I=A;else return null}var M=Tc({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:M},vr(k)?_.createElement("span",{className:"recharts-tooltip-item-name"},k):null,vr(k)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},I),_.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},T)}return null},p=Tc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Tc({margin:0},a),v=!Me(c),y=v?c:"",x=ye("recharts-default-tooltip",u),w=ye("recharts-tooltip-label",f);v&&d&&s!==void 0&&s!==null&&(y=d(c,s));var b=h?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Iu({className:x,style:p},b),_.createElement("p",{className:w,style:g},_.isValidElement(y)?y:"".concat(y)),m())},za="recharts-tooltip-wrapper",m3={visibility:"hidden"};function p3(e){var{coordinate:t,translateX:r,translateY:n}=e;return ye(za,{["".concat(za,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(za,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(za,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(za,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function jp(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(s&&de(s[n]))return s[n];var c=r[n]-l-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?c:d;var h=u[n];if(h==null)return 0;if(o[n]){var m=c,p=h;return m<p?Math.max(d,h):Math.max(c,h)}if(f==null)return 0;var g=d+l,v=h+f;return g>v?Math.max(c,h):Math.max(d,h)}function g3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v3(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,c,d;return o.height>0&&o.width>0&&r?(c=jp({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=jp({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=g3({translateX:c,translateY:d,useTranslate3d:l})):f=m3,{cssProperties:f,cssClasses:p3({translateX:c,translateY:d,coordinate:r})}}function _p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_p(Object(r),!0).forEach(function(n){ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ku(e,t,r){return(t=y3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3(e){var t=x3(e,"string");return typeof t=="symbol"?t:t+""}function x3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class b3 extends _.PureComponent{constructor(){super(...arguments),ku(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ku(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=v3({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:c,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),b=y?{}:ds(ds({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=ds(ds({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:v},s)}}var Db=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(null,arguments)}function Np(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Np(Object(r),!0).forEach(function(n){w3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Np(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w3(e,t,r){return(t=j3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=_3(e,"string");return typeof t=="symbol"?t:t+""}function _3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Op={curveBasisClosed:n5,curveBasisOpen:a5,curveBasis:r5,curveBumpX:UI,curveBumpY:HI,curveLinearClosed:i5,curveLinear:rl,curveMonotoneX:s5,curveMonotoneY:o5,curveNatural:l5,curveStep:c5,curveStepAfter:d5,curveStepBefore:u5},oo=e=>$e(e.x)&&$e(e.y),Tp=e=>e.base!=null&&oo(e.base)&&oo(e),Ua=e=>e.x,Ha=e=>e.y,N3=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ni(e));return(r==="curveMonotone"||r==="curveBump")&&t?Op["".concat(r).concat(t==="vertical"?"Y":"X")]:Op[r]||rl},E3=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,o=N3(t,a),l=s?r.filter(oo):r,u;if(Array.isArray(n)){var f=r.map((m,p)=>Ep(Ep({},m),{},{base:n[p]}));a==="vertical"?u=rs().y(Ha).x1(Ua).x0(m=>m.base.x):u=rs().x(Ua).y1(Ha).y0(m=>m.base.y);var c=u.defined(Tp).curve(o),d=s?f.filter(Tp):f;return c(d)}a==="vertical"&&de(n)?u=rs().y(Ha).x1(Ua).x0(n):de(n)?u=rs().x(Ua).y1(Ha).y0(n):u=Vy().x(Ua).y(Ha);var h=u.defined(oo).curve(o);return h(l)},nf=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Ta();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?E3(o):n;return _.createElement("path",Cu({},$t(e),Cd(e),{className:ye("recharts-curve",t),d:l===null?void 0:l,ref:a}))},O3=["x","y","top","left","width","height","className"];function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}function Sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sp(Object(r),!0).forEach(function(n){S3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S3(e,t,r){return(t=P3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=A3(e,"string");return typeof t=="symbol"?t:t+""}function A3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I3(e,t){if(e==null)return{};var r,n,a=k3(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C3=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),D3=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,u=I3(e,O3),f=T3({x:t,y:r,top:n,left:a,width:s,height:o},u);return!de(t)||!de(r)||!de(s)||!de(o)||!de(n)||!de(a)?null:_.createElement("path",Du({},Nt(f),{className:ye("recharts-cross",l),d:C3(t,r,s,o,n,a)}))};function M3(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Pp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pp(Object(r),!0).forEach(function(n){R3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3(e,t,r){return(t=L3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=B3(e,"string");return typeof t=="symbol"?t:t+""}function B3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Mb=(e,t,r)=>e.map(n=>"".concat($3(n)," ").concat(t,"ms ").concat(r)).join(","),F3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),di=(e,t)=>Object.keys(t).reduce((r,n)=>Ap(Ap({},r),{},{[n]:e(n,t[n])}),{});function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(r),!0).forEach(function(n){z3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3(e,t,r){return(t=U3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=H3(e,"string");return typeof t=="symbol"?t:t+""}function H3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lo=(e,t,r)=>e+(t-e)*r,Mu=e=>{var{from:t,to:r}=e;return t!==r},Rb=(e,t,r)=>{var n=di((a,s)=>{if(Mu(s)){var[o,l]=e(s.from,s.to,s.velocity);return tt(tt({},s),{},{from:o,velocity:l})}return s},t);return r<1?di((a,s)=>Mu(s)&&n[a]!=null?tt(tt({},s),{},{velocity:lo(s.velocity,n[a].velocity,r),from:lo(s.from,n[a].from,r)}):s,t):Rb(e,n,r-1)};function q3(e,t,r,n,a,s){var o,l=n.reduce((h,m)=>tt(tt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>di((h,m)=>m.from,l),f=()=>!Object.values(l).filter(Mu).length,c=null,d=h=>{o||(o=h);var m=h-o,p=m/r.dt;l=Rb(r,l,p),a(tt(tt(tt({},e),t),u())),o=h,f()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function G3(e,t,r,n,a,s,o){var l=null,u=a.reduce((d,h)=>{var m=e[h],p=t[h];return m==null||p==null?d:tt(tt({},d),{},{[h]:[m,p]})},{}),f,c=d=>{f||(f=d);var h=(d-f)/n,m=di((g,v)=>lo(...v,r(h)),u);if(s(tt(tt(tt({},e),t),m)),h<1)l=o.setTimeout(c);else{var p=di((g,v)=>lo(...v,r(1)),u);s(tt(tt(tt({},e),t),p))}};return()=>(l=o.setTimeout(c),()=>{var d;(d=l)===null||d===void 0||d()})}const V3=(e,t,r,n,a,s)=>{var o=F3(e,t);return r==null?()=>(a(tt(tt({},e),t)),()=>{}):r.isStepper===!0?q3(e,t,r,o,a,s):G3(e,t,r,n,o,a,s)};var co=1e-4,Lb=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Bb=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),kp=(e,t)=>r=>{var n=Lb(e,t);return Bb(n,r)},W3=(e,t)=>r=>{var n=Lb(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return Bb(a,r)},K3=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},Y3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=K3(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},X3=(e,t,r,n)=>{var a=kp(e,r),s=kp(t,n),o=W3(e,r),l=f=>f>1?1:f<0?0:f,u=f=>{for(var c=f>1?1:f,d=c,h=0;h<8;++h){var m=a(d)-c,p=o(d);if(Math.abs(m-c)<co||p<co)return s(d);d=l(d-m/p)}return s(d)};return u.isStepper=!1,u},Cp=function(){return X3(...Y3(...arguments))},Z3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,u)=>{var f=-(o-l)*r,c=u*n,d=u+(f-c)*a/1e3,h=u*a/1e3+o;return Math.abs(h-l)<co&&Math.abs(d)<co?[l,0]:[h,d]};return s.isStepper=!0,s.dt=a,s},Q3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cp(e);case"spring":return Z3();default:if(e.split("(")[0]==="cubic-bezier")return Cp(e)}return typeof e=="function"?e:null};function J3(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){a=e.setTimeout(s.bind(null,f),u);return}s(u),a=e.setTimeout(s.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class eD{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function tD(){return J3(new eD)}var rD=_.createContext(tD);function nD(e,t){var r=_.useContext(rD);return _.useMemo(()=>t??r(e),[e,t,r])}var aD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sl={isSsr:aD()},iD={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Dp={t:0},Sc={t:1};function Ii(e){var t=mt(e,iD),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,c=r==="auto"?!Sl.isSsr:r,d=nD(t.animationId,t.animationManager),[h,m]=_.useState(c?Dp:Sc),p=_.useRef(null);return _.useEffect(()=>{c||m(Sc)},[c]),_.useEffect(()=>{if(!c||!n)return Ei;var g=V3(Dp,Sc,Q3(s),a,m,d.getTimeoutController()),v=()=>{p.current=g()};return d.start([u,o,v,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[c,n,a,s,o,u,l,d]),f(h.t)}function ki(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(ai(t)),n=_.useRef(e);return n.current!==e&&(r.current=ai(t),n.current=e),r.current}var sD=["radius"],oD=["radius"],Mp,Rp,Lp,Bp,$p,Fp,zp,Up,Hp,qp;function Gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(r),!0).forEach(function(n){lD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lD(e,t,r){return(t=cD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=uD(e,"string");return typeof t=="symbol"?t:t+""}function uD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}function Wp(e,t){if(e==null)return{};var r,n,a=dD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Kp=(e,t,r,n,a)=>{var s=en(r),o=en(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),u=o>=0?1:-1,f=s>=0?1:-1,c=o>=0&&s>=0||o<0&&s<0?1:0,d;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>l?l:a[m];d=Ue(Mp||(Mp=hr(["M",",",""])),e,t+u*h[0]),h[0]>0&&(d+=Ue(Rp||(Rp=hr(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+f*h[0],t)),d+=Ue(Lp||(Lp=hr(["L ",",",""])),e+r-f*h[1],t),h[1]>0&&(d+=Ue(Bp||(Bp=hr(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+u*h[1])),d+=Ue($p||($p=hr(["L ",",",""])),e+r,t+n-u*h[2]),h[2]>0&&(d+=Ue(Fp||(Fp=hr(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-f*h[2],t+n)),d+=Ue(zp||(zp=hr(["L ",",",""])),e+f*h[3],t+n),h[3]>0&&(d+=Ue(Up||(Up=hr(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-u*h[3])),d+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);d=Ue(Hp||(Hp=hr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*g,g,g,c,e+f*g,t,e+r-f*g,t,g,g,c,e+r,t+u*g,e+r,t+n-u*g,g,g,c,e+r-f*g,t+n,e+f*g,t+n,g,g,c,e,t+n-u*g)}else d=Ue(qp||(qp=hr(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},Yp={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$b=e=>{var t=mt(e,Yp),r=_.useRef(null),[n,a]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:o,width:l,height:u,radius:f,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=_.useRef(l),y=_.useRef(u),x=_.useRef(s),w=_.useRef(o),b=_.useMemo(()=>({x:s,y:o,width:l,height:u,radius:f}),[s,o,l,u,f]),j=ki(b,"rectangle-");if(s!==+s||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var T=ye("recharts-rectangle",c);if(!g){var E=Nt(t),{radius:S}=E,N=Wp(E,sD);return _.createElement("path",uo({},N,{x:en(s),y:en(o),width:en(l),height:en(u),radius:typeof f=="number"?f:void 0,className:T,d:Kp(s,o,l,u,f)}))}var P=v.current,O=y.current,I=x.current,k=w.current,A="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),R=Mb(["strokeDasharray"],h,typeof d=="string"?d:Yp.animationEasing);return _.createElement(Ii,{animationId:j,key:j,canBegin:n>0,duration:h,easing:d,isActive:g,begin:m},D=>{var q=Ce(P,l,D),F=Ce(O,u,D),$=Ce(I,s,D),C=Ce(k,o,D);r.current&&(v.current=q,y.current=F,x.current=$,w.current=C);var L;p?D>0?L={transition:R,strokeDasharray:M}:L={strokeDasharray:A}:L={strokeDasharray:M};var z=Nt(t),{radius:W}=z,V=Wp(z,oD);return _.createElement("path",uo({},V,{radius:typeof f=="number"?f:void 0,className:T,d:Kp($,C,q,F,f),ref:r,style:Vp(Vp({},L),t.style)}))})};function Xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(r),!0).forEach(function(n){fD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fD(e,t,r){return(t=hD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fo=Math.PI/180,pD=e=>e*180/Math.PI,Xe=(e,t,r,n)=>({x:e+Math.cos(-fo*n)*r,y:t+Math.sin(-fo*n)*r}),Fb=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gD=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},vD=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=gD({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>s&&(u=2*Math.PI-u),{radius:o,angle:pD(u),angleInRadian:u}},yD=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},xD=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},bD=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=vD({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:f}=yD(t),c=s,d;if(u<=f){for(;c>f;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=f}else{for(;c>u;)c-=360;for(;c<f;)c+=360;d=c>=f&&c<=u}return d?Zp(Zp({},t),{},{radius:a,angle:xD(c,t)}):null};function zb(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=Xe(t,r,n,a),l=Xe(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var Qp,Jp,e0,t0,r0,n0,a0;function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(null,arguments)}function yn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wD=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fs=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+n,c=Math.asin(l/f)/fo,d=u?a:a+s*c,h=Xe(t,r,f,d),m=Xe(t,r,n,d),p=u?a-s*c:a,g=Xe(t,r,f*Math.cos(c*fo),p);return{center:h,circleTangency:m,lineTangency:g,theta:c}},Ub=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=wD(s,o),u=s+l,f=Xe(t,r,a,s),c=Xe(t,r,a,u),d=Ue(Qp||(Qp=yn(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(l)>180),+(s>u),c.x,c.y);if(n>0){var h=Xe(t,r,n,s),m=Xe(t,r,n,u);d+=Ue(Jp||(Jp=yn(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(s<=u),h.x,h.y)}else d+=Ue(e0||(e0=yn(["L ",","," Z"])),t,r);return d},jD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,c=ft(f-u),{circleTangency:d,lineTangency:h,theta:m}=fs({cx:t,cy:r,radius:a,angle:u,sign:c,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:v}=fs({cx:t,cy:r,radius:a,angle:f,sign:-c,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(u-f):Math.abs(u-f)-m-v;if(y<0)return o?Ue(t0||(t0=yn(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):Ub({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var x=Ue(r0||(r0=yn(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(c<0),d.x,d.y,a,a,+(y>180),+(c<0),p.x,p.y,s,s,+(c<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:b,theta:j}=fs({cx:t,cy:r,radius:n,angle:u,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:T,lineTangency:E,theta:S}=fs({cx:t,cy:r,radius:n,angle:f,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=l?Math.abs(u-f):Math.abs(u-f)-j-S;if(N<0&&s===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+=Ue(n0||(n0=yn(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,s,s,+(c<0),T.x,T.y,n,n,+(N>180),+(c>0),w.x,w.y,s,s,+(c<0),b.x,b.y)}else x+=Ue(a0||(a0=yn(["L",",","Z"])),t,r);return x},_D={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Hb=e=>{var t=mt(e,_D),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c,className:d}=t;if(s<a||f===c)return null;var h=ye("recharts-sector",d),m=s-a,p=xt(o,m,0,!0),g;return p>0&&Math.abs(f-c)<360?g=jD({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):g=Ub({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:c}),_.createElement("path",Ru({},Nt(t),{className:h,d:g}))};function ND(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(cx(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,u=Xe(n,a,s,l),f=Xe(n,a,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return zb(t)}}var qb={},Gb={},Vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qd;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Vb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Gb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd,r=Gb;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=a,a+=o;return u}e.range=n})(qb);var ED=qb.range;const Wb=Br(ED);function rn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OD(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function af(e){let t,r,n;e.length!==2?(t=rn,r=(l,u)=>rn(e(l),u),n=(l,u)=>e(l)-u):(t=e===rn||e===OD?e:TD,r=e,n=e);function a(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<0?f=d+1:c=d}while(f<c)}return f}function s(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<=0?f=d+1:c=d}while(f<c)}return f}function o(l,u,f=0,c=l.length){const d=a(l,u,f,c-1);return d>f&&n(l[d-1],u)>-n(l[d],u)?d-1:d}return{left:a,center:o,right:s}}function TD(){return 0}function Kb(e){return e===null?NaN:+e}function*SD(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PD=af(rn),Ci=PD.right;af(Kb).center;class i0 extends Map{constructor(t,r=kD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(s0(this,t))}has(t){return super.has(s0(this,t))}set(t,r){return super.set(AD(this,t),r)}delete(t){return super.delete(ID(this,t))}}function s0({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ID({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kD(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CD(e=rn){if(e===rn)return Yb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Yb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DD=Math.sqrt(50),MD=Math.sqrt(10),RD=Math.sqrt(2);function ho(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=DD?10:s>=MD?5:s>=RD?2:1;let l,u,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?ho(e,t,r*2):[l,u,f]}function Lu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ho(t,e,r):ho(e,t,r);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(s-f)/-o;else for(let f=0;f<l;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(a+f)/-o;else for(let f=0;f<l;++f)u[f]=(a+f)*o;return u}function Bu(e,t,r){return t=+t,e=+e,r=+r,ho(e,t,r)[2]}function $u(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bu(t,e,r):Bu(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function o0(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l0(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Xb(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Yb:CD(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,c=Math.log(u),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(u-d)/u)*(f-u/2<0?-1:1),m=Math.max(r,Math.floor(t-f*d/u+h)),p=Math.min(n,Math.floor(t+(u-f)*d/u+h));Xb(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(qa(e,r,t),a(e[n],s)>0&&qa(e,r,n);o<l;){for(qa(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?qa(e,r,l):(++l,qa(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function qa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LD(e,t,r){if(e=Float64Array.from(SD(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return l0(e);if(t>=1)return o0(e);var n,a=(n-1)*t,s=Math.floor(a),o=o0(Xb(e,s).subarray(0,s+1)),l=l0(e.subarray(s+1));return o+(l-o)*(a-s)}}function BD(e,t,r=Kb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function $D(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Qt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fu=Symbol("implicit");function sf(){var e=new i0,t=[],r=[],n=Fu;function a(s){let o=e.get(s);if(o===void 0){if(n!==Fu)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new i0;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return sf(t,r).unknown(n)},Qt.apply(a,arguments),a}function of(){var e=sf().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,u=0,f=0,c=.5;delete e.unknown;function d(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-u+f*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-u))*c,o=s*(1-u),l&&(p=Math.round(p),o=Math.round(o));var v=$D(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,f=+h),d()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},e.paddingOuter=function(h){return arguments.length?(f=+h,d()):f},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return of(t(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(c)},Qt.apply(d(),arguments)}function Zb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Zb(t())},e}function FD(){return Zb(of.apply(null,arguments).paddingInner(1))}function lf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Di(){}var fi=.7,mo=1/fi,na="\\s*([+-]?\\d+)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zD=/^#([0-9a-f]{3,8})$/,UD=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),HD=new RegExp(`^rgb\\(${gr},${gr},${gr}\\)$`),qD=new RegExp(`^rgba\\(${na},${na},${na},${hi}\\)$`),GD=new RegExp(`^rgba\\(${gr},${gr},${gr},${hi}\\)$`),VD=new RegExp(`^hsl\\(${hi},${gr},${gr}\\)$`),WD=new RegExp(`^hsla\\(${hi},${gr},${gr},${hi}\\)$`),c0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lf(Di,mi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u0,formatHex:u0,formatHex8:KD,formatHsl:YD,formatRgb:d0,toString:d0});function u0(){return this.rgb().formatHex()}function KD(){return this.rgb().formatHex8()}function YD(){return Jb(this).formatHsl()}function d0(){return this.rgb().formatRgb()}function mi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?f0(t):r===3?new Pt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UD.exec(e))?new Pt(t[1],t[2],t[3],1):(t=HD.exec(e))?new Pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qD.exec(e))?hs(t[1],t[2],t[3],t[4]):(t=GD.exec(e))?hs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VD.exec(e))?p0(t[1],t[2]/100,t[3]/100,1):(t=WD.exec(e))?p0(t[1],t[2]/100,t[3]/100,t[4]):c0.hasOwnProperty(e)?f0(c0[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function f0(e){return new Pt(e>>16&255,e>>8&255,e&255,1)}function hs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pt(e,t,r,n)}function XD(e){return e instanceof Di||(e=mi(e)),e?(e=e.rgb(),new Pt(e.r,e.g,e.b,e.opacity)):new Pt}function zu(e,t,r,n){return arguments.length===1?XD(e):new Pt(e,t,r,n??1)}function Pt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}lf(Pt,zu,Qb(Di,{brighter(e){return e=e==null?mo:Math.pow(mo,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pt(Tn(this.r),Tn(this.g),Tn(this.b),po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h0,formatHex:h0,formatHex8:ZD,formatRgb:m0,toString:m0}));function h0(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}`}function ZD(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}${xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function m0(){const e=po(this.opacity);return`${e===1?"rgb(":"rgba("}${Tn(this.r)}, ${Tn(this.g)}, ${Tn(this.b)}${e===1?")":`, ${e})`}`}function po(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xn(e){return e=Tn(e),(e<16?"0":"")+e.toString(16)}function p0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ar(e,t,r,n)}function Jb(e){if(e instanceof ar)return new ar(e.h,e.s,e.l,e.opacity);if(e instanceof Di||(e=mi(e)),!e)return new ar;if(e instanceof ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new ar(o,l,u,e.opacity)}function QD(e,t,r,n){return arguments.length===1?Jb(e):new ar(e,t,r,n??1)}function ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}lf(ar,QD,Qb(Di,{brighter(e){return e=e==null?mo:Math.pow(mo,e),new ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pt(Pc(e>=240?e-240:e+120,a,n),Pc(e,a,n),Pc(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ar(g0(this.h),ms(this.s),ms(this.l),po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=po(this.opacity);return`${e===1?"hsl(":"hsla("}${g0(this.h)}, ${ms(this.s)*100}%, ${ms(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g0(e){return e=(e||0)%360,e<0?e+360:e}function ms(e){return Math.max(0,Math.min(1,e||0))}function Pc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cf=e=>()=>e;function JD(e,t){return function(r){return e+r*t}}function eM(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tM(e){return(e=+e)==1?e1:function(t,r){return r-t?eM(t,r,e):cf(isNaN(t)?r:t)}}function e1(e,t){var r=t-e;return r?JD(e,r):cf(isNaN(e)?t:e)}const v0=function e(t){var r=tM(t);function n(a,s){var o=r((a=zu(a)).r,(s=zu(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),f=e1(a.opacity,s.opacity);return function(c){return a.r=o(c),a.g=l(c),a.b=u(c),a.opacity=f(c),a+""}}return n.gamma=e,n}(1);function rM(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function nM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aM(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Sa(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function iM(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function go(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sM(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Sa(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Uu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ac=new RegExp(Uu.source,"g");function oM(e){return function(){return e}}function lM(e){return function(t){return e(t)+""}}function cM(e,t){var r=Uu.lastIndex=Ac.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Uu.exec(e))&&(a=Ac.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:go(n,a)})),r=Ac.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?lM(u[0].x):oM(t):(t=u.length,function(f){for(var c=0,d;c<t;++c)l[(d=u[c]).i]=d.x(f);return l.join("")})}function Sa(e,t){var r=typeof t,n;return t==null||r==="boolean"?cf(t):(r==="number"?go:r==="string"?(n=mi(t))?(t=n,v0):cM:t instanceof mi?v0:t instanceof Date?iM:nM(t)?rM:Array.isArray(t)?aM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sM:go)(e,t)}function uf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uM(e,t){t===void 0&&(t=e,e=Sa);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function dM(e){return function(){return e}}function vo(e){return+e}var y0=[0,1];function _t(e){return e}function Hu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dM(isNaN(t)?NaN:.5)}function fM(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hM(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Hu(a,n),s=r(o,s)):(n=Hu(n,a),s=r(s,o)),function(l){return s(n(l))}}function mM(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Hu(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Ci(e,l,1,n)-1;return s[u](a[u](l))}}function Mi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pl(){var e=y0,t=y0,r=Sa,n,a,s,o=_t,l,u,f;function c(){var h=Math.min(e.length,t.length);return o!==_t&&(o=fM(e[0],e[h-1])),l=h>2?mM:hM,u=f=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((f||(f=l(t,e.map(n),go)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,vo),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=uf,c()},d.clamp=function(h){return arguments.length?(o=h?!0:_t,c()):o!==_t},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return n=h,a=m,c()}}function df(){return Pl()(_t,_t)}function pM(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ca(e){return e=yo(Math.abs(e)),e?e[1]:NaN}function gM(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function vM(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pi(e){if(!(t=yM.exec(e)))throw new Error("invalid format: "+e);var t;return new ff({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pi.prototype=ff.prototype;function ff(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ff.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xM(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var t1;function bM(e,t){var r=yo(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(t1=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+yo(e,Math.max(0,t+s-1))[0]}function x0(e,t){var r=yo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const b0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pM,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x0(e*100,t),r:x0,s:bM,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w0(e){return e}var j0=Array.prototype.map,_0=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wM(e){var t=e.grouping===void 0||e.thousands===void 0?w0:gM(j0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?w0:vM(j0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(d){d=pi(d);var h=d.fill,m=d.align,p=d.sign,g=d.symbol,v=d.zero,y=d.width,x=d.comma,w=d.precision,b=d.trim,j=d.type;j==="n"?(x=!0,j="g"):b0[j]||(w===void 0&&(w=12),b=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",E=g==="$"?n:/[%p]/.test(j)?o:"",S=b0[j],N=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(O){var I=T,k=E,A,M,R;if(j==="c")k=S(O)+k,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?u:S(Math.abs(O),w),b&&(O=xM(O)),D&&+O==0&&p!=="+"&&(D=!1),I=(D?p==="("?p:l:p==="-"||p==="("?"":p)+I,k=(j==="s"?_0[8+t1/3]:"")+k+(D&&p==="("?")":""),N){for(A=-1,M=O.length;++A<M;)if(R=O.charCodeAt(A),48>R||R>57){k=(R===46?a+O.slice(A+1):O.slice(A))+k,O=O.slice(0,A);break}}}x&&!v&&(O=t(O,1/0));var q=I.length+O.length+k.length,F=q<y?new Array(y-q+1).join(h):"";switch(x&&v&&(O=t(F+O,F.length?y-k.length:1/0),F=""),m){case"<":O=I+O+k+F;break;case"=":O=I+F+O+k;break;case"^":O=F.slice(0,q=F.length>>1)+I+O+k+F.slice(q);break;default:O=F+I+O+k;break}return s(O)}return P.toString=function(){return d+""},P}function c(d,h){var m=f((d=pi(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ca(h)/3)))*3,g=Math.pow(10,-p),v=_0[8+p/3];return function(y){return m(g*y)+v}}return{format:f,formatPrefix:c}}var ps,hf,r1;jM({thousands:",",grouping:[3],currency:["$",""]});function jM(e){return ps=wM(e),hf=ps.format,r1=ps.formatPrefix,ps}function _M(e){return Math.max(0,-ca(Math.abs(e)))}function NM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ca(t)/3)))*3-ca(Math.abs(e)))}function EM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ca(t)-ca(e))+1}function n1(e,t,r,n){var a=$u(e,t,r),s;switch(n=pi(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=NM(a,o))&&(n.precision=s),r1(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=EM(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_M(a))&&(n.precision=s-(n.type==="%")*2);break}}return hf(n)}function dn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return n1(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u,f,c=10;for(l<o&&(f=o,o=l,l=f,f=a,a=s,s=f);c-- >0;){if(f=Bu(o,l,r),f===u)return n[a]=o,n[s]=l,t(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function a1(){var e=df();return e.copy=function(){return Mi(e,a1())},Qt.apply(e,arguments),dn(e)}function i1(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return i1(e).unknown(t)},e=arguments.length?Array.from(e,vo):[0,1],dn(r)}function s1(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function N0(e){return Math.log(e)}function E0(e){return Math.exp(e)}function OM(e){return-Math.log(-e)}function TM(e){return-Math.exp(-e)}function SM(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PM(e){return e===10?SM:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AM(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O0(e){return(t,r)=>-e(-t,r)}function mf(e){const t=e(N0,E0),r=t.domain;let n=10,a,s;function o(){return a=AM(n),s=PM(n),r()[0]<0?(a=O0(a),s=O0(s),e(OM,TM)):e(N0,E0),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let f=u[0],c=u[u.length-1];const d=c<f;d&&([f,c]=[c,f]);let h=a(f),m=a(c),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),f>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}y.length*2<v&&(y=Lu(f,c,v))}else y=Lu(h,m,Math.min(m-h,v)).map(s);return d?y.reverse():y},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=pi(u)).precision==null&&(u.trim=!0),u=hf(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return c=>{let d=c/s(Math.round(a(c)));return d*n<n-.5&&(d*=n),d<=f?u(c):""}},t.nice=()=>r(s1(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function o1(){const e=mf(Pl()).domain([1,10]);return e.copy=()=>Mi(e,o1()).base(e.base()),Qt.apply(e,arguments),e}function T0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pf(e){var t=1,r=e(T0(t),S0(t));return r.constant=function(n){return arguments.length?e(T0(t=+n),S0(t)):t},dn(r)}function l1(){var e=pf(Pl());return e.copy=function(){return Mi(e,l1()).constant(e.constant())},Qt.apply(e,arguments)}function P0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kM(e){return e<0?-e*e:e*e}function gf(e){var t=e(_t,_t),r=1;function n(){return r===1?e(_t,_t):r===.5?e(IM,kM):e(P0(r),P0(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dn(t)}function vf(){var e=gf(Pl());return e.copy=function(){return Mi(e,vf()).exponent(e.exponent())},Qt.apply(e,arguments),e}function CM(){return vf.apply(null,arguments).exponent(.5)}function A0(e){return Math.sign(e)*e*e}function DM(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c1(){var e=df(),t=[0,1],r=!1,n;function a(s){var o=DM(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(A0(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,vo)).map(A0)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return c1(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qt.apply(a,arguments),dn(a)}function u1(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=BD(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Ci(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(rn),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return u1().domain(e).range(t).unknown(n)},Qt.apply(s,arguments)}function d1(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(u){return u!=null&&u<=u?a[Ci(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return d1().domain([e,t]).range(a).unknown(s)},Qt.apply(dn(o),arguments)}function f1(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ci(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return f1().domain(e).range(t).unknown(r)},Qt.apply(a,arguments)}const Ic=new Date,kc=new Date;function at(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const u=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let f;do u.push(f=new Date(+s)),t(s,l),e(s);while(f<s&&s<o);return u},a.filter=s=>at(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Ic.setTime(+s),kc.setTime(+o),e(Ic),e(kc),Math.floor(r(Ic,kc))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const xo=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xo);xo.range;const Er=1e3,Wt=Er*60,Or=Wt*60,Ir=Or*24,yf=Ir*7,I0=Ir*30,Cc=Ir*365,bn=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCSeconds());bn.range;const xf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Er)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getMinutes());xf.range;const bf=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getUTCMinutes());bf.range;const wf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Er-e.getMinutes()*Wt)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getHours());wf.range;const jf=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCHours());jf.range;const Ri=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wt)/Ir,e=>e.getDate()-1);Ri.range;const Al=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ir,e=>e.getUTCDate()-1);Al.range;const h1=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ir,e=>Math.floor(e/Ir));h1.range;function Un(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wt)/yf)}const Il=Un(0),bo=Un(1),MM=Un(2),RM=Un(3),ua=Un(4),LM=Un(5),BM=Un(6);Il.range;bo.range;MM.range;RM.range;ua.range;LM.range;BM.range;function Hn(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yf)}const kl=Hn(0),wo=Hn(1),$M=Hn(2),FM=Hn(3),da=Hn(4),zM=Hn(5),UM=Hn(6);kl.range;wo.range;$M.range;FM.range;da.range;zM.range;UM.range;const _f=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_f.range;const Nf=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nf.range;const kr=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kr.range;const Cr=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Cr.range;function m1(e,t,r,n,a,s){const o=[[bn,1,Er],[bn,5,5*Er],[bn,15,15*Er],[bn,30,30*Er],[s,1,Wt],[s,5,5*Wt],[s,15,15*Wt],[s,30,30*Wt],[a,1,Or],[a,3,3*Or],[a,6,6*Or],[a,12,12*Or],[n,1,Ir],[n,2,2*Ir],[r,1,yf],[t,1,I0],[t,3,3*I0],[e,1,Cc]];function l(f,c,d){const h=c<f;h&&([f,c]=[c,f]);const m=d&&typeof d.range=="function"?d:u(f,c,d),p=m?m.range(f,+c+1):[];return h?p.reverse():p}function u(f,c,d){const h=Math.abs(c-f)/d,m=af(([,,v])=>v).right(o,h);if(m===o.length)return e.every($u(f/Cc,c/Cc,d));if(m===0)return xo.every(Math.max($u(f,c,d),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,u]}const[HM,qM]=m1(Cr,Nf,kl,h1,jf,bf),[GM,VM]=m1(kr,_f,Il,Ri,wf,xf);function Dc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ga(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WM(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Va(a),c=Wa(a),d=Va(s),h=Wa(s),m=Va(o),p=Wa(o),g=Va(l),v=Wa(l),y=Va(u),x=Wa(u),w={a:D,A:q,b:F,B:$,c:null,d:L0,e:L0,f:g4,g:O4,G:S4,H:h4,I:m4,j:p4,L:p1,m:v4,M:y4,p:C,q:L,Q:F0,s:z0,S:x4,u:b4,U:w4,V:j4,w:_4,W:N4,x:null,X:null,y:E4,Y:T4,Z:P4,"%":$0},b={a:z,A:W,b:V,B,c:null,d:B0,e:B0,f:C4,g:H4,G:G4,H:A4,I:I4,j:k4,L:v1,m:D4,M:M4,p:H,q:Z,Q:F0,s:z0,S:R4,u:L4,U:B4,V:$4,w:F4,W:z4,x:null,X:null,y:U4,Y:q4,Z:V4,"%":$0},j={a:P,A:O,b:I,B:k,c:A,d:M0,e:M0,f:c4,g:D0,G:C0,H:R0,I:R0,j:i4,L:l4,m:a4,M:s4,p:N,q:n4,Q:d4,s:f4,S:o4,u:QM,U:JM,V:e4,w:ZM,W:t4,x:M,X:R,y:D0,Y:C0,Z:r4,"%":u4};w.x=T(r,w),w.X=T(n,w),w.c=T(t,w),b.x=T(r,b),b.X=T(n,b),b.c=T(t,b);function T(U,Q){return function(ne){var te=[],he=-1,ce=0,ge=U.length,Y,K,G;for(ne instanceof Date||(ne=new Date(+ne));++he<ge;)U.charCodeAt(he)===37&&(te.push(U.slice(ce,he)),(K=k0[Y=U.charAt(++he)])!=null?Y=U.charAt(++he):K=Y==="e"?" ":"0",(G=Q[Y])&&(Y=G(ne,K)),te.push(Y),ce=he+1);return te.push(U.slice(ce,he)),te.join("")}}function E(U,Q){return function(ne){var te=Ga(1900,void 0,1),he=S(te,U,ne+="",0),ce,ge;if(he!=ne.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Q&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ce=Mc(Ga(te.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?wo.ceil(ce):wo(ce),ce=Al.offset(ce,(te.V-1)*7),te.y=ce.getUTCFullYear(),te.m=ce.getUTCMonth(),te.d=ce.getUTCDate()+(te.w+6)%7):(ce=Dc(Ga(te.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?bo.ceil(ce):bo(ce),ce=Ri.offset(ce,(te.V-1)*7),te.y=ce.getFullYear(),te.m=ce.getMonth(),te.d=ce.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ge="Z"in te?Mc(Ga(te.y,0,1)).getUTCDay():Dc(Ga(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ge+5)%7:te.w+te.U*7-(ge+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Mc(te)):Dc(te)}}function S(U,Q,ne,te){for(var he=0,ce=Q.length,ge=ne.length,Y,K;he<ce;){if(te>=ge)return-1;if(Y=Q.charCodeAt(he++),Y===37){if(Y=Q.charAt(he++),K=j[Y in k0?Q.charAt(he++):Y],!K||(te=K(U,ne,te))<0)return-1}else if(Y!=ne.charCodeAt(te++))return-1}return te}function N(U,Q,ne){var te=f.exec(Q.slice(ne));return te?(U.p=c.get(te[0].toLowerCase()),ne+te[0].length):-1}function P(U,Q,ne){var te=m.exec(Q.slice(ne));return te?(U.w=p.get(te[0].toLowerCase()),ne+te[0].length):-1}function O(U,Q,ne){var te=d.exec(Q.slice(ne));return te?(U.w=h.get(te[0].toLowerCase()),ne+te[0].length):-1}function I(U,Q,ne){var te=y.exec(Q.slice(ne));return te?(U.m=x.get(te[0].toLowerCase()),ne+te[0].length):-1}function k(U,Q,ne){var te=g.exec(Q.slice(ne));return te?(U.m=v.get(te[0].toLowerCase()),ne+te[0].length):-1}function A(U,Q,ne){return S(U,t,Q,ne)}function M(U,Q,ne){return S(U,r,Q,ne)}function R(U,Q,ne){return S(U,n,Q,ne)}function D(U){return o[U.getDay()]}function q(U){return s[U.getDay()]}function F(U){return u[U.getMonth()]}function $(U){return l[U.getMonth()]}function C(U){return a[+(U.getHours()>=12)]}function L(U){return 1+~~(U.getMonth()/3)}function z(U){return o[U.getUTCDay()]}function W(U){return s[U.getUTCDay()]}function V(U){return u[U.getUTCMonth()]}function B(U){return l[U.getUTCMonth()]}function H(U){return a[+(U.getUTCHours()>=12)]}function Z(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Q=T(U+="",w);return Q.toString=function(){return U},Q},parse:function(U){var Q=E(U+="",!1);return Q.toString=function(){return U},Q},utcFormat:function(U){var Q=T(U+="",b);return Q.toString=function(){return U},Q},utcParse:function(U){var Q=E(U+="",!0);return Q.toString=function(){return U},Q}}}var k0={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,KM=/^%/,YM=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function XM(e){return e.replace(YM,"\\$&")}function Va(e){return new RegExp("^(?:"+e.map(XM).join("|")+")","i")}function Wa(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZM(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QM(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JM(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function e4(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function t4(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C0(e,t,r){var n=pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function D0(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r4(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n4(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function a4(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function M0(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function i4(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R0(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function s4(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function o4(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function l4(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function c4(e,t,r){var n=pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u4(e,t,r){var n=KM.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function d4(e,t,r){var n=pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function f4(e,t,r){var n=pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function L0(e,t){return _e(e.getDate(),t,2)}function h4(e,t){return _e(e.getHours(),t,2)}function m4(e,t){return _e(e.getHours()%12||12,t,2)}function p4(e,t){return _e(1+Ri.count(kr(e),e),t,3)}function p1(e,t){return _e(e.getMilliseconds(),t,3)}function g4(e,t){return p1(e,t)+"000"}function v4(e,t){return _e(e.getMonth()+1,t,2)}function y4(e,t){return _e(e.getMinutes(),t,2)}function x4(e,t){return _e(e.getSeconds(),t,2)}function b4(e){var t=e.getDay();return t===0?7:t}function w4(e,t){return _e(Il.count(kr(e)-1,e),t,2)}function g1(e){var t=e.getDay();return t>=4||t===0?ua(e):ua.ceil(e)}function j4(e,t){return e=g1(e),_e(ua.count(kr(e),e)+(kr(e).getDay()===4),t,2)}function _4(e){return e.getDay()}function N4(e,t){return _e(bo.count(kr(e)-1,e),t,2)}function E4(e,t){return _e(e.getFullYear()%100,t,2)}function O4(e,t){return e=g1(e),_e(e.getFullYear()%100,t,2)}function T4(e,t){return _e(e.getFullYear()%1e4,t,4)}function S4(e,t){var r=e.getDay();return e=r>=4||r===0?ua(e):ua.ceil(e),_e(e.getFullYear()%1e4,t,4)}function P4(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function B0(e,t){return _e(e.getUTCDate(),t,2)}function A4(e,t){return _e(e.getUTCHours(),t,2)}function I4(e,t){return _e(e.getUTCHours()%12||12,t,2)}function k4(e,t){return _e(1+Al.count(Cr(e),e),t,3)}function v1(e,t){return _e(e.getUTCMilliseconds(),t,3)}function C4(e,t){return v1(e,t)+"000"}function D4(e,t){return _e(e.getUTCMonth()+1,t,2)}function M4(e,t){return _e(e.getUTCMinutes(),t,2)}function R4(e,t){return _e(e.getUTCSeconds(),t,2)}function L4(e){var t=e.getUTCDay();return t===0?7:t}function B4(e,t){return _e(kl.count(Cr(e)-1,e),t,2)}function y1(e){var t=e.getUTCDay();return t>=4||t===0?da(e):da.ceil(e)}function $4(e,t){return e=y1(e),_e(da.count(Cr(e),e)+(Cr(e).getUTCDay()===4),t,2)}function F4(e){return e.getUTCDay()}function z4(e,t){return _e(wo.count(Cr(e)-1,e),t,2)}function U4(e,t){return _e(e.getUTCFullYear()%100,t,2)}function H4(e,t){return e=y1(e),_e(e.getUTCFullYear()%100,t,2)}function q4(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function G4(e,t){var r=e.getUTCDay();return e=r>=4||r===0?da(e):da.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function V4(){return"+0000"}function $0(){return"%"}function F0(e){return+e}function z0(e){return Math.floor(+e/1e3)}var Kn,x1,b1;W4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W4(e){return Kn=WM(e),x1=Kn.format,Kn.parse,b1=Kn.utcFormat,Kn.utcParse,Kn}function K4(e){return new Date(e)}function Y4(e){return e instanceof Date?+e:+new Date(+e)}function Ef(e,t,r,n,a,s,o,l,u,f){var c=df(),d=c.invert,h=c.domain,m=f(".%L"),p=f(":%S"),g=f("%I:%M"),v=f("%I %p"),y=f("%a %d"),x=f("%b %d"),w=f("%B"),b=f("%Y");function j(T){return(u(T)<T?m:l(T)<T?p:o(T)<T?g:s(T)<T?v:n(T)<T?a(T)<T?y:x:r(T)<T?w:b)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?h(Array.from(T,Y4)):h().map(K4)},c.ticks=function(T){var E=h();return e(E[0],E[E.length-1],T??10)},c.tickFormat=function(T,E){return E==null?j:f(E)},c.nice=function(T){var E=h();return(!T||typeof T.range!="function")&&(T=t(E[0],E[E.length-1],T??10)),T?h(s1(E,T)):c},c.copy=function(){return Mi(c,Ef(e,t,r,n,a,s,o,l,u,f))},c}function X4(){return Qt.apply(Ef(GM,VM,kr,_f,Il,Ri,wf,xf,bn,x1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Z4(){return Qt.apply(Ef(HM,qM,Cr,Nf,kl,Al,jf,bf,bn,b1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cl(){var e=0,t=1,r,n,a,s,o=_t,l=!1,u;function f(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}f.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(d){return arguments.length?(l=!!d,f):l},f.interpolator=function(d){return arguments.length?(o=d,f):o};function c(d){return function(h){var m,p;return arguments.length?([m,p]=h,o=d(m,p),f):[o(0),o(1)]}}return f.range=c(Sa),f.rangeRound=c(uf),f.unknown=function(d){return arguments.length?(u=d,f):u},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),f}}function fn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w1(){var e=dn(Cl()(_t));return e.copy=function(){return fn(e,w1())},Hr.apply(e,arguments)}function j1(){var e=mf(Cl()).domain([1,10]);return e.copy=function(){return fn(e,j1()).base(e.base())},Hr.apply(e,arguments)}function _1(){var e=pf(Cl());return e.copy=function(){return fn(e,_1()).constant(e.constant())},Hr.apply(e,arguments)}function Of(){var e=gf(Cl());return e.copy=function(){return fn(e,Of()).exponent(e.exponent())},Hr.apply(e,arguments)}function Q4(){return Of.apply(null,arguments).exponent(.5)}function N1(){var e=[],t=_t;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ci(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(rn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>LD(e,s/n))},r.copy=function(){return N1(t).domain(e)},Hr.apply(r,arguments)}function Dl(){var e=0,t=.5,r=1,n=1,a,s,o,l,u,f=_t,c,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-s)*(n*g<n*s?l:u),f(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=c(e=+e),s=c(t=+t),o=c(r=+r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(f=g,m):f};function p(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,f=uM(g,[y,x,w]),m):[f(0),f(.5),f(1)]}}return m.range=p(Sa),m.rangeRound=p(uf),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return c=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function E1(){var e=dn(Dl()(_t));return e.copy=function(){return fn(e,E1())},Hr.apply(e,arguments)}function O1(){var e=mf(Dl()).domain([.1,1,10]);return e.copy=function(){return fn(e,O1()).base(e.base())},Hr.apply(e,arguments)}function T1(){var e=pf(Dl());return e.copy=function(){return fn(e,T1()).constant(e.constant())},Hr.apply(e,arguments)}function Tf(){var e=gf(Dl());return e.copy=function(){return fn(e,Tf()).exponent(e.exponent())},Hr.apply(e,arguments)}function J4(){return Tf.apply(null,arguments).exponent(.5)}const Ja=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:of,scaleDiverging:E1,scaleDivergingLog:O1,scaleDivergingPow:Tf,scaleDivergingSqrt:J4,scaleDivergingSymlog:T1,scaleIdentity:i1,scaleImplicit:Fu,scaleLinear:a1,scaleLog:o1,scaleOrdinal:sf,scalePoint:FD,scalePow:vf,scaleQuantile:u1,scaleQuantize:d1,scaleRadial:c1,scaleSequential:w1,scaleSequentialLog:j1,scaleSequentialPow:Of,scaleSequentialQuantile:N1,scaleSequentialSqrt:Q4,scaleSequentialSymlog:_1,scaleSqrt:CM,scaleSymlog:l1,scaleThreshold:f1,scaleTime:X4,scaleUtc:Z4,tickFormat:n1},Symbol.toStringTag,{value:"Module"}));var qr=e=>e.chartData,Ml=ee([qr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Sf=(e,t,r,n)=>n?Ml(e):qr(e),eR=(e,t,r)=>r?Ml(e):qr(e);function an(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($e(t)&&$e(r))return!0}return!1}function U0(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function S1(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if($e(r))a=r;else if(typeof r=="function")return;if($e(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(an(o))return o}}function tR(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(an(n))return U0(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(de(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&cp.test(a)){var u=cp.exec(a);if(u==null||u[1]==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&up.test(s)){var c=up.exec(s);if(c==null||c[1]==null||t==null)l=void 0;else{var d=+c[1];l=t[1]+d}}else l=t==null?void 0:t[1];var h=[o,l];if(an(h))return t==null?h:U0(h,t,r)}}}var Pa=1e9,rR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Af,De=!0,Xt="[DecimalError] ",Sn=Xt+"Invalid argument: ",Pf=Xt+"Exponent out of range: ",Aa=Math.floor,vn=Math.pow,nR=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mt,ut=1e7,Ie=7,P1=9007199254740991,jo=Aa(P1/Ie),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Tr(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Te(Tr(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Qe(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mt))throw Error(Xt+"NaN");if(r.s<1)throw Error(Xt+(r.s?"NaN":"-Infinity"));return r.eq(Mt)?new n(0):(De=!1,t=Tr(gi(r,s),gi(e,s),s),De=!0,Te(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k1(t,e):A1(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xt+"NaN");return r.s?(De=!1,t=Tr(r,e,0,1).times(e),De=!0,r.minus(t)):Te(new n(r),a)};ue.naturalExponential=ue.exp=function(){return I1(this)};ue.naturalLogarithm=ue.ln=function(){return gi(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A1(t,e):k1(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sn+e);if(t=Qe(a)+1,n=a.d.length-1,r=n*Ie+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Xt+"NaN")}for(e=Qe(l),De=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Aa((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(s=n,n=s.plus(Tr(l,s,o+2)).times(.5),pr(s.d).slice(0,o)===(t=pr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Te(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return De=!0,Te(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,s,o,l,u,f,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,u=h.length,f=m.length,u<f&&(s=h,h=m,m=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%ut|0,t=l/ut|0;s[a]=(s[a]+t)%ut|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,De?Te(e,d.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xr(e,0,Pa),t===void 0?t=n.rounding:xr(t,0,8),Te(r,e+Qe(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$n(n,!0):(xr(e,0,Pa),t===void 0?t=a.rounding:xr(t,0,8),n=Te(new a(n),e+1,t),r=$n(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?$n(a):(xr(e,0,Pa),t===void 0?t=s.rounding:xr(t,0,8),n=Te(new s(a),e+Qe(a)+1,t),r=$n(n.abs(),!1,e+Qe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Te(new t(e),Qe(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,s,o,l=this,u=l.constructor,f=12,c=+(e=new u(e));if(!e.s)return new u(Mt);if(l=new u(l),!l.s){if(e.s<1)throw Error(Xt+"Infinity");return l}if(l.eq(Mt))return l;if(n=u.precision,e.eq(Mt))return Te(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=c<0?-c:c)<=P1){for(a=new u(Mt),t=Math.ceil(n/Ie+4),De=!1;r%2&&(a=a.times(l),q0(a.d,t)),r=Aa(r/2),r!==0;)l=l.times(l),q0(l.d,t);return De=!0,e.s<0?new u(Mt).div(a):Te(a,n)}}else if(s<0)throw Error(Xt+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,De=!1,a=e.times(gi(l,n+f)),De=!0,a=I1(a),a.s=s,a};ue.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Qe(a),n=$n(a,r<=s.toExpNeg||r>=s.toExpPos)):(xr(e,1,Pa),t===void 0?t=s.rounding:xr(t,0,8),a=Te(new s(a),e,t),r=Qe(a),n=$n(a,e<=r||r<=s.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xr(e,1,Pa),t===void 0?t=n.rounding:xr(t,0,8)),Te(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return $n(e,t<=r.toExpNeg||t>=r.toExpPos)};function A1(e,t){var r,n,a,s,o,l,u,f,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),De?Te(t,d):t;if(u=e.d,f=t.d,o=e.e,a=t.e,u=u.slice(),s=o-a,s){for(s<0?(n=u,s=-s,l=f.length):(n=f,a=o,l=u.length),o=Math.ceil(d/Ie),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/ut|0,u[s]%=ut;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,De?Te(t,d):t}function xr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Sn+e)}function pr(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Ie-n.length,r&&(s+=Xr(r)),s+=n;o=e[t],n=o+"",r=Ie-n.length,r&&(s+=Xr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Tr=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ut|0,o=s/ut|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ut+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,u,f,c,d,h,m,p,g,v,y,x,w,b,j,T,E,S,N=n.constructor,P=n.s==a.s?1:-1,O=n.d,I=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Xt+"Division by zero");for(u=n.e-a.e,E=I.length,j=O.length,m=new N(P),p=m.d=[],f=0;I[f]==(O[f]||0);)++f;if(I[f]>(O[f]||0)&&--u,s==null?x=s=N.precision:o?x=s+(Qe(n)-Qe(a))+1:x=s,x<0)return new N(0);if(x=x/Ie+2|0,f=0,E==1)for(c=0,I=I[0],x++;(f<j||c)&&x--;f++)w=c*ut+(O[f]||0),p[f]=w/I|0,c=w%I|0;else{for(c=ut/(I[0]+1)|0,c>1&&(I=e(I,c),O=e(O,c),E=I.length,j=O.length),b=E,g=O.slice(0,E),v=g.length;v<E;)g[v++]=0;S=I.slice(),S.unshift(0),T=I[0],I[1]>=ut/2&&++T;do c=0,l=t(I,g,E,v),l<0?(y=g[0],E!=v&&(y=y*ut+(g[1]||0)),c=y/T|0,c>1?(c>=ut&&(c=ut-1),d=e(I,c),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(c--,r(d,E<h?S:I,h))):(c==0&&(l=c=1),d=I.slice()),h=d.length,h<v&&d.unshift(0),r(g,d,v),l==-1&&(v=g.length,l=t(I,g,E,v),l<1&&(c++,r(g,E<v?S:I,v))),v=g.length):l===0&&(c++,g=[0]),p[f++]=c,l&&g[0]?g[v++]=O[b]||0:(g=[O[b]],v=1);while((b++<j||g[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=u,Te(m,o?s+Qe(m)+1:s)}}();function I1(e,t){var r,n,a,s,o,l,u=0,f=0,c=e.constructor,d=c.precision;if(Qe(e)>16)throw Error(Pf+Qe(e));if(!e.s)return new c(Mt);for(De=!1,l=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(vn(2,f))/Math.LN10*2+5|0,l+=n,r=a=s=new c(Mt),c.precision=l;;){if(a=Te(a.times(e),l),r=r.times(++u),o=s.plus(Tr(a,r,l)),pr(o.d).slice(0,l)===pr(s.d).slice(0,l)){for(;f--;)s=Te(s.times(s),l);return c.precision=d,t==null?(De=!0,Te(s,d)):s}s=o}}function Qe(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function Rc(e,t,r){if(t>e.LN10.sd())throw De=!0,r&&(e.precision=r),Error(Xt+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function Xr(e){for(var t="";e--;)t+="0";return t}function gi(e,t){var r,n,a,s,o,l,u,f,c,d=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Xt+(m.s?"NaN":"-Infinity"));if(m.eq(Mt))return new g(0);if(t==null?(De=!1,f=v):f=t,m.eq(10))return t==null&&(De=!0),Rc(g,f);if(f+=h,g.precision=f,r=pr(p),n=r.charAt(0),s=Qe(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=pr(m.d),n=r.charAt(0),d++;s=Qe(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return u=Rc(g,f+2,v).times(s+""),m=gi(new g(n+"."+r.slice(1)),f-h).plus(u),g.precision=v,t==null?(De=!0,Te(m,v)):m;for(l=o=m=Tr(m.minus(Mt),m.plus(Mt),f),c=Te(m.times(m),f),a=3;;){if(o=Te(o.times(c),f),u=l.plus(Tr(o,new g(a),f)),pr(u.d).slice(0,f)===pr(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(Rc(g,f+2,v).times(s+""))),l=Tr(l,new g(d),f),g.precision=v,t==null?(De=!0,Te(l,v)):l;l=u,a+=2}}function H0(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Aa(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ie;n<a;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),De&&(e.e>jo||e.e<-jo))throw Error(Pf+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,a,s,o,l,u,f,c,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ie,a=t,f=d[c=0];else{if(c=Math.ceil((n+1)/Ie),s=d.length,c>=s)return e;for(f=s=d[c],o=1;s>=10;s/=10)o++;n%=Ie,a=n-Ie+o}if(r!==void 0&&(s=vn(10,o-a-1),l=f/s%10|0,u=t<0||d[c+1]!==void 0||f%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?f/vn(10,o-a):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return u?(s=Qe(e),d.length=1,t=t-s-1,d[0]=vn(10,(Ie-t%Ie)%Ie),e.e=Aa(-t/Ie)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,s=1,c--):(d.length=c+1,s=vn(10,Ie-n),d[c]=a>0?(f/vn(10,o-a)%vn(10,a)|0)*s:0),u)for(;;)if(c==0){(d[0]+=s)==ut&&(d[0]=1,++e.e);break}else{if(d[c]+=s,d[c]!=ut)break;d[c--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(De&&(e.e>jo||e.e<-jo))throw Error(Pf+Qe(e));return e}function k1(e,t){var r,n,a,s,o,l,u,f,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),De?Te(t,m):t;if(u=e.d,d=t.d,n=t.e,f=e.e,u=u.slice(),o=f-n,o){for(c=o<0,c?(r=u,o=-o,l=d.length):(r=d,n=f,l=u.length),a=Math.max(Math.ceil(m/Ie),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=d.length,c=a<l,c&&(l=a),a=0;a<l;a++)if(u[a]!=d[a]){c=u[a]<d[a];break}o=0}for(c&&(r=u,u=d,d=r,t.s=-t.s),l=u.length,a=d.length-l;a>0;--a)u[l++]=0;for(a=d.length;a>o;){if(u[--a]<d[a]){for(s=a;s&&u[--s]===0;)u[s]=ut-1;--u[s],u[a]+=ut}u[a]-=d[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,De?Te(t,m):t):new h(0)}function $n(e,t,r){var n,a=Qe(e),s=pr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Xr(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Xr(-a-1)+s,r&&(n=r-o)>0&&(s+=Xr(n))):a>=o?(s+=Xr(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Xr(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Xr(n))),e.s<0?"-"+s:s}function q0(e,t){if(e.length>t)return e.length=t,!0}function C1(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Sn+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return H0(o,s.toString())}else if(typeof s!="string")throw Error(Sn+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,nR.test(s))H0(o,s);else throw Error(Sn+s)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=C1,a.config=a.set=aR,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function aR(e){if(!e||typeof e!="object")throw Error(Xt+"Object expected");var t,r,n,a=["precision",1,Pa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Aa(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Sn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Sn+r+": "+n);return this}var Af=C1(rR);Mt=new Af(1);const Ee=Af;var iR=e=>e,D1={},M1=e=>e===D1,G0=e=>function t(){return arguments.length===0||arguments.length===1&&M1(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},R1=(e,t)=>e===1?t:G0(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(o=>o!==D1).length;return s>=e?t(...n):R1(e-s,G0(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=n.map(c=>M1(c)?l.shift():c);return t(...f,...l)}))}),sR=e=>R1(e.length,e),qu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oR=sR((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),lR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return iR;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),s(...arguments))}};function L1(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function B1(e,t,r){for(var n=new Ee(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var $1=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},F1=(e,t,r)=>{if(e.lte(0))return new Ee(0);var n=L1(e.toNumber()),a=new Ee(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ee(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new Ee(u.toNumber()):new Ee(Math.ceil(u.toNumber()))},cR=(e,t,r)=>{var n=new Ee(1),a=new Ee(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ee(10).pow(L1(e)-1),a=new Ee(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ee(Math.floor(e)))}else e===0?a=new Ee(Math.floor((t-1)/2)):r||(a=new Ee(Math.floor(e)));var o=Math.floor((t-1)/2),l=lR(oR(u=>a.add(new Ee(u-o).mul(n)).toNumber()),qu);return l(0,t)},z1=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var o=F1(new Ee(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Ee(0):(l=new Ee(t).add(r).div(2),l=l.sub(new Ee(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Ee(r).sub(l).div(o).toNumber()),c=u+f+1;return c>n?z1(t,r,n,a,s+1):(c<n&&(f=r>0?f+(n-c):f,u=r>0?u:u+(n-c)),{step:o,tickMin:l.sub(new Ee(u).mul(o)),tickMax:l.add(new Ee(f).mul(o))})},uR=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=$1([r,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...qu(0,a-1).map(()=>1/0)]:[...qu(0,a-1).map(()=>-1/0),u];return r>n?f.reverse():f}if(l===u)return cR(l,a,s);var{step:c,tickMin:d,tickMax:h}=z1(l,u,o,s,0),m=B1(d,h.add(new Ee(.1).mul(c)),c);return r>n?m.reverse():m},dR=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=$1([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),f=F1(new Ee(l).sub(o).div(u-1),s,0),c=[...B1(new Ee(o),new Ee(l),f),l];return s===!1&&(c=c.map(d=>Math.round(d))),n>a?c.reverse():c},U1=e=>e.rootProps.maxBarSize,fR=e=>e.rootProps.barGap,H1=e=>e.rootProps.barCategoryGap,hR=e=>e.rootProps.barSize,Li=e=>e.rootProps.stackOffset,q1=e=>e.rootProps.reverseStackOrder,If=e=>e.options.chartName,kf=e=>e.rootProps.syncId,G1=e=>e.rootProps.syncMethod,Cf=e=>e.options.eventEmitter,Ze={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_r={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rl=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_r.angleAxisId,includeHidden:!1,name:void 0,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:void 0,ticks:void 0,type:_r.type,unit:void 0},pR={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,ticks:void 0,type:Dt.type,unit:void 0},gR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vR={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,ticks:void 0,type:"category",unit:void 0},Df=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gR:mR,Mf=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?vR:pR,Ll=e=>e.polarOptions,Rf=ee([zr,Ur,nt],Fb),V1=ee([Ll,Rf],(e,t)=>{if(e!=null)return xt(e.innerRadius,t,0)}),W1=ee([Ll,Rf],(e,t)=>{if(e!=null)return xt(e.outerRadius,t,t*.8)}),yR=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},K1=ee([Ll],yR);ee([Df,K1],Rl);var Y1=ee([Rf,V1,W1],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([Mf,Y1],Rl);var X1=ee([we,Ll,V1,W1,zr,Ur],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:xt(o,a,a/2),cy:xt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),Le=(e,t)=>t,Bi=(e,t,r)=>r;function Lf(e){return e==null?void 0:e.id}function Z1(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var c=Lf(l);f.forEach((d,h)=>{var m=s==null||a?h:String(Oe(d,s,null)),p=Oe(d,l.dataKey,0),g;o.has(m)?g=o.get(m):g={},Object.assign(g,{[c]:p}),o.set(m,g)})}}),Array.from(o.values())}function Bl(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var $l=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Fl(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xR(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var it=e=>{var t=we(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ia=e=>e.tooltip.settings.axisId;function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){bR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bR(e,t,r){return(t=wR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wR(e){var t=jR(e,"string");return typeof t=="symbol"?t:t+""}function jR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gu=[0,"auto"],ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Q1=(e,t)=>e.cartesianAxis.xAxis[t],Gr=(e,t)=>{var r=Q1(e,t);return r??ot},lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pi},J1=(e,t)=>e.cartesianAxis.yAxis[t],Vr=(e,t)=>{var r=J1(e,t);return r??lt},_R={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Bf=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_R},ze=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);case"zAxis":return Bf(e,r);case"angleAxis":return Df(e,r);case"radiusAxis":return Mf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NR=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$i=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);case"angleAxis":return Df(e,r);case"radiusAxis":return Mf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},e2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $f(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var zl=e=>e.graphicalItems.cartesianItems,ER=ee([Le,Bi],$f),Ff=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Fi=ee([zl,ze,ER],Ff,{memoizeOptions:{resultEqualityCheck:Fl}}),t2=ee([Fi],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Bl)),r2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OR=ee([Fi],r2),zf=e=>e.map(t=>t.data).filter(Boolean).flat(1),TR=ee([Fi],zf,{memoizeOptions:{resultEqualityCheck:Fl}}),Uf=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Hf=ee([TR,Sf],Uf),qf=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Oe(a,n)}))):e.map(n=>({value:n})),Ul=ee([Hf,ze,Fi],qf);function n2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ms(e){if(vr(e)||e instanceof Date){var t=Number(e);if($e(t))return t}}function W0(e){if(Array.isArray(e)){var t=[Ms(e[0]),Ms(e[1])];return an(t)?t:void 0}var r=Ms(e);if(r!=null)return[r,r]}function Dr(e){return e.map(Ms).filter(w5)}function SR(e,t,r){return!r||typeof t!="number"||lr(t)?[]:r.length?Dr(r.flatMap(n=>{var a=Oe(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!$e(s)||!$e(o)))return[t-s,t+o]})):[]}var st=e=>{var t=it(e),r=Ia(e);return $i(e,t,r)},zi=ee([st],e=>e==null?void 0:e.dataKey),PR=ee([t2,Sf,st],Z1),a2=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,u]=o,f=n?[...u].reverse():u,c=f.map(Lf);return[l,{stackedData:gC(e,c,r),graphicalItems:f}]}))},Vu=ee([PR,t2,Li,q1],a2),i2=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=wC(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},AR=ee([ze],e=>e.allowDataOverflow),Gf=e=>{var t;if(e==null||!("domain"in e))return Gu;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Dr(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gu},Vf=ee([ze],Gf),Wf=ee([Vf,AR],S1),IR=ee([Vu,qr,Le,Wf],i2,{memoizeOptions:{resultEqualityCheck:$l}}),Hl=e=>e.errorBars,kR=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>n2(r,n)),No=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},Kf=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var f,c,d=(f=n[u.id])===null||f===void 0?void 0:f.filter(y=>n2(a,y)),h=Oe(l,(c=t.dataKey)!==null&&c!==void 0?c:u.dataKey),m=SR(l,h,d);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(s==null||p<s)&&(s=p),(o==null||g>o)&&(o=g)}var v=W0(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=W0(Oe(l,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),$e(s)&&$e(o))return[s,o]},CR=ee([Hf,ze,OR,Hl,Le],Kf,{memoizeOptions:{resultEqualityCheck:$l}});function DR(e){var{value:t}=e;if(vr(t)||t instanceof Date)return t}var MR=(e,t,r)=>{var n=e.map(DR).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ix(n))?Wb(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},s2=e=>e.referenceElements.dots,ka=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),RR=ee([s2,Le,Bi],ka),o2=e=>e.referenceElements.areas,LR=ee([o2,Le,Bi],ka),l2=e=>e.referenceElements.lines,BR=ee([l2,Le,Bi],ka),c2=(e,t)=>{if(e!=null){var r=Dr(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},$R=ee(RR,Le,c2),u2=(e,t)=>{if(e!=null){var r=Dr(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},FR=ee([LR,Le],u2);function zR(e){var t;if(e.x!=null)return Dr([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Dr(r)}function UR(e){var t;if(e.y!=null)return Dr([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Dr(r)}var d2=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?zR(n):UR(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},HR=ee([BR,Le],d2),qR=ee($R,HR,FR,(e,t,r)=>No(e,r,t)),Yf=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?No(n,s,a):No(s,a);return tR(t,f,e.allowDataOverflow)},GR=ee([ze,Vf,Wf,IR,CR,qR,we,Le],Yf,{memoizeOptions:{resultEqualityCheck:$l}}),VR=[0,1],Xf=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=un(t,s);if(f&&l==null){var c;return Wb(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return u==="category"?MR(n,e,f):a==="expand"?VR:o}},Zf=ee([ze,we,Hf,Ul,Li,Le,GR],Xf),f2=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Ni(s));return l in Ja?l:"point"}}},Ca=ee([ze,we,e2,If,Le],f2);function WR(e){if(e!=null){if(e in Ja)return Ja[e]();var t="scale".concat(Ni(e));if(t in Ja)return Ja[t]()}}function Qf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=WR(t);if(a!=null){var s=a.domain(r).range(n);return dC(s),s}}}var Jf=(e,t,r)=>{var n=Gf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&an(e))return uR(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&an(e))return dR(e,t.tickCount,t.allowDecimals)}},eh=ee([Zf,$i,Ca],Jf),th=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&an(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},KR=ee([ze,Zf,eh,Le],th),YR=ee(Ul,ze,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Dr(e.map(d=>d.value))).sort((d,h)=>d-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],f=n[l+1];if(!(u==null||f==null)){var c=f-u;r=Math.min(r,c)}}return r/o}}),h2=ee(YR,we,H1,nt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!$e(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=xt(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),XR=(e,t,r)=>{var n=Gr(e,t);return n==null||typeof n.padding!="string"?0:h2(e,"xAxis",t,r,n.padding)},ZR=(e,t,r)=>{var n=Vr(e,t);return n==null||typeof n.padding!="string"?0:h2(e,"yAxis",t,r,n.padding)},QR=ee(Gr,XR,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),JR=ee(Vr,ZR,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),eL=ee([nt,QR,jl,wl,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),tL=ee([nt,we,JR,jl,wl,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ui=(e,t,r,n)=>{var a;switch(t){case"xAxis":return eL(e,r,n);case"yAxis":return tL(e,r,n);case"zAxis":return(a=Bf(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return K1(e);case"radiusAxis":return Y1(e,r);default:return}},m2=ee([ze,Ui],Rl),ql=ee([ze,Ca,KR,m2],Qf);ee([Fi,Hl,Le],kR);function p2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gl=(e,t)=>t,Vl=(e,t,r)=>r,rL=ee(xl,Gl,Vl,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p2)),nL=ee(bl,Gl,Vl,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p2)),g2=(e,t)=>({width:e.width,height:t.height}),aL=(e,t)=>{var r=typeof t.width=="number"?t.width:Pi;return{width:r,height:e.height}},v2=ee(nt,Gr,g2),iL=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sL=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oL=ee(Ur,nt,rL,Gl,Vl,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=g2(t,l);o==null&&(o=iL(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),s}),lL=ee(zr,nt,nL,Gl,Vl,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=aL(t,l);o==null&&(o=sL(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),s}),cL=(e,t)=>{var r=Gr(e,t);if(r!=null)return oL(e,r.orientation,r.mirror)},uL=ee([nt,Gr,cL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),dL=(e,t)=>{var r=Vr(e,t);if(r!=null)return lL(e,r.orientation,r.mirror)},fL=ee([nt,Vr,dL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),y2=ee(nt,Vr,(e,t)=>{var r=typeof t.width=="number"?t.width:Pi;return{width:r,height:e.height}}),K0=(e,t,r)=>{switch(t){case"xAxis":return v2(e,r).width;case"yAxis":return y2(e,r).height;default:return}},x2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=un(e,n),u=t.map(f=>f.value);if(o&&l&&s==="category"&&a&&ix(u))return u}},rh=ee([we,Ul,ze,Le],x2),b2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=un(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},nh=ee([we,Ul,$i,Le],b2),Y0=ee([we,NR,Ca,ql,rh,nh,Ui,eh,Le],(e,t,r,n,a,s,o,l,u)=>{if(t!=null){var f=un(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}}),hL=(e,t,r,n,a,s,o,l,u)=>{if(!(t==null||n==null)){var f=un(e,u),{type:c,ticks:d,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/m:0;p=u==="angleAxis"&&s!=null&&s.length>=2?ft(s[0]-s[1])*2*p:p;var g=d||a;if(g){var v=g.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:n(w)+p,value:y,offset:p}});return v.filter(y=>$e(y.coordinate))}return f&&l?l.map((y,x)=>({coordinate:n(y)+p,value:y,index:x,offset:p})).filter(y=>$e(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,x)=>({coordinate:n(y)+p,value:o?o[y]:y,index:x,offset:p}))}},w2=ee([we,$i,Ca,ql,eh,Ui,rh,nh,Le],hL),mL=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=un(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ft(n[0]-n[1])*2*f:f,l&&s?s.map((c,d)=>({coordinate:r(c)+f,value:c,index:d,offset:f})):r.ticks?r.ticks(u).map(c=>({coordinate:r(c)+f,value:c,offset:f})):r.domain().map((c,d)=>({coordinate:r(c)+f,value:a?a[c]:c,index:d,offset:f}))}},sn=ee([we,$i,ql,Ui,rh,nh,Le],mL),on=ee(ze,ql,(e,t)=>{if(!(e==null||t==null))return _o(_o({},e),{},{scale:t})}),pL=ee([ze,Ca,Zf,m2],Qf);ee((e,t,r)=>Bf(e,r),pL,(e,t)=>{if(!(e==null||t==null))return _o(_o({},e),{},{scale:t})});var gL=ee([we,xl,bl],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),j2=e=>e.options.defaultTooltipEventType,_2=e=>e.options.validateTooltipEventTypes;function N2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ah(e,t){var r=j2(e),n=_2(e);return N2(t,r,n)}function vL(e){return fe(t=>ah(t,e))}var E2=(e,t)=>{var r,n=Number(t);if(!(lr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yL=e=>e.tooltip.settings,Qr={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xL={itemInteraction:{click:Qr,hover:Qr},axisInteraction:{click:Qr,hover:Qr},keyboardInteraction:Qr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O2=At({name:"tooltip",initialState:xL,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ke()},removeTooltipEntrySettings:{reducer(e,t){var r=or(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:bL,replaceTooltipEntrySettings:wL,removeTooltipEntrySettings:jL,setTooltipSettingsState:_L,setActiveMouseOverItemIndex:T2,mouseLeaveItem:NL,mouseLeaveChart:S2,setActiveClickItemIndex:EL,setMouseOverAxisIndex:P2,setMouseClickAxisIndex:OL,setSyncInteraction:Wu,setKeyboardInteraction:Ku}=O2.actions,TL=O2.reducer;function X0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X0(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=PL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=AL(e,"string");return typeof t=="symbol"?t:t+""}function AL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IL(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kL(e){return e.index!=null}var A2=(e,t,r,n)=>{if(t==null)return Qr;var a=IL(e,t,r);if(a==null)return Qr;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(kL(a)){if(s)return gs(gs({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return gs(gs({},Qr),{},{coordinate:a.coordinate})};function CL(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function DL(e,t){var r=CL(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function ML(e,t,r){if(r==null||t==null)return!0;var n=Oe(e,t);return n==null||!an(r)?!0:DL(n,r)}var ih=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!$e(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(s,l)),f=t[u];return f==null||ML(f,r,n)?String(u):null},I2=(e,t,r,n,a,s,o,l)=>{if(!(s==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,s);if(f!=null)return f;var c=a==null?void 0:a[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},k2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Hi=e=>e.options.tooltipPayloadSearcher,Da=e=>e.tooltip;function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=LL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LL(e){var t=BL(e,"string");return typeof t=="symbol"?t:t+""}function BL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $L(e,t){return e??t}var C2=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:c}=r,d=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,y=$L(g,l),x=Array.isArray(y)?lb(y,f,c):y,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,b=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=sx(x,n,a):j=s(x,t,u,b),Array.isArray(j))j.forEach(E=>{var S=Q0(Q0({},v),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(dp({tooltipEntrySettings:S,dataKey:E.dataKey,payload:E.payload,value:Oe(E.payload,E.dataKey),name:E.name}))});else{var T;h.push(dp({tooltipEntrySettings:v,dataKey:w,payload:j,value:Oe(j,w),name:(T=Oe(j,b))!==null&&T!==void 0?T:v==null?void 0:v.name}))}return h},d)}},sh=ee([st,we,e2,If,it],f2),FL=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zL=ee([it,Ia],$f),Ma=ee([FL,st,zL],Ff,{memoizeOptions:{resultEqualityCheck:Fl}}),UL=ee([Ma],e=>e.filter(Bl)),HL=ee([Ma],zf,{memoizeOptions:{resultEqualityCheck:Fl}}),Ra=ee([HL,qr],Uf),qL=ee([UL,qr,st],Z1),oh=ee([Ra,st,Ma],qf),D2=ee([st],Gf),GL=ee([st],e=>e.allowDataOverflow),M2=ee([D2,GL],S1),VL=ee([Ma],e=>e.filter(Bl)),WL=ee([qL,VL,Li,q1],a2),KL=ee([WL,qr,it,M2],i2),YL=ee([Ma],r2),XL=ee([Ra,st,YL,Hl,it],Kf,{memoizeOptions:{resultEqualityCheck:$l}}),ZL=ee([s2,it,Ia],ka),QL=ee([ZL,it],c2),JL=ee([o2,it,Ia],ka),e6=ee([JL,it],u2),t6=ee([l2,it,Ia],ka),r6=ee([t6,it],d2),n6=ee([QL,r6,e6],No),a6=ee([st,D2,M2,KL,XL,n6,we,it],Yf),qi=ee([st,we,Ra,oh,Li,it,a6],Xf),i6=ee([qi,st,sh],Jf),s6=ee([st,qi,i6,it],th),R2=e=>{var t=it(e),r=Ia(e),n=!1;return Ui(e,t,r,n)},L2=ee([st,R2],Rl),B2=ee([st,sh,s6,L2],Qf),o6=ee([we,oh,st,it],x2),l6=ee([we,oh,st,it],b2),c6=(e,t,r,n,a,s,o,l)=>{if(t){var{type:u}=t,f=un(e,l);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=u==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ft(a[0]-a[1])*2*d:d,f&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:s?s[h]:h,index:m,offset:d}))}}},Wr=ee([we,st,sh,B2,R2,o6,l6,it],c6),lh=ee([j2,_2,yL],(e,t,r)=>N2(r.shared,e,t)),$2=e=>e.tooltip.settings.trigger,ch=e=>e.tooltip.settings.defaultIndex,Gi=ee([Da,lh,$2,ch],A2),ln=ee([Gi,Ra,zi,qi],ih),F2=ee([Wr,ln],E2),uh=ee([Gi],e=>{if(e)return e.dataKey}),u6=ee([Gi],e=>{if(e)return e.graphicalItemId}),z2=ee([Da,lh,$2,ch],k2),d6=ee([zr,Ur,we,nt,Wr,ch,z2,Hi],I2),f6=ee([Gi,d6],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),h6=ee([Gi],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),m6=ee([z2,ln,qr,zi,F2,Hi,lh],C2),p6=ee([m6],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function J0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(r),!0).forEach(function(n){g6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6(e,t,r){return(t=v6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6(e){var t=y6(e,"string");return typeof t=="symbol"?t:t+""}function y6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x6=()=>fe(st),b6=()=>{var e=x6(),t=fe(Wr),r=fe(B2);return oa(!e||!r?void 0:eg(eg({},e),{},{scale:r}),t)};function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(n){w6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6(e,t,r){return(t=j6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j6(e){var t=_6(e,"string");return typeof t=="symbol"?t:t+""}function _6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N6=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},E6=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return Yn(Yn(Yn({},n),Xe(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:u}=n;return Yn(Yn(Yn({},n),Xe(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function O6(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var U2=(e,t,r,n,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,f,c,d,h,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(f=r[o-1])===null||f===void 0?void 0:f.coordinate,p=(c=r[l])===null||c===void 0?void 0:c.coordinate,g=l>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(m==null||p==null||g==null))if(ft(p-m)!==ft(g-p)){var y=[];if(ft(g-p)===ft(a[1]-a[0])){v=g;var x=p+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{v=m;var w=g+a[1]-a[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var b=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var T=Math.min(m,g),E=Math.max(m,g);if(e>(T+p)/2&&e<=(E+p)/2){var S;return(S=r[l])===null||S===void 0?void 0:S.index}}}else if(t)for(var N=0;N<o;N++){var P=t[N];if(P!=null){var O=t[N+1],I=t[N-1];if(N===0&&O!=null&&e<=(P.coordinate+O.coordinate)/2||N===o-1&&I!=null&&e>(P.coordinate+I.coordinate)/2||N>0&&N<o-1&&I!=null&&O!=null&&e>(P.coordinate+I.coordinate)/2&&e<=(P.coordinate+O.coordinate)/2)return P.index}}return-1},T6=()=>fe(If),dh=(e,t)=>t,H2=(e,t,r)=>r,fh=(e,t,r,n)=>n,S6=ee(Wr,e=>ul(e,t=>t.coordinate)),hh=ee([Da,dh,H2,fh],A2),mh=ee([hh,Ra,zi,qi],ih),P6=(e,t,r)=>{if(t!=null){var n=Da(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},q2=ee([Da,dh,H2,fh],k2),Eo=ee([zr,Ur,we,nt,Wr,fh,q2,Hi],I2),A6=ee([hh,Eo],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),G2=ee([Wr,mh],E2),I6=ee([q2,mh,qr,zi,G2,Hi,dh],C2),k6=ee([hh,mh],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),C6=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&O6(e,o)){var l=jC(e,t),u=U2(l,s,a,r,n),f=N6(t,a,u,e);return{activeIndex:String(u),activeCoordinate:f}}},D6=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=bD(e,r);if(l){var u=_C(l,t),f=U2(u,o,s,n,a),c=E6(t,s,f,l);return{activeIndex:String(f),activeCoordinate:c}}}},M6=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?C6(e,t,n,a,s,o,l):D6(e,t,r,n,a,s,o)},R6=ee(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),L6=ee(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ze)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:xR}});function rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(r),!0).forEach(function(n){B6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B6(e,t,r){return(t=$6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6(e){var t=F6(e,"string");return typeof t=="symbol"?t:t+""}function F6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6={},U6={zIndexMap:Object.values(Ze).reduce((e,t)=>ng(ng({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),z6)},H6=new Set(Object.values(Ze));function q6(e){return H6.has(e)}var V2=At({name:"zIndex",initialState:U6,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!q6(r)&&delete e.zIndexMap[r])},prepare:ke()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:ke()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ke()}}}),{registerZIndexPortal:G6,unregisterZIndexPortal:V6,registerZIndexPortalElement:W6,unregisterZIndexPortalElement:K6}=V2.actions,Y6=V2.reducer;function It(e){var{zIndex:t,children:r}=e,n=YC(),a=n&&t!==void 0&&t!==0,s=bt(),o=Re();_.useLayoutEffect(()=>a?(o(G6({zIndex:t})),()=>{o(V6({zIndex:t}))}):Ei,[o,t,a]);var l=fe(u=>R6(u,t,s));return a?l?wd.createPortal(r,l):null:r}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t,r){return(t=Z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z6(e){var t=Q6(e,"string");return typeof t=="symbol"?t:t+""}function Q6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J6(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function e8(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:c}=e,d=r,h=n,m=a;if(!u||!d||c!=="ScatterChart"&&f!=="axis")return null;var p,g,v;if(c==="ScatterChart")p=d,g=D3,v=Ze.cursorLine;else if(c==="BarChart")p=M3(l,d,s,o),g=$b,v=Ze.cursorRectangle;else if(l==="radial"&&cx(d)){var{cx:y,cy:x,radius:w,startAngle:b,endAngle:j}=zb(d);p={cx:y,cy:x,startAngle:b,endAngle:j,innerRadius:w,outerRadius:w},g=Hb,v=Ze.cursorLine}else p={points:ND(l,d,s)},g=nf,v=Ze.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,E=vs(vs(vs(vs({stroke:"#ccc",pointerEvents:"none"},s),p),Cn(u)),{},{payload:h,payloadIndex:m,className:ye("recharts-tooltip-cursor",T)});return _.createElement(It,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},_.createElement(J6,{cursor:u,cursorComp:g,cursorProps:E}))}function t8(e){var t=b6(),r=wb(),n=Ta(),a=T6();return t==null||r==null||n==null||a==null?null:_.createElement(e8,Yu({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var W2=_.createContext(null),r8=()=>_.useContext(W2),K2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,c){this.fn=u,this.context=f,this.once=c||!1}function s(u,f,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new a(c,d||u,h),p=r?r+f:f;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],m]:u._events[p].push(m):(u._events[p]=m,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)t.call(c,d)&&f.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,p=new Array(m);h<m;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(f){var c=r?r+f:f,d=this._events[c];return d?d.fn?1:d.length:0},l.prototype.emit=function(f,c,d,h,m,p){var g=r?r+f:f;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,m),!0;case 6:return v.fn.call(v.context,c,d,h,m,p),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var b=v.length,j;for(w=0;w<b;w++)switch(v[w].once&&this.removeListener(f,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,d);break;case 4:v[w].fn.call(v[w].context,c,d,h);break;default:if(!x)for(j=1,x=new Array(y-1);j<y;j++)x[j-1]=arguments[j];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(f,c,d){return s(this,f,c,d,!1)},l.prototype.once=function(f,c,d){return s(this,f,c,d,!0)},l.prototype.removeListener=function(f,c,d,h){var m=r?r+f:f;if(!this._events[m])return this;if(!c)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==c||h&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(K2);var n8=K2.exports;const a8=Br(n8);var vi=new a8,Xu="recharts.syncEvent.tooltip",ig="recharts.syncEvent.brush";function ph(e,t){if(t){var r=Number.parseInt(t,10);if(!lr(r))return e==null?void 0:e[r]}}var i8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Y2=At({name:"options",initialState:i8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),s8=Y2.reducer,{createEventEmitter:o8}=Y2.actions;function l8(e){return e.tooltip.syncInteraction}var c8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X2=At({name:"chartData",initialState:c8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:sg,setDataStartEndIndexes:u8,setComputedData:GV}=X2.actions,d8=X2.reducer,f8=["x","y"];function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?og(Object(r),!0).forEach(function(n){h8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h8(e,t,r){return(t=m8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g8(e,t){if(e==null)return{};var r,n,a=v8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y8(){var e=fe(kf),t=fe(Cf),r=Re(),n=fe(G1),a=fe(Wr),s=Ta(),o=_l(),l=fe(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Ei;var u=(f,c,d)=>{if(t!==d&&e===f){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:p,y:g}=m,v=g8(m,f8),{x:y,y:x,width:w,height:b}=c.payload.sourceViewBox,j=Xn(Xn({},v),{},{x:o.x+(w?(p-y)/w:0)*o.width,y:o.y+(b?(g-x)/b:0)*o.height});r(Xn(Xn({},c),{},{payload:Xn(Xn({},c.payload),{},{coordinate:j})}))}else r(c);return}if(a!=null){var T;if(typeof n=="function"){var E={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(a,E);T=a[S]}else n==="value"&&(T=a.find(R=>String(R.value)===c.payload.label));var{coordinate:N}=c.payload;if(T==null||c.payload.active===!1||N==null||o==null){r(Wu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:O}=N,I=Math.min(P,o.x+o.width),k=Math.min(O,o.y+o.height),A={x:s==="horizontal"?T.coordinate:I,y:s==="horizontal"?k:T.coordinate},M=Wu({active:c.payload.active,coordinate:A,dataKey:c.payload.dataKey,index:String(T.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(M)}}};return vi.on(Xu,u),()=>{vi.off(Xu,u)}},[l,r,t,e,n,a,s,o])}function x8(){var e=fe(kf),t=fe(Cf),r=Re();_.useEffect(()=>{if(e==null)return Ei;var n=(a,s,o)=>{t!==o&&e===a&&r(u8(s))};return vi.on(ig,n),()=>{vi.off(ig,n)}},[r,t,e])}function b8(){var e=Re();_.useEffect(()=>{e(o8())},[e]),y8(),x8()}function w8(e,t,r,n,a,s){var o=fe(m=>P6(m,e,t)),l=fe(Cf),u=fe(kf),f=fe(G1),c=fe(l8),d=c==null?void 0:c.active,h=_l();_.useEffect(()=>{if(!d&&u!=null&&l!=null){var m=Wu({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});vi.emit(Xu,u,m,l)}},[d,r,o,a,n,l,u,f,s,h])}function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lg(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=N8(e,"string");return typeof t=="symbol"?t:t+""}function N8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E8(e){return e.dataKey}function O8(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(h3,t)}var ug=[],T8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ys(e){var t,r,n=mt(e,T8),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:x,trigger:w,defaultIndex:b,portal:j,axisId:T}=n,E=Re(),S=typeof b=="number"?String(b):b;_.useEffect(()=>{E(_L({shared:x,trigger:w,axisId:T,active:a,defaultIndex:S}))},[E,x,w,T,a,S]);var N=_l(),P=Db(),O=vL(x),{activeIndex:I,isActive:k}=(t=fe(H=>k6(H,O,w,S)))!==null&&t!==void 0?t:{},A=fe(H=>I6(H,O,w,S)),M=fe(H=>G2(H,O,w,S)),R=fe(H=>A6(H,O,w,S)),D=A,q=r8(),F=(r=a??k)!==null&&r!==void 0?r:!1,[$,C]=uk([D,F]),L=O==="axis"?M:void 0;w8(O,w,R,L,I,F);var z=j??q;if(z==null||N==null||O==null)return null;var W=D??ug;F||(W=ug),f&&W.length&&(W=B5(W.filter(H=>H.value!=null&&(H.hide!==!0||n.includeHidden)),h,E8));var V=W.length>0,B=_.createElement(b3,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:c,active:F,coordinate:R,hasPayload:V,offset:d,position:m,reverseDirection:p,useTranslate3d:g,viewBox:N,wrapperStyle:v,lastBoundingBox:$,innerRef:C,hasPortalFromProps:!!j},O8(u,cg(cg({},n),{},{payload:W,label:L,active:F,activeIndex:I,coordinate:R,accessibilityLayer:P})));return _.createElement(_.Fragment,null,wd.createPortal(B,z),F&&_.createElement(t8,{cursor:y,tooltipEventType:O,coordinate:R,payload:W,index:I}))}var fa=e=>null;fa.displayName="Cell";function S8(e,t,r){return(t=P8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class I8{constructor(t){S8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(r),!0).forEach(function(n){C8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t,r){return(t=D8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=M8(e,"string");return typeof t=="symbol"?t:t+""}function M8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R8={cacheSize:2e3,enableCache:!0},Z2=k8({},R8),fg=new I8(Z2.cacheSize),L8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hg="recharts_measurement_span";function B8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var mg=(e,t)=>{try{var r=document.getElementById(hg);r||(r=document.createElement("span"),r.setAttribute("id",hg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,L8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ei=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sl.isSsr)return{width:0,height:0};if(!Z2.enableCache)return mg(t,r);var n=B8(t,r),a=fg.get(n);if(a)return a;var s=mg(t,r);return fg.set(n,s),s},Q2;function $8(e,t,r){return(t=F8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},G8=["cm","mm","pt","pc","in","Q","px"];function V8(e){return G8.includes(e)}var Jn="NaN";function W8(e,t){return e*q8[t]}class gt{static parse(t){var r,[,n,a]=(r=H8.exec(t))!==null&&r!==void 0?r:[];return n==null?gt.NaN:new gt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,lr(t)&&(this.unit=""),r!==""&&!U8.test(r)&&(this.num=NaN,this.unit=""),V8(r)&&(this.num=W8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return lr(this.num)}}Q2=gt;$8(gt,"NaN",new Q2(NaN,""));function J2(e){if(e==null||e.includes(Jn))return Jn;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=pg.exec(t))!==null&&r!==void 0?r:[],o=gt.parse(n??""),l=gt.parse(s??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Jn;t=t.replace(pg,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,c,d,h]=(f=gg.exec(t))!==null&&f!==void 0?f:[],m=gt.parse(c??""),p=gt.parse(h??""),g=d==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Jn;t=t.replace(gg,g.toString())}return t}var vg=/\(([^()]*)\)/;function K8(e){for(var t=e,r;(r=vg.exec(t))!=null;){var[,n]=r;t=t.replace(vg,J2(n))}return t}function Y8(e){var t=e.replace(/\s+/g,"");return t=K8(t),t=J2(t),t}function X8(e){try{return Y8(e)}catch{return Jn}}function Lc(e){var t=X8(e.slice(5,-1));return t===Jn?"":t}var Z8=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Q8=["dx","dy","angle","className","breakAll"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function yg(e,t){if(e==null)return{};var r,n,a=J8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function J8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ew=/[ \f\n\r\t\v\u2028\u2029]+/,tw=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Me(t)||(r?a=t.toString().split(""):a=t.toString().split(ew));var s=a.map(l=>({word:l,width:ei(l,n).width})),o=r?0:ei("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function e7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var rw=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var f={words:[o],width:l};a.push(f)}return a},[]),nw=e=>e.reduce((t,r)=>t.width>r.width?t:r),t7="",xg=(e,t,r,n,a,s,o,l)=>{var u=e.slice(0,t),f=tw({breakAll:r,style:n,children:u+t7});if(!f)return[!1,[]];var c=rw(f.wordsWithComputedWidth,s,o,l),d=c.length>a||nw(c).width>Number(s);return[d,c]},r7=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:u}=e,f=de(s),c=String(o),d=rw(t,n,r,a);if(!f||a)return d;var h=d.length>s||nw(d).width>Number(n);if(!h)return d;for(var m=0,p=c.length-1,g=0,v;m<=p&&g<=c.length-1;){var y=Math.floor((m+p)/2),x=y-1,[w,b]=xg(c,x,u,l,s,n,r,a),[j]=xg(c,y,u,l,s,n,r,a);if(!w&&!j&&(m=y+1),w&&j&&(p=y-1),!w&&j){v=b;break}g++}return v||d},bg=e=>{var t=Me(e)?[]:e.toString().split(ew);return[{words:t,width:void 0}]},n7=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!Sl.isSsr){var l,u,f=tw({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:c,spaceWidth:d}=f;l=c,u=d}else return bg(n);return r7({breakAll:s,children:n,maxLines:o,style:a},l,u,t,!!r)}return bg(n)},aw="#808080",a7={angle:0,breakAll:!1,capHeight:"0.71em",fill:aw,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Wl=_.forwardRef((e,t)=>{var r=mt(e,a7),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:c}=r,d=yg(r,Z8),h=_.useMemo(()=>n7({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:u,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,u,d.style,d.width]),{dx:m,dy:p,angle:g,className:v,breakAll:y}=d,x=yg(d,Q8);if(!vr(n)||!vr(a)||h.length===0)return null;var w=Number(n)+(de(m)?m:0),b=Number(a)+(de(p)?p:0);if(!$e(w)||!$e(b))return null;var j;switch(c){case"start":j=Lc("calc(".concat(o,")"));break;case"middle":j=Lc("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=Lc("calc(".concat(h.length-1," * -").concat(s,")"));break}var T=[];if(u){var E=h[0].width,{width:S}=d;T.push("scale(".concat(de(S)&&de(E)?S/E:1,")"))}return g&&T.push("rotate(".concat(g,", ").concat(w,", ").concat(b,")")),T.length&&(x.transform=T.join(" ")),_.createElement("text",Zu({},Nt(x),{ref:t,x:w,y:b,className:ye("recharts-text",v),textAnchor:f,fill:l.includes("url")?aw:l}),h.map((N,P)=>{var O=N.words.join(y?"":" ");return _.createElement("tspan",{x:w,dy:P===0?j:s,key:"".concat(O,"-").concat(P)},O)}))});Wl.displayName="Text";var i7=["labelRef"],s7=["content"];function wg(e,t){if(e==null)return{};var r,n,a=o7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jg(Object(r),!0).forEach(function(n){l7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l7(e,t,r){return(t=c7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nr.apply(null,arguments)}var iw=_.createContext(null),d7=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return _.createElement(iw.Provider,{value:u},l)},sw=()=>{var e=_.useContext(iw),t=_l();return e||bb(t)},f7=_.createContext(null),h7=()=>{var e=_.useContext(f7),t=fe(X1);return e||t},m7=e=>{var{value:t,formatter:r}=e,n=Me(e.children)?t:e.children;return typeof r=="function"?r(n):n},gh=e=>e!=null&&typeof e=="function",p7=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},g7=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=a,p=(f+c)/2,g=p7(d,h),v=g>=0?1:-1,y,x;switch(t){case"insideStart":y=d+v*s,x=m;break;case"insideEnd":y=h-v*s,x=!m;break;case"end":y=h+v*s,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Xe(l,u,p,y),b=Xe(l,u,p,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(b.x,",").concat(b.y),T=Me(e.id)?ai("recharts-radial-line-"):e.id;return _.createElement("text",Nr({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:T,d:j})),_.createElement("textPath",{xlinkHref:"#".concat(T)},r))},v7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(r==="outside"){var{x:c,y:d}=Xe(n,a,o+t,f);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:p}=Xe(n,a,h,f);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Qu=e=>"cx"in e&&de(e.cx),y7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Qu(r)&&(s=r);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:c}=t,d=o,h=o+(u-f)/2,m=(d+h)/2,p=(u+f)/2,g=d+u/2,v=c>=0?1:-1,y=v*n,x=v>0?"end":"start",w=v>0?"start":"end",b=u>=0?1:-1,j=b*n,T=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var S={x:d+u/2,y:l-y,textAnchor:"middle",verticalAnchor:x};return Ge(Ge({},S),s?{height:Math.max(l-s.y,0),width:u}:{})}if(a==="bottom"){var N={x:h+f/2,y:l+c+y,textAnchor:"middle",verticalAnchor:w};return Ge(Ge({},N),s?{height:Math.max(s.y+s.height-(l+c),0),width:f}:{})}if(a==="left"){var P={x:m-j,y:l+c/2,textAnchor:T,verticalAnchor:"middle"};return Ge(Ge({},P),s?{width:Math.max(P.x-s.x,0),height:c}:{})}if(a==="right"){var O={x:m+p+j,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return Ge(Ge({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:c}:{})}var I=s?{width:p,height:c}:{};return a==="insideLeft"?Ge({x:m+j,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},I):a==="insideRight"?Ge({x:m+p-j,y:l+c/2,textAnchor:T,verticalAnchor:"middle"},I):a==="insideTop"?Ge({x:d+u/2,y:l+y,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Ge({x:h+f/2,y:l+c-y,textAnchor:"middle",verticalAnchor:x},I):a==="insideTopLeft"?Ge({x:d+j,y:l+y,textAnchor:E,verticalAnchor:w},I):a==="insideTopRight"?Ge({x:d+u-j,y:l+y,textAnchor:T,verticalAnchor:w},I):a==="insideBottomLeft"?Ge({x:h+j,y:l+c-y,textAnchor:E,verticalAnchor:x},I):a==="insideBottomRight"?Ge({x:h+f-j,y:l+c-y,textAnchor:T,verticalAnchor:x},I):a&&typeof a=="object"&&(de(a.x)||Pr(a.x))&&(de(a.y)||Pr(a.y))?Ge({x:o+xt(a.x,p),y:l+xt(a.y,c),textAnchor:"end",verticalAnchor:"end"},I):Ge({x:g,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},x7={angle:0,offset:5,zIndex:Ze.label,position:"middle",textBreakAll:!1};function Zr(e){var t=mt(e,x7),{viewBox:r,position:n,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:f}=t,c=h7(),d=sw(),h=n==="center"?d:c??d,m,p,g;if(r==null?m=h:Qu(r)?m=r:m=bb(r),!m||Me(a)&&Me(s)&&!_.isValidElement(o)&&typeof o!="function")return null;var v=Ge(Ge({},t),{},{viewBox:m});if(_.isValidElement(o)){var{labelRef:y}=v,x=wg(v,i7);return _.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=v,b=wg(v,s7);if(p=_.createElement(o,b),_.isValidElement(p))return p}else p=m7(t);var j=Nt(t);if(Qu(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return g7(t,n,p,j,m);g=v7(m,t.offset,t.position)}else g=y7(t,m);return _.createElement(It,{zIndex:t.zIndex},_.createElement(Wl,Nr({ref:f,className:ye("recharts-label",l)},j,g,{textAnchor:e7(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:u}),p))}Zr.displayName="Label";var b7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Zr,Nr({key:"label-implicit"},n)):vr(e)?_.createElement(Zr,Nr({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Zr?_.cloneElement(e,Ge({key:"label-implicit"},n)):_.createElement(Zr,Nr({key:"label-implicit",content:e},n)):gh(e)?_.createElement(Zr,Nr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Zr,Nr({},e,{key:"label-implicit"},n)):null};function w7(e){var{label:t,labelRef:r}=e,n=sw();return b7(t,n,r)||null}var ow={},lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(lw);var cw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(cw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lw,r=cw,n=ll;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(ow);var j7=ow.last;const _7=Br(j7);var N7=["valueAccessor"],E7=["dataKey","clockWise","id","textBreakAll","zIndex"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}function _g(e,t){if(e==null)return{};var r,n,a=O7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T7=e=>Array.isArray(e.value)?_7(e.value):e.value,uw=_.createContext(void 0),dw=uw.Provider,fw=_.createContext(void 0),S7=fw.Provider;function P7(){return _.useContext(uw)}function A7(){return _.useContext(fw)}function Rs(e){var{valueAccessor:t=T7}=e,r=_g(e,N7),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,u=_g(r,E7),f=P7(),c=A7(),d=f||c;return!d||!d.length?null:_.createElement(It,{zIndex:l??Ze.label},_.createElement(ht,{className:"recharts-label-list"},d.map((h,m)=>{var p,g=Me(n)?t(h,m):Oe(h&&h.payload,n),v=Me(s)?{}:{id:"".concat(s,"-").concat(m)};return _.createElement(Zr,Oo({key:"label-".concat(m)},Nt(h),u,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Rs.displayName="LabelList";function vh(e){var{label:t}=e;return t?t===!0?_.createElement(Rs,{key:"labelList-implicit"}):_.isValidElement(t)||gh(t)?_.createElement(Rs,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Rs,Oo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(null,arguments)}var hw=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ye("recharts-dot",a);return de(t)&&de(r)&&de(n)?_.createElement("circle",Ju({},$t(e),Cd(e),{className:s,cx:t,cy:r,r:n})):null},mw=e=>e.graphicalItems.polarItems,I7=ee([Le,Bi],$f),Kl=ee([mw,ze,I7],Ff),k7=ee([Kl],zf),Yl=ee([k7,Ml],Uf),C7=ee([Yl,ze,Kl],qf);ee([Yl,ze,Kl],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,o=Oe(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Ng=()=>{},D7=ee([Yl,ze,Kl,Hl,Le],Kf),M7=ee([ze,Vf,Wf,Ng,D7,Ng,we,Le],Yf),pw=ee([ze,we,Yl,C7,Li,Le,M7],Xf),R7=ee([pw,ze,Ca],Jf);ee([ze,pw,R7,Le],th);var L7={radiusAxis:{},angleAxis:{}},gw=At({name:"polarAxis",initialState:L7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:VV,removeRadiusAxis:WV,addAngleAxis:KV,removeAngleAxis:YV}=gw.actions,B7=gw.reducer;function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(r),!0).forEach(function(n){$7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $7(e,t,r){return(t=F7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U7=(e,t)=>t,yh=ee([mw,U7],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),H7=[],xh=(e,t,r)=>(r==null?void 0:r.length)===0?H7:r,vw=ee([Ml,yh,xh],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Og(Og({},t.presentationProps),s.props))),a!=null)return a}}),q7=ee([vw,yh,xh],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,o=Oe(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Oa(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),G7=ee([vw,yh,xh,nt],(e,t,r,n)=>{if(!(t==null||e==null))return G9({offset:n,pieSettings:t,displayedData:e,cells:r})}),yw={exports:{}},Se={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=Symbol.for("react.transitional.element"),wh=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),Jl=Symbol.for("react.consumer"),ec=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),rc=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),ic=Symbol.for("react.lazy"),V7=Symbol.for("react.view_transition"),W7=Symbol.for("react.client.reference");function Jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bh:switch(e=e.type,e){case Xl:case Ql:case Zl:case rc:case nc:case V7:return e;default:switch(e=e&&e.$$typeof,e){case ec:case tc:case ic:case ac:return e;case Jl:return e;default:return t}}case wh:return t}}}Se.ContextConsumer=Jl;Se.ContextProvider=ec;Se.Element=bh;Se.ForwardRef=tc;Se.Fragment=Xl;Se.Lazy=ic;Se.Memo=ac;Se.Portal=wh;Se.Profiler=Ql;Se.StrictMode=Zl;Se.Suspense=rc;Se.SuspenseList=nc;Se.isContextConsumer=function(e){return Jt(e)===Jl};Se.isContextProvider=function(e){return Jt(e)===ec};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bh};Se.isForwardRef=function(e){return Jt(e)===tc};Se.isFragment=function(e){return Jt(e)===Xl};Se.isLazy=function(e){return Jt(e)===ic};Se.isMemo=function(e){return Jt(e)===ac};Se.isPortal=function(e){return Jt(e)===wh};Se.isProfiler=function(e){return Jt(e)===Ql};Se.isStrictMode=function(e){return Jt(e)===Zl};Se.isSuspense=function(e){return Jt(e)===rc};Se.isSuspenseList=function(e){return Jt(e)===nc};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xl||e===Ql||e===Zl||e===rc||e===nc||typeof e=="object"&&e!==null&&(e.$$typeof===ic||e.$$typeof===ac||e.$$typeof===ec||e.$$typeof===Jl||e.$$typeof===tc||e.$$typeof===W7||e.getModuleId!==void 0)};Se.typeOf=Jt;yw.exports=Se;var K7=yw.exports,Tg=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Sg=null,Bc=null,xw=e=>{if(e===Sg&&Array.isArray(Bc))return Bc;var t=[];return _.Children.forEach(e,r=>{Me(r)||(K7.isFragment(r)?t=t.concat(xw(r.props.children)):t.push(r))}),Bc=t,Sg=e,t};function jh(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Tg(a)):n=[Tg(t)],xw(e).forEach(a=>{var s=Mn(a,"type.displayName")||Mn(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var bw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ww);var Y7=ww.isPlainObject;const X7=Br(Y7);var Pg,Ag,Ig,kg,Cg;function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(n){Z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t,r){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(null,arguments)}function Ka(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Rg=(e,t,r,n,a)=>{var s=r-n,o;return o=Ue(Pg||(Pg=Ka(["M ",",",""])),e,t),o+=Ue(Ag||(Ag=Ka(["L ",",",""])),e+r,t),o+=Ue(Ig||(Ig=Ka(["L ",",",""])),e+r-s/2,t+a),o+=Ue(kg||(kg=Ka(["L ",",",""])),e+r-s/2-n,t+a),o+=Ue(Cg||(Cg=Ka(["L ",","," Z"])),e,t),o},e9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t9=e=>{var t=mt(e,e9),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:c,isUpdateAnimationActive:d}=t,h=_.useRef(null),[m,p]=_.useState(-1),g=_.useRef(a),v=_.useRef(s),y=_.useRef(o),x=_.useRef(r),w=_.useRef(n),b=ki(e,"trapezoid-");if(_.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var A=h.current.getTotalLength();A&&p(A)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var j=ye("recharts-trapezoid",l);if(!d)return _.createElement("g",null,_.createElement("path",To({},Nt(t),{className:j,d:Rg(r,n,a,s,o)})));var T=g.current,E=v.current,S=y.current,N=x.current,P=w.current,O="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),k=Mb(["strokeDasharray"],f,u);return _.createElement(Ii,{animationId:b,key:b,canBegin:m>0,duration:f,easing:u,isActive:d,begin:c},A=>{var M=Ce(T,a,A),R=Ce(E,s,A),D=Ce(S,o,A),q=Ce(N,r,A),F=Ce(P,n,A);h.current&&(g.current=M,v.current=R,y.current=D,x.current=q,w.current=F);var $=A>0?{transition:k,strokeDasharray:I}:{strokeDasharray:O};return _.createElement("path",To({},Nt(t),{className:j,d:Rg(q,F,M,R,D),ref:h,style:Mg(Mg({},$),t.style)}))})},r9=["option","shapeType","activeClassName"];function n9(e,t){if(e==null)return{};var r,n,a=a9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lg(Object(r),!0).forEach(function(n){i9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i9(e,t,r){return(t=s9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l9(e,t){return So(So({},t),e)}function c9(e,t){return e==="symbols"}function Bg(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement($b,r);case"trapezoid":return _.createElement(t9,r);case"sector":return _.createElement(Hb,r);case"symbols":if(c9(t))return _.createElement(lx,r);break;case"curve":return _.createElement(nf,r);default:return null}}function u9(e){return _.isValidElement(e)?e.props:e}function _h(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=n9(e,r9),s;if(_.isValidElement(t))s=_.cloneElement(t,So(So({},a),u9(t)));else if(typeof t=="function")s=t(a,a.index);else if(X7(t)&&typeof t!="boolean"){var o=l9(t,a);s=_.createElement(Bg,{shapeType:r,elementProps:o})}else{var l=a;s=_.createElement(Bg,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(ht,{className:n},s):s}var Nh=(e,t,r)=>{var n=Re();return(a,s)=>o=>{e==null||e(a,s,o),n(T2({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Eh=e=>{var t=Re();return(r,n)=>a=>{e==null||e(r,n,a),t(NL())}},Oh=(e,t,r)=>{var n=Re();return(a,s)=>o=>{e==null||e(a,s,o),n(EL({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Th(e){var{tooltipEntrySettings:t}=e,r=Re(),n=bt(),a=_.useRef(null);return _.useLayoutEffect(()=>{n||(a.current===null?r(bL(t)):a.current!==t&&r(wL({prev:a.current,next:t})),a.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{a.current&&(r(jL(a.current)),a.current=null)},[r]),null}function jw(e){var{legendPayload:t}=e,r=Re(),n=bt(),a=_.useRef(null);return _.useLayoutEffect(()=>{n||(a.current===null?r(Ib(t)):a.current!==t&&r(kb({prev:a.current,next:t})),a.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{a.current&&(r(Cb(a.current)),a.current=null)},[r]),null}function d9(e){var{legendPayload:t}=e,r=Re(),n=fe(we),a=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(Ib(t)):a.current!==t&&r(kb({prev:a.current,next:t})),a.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{a.current&&(r(Cb(a.current)),a.current=null)},[r]),null}var $c,f9=()=>{var[e]=_.useState(()=>ai("uid-"));return e},h9=($c=ay.useId)!==null&&$c!==void 0?$c:f9;function m9(e,t){var r=h9();return t||(e?"".concat(e,"-").concat(r):r)}var p9=_.createContext(void 0),Sh=e=>{var{id:t,type:r,children:n}=e,a=m9("recharts-".concat(r),t);return _.createElement(p9.Provider,{value:a},n(a))},g9={cartesianItems:[],polarItems:[]},_w=At({name:"graphicalItems",initialState:g9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=or(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ke()},removePolarGraphicalItem:{reducer(e,t){var r=or(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ke()}}}),{addCartesianGraphicalItem:v9,replaceCartesianGraphicalItem:y9,removeCartesianGraphicalItem:x9,addPolarGraphicalItem:b9,removePolarGraphicalItem:w9}=_w.actions,j9=_w.reducer,_9=e=>{var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(v9(e)):r.current!==e&&t(y9({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(x9(r.current)),r.current=null)},[t]),null},Nw=_.memo(_9);function N9(e){var t=Re();return _.useLayoutEffect(()=>(t(b9(e)),()=>{t(w9(e))}),[t,e]),null}var E9=["key"],O9=["onMouseEnter","onClick","onMouseLeave"],T9=["id"],S9=["id"];function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=A9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(null,arguments)}function sc(e,t){if(e==null)return{};var r,n,a=k9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C9(e){var t=_.useMemo(()=>jh(e.children,fa),[e.children]),r=fe(n=>q7(n,e.id,t));return r==null?null:_.createElement(d9,{legendPayload:r})}var D9=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:Oa(l,t),hide:u,type:f,color:o,unit:"",graphicalItemId:c}};return _.createElement(Th,{tooltipEntrySettings:d})}),M9=(e,t)=>e>t?"start":e<t?"end":"middle",R9=(e,t,r)=>xt(typeof t=="function"?t(e):t,r,r*.8),L9=(e,t,r)=>{var{top:n,left:a,width:s,height:o}=t,l=Fb(s,o),u=a+xt(e.cx,s,s/2),f=n+xt(e.cy,o,o/2),c=xt(e.innerRadius,l,0),d=R9(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:f,innerRadius:c,outerRadius:d,maxRadius:h}},B9=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function $9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var F9=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ye("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=sc(t,E9);return _.createElement(nf,cn({},a,{type:"linear",className:r}))},z9=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var a=ye("recharts-pie-label-text",$9(e));return _.createElement(Wl,cn({},t,{alignmentBaseline:"middle",className:a}),n)};function U9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=$t(r),u=Cn(a),f=Cn(s),c=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,d=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Xe(h.cx,h.cy,h.outerRadius+c,p),v=He(He(He(He({},l),h),{},{stroke:"none"},u),{},{index:m,textAnchor:M9(g.x,h.cx)},g),y=He(He(He(He({},l),h),{},{fill:"none",stroke:h.fill},f),{},{index:m,points:[Xe(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return _.createElement(It,{zIndex:Ze.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},_.createElement(ht,null,s&&F9(s,y),z9(a,v,Oe(h,o))))});return _.createElement(ht,{className:"recharts-pie-labels"},d)}function H9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(vh,{label:a}):_.createElement(U9,{sectors:t,props:r,showLabels:n})}function q9(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:o}=e,l=fe(ln),u=fe(uh),f=fe(u6),{onMouseEnter:c,onClick:d,onMouseLeave:h}=a,m=sc(a,O9),p=Nh(c,a.dataKey,o),g=Eh(h),v=Oh(d,a.dataKey,o);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=f==null||f===o,b=String(x)===l&&(u==null||a.dataKey===u)&&w,j=l?n:null,T=r&&b?r:j,E=He(He({},y),{},{stroke:y.stroke,tabIndex:-1,[fb]:x,[hb]:o});return _.createElement(ht,cn({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},ol(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),_.createElement(_h,cn({option:s??T,index:x,shapeType:"sector",isActive:b},E)))}))}function G9(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),m=B9(l,u),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(T=>Oe(T,f,0)!==0).length,y=(p>=360?v:v-1)*g,x=p-v*h-y,w=n.reduce((T,E)=>{var S=Oe(E,f,0);return T+(de(S)?S:0)},0),b;if(w>0){var j;b=n.map((T,E)=>{var S=Oe(T,f,0),N=Oe(T,c,E),P=L9(r,s,T),O=(de(S)?S:0)/w,I,k=He(He({},T),a&&a[E]&&a[E].props);E?I=j.endAngle+ft(m)*g*(S!==0?1:0):I=l;var A=I+ft(m)*((S!==0?h:0)+O*x),M=(I+A)/2,R=(P.innerRadius+P.outerRadius)/2,D=[{name:N,value:S,payload:k,dataKey:f,type:d,graphicalItemId:r.id}],q=Xe(P.cx,P.cy,R,M);return j=He(He(He(He({},r.presentationProps),{},{percent:O,cornerRadius:typeof o=="string"?parseFloat(o):o,name:N,tooltipPayload:D,midAngle:M,middleRadius:R,tooltipPosition:q},k),P),{},{value:S,dataKey:f,startAngle:I,endAngle:A,payload:k,paddingAngle:ft(m)*g}),j})}return b}function V9(e){var{showLabels:t,sectors:r,children:n}=e,a=_.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return _.createElement(S7,{value:t?a:void 0},n)}function W9(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,m=ki(t,"recharts-pie-"),p=r.current,[g,v]=_.useState(!1),y=_.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),x=_.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return _.createElement(V9,{showLabels:!g,sectors:a},_.createElement(Ii,{animationId:m,begin:o,duration:l,isActive:s,easing:u,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var b=[],j=a&&a[0],T=j==null?void 0:j.startAngle;return a==null||a.forEach((E,S)=>{var N=p&&p[S],P=S>0?Mn(E,"paddingAngle",0):0;if(N){var O=Ce(N.endAngle-N.startAngle,E.endAngle-E.startAngle,w),I=He(He({},E),{},{startAngle:T+P,endAngle:T+O+P});b.push(I),T=I.endAngle}else{var{endAngle:k,startAngle:A}=E,M=Ce(0,k-A,w),R=He(He({},E),{},{startAngle:T+P,endAngle:T+M+P});b.push(R),T=R.endAngle}}),r.current=b,_.createElement(ht,null,_.createElement(q9,{sectors:b,activeShape:f,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(H9,{showLabels:!g,sectors:a,props:t}),t.children)}var K9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ze.area};function Y9(e){var{id:t}=e,r=sc(e,T9),{hide:n,className:a,rootTabIndex:s}=e,o=_.useMemo(()=>jh(e.children,fa),[e.children]),l=fe(c=>G7(c,t,o)),u=_.useRef(null),f=ye("recharts-pie",a);return n||l==null?(u.current=null,_.createElement(ht,{tabIndex:s,className:f})):_.createElement(It,{zIndex:e.zIndex},_.createElement(D9,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(ht,{tabIndex:s,className:f},_.createElement(W9,{props:He(He({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function ed(e){var t=mt(e,K9),{id:r}=t,n=sc(t,S9),a=$t(n);return _.createElement(Sh,{id:r,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(N9,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),_.createElement(C9,cn({},n,{id:s})),_.createElement(Y9,cn({},n,{id:s}))))}ed.displayName="Pie";var X9=["points"];function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function eB(e,t){if(e==null)return{};var r,n,a=tB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rB(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ye(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=eB(s,X9);return _.createElement(hw,Po({},l,{className:a}))}function nB(e,t){return e==null?!1:t?!0:e.length===1}function aB(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Ze.scatter}=e;if(!nB(t,r))return null;var c=bw(r),d=II(r),h=t.map((p,g)=>{var v,y,x=Fc(Fc(Fc({r:3},o),d),{},{index:g,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return _.createElement(rB,{key:"dot-".concat(g),option:r,dotProps:x,className:a})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(u,")")),_.createElement(It,{zIndex:f},_.createElement(ht,Po({className:n},m),h))}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){iB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iB(e,t,r){return(t=sB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sB(e){var t=oB(e,"string");return typeof t=="symbol"?t:t+""}function oB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ew=0,lB={xAxis:{},yAxis:{},zAxis:{}},Ow=At({name:"cartesianAxis",initialState:lB,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=Ug(Ug({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:cB,replaceXAxis:uB,removeXAxis:dB,addYAxis:fB,replaceYAxis:hB,removeYAxis:mB,addZAxis:XV,replaceZAxis:ZV,removeZAxis:QV,updateYAxisWidth:pB}=Ow.actions,gB=Ow.reducer,vB=ee([nt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yB=ee([vB,zr,Ur],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ph=()=>fe(yB),xB=()=>fe(p6);function Hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(r),!0).forEach(function(n){bB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=jB(e,"string");return typeof t=="symbol"?t:t+""}function jB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _B=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=zc(zc(zc({},l),Cn(a)),Cd(a)),f;return _.isValidElement(a)?f=_.cloneElement(a,u):typeof a=="function"?f=a(u):f=_.createElement(hw,u),_.createElement(ht,{className:"recharts-active-dot",clipPath:o},f)};function NB(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=Ze.activeDot}=e,l=fe(ln),u=xB();if(t==null||u==null)return null;var f=t.find(c=>u.includes(c.payload));return Me(f)?null:_.createElement(It,{zIndex:o},_.createElement(_B,{point:f,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var qg=(e,t,r)=>{var n=r??e;if(!Me(n))return xt(n,t,0)},EB=(e,t,r)=>{var n={},a=e.filter(Bl),s=e.filter(f=>f.stackId==null),o=a.reduce((f,c)=>(f[c.stackId]||(f[c.stackId]=[]),f[c.stackId].push(c),f),n),l=Object.entries(o).map(f=>{var[c,d]=f,h=d.map(p=>p.dataKey),m=qg(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:m}}),u=s.map(f=>{var c=[f.dataKey].filter(h=>h!=null),d=qg(t,r,f.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...l,...u]};function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return(t=TB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PB(e,t,r,n,a){var s=n.length;if(!(s<1)){var o=xt(e,r,0,!0),l,u=[];if($e(n[0].barSize)){var f=!1,c=r/s,d=n.reduce((y,x)=>y+(x.barSize||0),0);d+=(s-1)*o,d>=r&&(d-=(s-1)*o,o=0),d>=r&&c>0&&(f=!0,c*=.9,d=s*c);var h=(r-d)/2>>0,m={offset:h-o,size:0};l=n.reduce((y,x)=>{var w,b={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:f?c:(w=x.barSize)!==null&&w!==void 0?w:0}},j=[...y,b];return m=j[j.length-1].position,j},u)}else{var p=xt(t,r,0,!0);r-2*p-(s-1)*o<=0&&(o=0);var g=(r-2*p-(s-1)*o)/s;g>1&&(g>>=0);var v=$e(a)?Math.min(g,a):g;l=n.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(g+o)*w+(g-v)/2,size:v}}],u)}return l}}var AB=(e,t,r,n,a,s,o)=>{var l=Me(o)?t:o,u=PB(r,n,a!==s?a:s,e,l);return a!==s&&u!=null&&(u=u.map(f=>xs(xs({},f),{},{position:xs(xs({},f.position),{},{offset:f.position.offset-a/2})}))),u},IB=(e,t)=>{var r=Lf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}};function kB(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&$e(e.zIndex)?e.zIndex:t}var Tw=e=>{var{chartData:t}=e,r=Re(),n=bt();return _.useEffect(()=>n?()=>{}:(r(sg(t)),()=>{r(sg(void 0))}),[t,r,n]),null},Vg={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Sw=At({name:"brush",initialState:Vg,reducers:{setBrushSettings(e,t){return t.payload==null?Vg:t.payload}}}),{setBrushSettings:JV}=Sw.actions,CB=Sw.reducer;function DB(e,t,r){return(t=MB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ah{static create(t){return new Ah(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}DB(Ah,"EPS",1e-4);function LB(e){return(e%180+180)%180}var BB=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=LB(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},$B={dots:[],areas:[],lines:[]},Pw=At({name:"referenceElements",initialState:$B,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=or(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=or(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=or(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:eW,removeDot:tW,addArea:rW,removeArea:nW,addLine:aW,removeLine:iW}=Pw.actions,FB=Pw.reducer,zB=_.createContext(void 0),UB=e=>{var{children:t}=e,[r]=_.useState("".concat(ai("recharts"),"-clip")),n=Ph();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return _.createElement(zB.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function Aw(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function HB(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BB(n,r)}function qB(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function yi(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function GB(e,t){return Aw(e,t+1)}function VB(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,u=0,f=1,c=o,d=function(){var p=n==null?void 0:n[u];if(p===void 0)return{v:Aw(n,f)};var g=u,v,y=()=>(v===void 0&&(v=r(p,g)),v),x=p.coordinate,w=u===0||yi(e,x,y,c,l);w||(u=0,c=o,f+=1),w&&(c=x+e*(y()/2+a),u+=f)},h;f<=s.length;)if(h=d(),h)return h.v;return[]}function WB(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:u}=t,f=1;f<=o;f++){for(var c=(o-1)%f,d=l,h=!0,m=function(){var x=n[p],w=p,b,j=()=>(b===void 0&&(b=r(x,w)),b),T=x.coordinate,E=p===c||yi(e,T,j,d,u);if(!E)return h=!1,1;E&&(d=T+e*(j()/2+a))},p=c;p<o&&!m();p+=f);if(h){for(var g=[],v=c;v<o;v+=f)g.push(n[v]);return g}}return[]}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){KB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:u}=t,f=function(h){var m=s[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var v=e*(m.coordinate+e*g()/2-u);s[h]=m=vt(vt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=vt(vt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=yi(e,m.tickCoord,g,l,u);y&&(u=m.tickCoord-e*(g()/2+a),s[h]=vt(vt({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)f(c);return s}function QB(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:u,end:f}=t;if(s){var c=n[l-1],d=r(c,l-1),h=e*(c.coordinate+e*d/2-f);if(o[l-1]=c=vt(vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=yi(e,c.tickCoord,()=>d,u,f);m&&(f=c.tickCoord-e*(d/2+a),o[l-1]=vt(vt({},c),{},{isShow:!0}))}}for(var p=s?l-1:l,g=function(x){var w=o[x],b,j=()=>(b===void 0&&(b=r(w,x)),b);if(x===0){var T=e*(w.coordinate-e*j()/2-u);o[x]=w=vt(vt({},w),{},{tickCoord:T<0?w.coordinate-T*e:w.coordinate})}else o[x]=w=vt(vt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=yi(e,w.tickCoord,j,u,f);E&&(u=w.tickCoord+e*(j()/2+a),o[x]=vt(vt({},w),{},{isShow:!0}))}},v=0;v<p;v++)g(v);return o}function Ih(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:c,angle:d}=e;if(!a||!a.length||!n)return[];if(de(u)||Sl.isSsr){var h;return(h=GB(a,de(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",g=c&&p==="width"?ei(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,b)=>{var j=typeof f=="function"?f(w.value,b):w.value;return p==="width"?HB(ei(j,{fontSize:t,letterSpacing:r}),g,d):ei(j,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?ft(a[1].coordinate-a[0].coordinate):1,x=qB(s,y,p);return u==="equidistantPreserveStart"?VB(y,x,v,a,o):u==="equidistantPreserveEnd"?WB(y,x,v,a,o):(u==="preserveStart"||u==="preserveStartEnd"?m=QB(y,x,v,a,o,u==="preserveStartEnd"):m=ZB(y,x,v,a,o),m.filter(w=>w.isShow))}var JB=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+s,f=o+u+l+(r?n:0);return Math.round(f)}return 0},e$=["axisLine","width","height","className","hide","ticks","axisType"];function t$(e,t){if(e==null)return{};var r,n,a=r$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}function Kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(r),!0).forEach(function(n){n$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=i$(e,"string");return typeof t=="symbol"?t:t+""}function i$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ze.axis};function s$(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Ye(Ye(Ye({},u),$t(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!o||s==="bottom"&&o);f=Ye(Ye({},f),{},{x1:t,y1:r+c*a,x2:t+n,y2:r+c*a})}else{var d=+(s==="left"&&!o||s==="right"&&o);f=Ye(Ye({},f),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return _.createElement("line",Fn({},f,{className:ye("recharts-cartesian-axis-line",Mn(l,"className"))}))}function o$(e,t,r,n,a,s,o,l,u){var f,c,d,h,m,p,g=l?-1:1,v=e.tickSize||o,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=c=e.coordinate,h=r+ +!l*a,d=h-g*v,p=d-g*u,m=y;break;case"left":d=h=e.coordinate,c=t+ +!l*n,f=c-g*v,m=f-g*u,p=y;break;case"right":d=h=e.coordinate,c=t+ +l*n,f=c+g*v,m=f+g*u,p=y;break;default:f=c=e.coordinate,h=r+ +l*a,d=h+g*v,p=d+g*u,m=y;break}return{line:{x1:f,y1:d,x2:c,y2:h},tick:{x:m,y:p}}}function l$(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function c$(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function u$(e){var{option:t,tickProps:r,value:n}=e,a,s=ye(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))a=_.cloneElement(t,Ye(Ye({},r),{},{className:s}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ye(o,t==null?void 0:t.className)),a=_.createElement(Wl,Fn({},r,{className:o}),n)}return a}var d$=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:c,mirror:d,x:h,y:m,width:p,height:g,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:b,events:j,axisType:T}=e,E=Ih(Ye(Ye({},b),{},{ticks:r}),x,w),S=l$(c,d),N=c$(c,d),P=$t(b),O=Cn(n),I={};typeof a=="object"&&(I=a);var k=Ye(Ye({},P),{},{fill:"none"},I),A=E.map(D=>Ye({entry:D},o$(D,h,m,p,g,c,v,d,y))),M=A.map(D=>{var{entry:q,line:F}=D;return _.createElement(ht,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&_.createElement("line",Fn({},k,F,{className:ye("recharts-cartesian-axis-tick-line",Mn(a,"className"))})))}),R=A.map((D,q)=>{var{entry:F,tick:$}=D,C=Ye(Ye(Ye(Ye({textAnchor:S,verticalAnchor:N},P),{},{stroke:"none",fill:s},O),$),{},{index:q,payload:F,visibleTicksCount:E.length,tickFormatter:o,padding:u},f);return _.createElement(ht,Fn({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},ol(j,F,q)),n&&_.createElement(u$,{option:n,tickProps:C,value:"".concat(typeof o=="function"?o(F.value,q):F.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},R.length>0&&_.createElement(It,{zIndex:Ze.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},R)),M.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},M))}),f$=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:u}=e,f=t$(e,e$),[c,d]=_.useState(""),[h,m]=_.useState(""),p=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return JB({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=_.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),b=w.fontSize,j=w.letterSpacing;(b!==c||j!==h)&&(d(b),m(j))}}},[c,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:_.createElement(It,{zIndex:e.zIndex},_.createElement(ht,{className:ye("recharts-cartesian-axis",s)},_.createElement(s$,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:$t(e)}),_.createElement(d$,{ref:g,axisType:u,events:f,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(d7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(w7,{label:e.label,labelRef:e.labelRef}),e.children)))}),kh=_.forwardRef((e,t)=>{var r=mt(e,Sr);return _.createElement(f$,Fn({},r,{ref:t}))});kh.displayName="CartesianAxis";var h$=["x1","y1","x2","y2","key"],m$=["offset"],p$=["xAxisId","yAxisId"],g$=["xAxisId","yAxisId"];function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){v$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$(e,t,r){return(t=y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=x$(e,"string");return typeof t=="symbol"?t:t+""}function x$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(null,arguments)}function Ao(e,t){if(e==null)return{};var r,n,a=b$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w$=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return _.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Iw(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:u,key:f}=r,c=Ao(r,h$),d=(a=$t(c))!==null&&a!==void 0?a:{},{offset:h}=d,m=Ao(d,m$);n=_.createElement("line",wn({},m,{x1:s,y1:o,x2:l,y2:u,fill:"none",key:f}))}return n}function j$(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Ao(e,p$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(c),index:c});return _.createElement(Iw,{key:"line-".concat(c),option:n,lineItemProps:d})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function _$(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Ao(e,g$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(Iw,{option:n,lineItemProps:d,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function N$(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%t.length;return _.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function E$(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%r.length;return _.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var O$=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return cb(Ih(yt(yt(yt({},Sr),r),{},{ticks:ub(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},T$=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return cb(Ih(yt(yt(yt({},Sr),r),{},{ticks:ub(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},S$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ze.grid};function td(e){var t=jb(),r=_b(),n=wb(),a=yt(yt({},mt(e,S$)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:u,width:f,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:m}=a,p=bt(),g=fe(N=>Y0(N,"xAxis",s,p)),v=fe(N=>Y0(N,"yAxis",o,p));if(!yr(f)||!yr(c)||!de(l)||!de(u))return null;var y=a.verticalCoordinatesGenerator||O$,x=a.horizontalCoordinatesGenerator||T$,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,T=x({yAxis:v?yt(yt({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??f,height:r??c,offset:n},j?!0:d);no(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(w=T)}if((!b||!b.length)&&typeof y=="function"){var E=m&&m.length,S=y({xAxis:g?yt(yt({},g),{},{ticks:E?m:g.ticks}):void 0,width:t??f,height:r??c,offset:n},E?!0:d);no(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}return _.createElement(It,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(w$,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(N$,wn({},a,{horizontalPoints:w})),_.createElement(E$,wn({},a,{verticalPoints:b})),_.createElement(j$,wn({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),_.createElement(_$,wn({},a,{offset:n,verticalPoints:b,xAxis:g,yAxis:v}))))}td.displayName="CartesianGrid";var P$={},kw=At({name:"errorBars",initialState:P$,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:sW,replaceErrorBar:oW,removeErrorBar:lW}=kw.actions,A$=kw.reducer,I$=["children"];function k$(e,t){if(e==null)return{};var r,n,a=C$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},M$=_.createContext(D$);function Cw(e){var{children:t}=e,r=k$(e,I$);return _.createElement(M$.Provider,{value:r},t)}function Ch(e,t){var r,n,a=fe(f=>Gr(f,e)),s=fe(f=>Vr(f,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:lt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Dw(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Ph(),{needClipX:s,needClipY:o,needClip:l}=Ch(t,r);if(!l||!a)return null;var{x:u,y:f,width:c,height:d}=a;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:s?u:u-c/2,y:o?f:f-d/2,width:s?c:c*2,height:o?d:d*2}))}var Mw=(e,t,r,n)=>on(e,"xAxis",t,n),Rw=(e,t,r,n)=>sn(e,"xAxis",t,n),Lw=(e,t,r,n)=>on(e,"yAxis",r,n),Bw=(e,t,r,n)=>sn(e,"yAxis",r,n),R$=ee([we,Mw,Lw,Rw,Bw],(e,t,r,n,a)=>un(e,"xAxis")?oa(t,n,!1):oa(r,a,!1)),L$=(e,t,r,n,a)=>a;function B$(e){return e.type==="line"}var $$=ee([zl,L$],(e,t)=>e.filter(B$).find(r=>r.id===t)),F$=ee([we,Mw,Lw,Rw,Bw,$$,R$,Sf],(e,t,r,n,a,s,o,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:c}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=u==null?void 0:u.slice(f,c+1),m!=null)return cF({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:o,displayedData:m})}});function z$(e){var t=Cn(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var U$=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function H$(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function oc(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(U$.has(n)){if(e[n]==null&&t[n]==null)continue;if(!l_(e[n],t[n]))return!1}else if(!H$(e[n],t[n]))return!1;return!0}var q$=["id"],G$=["type","layout","connectNulls","needClip","shape"],V$=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}function Xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=Y$(e,"string");return typeof t=="symbol"?t:t+""}function Y$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(e,t){if(e==null)return{};var r,n,a=X$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Z$=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Oa(r,t),payload:e}]},Q$=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Oa(o,t),hide:l,type:f,color:n,unit:u,graphicalItemId:c}};return _.createElement(Th,{tooltipEntrySettings:d})}),$w=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function J$(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var eF=(e,t,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return $w(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>s){l=[...r.slice(0,u),s-f];break}var c=l.length%2===0?[0,o]:[o];return[...J$(r,a),...l,...c].map(d=>"".concat(d,"px")).join(", ")};function tF(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,u=Dh(n,q$),f=$t(u);return _.createElement(aB,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:o,clipPathId:t})}function rF(e){var{showLabels:t,children:r,points:n}=e,a=_.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return mr(mr({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(dw,{value:t?a:void 0},r)}function Zg(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:u,needClip:f,shape:c}=s,d=Dh(s,G$),h=mr(mr({},Nt(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??s.strokeDasharray});return _.createElement(_.Fragment,null,(n==null?void 0:n.length)>1&&_.createElement(_h,xi({shapeType:"curve",option:c},h,{pathRef:r})),_.createElement(tF,{points:n,clipPathId:t,props:s}))}function nF(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function aF(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:c,animationEasing:d,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=ki(o,"recharts-line-"),w=_.useRef(x),[b,j]=_.useState(!1),T=!b,E=_.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),S=_.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),N=nF(n.current),P=_.useRef(0);w.current!==x&&(P.current=s.current,w.current=x);var O=P.current;return _.createElement(rF,{points:o,showLabels:T},r.children,_.createElement(Ii,{animationId:x,begin:f,duration:c,isActive:u,easing:d,onAnimationEnd:E,onAnimationStart:S,key:x},I=>{var k=Ce(O,N+O,I),A=Math.min(k,N),M;if(u)if(l){var R="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));M=eF(A,N,R)}else M=$w(N,A);else M=l==null?void 0:String(l);if(I>0&&N>0&&(a.current=o,s.current=Math.max(s.current,A)),y){var D=y.length/o.length,q=I===1?o:o.map((F,$)=>{var C=Math.floor($*D);if(y[C]){var L=y[C];return mr(mr({},F),{},{x:Ce(L.x,F.x,I),y:Ce(L.y,F.y,I)})}return h?mr(mr({},F),{},{x:Ce(m*2,F.x,I),y:Ce(p/2,F.y,I)}):mr(mr({},F),{},{x:F.x,y:F.y})});return a.current=q,_.createElement(Zg,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:M})}return _.createElement(Zg,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),_.createElement(vh,{label:r.label}))}function iF(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),a=_.useRef(0),s=_.useRef(null);return _.createElement(aF,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var sF=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Oe(e.payload,t)}};class oF extends _.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:f,height:c,id:d,needClip:h,zIndex:m}=this.props;if(t)return null;var p=ye("recharts-line",a),g=d,{r:v,strokeWidth:y}=z$(r),x=bw(r),w=v*2+y,b=h?"url(#clipPath-".concat(x?"":"dots-").concat(g,")"):void 0;return _.createElement(It,{zIndex:m},_.createElement(ht,{className:p},h&&_.createElement("defs",null,_.createElement(Dw,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&_.createElement("clipPath",{id:"clipPath-dots-".concat(g)},_.createElement("rect",{x:u-w/2,y:l-w/2,width:f+w,height:c+w}))),_.createElement(Cw,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:sF,errorBarOffset:0},_.createElement(iF,{props:this.props,clipPathId:g}))),_.createElement(NB,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var Fw={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ze.line,type:"linear"};function lF(e){var t=mt(e,Fw),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:u,hide:f,isAnimationActive:c,label:d,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=Dh(t,V$),{needClip:y}=Ch(m,p),x=Ph(),w=Ta(),b=bt(),j=fe(P=>F$(P,m,p,b,g));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:T,width:E,x:S,y:N}=x;return _.createElement(oF,xi({},v,{id:g,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:c,hide:f,label:d,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:w,height:T,width:E,left:S,top:N,needClip:y}))}function cF(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((f,c)=>{var d=Oe(f,o);if(t==="horizontal"){var h=op({axis:r,ticks:a,bandSize:l,entry:f,index:c}),m=Me(d)?null:n.scale(d);return{x:h,y:m,value:d,payload:f}}var p=Me(d)?null:r.scale(d),g=op({axis:n,ticks:s,bandSize:l,entry:f,index:c});return p==null||g==null?null:{x:p,y:g,value:d,payload:f}}).filter(Boolean)}function uF(e){var t=mt(e,Fw),r=bt();return _.createElement(Sh,{id:t.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(jw,{legendPayload:Z$(t)}),_.createElement(Q$,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(Nw,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(lF,xi({},t,{id:n}))))}var zw=_.memo(uF,oc);zw.displayName="Line";function qn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Ew}function Gn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Ew}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}function Io(e){return _.createElement(_h,rd({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var dF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Me(n);return s?t(n,a):(s||c_(),r)}},fF=(e,t,r)=>r,hF=(e,t)=>t,Vi=ee([zl,hF],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),mF=ee([Vi],e=>e==null?void 0:e.maxBarSize),pF=(e,t,r,n)=>n,gF=ee([we,zl,qn,Gn,fF],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),vF=(e,t,r)=>{var n=we(e),a=qn(e,t),s=Gn(e,t);if(!(a==null||s==null))return n==="horizontal"?Vu(e,"yAxis",s,r):Vu(e,"xAxis",a,r)},yF=(e,t)=>{var r=we(e),n=qn(e,t),a=Gn(e,t);if(!(n==null||a==null))return r==="horizontal"?K0(e,"xAxis",n):K0(e,"yAxis",a)},xF=ee([gF,hR,yF],EB),bF=(e,t,r)=>{var n,a,s=Vi(e,t);if(s!=null){var o=qn(e,t),l=Gn(e,t);if(!(o==null||l==null)){var u=we(e),f=U1(e),{maxBarSize:c}=s,d=Me(c)?f:c,h,m;return u==="horizontal"?(h=on(e,"xAxis",o,r),m=sn(e,"xAxis",o,r)):(h=on(e,"yAxis",l,r),m=sn(e,"yAxis",l,r)),(n=(a=oa(h,m,!0))!==null&&a!==void 0?a:d)!==null&&n!==void 0?n:0}}},Uw=(e,t,r)=>{var n=we(e),a=qn(e,t),s=Gn(e,t);if(!(a==null||s==null)){var o,l;return n==="horizontal"?(o=on(e,"xAxis",a,r),l=sn(e,"xAxis",a,r)):(o=on(e,"yAxis",s,r),l=sn(e,"yAxis",s,r)),oa(o,l)}},wF=ee([xF,U1,fR,H1,bF,Uw,mF],AB),jF=(e,t,r)=>{var n=qn(e,t);if(n!=null)return on(e,"xAxis",n,r)},_F=(e,t,r)=>{var n=Gn(e,t);if(n!=null)return on(e,"yAxis",n,r)},NF=(e,t,r)=>{var n=qn(e,t);if(n!=null)return sn(e,"xAxis",n,r)},EF=(e,t,r)=>{var n=Gn(e,t);if(n!=null)return sn(e,"yAxis",n,r)},OF=ee([wF,Vi],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),TF=ee([vF,Vi],IB),SF=ee([nt,Jd,jF,_F,NF,EF,OF,we,eR,Uw,TF,Vi,pF],(e,t,r,n,a,s,o,l,u,f,c,d,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=u;if(!(d==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||f==null)){var{data:v}=d,y;if(v!=null&&v.length>0?y=v:y=m==null?void 0:m.slice(p,g+1),y!=null)return nz({layout:l,barSettings:d,pos:o,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:c,displayedData:y,offset:e,cells:h,dataStartIndex:p})}}),PF=["index"];function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(null,arguments)}function AF(e,t){if(e==null)return{};var r,n,a=IF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hw=_.createContext(void 0),kF=e=>{var t=_.useContext(Hw);if(t!=null)return t.stackId;if(e!=null)return vC(e)},CF=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),DF=e=>{var t=_.useContext(Hw);if(t!=null){var{stackId:r}=t;return"url(#".concat(CF(r,e),")")}},MF=e=>{var{index:t}=e,r=AF(e,PF),n=DF(t);return _.createElement(ht,nd({className:"recharts-bar-stack-layer",clipPath:n},r))},RF=["onMouseEnter","onMouseLeave","onClick"],LF=["value","background","tooltipPosition"],BF=["id"],$F=["onMouseEnter","onClick","onMouseLeave"];function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mr.apply(null,arguments)}function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){FF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(e,t){if(e==null)return{};var r,n,a=HF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qF=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Oa(r,t),payload:e}]},GF=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:f}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Oa(s,t),hide:o,type:u,color:a,unit:l,graphicalItemId:f}};return _.createElement(Th,{tooltipEntrySettings:c})});function VF(e){var t=fe(ln),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=s,f=ko(s,RF),c=Nh(o,n,s.id),d=Eh(l),h=Oh(u,n,s.id);if(!a||r==null)return null;var m=Cn(a);return _.createElement(It,{zIndex:kB(a,Ze.barBackground)},r.map((p,g)=>{var{value:v,background:y,tooltipPosition:x}=p,w=ko(p,LF);if(!y)return null;var b=c(p,g),j=d(p,g),T=h(p,g),E=jt(jt(jt(jt(jt({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),m),ol(f,p,g)),{},{onMouseEnter:b,onMouseLeave:j,onClick:T,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return _.createElement(Io,Mr({key:"background-bar-".concat(g)},E))}))}function WF(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return jt(jt({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return _.createElement(dw,{value:t?a:void 0},r)}function KF(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=fe(ln),u=fe(uh),f=r&&String(s)===l&&(u==null||o===u),c=f?r:t;return f?_.createElement(It,{zIndex:Ze.activeBar},_.createElement(Io,Mr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))):_.createElement(Io,Mr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))}function YF(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return _.createElement(Io,Mr({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function XF(e){var t,{data:r,props:n}=e,a=(t=$t(n))!==null&&t!==void 0?t:{},{id:s}=a,o=ko(a,BF),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,m=ko(n,$F),p=Nh(c,u,s),g=Eh(h),v=Oh(d,u,s);return r?_.createElement(_.Fragment,null,r.map((y,x)=>_.createElement(MF,Mr({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},ol(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),f?_.createElement(KF,{shape:l,activeBar:f,baseProps:o,entry:y,index:x,dataKey:u}):_.createElement(YF,{shape:l,baseProps:o,entry:y,index:x,dataKey:u})))):null}function ZF(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:c}=t,d=r.current,h=ki(t,"recharts-bar-"),[m,p]=_.useState(!1),g=!m,v=_.useCallback(()=>{typeof f=="function"&&f(),p(!1)},[f]),y=_.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return _.createElement(WF,{showLabels:g,rects:n},_.createElement(Ii,{animationId:h,begin:o,duration:l,isActive:s,easing:u,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((b,j)=>{var T=d&&d[j];if(T)return jt(jt({},b),{},{x:Ce(T.x,b.x,x),y:Ce(T.y,b.y,x),width:Ce(T.width,b.width,x),height:Ce(T.height,b.height,x)});if(a==="horizontal"){var E=Ce(0,b.height,x),S=Ce(b.stackedBarStart,b.y,x);return jt(jt({},b),{},{y:S,height:E})}var N=Ce(0,b.width,x),P=Ce(b.stackedBarStart,b.x,x);return jt(jt({},b),{},{width:N,x:P})});return x>0&&(r.current=w??null),w==null?null:_.createElement(ht,null,_.createElement(XF,{props:t,data:w}))}),_.createElement(vh,{label:t.label}),t.children)}function QF(e){var t=_.useRef(null);return _.createElement(ZF,{previousRectanglesRef:t,props:e})}var qw=0,JF=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Oe(e,t)}};class ez extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:u,id:f}=this.props;if(t||r==null)return null;var c=ye("recharts-bar",a),d=f;return _.createElement(ht,{className:c,id:f},l&&_.createElement("defs",null,_.createElement(Dw,{clipPathId:d,xAxisId:s,yAxisId:o})),_.createElement(ht,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(d,")"):void 0},_.createElement(VF,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),_.createElement(QF,this.props)))}}var tz={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:qw,xAxisId:0,yAxisId:0,zIndex:Ze.bar};function rz(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c}=e,{needClip:d}=Ch(t,r),h=Ta(),m=bt(),p=jh(e.children,fa),g=fe(x=>SF(x,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,_.createElement(Cw,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:JF,errorBarOffset:v},_.createElement(ez,Mr({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c})))}function nz(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:p,dataStartIndex:g}=e,v=t==="horizontal"?l:o,y=c?v.scale.domain():null,x=yC({numericAxis:v}),w=v.scale(x);return d.map((b,j)=>{var T,E,S,N,P,O;if(c){var I=c[j+g];if(I==null)return null;T=fC(I,y)}else T=Oe(b,r),Array.isArray(T)||(T=[x,T]);var k=dF(n,qw)(T[1],j);if(t==="horizontal"){var A,[M,R]=[l.scale(T[0]),l.scale(T[1])];E=lp({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:b,index:j}),S=(A=R??M)!==null&&A!==void 0?A:void 0,N=a.size;var D=M-R;if(P=lr(D)?0:D,O={x:E,y:h.top,width:N,height:h.height},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var q=ft(P||k)*(Math.abs(k)-Math.abs(P));S-=q,P+=q}}else{var[F,$]=[o.scale(T[0]),o.scale(T[1])];if(E=F,S=lp({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:b,index:j}),N=$-F,P=a.size,O={x:h.left,y:S,width:h.width,height:P},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var C=ft(N||k)*(Math.abs(k)-Math.abs(N));N+=C}}if(E==null||S==null||N==null||P==null)return null;var L=jt(jt({},b),{},{stackedBarStart:w,x:E,y:S,width:N,height:P,value:c?T:T[1],payload:b,background:O,tooltipPosition:{x:E+N/2,y:S+P/2},parentViewBox:p},m&&m[j]&&m[j].props);return L}).filter(Boolean)}function az(e){var t=mt(e,tz),r=kF(t.stackId),n=bt();return _.createElement(Sh,{id:t.id,type:"bar"},a=>_.createElement(_.Fragment,null,_.createElement(jw,{legendPayload:qF(t)}),_.createElement(GF,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),_.createElement(Nw,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(It,{zIndex:t.zIndex},_.createElement(rz,Mr({},t,{id:a})))))}var Gw=_.memo(az,oc);Gw.displayName="Bar";var iz=["domain","range"],sz=["domain","range"];function Jg(e,t){if(e==null)return{};var r,n,a=oz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ev(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Vw(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=Jg(e,iz),{domain:s,range:o}=t,l=Jg(t,sz);return!ev(r,s)||!ev(n,o)?!1:oc(a,l)}var lz=["dangerouslySetInnerHTML","ticks","scale"],cz=["id","scale"];function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(null,arguments)}function tv(e,t){if(e==null)return{};var r,n,a=uz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dz(e){var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(cB(e)):r.current!==e&&t(uB({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(dB(r.current)),r.current=null)},[t]),null}var fz=e=>{var{xAxisId:t,className:r}=e,n=fe(Jd),a=bt(),s="xAxis",o=fe(y=>w2(y,s,t,a)),l=fe(y=>v2(y,t)),u=fe(y=>uL(y,t)),f=fe(y=>Q1(y,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=tv(e,lz),{id:p,scale:g}=f,v=tv(f,cz);return _.createElement(kh,ad({},m,v,{x:u.x,y:u.y,width:l.width,height:l.height,className:ye("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},hz={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:Sr.axisLine,height:ot.height,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:Sr.tickLine,tickSize:Sr.tickSize,type:ot.type,xAxisId:0},mz=e=>{var t=mt(e,hz);return _.createElement(_.Fragment,null,_.createElement(dz,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(fz,t))},id=_.memo(mz,Vw);id.displayName="XAxis";var pz=["dangerouslySetInnerHTML","ticks","scale"],gz=["id","scale"];function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(null,arguments)}function rv(e,t){if(e==null)return{};var r,n,a=vz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yz(e){var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(fB(e)):r.current!==e&&t(hB({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(mB(r.current)),r.current=null)},[t]),null}var xz=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=_.useRef(null),o=_.useRef(null),l=fe(Jd),u=bt(),f=Re(),c="yAxis",d=fe(T=>y2(T,t)),h=fe(T=>fL(T,t)),m=fe(T=>w2(T,c,t,u)),p=fe(T=>J1(T,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!d||gh(a)||_.isValidElement(a)||p==null)){var T=s.current;if(T){var E=T.getCalculatedWidth();Math.round(d.width)!==Math.round(E)&&f(pB({id:t,width:E}))}}},[m,d,f,a,t,n,p]),d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v,scale:y}=e,x=rv(e,pz),{id:w,scale:b}=p,j=rv(p,gz);return _.createElement(kh,sd({},x,j,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:ye("recharts-".concat(c," ").concat(c),r),viewBox:l,ticks:m,axisType:c}))},bz={allowDataOverflow:lt.allowDataOverflow,allowDecimals:lt.allowDecimals,allowDuplicatedCategory:lt.allowDuplicatedCategory,angle:lt.angle,axisLine:Sr.axisLine,hide:!1,includeHidden:lt.includeHidden,interval:lt.interval,minTickGap:lt.minTickGap,mirror:lt.mirror,orientation:lt.orientation,padding:lt.padding,reversed:lt.reversed,scale:lt.scale,tick:lt.tick,tickCount:lt.tickCount,tickLine:Sr.tickLine,tickSize:Sr.tickSize,type:lt.type,width:lt.width,yAxisId:0},wz=e=>{var t=mt(e,bz);return _.createElement(_.Fragment,null,_.createElement(yz,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(xz,t))},od=_.memo(wz,Vw);od.displayName="YAxis";var jz=(e,t)=>t,Mh=ee([jz,we,X1,it,L2,Wr,S6,nt],M6),Rh=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Ww=Yt("mouseClick"),Kw=Si();Kw.startListening({actionCreator:Ww,effect:(e,t)=>{var r=e.payload,n=Mh(t.getState(),Rh(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(OL({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ld=Yt("mouseMove"),Yw=Si(),bs=null;Yw.startListening({actionCreator:ld,effect:(e,t)=>{var r=e.payload;bs!==null&&cancelAnimationFrame(bs);var n=Rh(r);bs=requestAnimationFrame(()=>{var a=t.getState(),s=ah(a,a.tooltip.settings.shared);if(s==="axis"){var o=Mh(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(P2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(S2())}bs=null})}});function _z(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var nv={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Xw=At({name:"rootProps",initialState:nv,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:nv.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Nz=Xw.reducer,{updateOptions:Ez}=Xw.actions,Zw=At({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Oz}=Zw.actions,Tz=Zw.reducer,Qw=Yt("keyDown"),Jw=Yt("focus"),Lh=Si();Lh.startListening({actionCreator:Qw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=ih(a,Ra(r),zi(r),qi(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Wr(r);if(s==="Enter"){var f=Eo(r,"axis","hover",String(a.index));t.dispatch(Ku({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var c=gL(r),d=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*d;if(!(u==null||m>=u.length||m<0)){var p=Eo(r,"axis","hover",String(m));t.dispatch(Ku({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});Lh.startListening({actionCreator:Jw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=Eo(r,"axis","hover",String(s));t.dispatch(Ku({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Vt=Yt("externalEvent"),ej=Si(),Uc=new Map;ej.startListening({actionCreator:Vt,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Uc.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:f6(l),activeDataKey:uh(l),activeIndex:ln(l),activeLabel:F2(l),activeTooltipIndex:ln(l),isTooltipActive:h6(l)};r(u,n)}finally{Uc.delete(a)}});Uc.set(a,o)}}});var Sz=ee([Da],e=>e.tooltipItemPayloads),Pz=ee([Sz,Hi,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,r);return o}}}),tj=Yt("touchMove"),rj=Si();rj.startListening({actionCreator:tj,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=ah(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var o=Mh(n,Rh({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(P2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(fb),d=(l=f.getAttribute(hb))!==null&&l!==void 0?l:void 0,h=Ma(n).find(g=>g.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,p=Pz(n,c,d);t.dispatch(T2({activeDataKey:m,activeIndex:c,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var Az=oy({brush:CB,cartesianAxis:gB,chartData:d8,errorBars:A$,graphicalItems:j9,layout:sC,legend:l3,options:s8,polarAxis:B7,polarOptions:Tz,referenceElements:FB,rootProps:Nz,tooltip:TL,zIndex:Y6}),Iz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Ik({reducer:Az,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([Kw.middleware,Yw.middleware,Lh.middleware,ej.middleware,rj.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(Yx({type:"raf"}))},devTools:{serialize:{replacer:_z},name:"recharts-".concat(r)}})};function nj(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=_.useRef(null);if(a)return r;s.current==null&&(s.current=Iz(t,n));var o=Hd;return _.createElement(u_,{context:o,store:s.current},r)}function kz(e){var{layout:t,margin:r}=e,n=Re(),a=bt();return _.useEffect(()=>{a||(n(nC(t)),n(rC(r)))},[n,a,t,r]),null}var aj=_.memo(kz,oc);function ij(e){var t=Re();return _.useEffect(()=>{t(Ez(e))},[t,e]),null}function av(e){var{zIndex:t,isPanorama:r}=e,n=_.useRef(null),a=Re();return _.useLayoutEffect(()=>(n.current&&a(W6({zIndex:t,element:n.current,isPanorama:r})),()=>{a(K6({zIndex:t,isPanorama:r}))}),[a,t,r]),_.createElement("g",{tabIndex:-1,ref:n})}function iv(e){var{children:t,isPanorama:r}=e,n=fe(L6);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return _.createElement(_.Fragment,null,a.map(o=>_.createElement(av,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>_.createElement(av,{key:o,zIndex:o,isPanorama:r})))}var Cz=["children"];function Dz(e,t){if(e==null)return{};var r,n,a=Mz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}var Rz={width:"100%",height:"100%",display:"block"},Lz=_.forwardRef((e,t)=>{var r=jb(),n=_b(),a=Db();if(!yr(r)||!yr(n))return null;var{children:s,otherAttributes:o,title:l,desc:u}=e,f,c;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=a?0:void 0,typeof o.role=="string"?c=o.role:c=a?"application":void 0),_.createElement(Fy,Co({},o,{title:l,desc:u,role:c,tabIndex:f,width:r,height:n,style:Rz,ref:t}),s)}),Bz=e=>{var{children:t}=e,r=fe(jl);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return _.createElement(Fy,{width:n,height:a,x:o,y:s},t)},sv=_.forwardRef((e,t)=>{var{children:r}=e,n=Dz(e,Cz),a=bt();return a?_.createElement(Bz,null,_.createElement(iv,{isPanorama:!0},r)):_.createElement(Lz,Co({ref:t},n),_.createElement(iv,{isPanorama:!1},r))});function $z(){var e=Re(),[t,r]=_.useState(null),n=fe(NC);return _.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;$e(s)&&s!==n&&e(iC(s))}},[t,e,n]),r}function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(r),!0).forEach(function(n){zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zz(e,t,r){return(t=Uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uz(e){var t=Hz(e,"string");return typeof t=="symbol"?t:t+""}function Hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zn.apply(null,arguments)}var qz=()=>(b8(),null);function Do(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gz=_.forwardRef((e,t)=>{var r,n,a=_.useRef(null),[s,o]=_.useState({containerWidth:Do((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Do((n=e.style)===null||n===void 0?void 0:n.height)}),l=_.useCallback((f,c)=>{o(d=>{var h=Math.round(f),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),u=_.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=f.getBoundingClientRect();l(c,d);var h=p=>{var{width:g,height:v}=p[0].contentRect;l(g,v)},m=new ResizeObserver(h);m.observe(f),a.current=m}},[t,l]);return _.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(Nl,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",zn({ref:u},e)))}),Vz=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=_.useState({containerWidth:Do(r),containerHeight:Do(n)}),o=_.useCallback((u,f)=>{s(c=>{var d=Math.round(u),h=Math.round(f);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:c}=u.getBoundingClientRect();o(f,c)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Nl,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",zn({ref:l},e)))}),Wz=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Nl,{width:r,height:n}),_.createElement("div",zn({ref:t},e)))}),Kz=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return Pr(r)||Pr(n)?_.createElement(Vz,zn({},e,{ref:t})):_.createElement(Wz,zn({},e,{ref:t}))});function Yz(e){return e===!0?Gz:Kz}var Xz=_.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,b=_.useRef(null),j=Re(),[T,E]=_.useState(null),[S,N]=_.useState(null),P=$z(),O=ef(),I=(O==null?void 0:O.width)>0?O.width:y,k=(O==null?void 0:O.height)>0?O.height:a,A=_.useCallback(U=>{P(U),typeof t=="function"&&t(U),E(U),N(U),U!=null&&(b.current=U)},[P,t,E,N]),M=_.useCallback(U=>{j(Ww(U)),j(Vt({handler:s,reactEvent:U}))},[j,s]),R=_.useCallback(U=>{j(ld(U)),j(Vt({handler:f,reactEvent:U}))},[j,f]),D=_.useCallback(U=>{j(S2()),j(Vt({handler:c,reactEvent:U}))},[j,c]),q=_.useCallback(U=>{j(ld(U)),j(Vt({handler:d,reactEvent:U}))},[j,d]),F=_.useCallback(()=>{j(Jw())},[j]),$=_.useCallback(U=>{j(Qw(U.key))},[j]),C=_.useCallback(U=>{j(Vt({handler:o,reactEvent:U}))},[j,o]),L=_.useCallback(U=>{j(Vt({handler:l,reactEvent:U}))},[j,l]),z=_.useCallback(U=>{j(Vt({handler:u,reactEvent:U}))},[j,u]),W=_.useCallback(U=>{j(Vt({handler:h,reactEvent:U}))},[j,h]),V=_.useCallback(U=>{j(Vt({handler:g,reactEvent:U}))},[j,g]),B=_.useCallback(U=>{w&&j(tj(U)),j(Vt({handler:p,reactEvent:U}))},[j,w,p]),H=_.useCallback(U=>{j(Vt({handler:m,reactEvent:U}))},[j,m]),Z=Yz(x);return _.createElement(W2.Provider,{value:T},_.createElement(BI.Provider,{value:S},_.createElement(Z,{width:I??(v==null?void 0:v.width),height:k??(v==null?void 0:v.height),className:ye("recharts-wrapper",n),style:Fz({position:"relative",cursor:"default",width:I,height:k},v),onClick:M,onContextMenu:C,onDoubleClick:L,onFocus:F,onKeyDown:$,onMouseDown:z,onMouseEnter:R,onMouseLeave:D,onMouseMove:q,onMouseUp:W,onTouchEnd:H,onTouchMove:B,onTouchStart:V,ref:A},_.createElement(qz,null),r)))}),Zz=["width","height","responsive","children","className","style","compact","title","desc"];function Qz(e,t){if(e==null)return{};var r,n,a=Jz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sj=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:u,title:f,desc:c}=e,d=Qz(e,Zz),h=$t(d);return u?_.createElement(_.Fragment,null,_.createElement(Nl,{width:r,height:n}),_.createElement(sv,{otherAttributes:h,title:f,desc:c},s)):_.createElement(Xz,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(sv,{otherAttributes:h,title:f,desc:c,ref:t},_.createElement(UB,null,s)))});function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}var eU={top:5,right:5,bottom:5,left:5},tU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eU,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},oj=_.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,tU),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,c={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(nj,{preloadedState:{options:c},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},_.createElement(Tw,{chartData:f.data}),_.createElement(aj,{layout:a.layout,margin:a.margin}),_.createElement(ij,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(sj,cd({},a,{ref:r})))}),rU=["axis"],nU=_.forwardRef((e,t)=>_.createElement(oj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rU,tooltipPayloadSearcher:ph,categoricalChartProps:e,ref:t})),aU=["axis","item"],iU=_.forwardRef((e,t)=>_.createElement(oj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aU,tooltipPayloadSearcher:ph,categoricalChartProps:e,ref:t}));function sU(e){var t=Re();return _.useEffect(()=>{t(Oz(e))},[t,e]),null}var oU=["layout"];function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(null,arguments)}function lU(e,t){if(e==null)return{};var r,n,a=cU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uU={top:5,right:5,bottom:5,left:5},lj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uU,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dU=_.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,lj),{layout:s}=a,o=lU(a,oU),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c}=t,d={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(nj,{preloadedState:{options:d},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},_.createElement(Tw,{chartData:a.data}),_.createElement(aj,{layout:s,margin:a.margin}),_.createElement(ij,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(sU,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(sj,ud({},o,{ref:r})))});function lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lv(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pU=["item"],gU=cv(cv({},lj),{},{layout:"centric",startAngle:0,endAngle:360}),uv=_.forwardRef((e,t)=>{var r=mt(e,gU);return _.createElement(dU,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pU,tooltipPayloadSearcher:ph,categoricalChartProps:r,ref:t})});const dv=()=>{var T,E,S;const[e,t]=_.useState([]),[r,n]=_.useState(null),[a,s]=_.useState(!0),[o,l]=_.useState(null),[u,f]=_.useState([]),[c,d]=_.useState(null),[h,m]=_.useState(!1),[p,g]=_.useState({role:"all",action:"all",search:"",start_date:"",end_date:""});_.useEffect(()=>{v(),y()},[p]);const v=async()=>{try{const N=new URLSearchParams;Object.entries(p).forEach(([O,I])=>{I&&N.append(O,I)});const P=await se.get(`/activity-logs?${N}`);t(P.data.data||[])}catch(N){console.error("Failed to fetch activity logs:",N)}finally{s(!1)}},y=async()=>{try{const N=await se.get("/activity-logs/statistics");n(N.data)}catch(N){console.error("Failed to fetch statistics:",N)}},x=async N=>{var P;try{s(!0);const I=(await se.get(`/activity-logs?user_id=${N}`)).data.data||[];f(I);const k={total:I.length,today:I.filter(A=>{const M=new Date().toDateString();return new Date(A.created_at).toDateString()===M}).length,byAction:I.reduce((A,M)=>(A[M.action]=(A[M.action]||0)+1,A),{}),lastActivity:(P=I[0])==null?void 0:P.created_at,mostCommonAction:null};Object.keys(k.byAction).length>0&&(k.mostCommonAction=Object.entries(k.byAction).sort((A,M)=>M[1]-A[1])[0][0]),d(k),m(!0)}catch(O){console.error("Failed to fetch user report:",O)}finally{s(!1)}},w=()=>{m(!1),l(null),f([]),d(null)},b=N=>{switch(N){case"create":return"bg-green-100 text-green-700";case"update":return"bg-blue-100 text-blue-700";case"delete":return"bg-red-100 text-red-700";case"view":return"bg-gray-100 text-gray-700";case"login":return"bg-purple-100 text-purple-700";case"logout":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},j=N=>{switch(N||"unknown"){case"admin":return"bg-red-100 text-red-700";case"project_manager":return"bg-blue-100 text-blue-700";case"developer":return"bg-green-100 text-green-700";case"client":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return a?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-[32px] font-bold text-gray-900 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Activity Logs"}),i.jsx("p",{className:"text-[15px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"Track all user activities and system events"})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Total Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:i.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.total_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-green-600 font-semibold",children:" 12%"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"vs last month"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Today's Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.today_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-blue-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Last 24 hours"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Active Users"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((T=r.by_role)==null?void 0:T.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-purple-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"User roles"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Action Types"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((E=r.by_action)==null?void 0:E.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-orange-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Event types"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by Action Type"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Overview"})]}),i.jsx(cs,{width:"100%",height:300,children:i.jsxs(iU,{data:r.by_action||[],children:[i.jsx(td,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(id,{dataKey:"action",tick:{fill:"#666"}}),i.jsx(od,{tick:{fill:"#666"}}),i.jsx(ys,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),i.jsx(Gw,{dataKey:"count",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by User Role"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:"Distribution"})]}),i.jsx(cs,{width:"100%",height:300,children:i.jsxs(uv,{children:[i.jsx(ed,{data:r.by_role||[],dataKey:"count",nameKey:"role",cx:"50%",cy:"50%",outerRadius:100,label:N=>`${(N.role||"unknown").replace("_"," ")}: ${N.count||0}`,children:(r.by_role||[]).map((N,P)=>i.jsx(fa,{fill:["#59569D","#7B78B3","#A19FD1","#C7C5E4","#DDDCEE"][P%5]},`cell-${P}`))}),i.jsx(ys,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsx("h3",{className:"text-[16px] font-bold text-gray-900 mb-4",style:{fontFamily:"Inter, sans-serif"},children:"Filters & Search"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("input",{type:"text",placeholder:"Search activities...",value:p.search,onChange:N=>g({...p,search:N.target.value}),className:"w-full px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})}),i.jsxs("select",{value:p.role,onChange:N=>g({...p,role:N.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"project_manager",children:"Project Manager"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"client",children:"Client"})]}),i.jsxs("select",{value:p.action,onChange:N=>g({...p,action:N.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Actions"}),i.jsx("option",{value:"create",children:"Create"}),i.jsx("option",{value:"update",children:"Update"}),i.jsx("option",{value:"delete",children:"Delete"}),i.jsx("option",{value:"view",children:"View"}),i.jsx("option",{value:"login",children:"Login"}),i.jsx("option",{value:"logout",children:"Logout"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx("input",{type:"date",value:p.start_date,onChange:N=>g({...p,start_date:N.target.value}),className:"px-3 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Recent Activities"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"User"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Role"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Action"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Description"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"IP Address"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Time"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length>0?e.map((N,P)=>{var O,I,k,A,M,R;return i.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-[14px]",style:{fontFamily:"Inter, sans-serif"},children:((I=(O=N.user)==null?void 0:O.name)==null?void 0:I.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-[14px] text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:((k=N.user)==null?void 0:k.name)||"Unknown User"}),i.jsx("p",{className:"text-[12px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:((A=N.user)==null?void 0:A.email)||"-"})]}),i.jsx("button",{onClick:()=>{l(N.user),x(N.user_id)},className:"px-3 py-1.5 text-[12px] font-medium text-blue-600 hover:bg-blue-50 rounded-[6px] transition-colors",style:{fontFamily:"Inter, sans-serif"},title:"View user report",children:"View Report"})]})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${j(N.user_role||((M=N.user)==null?void 0:M.role))}`,style:{fontFamily:"Inter, sans-serif"},children:(N.user_role||((R=N.user)==null?void 0:R.role)||"unknown").replace("_"," ")})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${b(N.action)}`,style:{fontFamily:"Inter, sans-serif"},children:N.action})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[14px] text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:N.description}),N.event_type&&i.jsx("p",{className:"text-[12px] text-gray-400 mt-1",style:{fontFamily:"Inter, sans-serif"},children:N.event_type})]}),i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-mono text-gray-600",children:N.ip_address||"-"}),N.user_agent&&i.jsx("p",{className:"text-[11px] text-gray-400 mt-1 truncate max-w-xs",title:N.user_agent,children:N.user_agent.split(" ")[0]})]})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[13px] text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:new Date(N.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-[11px] text-gray-400",style:{fontFamily:"Inter, sans-serif"},children:new Date(N.created_at).toLocaleDateString("en-US",{year:"numeric"})})]})]},N.id)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:"6",className:"py-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Activity Logs Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters"})]})})})]})})]}),h&&o&&c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:((S=o.name)==null?void 0:S.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:o.name}),i.jsx("p",{className:"text-gray-300",children:o.email})]})]}),i.jsx("button",{onClick:w,className:"text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg p-2 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 p-6 bg-gray-50",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Activities"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.total})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Today"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.today})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Most Common"}),i.jsx("p",{className:"text-lg font-bold text-gray-800 capitalize",children:c.mostCommonAction||"-"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Activity"}),i.jsx("p",{className:"text-xs font-medium text-gray-800",children:c.lastActivity?new Date(c.lastActivity).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Action Breakdown"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx(cs,{width:"100%",height:200,children:i.jsxs(uv,{children:[i.jsx(ed,{data:Object.entries(c.byAction).map(([N,P])=>({name:N,value:P})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:N=>`${N.name}: ${N.value}`,labelLine:!1,children:Object.keys(c.byAction).map((N,P)=>{const O={create:"#10B981",update:"#3B82F6",delete:"#EF4444",view:"#6B7280",login:"#8B5CF6",logout:"#F97316"};return i.jsx(fa,{fill:O[N]||"#F25292"},`cell-${P}`)})}),i.jsx(ys,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})}),i.jsx("div",{className:"flex flex-wrap gap-2 content-center",children:Object.entries(c.byAction).map(([N,P])=>i.jsxs("div",{className:`px-3 py-1.5 rounded-lg ${b(N)} flex items-center gap-2`,children:[i.jsx("span",{className:"font-medium capitalize",children:N}),i.jsx("span",{className:"bg-white bg-opacity-50 px-2 py-0.5 rounded text-xs font-bold",children:P})]},N))})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Activity Timeline (Last 7 Days)"}),i.jsx(cs,{width:"100%",height:250,children:i.jsxs(nU,{data:(()=>{const N=[];for(let P=6;P>=0;P--){const O=new Date;O.setDate(O.getDate()-P);const I=O.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=u.filter(A=>new Date(A.created_at).toDateString()===O.toDateString()).length;N.push({date:I,activities:k})}return N})(),children:[i.jsx(td,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(id,{dataKey:"date",tick:{fill:"#666",fontSize:12}}),i.jsx(od,{tick:{fill:"#666",fontSize:12}}),i.jsx(ys,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{stroke:"#8B5CF6",strokeWidth:2}}),i.jsx(zw,{type:"monotone",dataKey:"activities",stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#F25292",r:5},activeDot:{r:7,fill:"#F25292"}})]})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Recent Activities"}),i.jsx("div",{className:"space-y-3",children:u.slice(0,20).map((N,P)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-medium ${b(N.action)}`,children:N.action})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:N.description}),N.event_type&&i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.event_type})]}),i.jsxs("div",{className:"flex-shrink-0 text-right",children:[i.jsx("p",{className:"text-xs text-gray-600",children:new Date(N.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-xs text-gray-400 font-mono",children:N.ip_address})]})]},N.id))})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:w,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})})]})};/*!
 * FilePond 4.32.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const vU=e=>e instanceof HTMLElement,yU=(e,t=[],r=[])=>{const n={...e},a=[],s=[],o=()=>({...n}),l=()=>{const p=[...a];return a.length=0,p},u=()=>{const p=[...s];s.length=0,p.forEach(({type:g,data:v})=>{f(g,v)})},f=(p,g,v)=>{if(v&&!document.hidden){s.push({type:p,data:g});return}m[p]&&m[p](g),a.push({type:p,data:g})},c=(p,...g)=>h[p]?h[p](...g):null,d={getState:o,processActionQueue:l,processDispatchQueue:u,dispatch:f,query:c};let h={};t.forEach(p=>{h={...p(n),...h}});let m={};return r.forEach(p=>{m={...p(f,c,n),...m}}),d},xU=(e,t,r)=>{if(typeof r=="function"){e[t]=r;return}Object.defineProperty(e,t,{...r})},qe=(e,t)=>{for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])},nn=e=>{const t={};return qe(e,r=>{xU(t,r,e[r])}),t},rt=(e,t,r=null)=>{if(r===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},bU="http://www.w3.org/2000/svg",wU=["svg","path"],fv=e=>wU.includes(e),Mo=(e,t,r={})=>{typeof t=="object"&&(r=t,t=null);const n=fv(e)?document.createElementNS(bU,e):document.createElement(e);return t&&(fv(e)?rt(n,"class",t):n.className=t),qe(r,(a,s)=>{rt(n,a,s)}),n},jU=e=>(t,r)=>{typeof r<"u"&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)},_U=(e,t)=>(r,n)=>(typeof n<"u"?t.splice(n,0,r):t.push(r),r),NU=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),EU=typeof window<"u"&&typeof window.document<"u",cj=()=>EU,OU=cj()?Mo("svg"):{},TU="children"in OU?e=>e.children.length:e=>e.childNodes.length,uj=(e,t,r,n)=>{const a=r[0]||e.left,s=r[1]||e.top,o=a+e.width,l=s+e.height*(n[1]||1),u={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:a,top:s,right:o,bottom:l}};return t.filter(f=>!f.isRectIgnored()).map(f=>f.rect).forEach(f=>{hv(u.inner,{...f.inner}),hv(u.outer,{...f.outer})}),mv(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,mv(u.outer),u},hv=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},mv=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},jn=e=>typeof e=="number",SU=(e,t,r,n=.001)=>Math.abs(e-t)<n&&Math.abs(r)<n,PU=({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let n=null,a=null,s=0,o=!1;const f=nn({interpolate:(c,d)=>{if(o)return;if(!(jn(n)&&jn(a))){o=!0,s=0;return}const h=-(a-n)*e;s+=h/r,a+=s,s*=t,SU(a,n,s)||d?(a=n,s=0,o=!0,f.onupdate(a),f.oncomplete(a)):f.onupdate(a)},target:{set:c=>{if(jn(c)&&!jn(a)&&(a=c),n===null&&(n=c,a=c),n=c,a===n||typeof n>"u"){o=!0,s=0,f.onupdate(a),f.oncomplete(a);return}o=!1},get:()=>n},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return f},AU=e=>e<.5?2*e*e:-1+(4-2*e)*e,IU=({duration:e=500,easing:t=AU,delay:r=0}={})=>{let n=null,a,s,o=!0,l=!1,u=null;const c=nn({interpolate:(d,h)=>{o||u===null||(n===null&&(n=d),!(d-n<r)&&(a=d-n-r,a>=e||h?(a=1,s=l?0:1,c.onupdate(s*u),c.oncomplete(s*u),o=!0):(s=a/e,c.onupdate((a>=0?t(l?1-s:s):0)*u))))},target:{get:()=>l?0:u,set:d=>{if(u===null){u=d,c.onupdate(d),c.oncomplete(d);return}d<u?(u=1,l=!0):(l=!1,u=d),o=!1,n=null}},resting:{get:()=>o},onupdate:d=>{},oncomplete:d=>{}});return c},pv={spring:PU,tween:IU},kU=(e,t,r)=>{const n=e[t]&&typeof e[t][r]=="object"?e[t][r]:e[t]||e,a=typeof n=="string"?n:n.type,s=typeof n=="object"?{...n}:{};return pv[a]?pv[a](s):null},Bh=(e,t,r,n=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(a=>{e.forEach(s=>{let o=s,l=()=>r[s],u=f=>r[s]=f;typeof s=="object"&&(o=s.key,l=s.getter||l,u=s.setter||u),!(a[o]&&!n)&&(a[o]={get:l,set:u})})})},CU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n})=>{const a={...t},s=[];return qe(e,(o,l)=>{const u=kU(l);if(!u)return;u.onupdate=c=>{t[o]=c},u.target=a[o],Bh([{key:o,setter:c=>{u.target!==c&&(u.target=c)},getter:()=>t[o]}],[r,n],t,!0),s.push(u)}),{write:o=>{let l=document.hidden,u=!0;return s.forEach(f=>{f.resting||(u=!1),f.interpolate(o,l)}),u},destroy:()=>{}}},DU=e=>(t,r)=>{e.addEventListener(t,r)},MU=e=>(t,r)=>{e.removeEventListener(t,r)},RU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,viewState:a,view:s})=>{const o=[],l=DU(s.element),u=MU(s.element);return n.on=(f,c)=>{o.push({type:f,fn:c}),l(f,c)},n.off=(f,c)=>{o.splice(o.findIndex(d=>d.type===f&&d.fn===c),1),u(f,c)},{write:()=>!0,destroy:()=>{o.forEach(f=>{u(f.type,f.fn)})}}},LU=({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{Bh(e,r,t)},wt=e=>e!=null,BU={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},$U=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,view:a})=>{const s={...t},o={};Bh(e,[r,n],t);const l=()=>[t.translateX||0,t.translateY||0],u=()=>[t.scaleX||0,t.scaleY||0],f=()=>a.rect?uj(a.rect,a.childViews,l(),u()):null;return r.rect={get:f},n.rect={get:f},e.forEach(c=>{t[c]=typeof s[c]>"u"?BU[c]:s[c]}),{write:()=>{if(FU(o,t))return zU(a.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},FU=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},zU=(e,{opacity:t,perspective:r,translateX:n,translateY:a,scaleX:s,scaleY:o,rotateX:l,rotateY:u,rotateZ:f,originX:c,originY:d,width:h,height:m})=>{let p="",g="";(wt(c)||wt(d))&&(g+=`transform-origin: ${c||0}px ${d||0}px;`),wt(r)&&(p+=`perspective(${r}px) `),(wt(n)||wt(a))&&(p+=`translate3d(${n||0}px, ${a||0}px, 0) `),(wt(s)||wt(o))&&(p+=`scale3d(${wt(s)?s:1}, ${wt(o)?o:1}, 1) `),wt(f)&&(p+=`rotateZ(${f}rad) `),wt(l)&&(p+=`rotateX(${l}rad) `),wt(u)&&(p+=`rotateY(${u}rad) `),p.length&&(g+=`transform:${p};`),wt(t)&&(g+=`opacity:${t};`,t===0&&(g+="visibility:hidden;"),t<1&&(g+="pointer-events:none;")),wt(m)&&(g+=`height:${m}px;`),wt(h)&&(g+=`width:${h}px;`);const v=e.elementCurrentStyle||"";(g.length!==v.length||g!==v)&&(e.style.cssText=g,e.elementCurrentStyle=g)},UU={styles:$U,listeners:RU,animations:CU,apis:LU},gv=(e={},t={},r={})=>(t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),et=({tag:e="div",name:t=null,attributes:r={},read:n=()=>{},write:a=()=>{},create:s=()=>{},destroy:o=()=>{},filterFrameActionsForChild:l=(m,p)=>p,didCreateView:u=()=>{},didWriteView:f=()=>{},ignoreRect:c=!1,ignoreRectUpdate:d=!1,mixins:h=[]}={})=>(m,p={})=>{const g=Mo(e,`filepond--${t}`,r),v=window.getComputedStyle(g,null),y=gv();let x=null,w=!1;const b=[],j=[],T={},E={},S=[a],N=[n],P=[o],O=()=>g,I=()=>b.concat(),k=()=>T,A=B=>(H,Z)=>H(B,Z),M=()=>x||(x=uj(y,b,[0,0],[1,1]),x),R=()=>v,D=()=>{x=null,b.forEach(Z=>Z._read()),!(d&&y.width&&y.height)&&gv(y,g,v);const H={root:W,props:p,rect:y};N.forEach(Z=>Z(H))},q=(B,H,Z)=>{let U=H.length===0;return S.forEach(Q=>{Q({props:p,root:W,actions:H,timestamp:B,shouldOptimize:Z})===!1&&(U=!1)}),j.forEach(Q=>{Q.write(B)===!1&&(U=!1)}),b.filter(Q=>!!Q.element.parentNode).forEach(Q=>{Q._write(B,l(Q,H),Z)||(U=!1)}),b.forEach((Q,ne)=>{Q.element.parentNode||(W.appendChild(Q.element,ne),Q._read(),Q._write(B,l(Q,H),Z),U=!1)}),w=U,f({props:p,root:W,actions:H,timestamp:B}),U},F=()=>{j.forEach(B=>B.destroy()),P.forEach(B=>{B({root:W,props:p})}),b.forEach(B=>B._destroy())},$={element:{get:O},style:{get:R},childViews:{get:I}},C={...$,rect:{get:M},ref:{get:k},is:B=>t===B,appendChild:jU(g),createChildView:A(m),linkView:B=>(b.push(B),B),unlinkView:B=>{b.splice(b.indexOf(B),1)},appendChildView:_U(g,b),removeChildView:NU(g,b),registerWriter:B=>S.push(B),registerReader:B=>N.push(B),registerDestroyer:B=>P.push(B),invalidateLayout:()=>g.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},L={element:{get:O},childViews:{get:I},rect:{get:M},resting:{get:()=>w},isRectIgnored:()=>c,_read:D,_write:q,_destroy:F},z={...$,rect:{get:()=>y}};Object.keys(h).sort((B,H)=>B==="styles"?1:H==="styles"?-1:0).forEach(B=>{const H=UU[B]({mixinConfig:h[B],viewProps:p,viewState:E,viewInternalAPI:C,viewExternalAPI:L,view:nn(z)});H&&j.push(H)});const W=nn(C);s({root:W,props:p});const V=TU(g);return b.forEach((B,H)=>{W.appendChild(B.element,V+H)}),u(W),nn(L)},HU=(e,t,r=60)=>{const n="__framePainter";if(window[n]){window[n].readers.push(e),window[n].writers.push(t);return}window[n]={readers:[e],writers:[t]};const a=window[n],s=1e3/r;let o=null,l=null,u=null,f=null;const c=()=>{document.hidden?(u=()=>window.setTimeout(()=>d(performance.now()),s),f=()=>window.clearTimeout(l)):(u=()=>window.requestAnimationFrame(d),f=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{f&&f(),c(),d(performance.now())});const d=h=>{l=u(d),o||(o=h);const m=h-o;m<=s||(o=h-m%s,a.readers.forEach(p=>p()),a.writers.forEach(p=>p(h)))};return c(),d(performance.now()),{pause:()=>{f(l)}}},Tt=(e,t)=>({root:r,props:n,actions:a=[],timestamp:s,shouldOptimize:o})=>{a.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:r,props:n,action:l.data,timestamp:s,shouldOptimize:o})),t&&t({root:r,props:n,actions:a,timestamp:s,shouldOptimize:o})},vv=(e,t)=>t.parentNode.insertBefore(e,t),yv=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),lc=e=>Array.isArray(e),Rr=e=>e==null,qU=e=>e.trim(),cc=e=>""+e,GU=(e,t=",")=>Rr(e)?[]:lc(e)?e:cc(e).split(t).map(qU).filter(r=>r.length),dj=e=>typeof e=="boolean",fj=e=>dj(e)?e:e==="true",Ot=e=>typeof e=="string",hj=e=>jn(e)?e:Ot(e)?cc(e).replace(/[a-z]+/gi,""):0,Ls=e=>parseInt(hj(e),10),xv=e=>parseFloat(hj(e)),La=e=>jn(e)&&isFinite(e)&&Math.floor(e)===e,bv=(e,t=1e3)=>{if(La(e))return e;let r=cc(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),Ls(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),Ls(r)*t):Ls(r)},_n=e=>typeof e=="function",VU=e=>{let t=self,r=e.split("."),n=null;for(;n=r.shift();)if(t=t[n],!t)return null;return t},wv={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},WU=e=>{const t={};return t.url=Ot(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},qe(wv,r=>{t[r]=KU(r,e[r],wv[r],t.timeout,t.headers)}),t.process=e.process||Ot(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},KU=(e,t,r,n,a)=>{if(t===null)return null;if(typeof t=="function")return t;const s={url:r==="GET"||r==="PATCH"?`?${e}=`:"",method:r,headers:a,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(Ot(t))return s.url=t,s;if(Object.assign(s,t),Ot(s.headers)){const o=s.headers.split(/:(.+)/);s.headers={header:o[0],value:o[1]}}return s.withCredentials=fj(s.withCredentials),s},YU=e=>WU(e),XU=e=>e===null,dt=e=>typeof e=="object"&&e!==null,ZU=e=>dt(e)&&Ot(e.url)&&dt(e.process)&&dt(e.revert)&&dt(e.restore)&&dt(e.fetch),dd=e=>lc(e)?"array":XU(e)?"null":La(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":ZU(e)?"api":typeof e,QU=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),JU={array:GU,boolean:fj,int:e=>dd(e)==="bytes"?bv(e):Ls(e),number:xv,float:xv,bytes:bv,string:e=>_n(e)?e:cc(e),function:e=>VU(e),serverapi:YU,object:e=>{try{return JSON.parse(QU(e))}catch{return null}}},eH=(e,t)=>JU[t](e),mj=(e,t,r)=>{if(e===t)return e;let n=dd(e);if(n!==r){const a=eH(e,r);if(n=dd(a),a===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=a}return e},tH=(e,t)=>{let r=e;return{enumerable:!0,get:()=>r,set:n=>{r=mj(n,e,t)}}},rH=e=>{const t={};return qe(e,r=>{const n=e[r];t[r]=tH(n[0],n[1])}),nn(t)},nH=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:rH(e)}),uc=(e,t="-")=>e.split(/(?=[A-Z])/).map(r=>r.toLowerCase()).join(t),aH=(e,t)=>{const r={};return qe(t,n=>{r[n]={get:()=>e.getState().options[n],set:a=>{e.dispatch(`SET_${uc(n,"_").toUpperCase()}`,{value:a})}}}),r},iH=e=>(t,r,n)=>{const a={};return qe(e,s=>{const o=uc(s,"_").toUpperCase();a[`SET_${o}`]=l=>{try{n.options[s]=l.value}catch{}t(`DID_SET_${o}`,{value:n.options[s]})}}),a},sH=e=>t=>{const r={};return qe(e,n=>{r[`GET_${uc(n,"_").toUpperCase()}`]=a=>t.options[n]}),r},Kt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},$h=()=>Math.random().toString(36).substring(2,11),Fh=(e,t)=>e.splice(t,1),oH=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},dc=()=>{const e=[],t=(n,a)=>{Fh(e,e.findIndex(s=>s.event===n&&(s.cb===a||!a)))},r=(n,a,s)=>{e.filter(o=>o.event===n).map(o=>o.cb).forEach(o=>oH(()=>o(...a),s))};return{fireSync:(n,...a)=>{r(n,a,!0)},fire:(n,...a)=>{r(n,a,!1)},on:(n,a)=>{e.push({event:n,cb:a})},onOnce:(n,a)=>{e.push({event:n,cb:(...s)=>{t(n,a),a(...s)}})},off:t}},pj=(e,t,r)=>{Object.getOwnPropertyNames(e).filter(n=>!r.includes(n)).forEach(n=>Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n)))},lH=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],St=e=>{const t={};return pj(e,t,lH),t},cH=e=>{e.forEach((t,r)=>{t.released&&Fh(e,r)})},xe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},ct={INPUT:1,LIMBO:2,LOCAL:3},gj=e=>/[^0-9]+/.exec(e),vj=()=>gj(1.1.toLocaleString())[0],uH=()=>{const e=vj(),t=1e3.toLocaleString();return t!=="1000"?gj(t)[0]:e==="."?",":"."},ie={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},zh=[],tr=(e,t,r)=>new Promise((n,a)=>{const s=zh.filter(l=>l.key===e).map(l=>l.cb);if(s.length===0){n(t);return}const o=s.shift();s.reduce((l,u)=>l.then(f=>u(f,r)),o(t,r)).then(l=>n(l)).catch(l=>a(l))}),Vn=(e,t,r)=>zh.filter(n=>n.key===e).map(n=>n.cb(t,r)),dH=(e,t)=>zh.push({key:e,cb:t}),fH=e=>Object.assign(ea,e),Ro=()=>({...ea}),hH=e=>{qe(e,(t,r)=>{ea[t]&&(ea[t][0]=mj(r,ea[t][0],ea[t][1]))})},ea={id:[null,ie.STRING],name:["filepond",ie.STRING],disabled:[!1,ie.BOOLEAN],className:[null,ie.STRING],required:[!1,ie.BOOLEAN],captureMethod:[null,ie.STRING],allowSyncAcceptAttribute:[!0,ie.BOOLEAN],allowDrop:[!0,ie.BOOLEAN],allowBrowse:[!0,ie.BOOLEAN],allowPaste:[!0,ie.BOOLEAN],allowMultiple:[!1,ie.BOOLEAN],allowReplace:[!0,ie.BOOLEAN],allowRevert:[!0,ie.BOOLEAN],allowRemove:[!0,ie.BOOLEAN],allowProcess:[!0,ie.BOOLEAN],allowReorder:[!1,ie.BOOLEAN],allowDirectoriesOnly:[!1,ie.BOOLEAN],storeAsFile:[!1,ie.BOOLEAN],forceRevert:[!1,ie.BOOLEAN],maxFiles:[null,ie.INT],checkValidity:[!1,ie.BOOLEAN],itemInsertLocationFreedom:[!0,ie.BOOLEAN],itemInsertLocation:["before",ie.STRING],itemInsertInterval:[75,ie.INT],dropOnPage:[!1,ie.BOOLEAN],dropOnElement:[!0,ie.BOOLEAN],dropValidation:[!1,ie.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ie.ARRAY],instantUpload:[!0,ie.BOOLEAN],maxParallelUploads:[2,ie.INT],allowMinimumUploadDuration:[!0,ie.BOOLEAN],chunkUploads:[!1,ie.BOOLEAN],chunkForce:[!1,ie.BOOLEAN],chunkSize:[5e6,ie.INT],chunkRetryDelays:[[500,1e3,3e3],ie.ARRAY],server:[null,ie.SERVER_API],fileSizeBase:[1e3,ie.INT],labelFileSizeBytes:["bytes",ie.STRING],labelFileSizeKilobytes:["KB",ie.STRING],labelFileSizeMegabytes:["MB",ie.STRING],labelFileSizeGigabytes:["GB",ie.STRING],labelDecimalSeparator:[vj(),ie.STRING],labelThousandsSeparator:[uH(),ie.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ie.STRING],labelInvalidField:["Field contains invalid files",ie.STRING],labelFileWaitingForSize:["Waiting for size",ie.STRING],labelFileSizeNotAvailable:["Size not available",ie.STRING],labelFileCountSingular:["file in list",ie.STRING],labelFileCountPlural:["files in list",ie.STRING],labelFileLoading:["Loading",ie.STRING],labelFileAdded:["Added",ie.STRING],labelFileLoadError:["Error during load",ie.STRING],labelFileRemoved:["Removed",ie.STRING],labelFileRemoveError:["Error during remove",ie.STRING],labelFileProcessing:["Uploading",ie.STRING],labelFileProcessingComplete:["Upload complete",ie.STRING],labelFileProcessingAborted:["Upload cancelled",ie.STRING],labelFileProcessingError:["Error during upload",ie.STRING],labelFileProcessingRevertError:["Error during revert",ie.STRING],labelTapToCancel:["tap to cancel",ie.STRING],labelTapToRetry:["tap to retry",ie.STRING],labelTapToUndo:["tap to undo",ie.STRING],labelButtonRemoveItem:["Remove",ie.STRING],labelButtonAbortItemLoad:["Abort",ie.STRING],labelButtonRetryItemLoad:["Retry",ie.STRING],labelButtonAbortItemProcessing:["Cancel",ie.STRING],labelButtonUndoItemProcessing:["Undo",ie.STRING],labelButtonRetryItemProcessing:["Retry",ie.STRING],labelButtonProcessItem:["Upload",ie.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ie.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],oninit:[null,ie.FUNCTION],onwarning:[null,ie.FUNCTION],onerror:[null,ie.FUNCTION],onactivatefile:[null,ie.FUNCTION],oninitfile:[null,ie.FUNCTION],onaddfilestart:[null,ie.FUNCTION],onaddfileprogress:[null,ie.FUNCTION],onaddfile:[null,ie.FUNCTION],onprocessfilestart:[null,ie.FUNCTION],onprocessfileprogress:[null,ie.FUNCTION],onprocessfileabort:[null,ie.FUNCTION],onprocessfilerevert:[null,ie.FUNCTION],onprocessfile:[null,ie.FUNCTION],onprocessfiles:[null,ie.FUNCTION],onremovefile:[null,ie.FUNCTION],onpreparefile:[null,ie.FUNCTION],onupdatefiles:[null,ie.FUNCTION],onreorderfiles:[null,ie.FUNCTION],beforeDropFile:[null,ie.FUNCTION],beforeAddFile:[null,ie.FUNCTION],beforeRemoveFile:[null,ie.FUNCTION],beforePrepareFile:[null,ie.FUNCTION],stylePanelLayout:[null,ie.STRING],stylePanelAspectRatio:[null,ie.STRING],styleItemPanelAspectRatio:[null,ie.STRING],styleButtonRemoveItemPosition:["left",ie.STRING],styleButtonProcessItemPosition:["right",ie.STRING],styleLoadIndicatorPosition:["right",ie.STRING],styleProgressIndicatorPosition:["right",ie.STRING],styleButtonRemoveItemAlign:[!1,ie.BOOLEAN],files:[[],ie.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ie.ARRAY]},Nn=(e,t)=>Rr(t)?e[0]||null:La(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(r=>r.id===t)||null),yj=e=>{if(Rr(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ir=e=>e.filter(t=>!t.archived),mH={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let ws=null;const pH=()=>{if(ws===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,ws=t.files.length===1}catch{ws=!1}return ws},gH=[xe.LOAD_ERROR,xe.PROCESSING_ERROR,xe.PROCESSING_REVERT_ERROR],vH=[xe.LOADING,xe.PROCESSING,xe.PROCESSING_QUEUED,xe.INIT],yH=[xe.PROCESSING_COMPLETE],xH=e=>gH.includes(e.status),bH=e=>vH.includes(e.status),wH=e=>yH.includes(e.status),jv=e=>dt(e.options.server)&&(dt(e.options.server.process)||_n(e.options.server.process)),jH=e=>({GET_STATUS:()=>{const t=ir(e.items),{EMPTY:r,ERROR:n,BUSY:a,IDLE:s,READY:o}=mH;return t.length===0?r:t.some(xH)?n:t.some(bH)?a:t.some(wH)?o:s},GET_ITEM:t=>Nn(e.items,t),GET_ACTIVE_ITEM:t=>Nn(ir(e.items),t),GET_ACTIVE_ITEMS:()=>ir(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const r=Nn(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=Nn(e.items,t);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:yj(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>ir(e.items).filter(r=>r.status===t),GET_TOTAL_ITEMS:()=>ir(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&pH()&&!jv(e),IS_ASYNC:()=>jv(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),_H=e=>{const t=ir(e.items).length;if(!e.options.allowMultiple)return t===0;const r=e.options.maxFiles;return r===null||t<r},xj=(e,t,r)=>Math.max(Math.min(r,e),t),NH=(e,t,r)=>e.splice(t,0,r),EH=(e,t,r)=>Rr(t)?null:typeof r>"u"?(e.push(t),t):(r=xj(r,0,e.length),NH(e,r,t),t),fd=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Wi=e=>`${e}`.split("/").pop().split("?").shift(),fc=e=>e.split(".").pop(),OH=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Ya=(e,t="")=>(t+e).slice(-t.length),bj=(e=new Date)=>`${e.getFullYear()}-${Ya(e.getMonth()+1,"00")}-${Ya(e.getDate(),"00")}_${Ya(e.getHours(),"00")}-${Ya(e.getMinutes(),"00")}-${Ya(e.getSeconds(),"00")}`,ha=(e,t,r=null,n=null)=>{const a=typeof r=="string"?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return a.lastModifiedDate=new Date,e._relativePath&&(a._relativePath=e._relativePath),Ot(t)||(t=bj()),t&&n===null&&fc(t)?a.name=t:(n=n||OH(a.type),a.name=t+(n?"."+n:"")),a},TH=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,wj=(e,t)=>{const r=TH();if(r){const n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},SH=(e,t)=>{const r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return wj(r,t)},jj=e=>(/^data:(.+);/.exec(e)||[])[1]||null,PH=e=>e.split(",")[1].replace(/\s/g,""),AH=e=>atob(PH(e)),IH=e=>{const t=jj(e),r=AH(e);return SH(r,t)},kH=(e,t,r)=>ha(IH(e),t,null,r),CH=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(r=>r.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(r=>r.length);return t.length?decodeURI(t[t.length-1]):null},DH=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},MH=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Uh=e=>{const t={source:null,name:null,size:null},r=e.split(`
`);for(let n of r){const a=CH(n);if(a){t.name=a;continue}const s=DH(n);if(s){t.size=s;continue}const o=MH(n);if(o){t.source=o;continue}}return t},RH=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=()=>t.progress,n=()=>{t.request&&t.request.abort&&t.request.abort()},a=()=>{const l=t.source;o.fire("init",l),l instanceof File?o.fire("load",l):l instanceof Blob?o.fire("load",ha(l,l.name)):fd(l)?o.fire("load",kH(l)):s(l)},s=l=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(l,u=>{t.duration=Date.now()-t.timestamp,t.complete=!0,u instanceof Blob&&(u=ha(u,u.name||Wi(l))),o.fire("load",u instanceof Blob?u:u?u.body:null)},u=>{o.fire("error",typeof u=="string"?{type:"error",code:0,body:u}:u)},(u,f,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!u){t.progress=null;return}t.progress=f/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},u=>{const f=Uh(typeof u=="string"?u:u.headers);o.fire("meta",{size:t.size||f.size,filename:f.name,source:f.source})})},o={...dc(),setSource:l=>t.source=l,getProgress:r,abort:n,load:a};return o},_v=e=>/GET|HEAD/.test(e),Pn=(e,t,r)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{a=!0,o.abort()}};let a=!1,s=!1;r={method:"POST",headers:{},withCredentials:!1,...r},t=encodeURI(t),_v(r.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,l=_v(r.method)?o:o.upload;return l.onprogress=u=>{a||n.onprogress(u.lengthComputable,u.loaded,u.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||s||(s=!0,n.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?n.onload(o):n.onerror(o)},o.onerror=()=>n.onerror(o),o.onabort=()=>{a=!0,n.onabort()},o.ontimeout=()=>n.ontimeout(o),o.open(r.method,t,!0),La(r.timeout)&&(o.timeout=r.timeout),Object.keys(r.headers).forEach(u=>{const f=unescape(encodeURIComponent(r.headers[u]));o.setRequestHeader(u,f)}),r.responseType&&(o.responseType=r.responseType),r.withCredentials&&(o.withCredentials=!0),o.send(e),n},Ve=(e,t,r,n)=>({type:e,code:t,body:r,headers:n}),An=e=>t=>{e(Ve("error",0,"Timeout",t.getAllResponseHeaders()))},Nv=e=>/\?/.test(e),ti=(...e)=>{let t="";return e.forEach(r=>{t+=Nv(t)&&Nv(r)?r.replace(/\?/,"&"):r}),t},Hc=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return null;const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o,l,u,f)=>{const c=Pn(a,ti(e,t.url),{...t,responseType:"blob"});return c.onload=d=>{const h=d.getAllResponseHeaders(),m=Uh(h).name||Wi(a);s(Ve("load",d.status,t.method==="HEAD"?null:ha(r(d.response),m),h))},c.onerror=d=>{o(Ve("error",d.status,n(d.response)||d.statusText,d.getAllResponseHeaders()))},c.onheaders=d=>{f(Ve("headers",d.status,null,d.getAllResponseHeaders()))},c.ontimeout=An(o),c.onprogress=l,c.onabort=u,c}},qt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},LH=(e,t,r,n,a,s,o,l,u,f,c)=>{const d=[],{chunkTransferId:h,chunkServer:m,chunkSize:p,chunkRetryDelays:g}=c,v={serverId:h,aborted:!1},y=t.ondata||(A=>A),x=t.onload||((A,M)=>M==="HEAD"?A.getResponseHeader("Upload-Offset"):A.response),w=t.onerror||(A=>null),b=A=>{const M=new FormData;dt(a)&&M.append(r,JSON.stringify(a));const R=typeof t.headers=="function"?t.headers(n,a):{...t.headers,"Upload-Length":n.size},D={...t,headers:R},q=Pn(y(M),ti(e,t.url),D);q.onload=F=>A(x(F,D.method)),q.onerror=F=>o(Ve("error",F.status,w(F.response)||F.statusText,F.getAllResponseHeaders())),q.ontimeout=An(o)},j=A=>{const M=ti(e,m.url,v.serverId),D={headers:typeof t.headers=="function"?t.headers(v.serverId):{...t.headers},method:"HEAD"},q=Pn(null,M,D);q.onload=F=>A(x(F,D.method)),q.onerror=F=>o(Ve("error",F.status,w(F.response)||F.statusText,F.getAllResponseHeaders())),q.ontimeout=An(o)},T=Math.floor(n.size/p);for(let A=0;A<=T;A++){const M=A*p,R=n.slice(M,M+p,"application/offset+octet-stream");d[A]={index:A,size:R.size,offset:M,data:R,file:n,progress:0,retries:[...g],status:qt.QUEUED,error:null,request:null,timeout:null}}const E=()=>s(v.serverId),S=A=>A.status===qt.QUEUED||A.status===qt.ERROR,N=A=>{if(v.aborted)return;if(A=A||d.find(S),!A){d.every(C=>C.status===qt.COMPLETE)&&E();return}A.status=qt.PROCESSING,A.progress=null;const M=m.ondata||(C=>C),R=m.onerror||(C=>null),D=m.onload||(()=>{}),q=ti(e,m.url,v.serverId),F=typeof m.headers=="function"?m.headers(A):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":A.offset,"Upload-Length":n.size,"Upload-Name":n.name},$=A.request=Pn(M(A.data),q,{...m,headers:F});$.onload=C=>{D(C,A.index,d.length),A.status=qt.COMPLETE,A.request=null,I()},$.onprogress=(C,L,z)=>{A.progress=C?L:null,O()},$.onerror=C=>{A.status=qt.ERROR,A.request=null,A.error=R(C.response)||C.statusText,P(A)||o(Ve("error",C.status,R(C.response)||C.statusText,C.getAllResponseHeaders()))},$.ontimeout=C=>{A.status=qt.ERROR,A.request=null,P(A)||An(o)(C)},$.onabort=()=>{A.status=qt.QUEUED,A.request=null,u()}},P=A=>A.retries.length===0?!1:(A.status=qt.WAITING,clearTimeout(A.timeout),A.timeout=setTimeout(()=>{N(A)},A.retries.shift()),!0),O=()=>{const A=d.reduce((R,D)=>R===null||D.progress===null?null:R+D.progress,0);if(A===null)return l(!1,0,0);const M=d.reduce((R,D)=>R+D.size,0);l(!0,A,M)},I=()=>{d.filter(M=>M.status===qt.PROCESSING).length>=1||N()},k=()=>{d.forEach(A=>{clearTimeout(A.timeout),A.request&&A.request.abort()})};return v.serverId?j(A=>{v.aborted||(d.filter(M=>M.offset<A).forEach(M=>{M.status=qt.COMPLETE,M.progress=M.size}),I())}):b(A=>{v.aborted||(f(A),v.serverId=A,I())}),{abort:()=>{v.aborted=!0,k()}}},BH=(e,t,r,n)=>(a,s,o,l,u,f,c)=>{if(!a)return;const d=n.chunkUploads,h=d&&a.size>n.chunkSize,m=d&&(h||n.chunkForce);if(a instanceof Blob&&m)return LH(e,t,r,a,s,o,l,u,f,c,n);const p=t.ondata||(j=>j),g=t.onload||(j=>j),v=t.onerror||(j=>null),y=typeof t.headers=="function"?t.headers(a,s)||{}:{...t.headers},x={...t,headers:y};var w=new FormData;dt(s)&&w.append(r,JSON.stringify(s)),(a instanceof Blob?[{name:null,file:a}]:a).forEach(j=>{w.append(r,j.file,j.name===null?j.file.name:`${j.name}${j.file.name}`)});const b=Pn(p(w),ti(e,t.url),x);return b.onload=j=>{o(Ve("load",j.status,g(j.response),j.getAllResponseHeaders()))},b.onerror=j=>{l(Ve("error",j.status,v(j.response)||j.statusText,j.getAllResponseHeaders()))},b.ontimeout=An(l),b.onprogress=u,b.onabort=f,b},$H=(e="",t,r,n)=>typeof t=="function"?(...a)=>t(r,...a,n):!t||!Ot(t.url)?null:BH(e,t,r,n),Xa=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return(a,s)=>s();const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o)=>{const l=Pn(a,e+t.url,t);return l.onload=u=>{s(Ve("load",u.status,r(u.response),u.getAllResponseHeaders()))},l.onerror=u=>{o(Ve("error",u.status,n(u.response)||u.statusText,u.getAllResponseHeaders()))},l.ontimeout=An(o),l}},_j=(e=0,t=1)=>e+Math.random()*(t-e),FH=(e,t=1e3,r=0,n=25,a=250)=>{let s=null;const o=Date.now(),l=()=>{let u=Date.now()-o,f=_j(n,a);u+f>t&&(f=u+f-t);let c=u/t;if(c>=1||document.hidden){e(1);return}e(c),s=setTimeout(l,f)};return t>0&&l(),{clear:()=>{clearTimeout(s)}}},zH=(e,t)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,a=(c,d)=>{const h=()=>{r.duration===0||r.progress===null||f.fire("progress",f.getProgress())},m=()=>{r.complete=!0,f.fire("load-perceived",r.response.body)};f.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=FH(p=>{r.perceivedProgress=p,r.perceivedDuration=Date.now()-r.timestamp,h(),r.response&&r.perceivedProgress===1&&!r.complete&&m()},n?_j(750,1500):0),r.request=e(c,d,p=>{r.response=dt(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,f.fire("load",r.response.body),(!n||n&&r.perceivedProgress===1)&&m()},p=>{r.perceivedPerformanceUpdater.clear(),f.fire("error",dt(p)?p:{type:"error",code:0,body:`${p}`})},(p,g,v)=>{r.duration=Date.now()-r.timestamp,r.progress=p?g/v:null,h()},()=>{r.perceivedPerformanceUpdater.clear(),f.fire("abort",r.response?r.response.body:null)},p=>{f.fire("transfer",p)})},s=()=>{r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},o=()=>{s(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},l=n?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,u=n?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,f={...dc(),process:a,abort:s,getProgress:l,getDuration:u,reset:o};return f},Nj=e=>e.substring(0,e.lastIndexOf("."))||e,UH=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||fd(e)?t[0]=e.name||bj():fd(e)?(t[1]=e.length,t[2]=jj(e)):Ot(e)&&(t[0]=Wi(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},In=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ej=e=>{if(!dt(e))return e;const t=lc(e)?[]:{};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t[r]=n&&dt(n)?Ej(n):n}return t},HH=(e=null,t=null,r=null)=>{const n=$h(),a={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?xe.PROCESSING_COMPLETE:xe.INIT,activeLoader:null,activeProcessor:null};let s=null;const o={},l=S=>a.status=S,u=(S,...N)=>{a.released||a.frozen||T.fire(S,...N)},f=()=>fc(a.file.name),c=()=>a.file.type,d=()=>a.file.size,h=()=>a.file,m=(S,N,P)=>{if(a.source=S,T.fireSync("init"),a.file){T.fireSync("load-skip");return}a.file=UH(S),N.on("init",()=>{u("load-init")}),N.on("meta",O=>{a.file.size=O.size,a.file.filename=O.filename,O.source&&(e=ct.LIMBO,a.serverFileReference=O.source,a.status=xe.PROCESSING_COMPLETE),u("load-meta")}),N.on("progress",O=>{l(xe.LOADING),u("load-progress",O)}),N.on("error",O=>{l(xe.LOAD_ERROR),u("load-request-error",O)}),N.on("abort",()=>{l(xe.INIT),u("load-abort")}),N.on("load",O=>{a.activeLoader=null;const I=A=>{a.file=In(A)?A:a.file,e===ct.LIMBO&&a.serverFileReference?l(xe.PROCESSING_COMPLETE):l(xe.IDLE),u("load")},k=A=>{a.file=O,u("load-meta"),l(xe.LOAD_ERROR),u("load-file-error",A)};if(a.serverFileReference){I(O);return}P(O,I,k)}),N.setSource(S),a.activeLoader=N,N.load()},p=()=>{a.activeLoader&&a.activeLoader.load()},g=()=>{if(a.activeLoader){a.activeLoader.abort();return}l(xe.INIT),u("load-abort")},v=(S,N)=>{if(a.processingAborted){a.processingAborted=!1;return}if(l(xe.PROCESSING),s=null,!(a.file instanceof Blob)){T.on("load",()=>{v(S,N)});return}S.on("load",I=>{a.transferId=null,a.serverFileReference=I}),S.on("transfer",I=>{a.transferId=I}),S.on("load-perceived",I=>{a.activeProcessor=null,a.transferId=null,a.serverFileReference=I,l(xe.PROCESSING_COMPLETE),u("process-complete",I)}),S.on("start",()=>{u("process-start")}),S.on("error",I=>{a.activeProcessor=null,l(xe.PROCESSING_ERROR),u("process-error",I)}),S.on("abort",I=>{a.activeProcessor=null,a.serverFileReference=I,l(xe.IDLE),u("process-abort"),s&&s()}),S.on("progress",I=>{u("process-progress",I)});const P=I=>{a.archived||S.process(I,{...o})},O=console.error;N(a.file,P,O),a.activeProcessor=S},y=()=>{a.processingAborted=!1,l(xe.PROCESSING_QUEUED)},x=()=>new Promise(S=>{if(!a.activeProcessor){a.processingAborted=!0,l(xe.IDLE),u("process-abort"),S();return}s=()=>{S()},a.activeProcessor.abort()}),w=(S,N)=>new Promise((P,O)=>{const I=a.serverFileReference!==null?a.serverFileReference:a.transferId;if(I===null){P();return}S(I,()=>{a.serverFileReference=null,a.transferId=null,P()},k=>{if(!N){P();return}l(xe.PROCESSING_REVERT_ERROR),u("process-revert-error"),O(k)}),l(xe.IDLE),u("process-revert")}),b=(S,N,P)=>{const O=S.split("."),I=O[0],k=O.pop();let A=o;O.forEach(M=>A=A[M]),JSON.stringify(A[k])!==JSON.stringify(N)&&(A[k]=N,u("metadata-update",{key:I,value:o[I],silent:P}))},T={id:{get:()=>n},origin:{get:()=>e,set:S=>e=S},serverId:{get:()=>a.serverFileReference},transferId:{get:()=>a.transferId},status:{get:()=>a.status},filename:{get:()=>a.file.name},filenameWithoutExtension:{get:()=>Nj(a.file.name)},fileExtension:{get:f},fileType:{get:c},fileSize:{get:d},file:{get:h},relativePath:{get:()=>a.file._relativePath},source:{get:()=>a.source},getMetadata:S=>Ej(S?o[S]:o),setMetadata:(S,N,P)=>{if(dt(S)){const O=S;return Object.keys(O).forEach(I=>{b(I,O[I],N)}),S}return b(S,N,P),N},extend:(S,N)=>E[S]=N,abortLoad:g,retryLoad:p,requestProcessing:y,abortProcessing:x,load:m,process:v,revert:w,...dc(),freeze:()=>a.frozen=!0,release:()=>a.released=!0,released:{get:()=>a.released},archive:()=>a.archived=!0,archived:{get:()=>a.archived},setFile:S=>a.file=S},E=nn(T);return E},qH=(e,t)=>Rr(t)?0:Ot(t)?e.findIndex(r=>r.id===t):-1,Ev=(e,t)=>{const r=qH(e,t);if(!(r<0))return e[r]||null},Ov=(e,t,r,n,a,s)=>{const o=Pn(null,e,{method:"GET",responseType:"blob"});return o.onload=l=>{const u=l.getAllResponseHeaders(),f=Uh(u).name||Wi(e);t(Ve("load",l.status,ha(l.response,f),u))},o.onerror=l=>{r(Ve("error",l.status,l.statusText,l.getAllResponseHeaders()))},o.onheaders=l=>{s(Ve("headers",l.status,null,l.getAllResponseHeaders()))},o.ontimeout=An(r),o.onprogress=n,o.onabort=a,o},Tv=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),GH=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Tv(location.href)!==Tv(e),js=e=>(...t)=>_n(e)?e(...t):e,VH=e=>!In(e.file),qc=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:ir(t.items)})},0)},Sv=(e,...t)=>new Promise(r=>{if(!e)return r(!0);const n=e(...t);if(n==null)return r(!0);if(typeof n=="boolean")return r(n);typeof n.then=="function"&&n.then(r)}),Gc=(e,t)=>{e.items.sort((r,n)=>t(St(r),St(n)))},Gt=(e,t)=>({query:r,success:n=()=>{},failure:a=()=>{},...s}={})=>{const o=Nn(e.items,r);if(!o){a({error:Ve("error",0,"Item not found"),file:null});return}t(o,n,a,s||{})},WH=(e,t,r)=>({ABORT_ALL:()=>{ir(r.items).forEach(n=>{n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:({value:n=[]})=>{const a=n.map(o=>({source:o.source?o.source:o,options:o.options}));let s=ir(r.items);s.forEach(o=>{a.find(l=>l.source===o.source||l.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),s=ir(r.items),a.forEach((o,l)=>{s.find(u=>u.source===o.source||u.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Kt.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:n,action:a,change:s})=>{s.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(()=>{const o=Ev(r.items,n);if(!t("IS_ASYNC")){tr("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:a,change:s}).then(c=>{const d=t("GET_BEFORE_PREPARE_FILE");d&&(c=d(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:o,success:h=>{e("DID_PREPARE_OUTPUT",{id:n,file:h})}},!0)});return}o.origin===ct.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:n})},32)},u=c=>{o.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(c?l:()=>{}).catch(()=>{})},f=c=>{o.abortProcessing().then(c?l:()=>{})};if(o.status===xe.PROCESSING_COMPLETE)return u(r.options.instantUpload);if(o.status===xe.PROCESSING)return f(r.options.instantUpload);r.options.instantUpload&&l()},0))},MOVE_ITEM:({query:n,index:a})=>{const s=Nn(r.items,n);if(!s)return;const o=r.items.indexOf(s);a=xj(a,0,r.items.length-1),o!==a&&r.items.splice(a,0,r.items.splice(o,1)[0])},SORT:({compare:n})=>{Gc(r,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:n,index:a,interactionMethod:s,success:o=()=>{},failure:l=()=>{}})=>{let u=a;if(a===-1||typeof a>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");u=m==="before"?0:p}const f=t("GET_IGNORED_FILES"),c=m=>In(m)?!f.includes(m.name.toLowerCase()):!Rr(m),h=n.filter(c).map(m=>new Promise((p,g)=>{e("ADD_ITEM",{interactionMethod:s,source:m.source||m,success:p,failure:g,index:u++,options:m.options||{}})}));Promise.all(h).then(o).catch(l)},ADD_ITEM:({source:n,index:a=-1,interactionMethod:s,success:o=()=>{},failure:l=()=>{},options:u={}})=>{if(Rr(n)){l({error:Ve("error",0,"No source"),file:null});return}if(In(n)&&r.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!_H(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const x=Ve("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:n,error:x}),l({error:x,file:null});return}const y=ir(r.items)[0];if(y.status===xe.PROCESSING_COMPLETE||y.status===xe.PROCESSING_REVERT_ERROR){const x=t("GET_FORCE_REVERT");if(y.revert(Xa(r.options.server.url,r.options.server.revert),x).then(()=>{x&&e("ADD_ITEM",{source:n,index:a,interactionMethod:s,success:o,failure:l,options:u})}).catch(()=>{}),x)return}e("REMOVE_ITEM",{query:y.id})}const f=u.type==="local"?ct.LOCAL:u.type==="limbo"?ct.LIMBO:ct.INPUT,c=HH(f,f===ct.INPUT?null:n,u.file);Object.keys(u.metadata||{}).forEach(y=>{c.setMetadata(y,u.metadata[y])}),Vn("DID_CREATE_ITEM",c,{query:t,dispatch:e});const d=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(a=d==="before"?-1:r.items.length),EH(r.items,c,a),_n(d)&&n&&Gc(r,d);const h=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),c.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:y})}),c.on("load-request-error",y=>{const x=js(r.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:y,status:{main:x,sub:`${y.code} (${y.body})`}}),l({error:y,file:St(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:y,status:{main:x,sub:r.options.labelTapToRetry}})}),c.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:h,error:y.status,status:y.status}),l({error:y.status,file:St(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),c.on("load-skip",()=>{c.on("metadata-update",y=>{In(c.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:y})}),e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}})}),c.on("load",()=>{const y=x=>{if(!x){e("REMOVE_ITEM",{query:h});return}c.on("metadata-update",w=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:w})}),tr("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(w=>{const b=t("GET_BEFORE_PREPARE_FILE");b&&(w=b(c,w));const j=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}}),qc(e,r)};if(w){e("REQUEST_PREPARE_OUTPUT",{query:h,item:c,success:T=>{e("DID_PREPARE_OUTPUT",{id:h,file:T}),j()}},!0);return}j()})};tr("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Sv(t("GET_BEFORE_ADD_FILE"),St(c)).then(y)}).catch(x=>{if(!x||!x.error||!x.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:x.error,status:x.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),c.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:y})}),c.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:y,status:{main:js(r.options.labelFileProcessingError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:y,status:{main:js(r.options.labelFileProcessingRevertError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:h,value:y})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:a,interactionMethod:s}),qc(e,r);const{url:m,load:p,restore:g,fetch:v}=r.options.server||{};c.load(n,RH(f===ct.INPUT?Ot(n)&&GH(n)&&v?Hc(m,v):Ov:f===ct.LIMBO?Hc(m,g):Hc(m,p)),(y,x,w)=>{tr("LOAD_FILE",y,{query:t}).then(x).catch(w)})},REQUEST_PREPARE_OUTPUT:({item:n,success:a,failure:s=()=>{}})=>{const o={error:Ve("error",0,"Item not found"),file:null};if(n.archived)return s(o);tr("PREPARE_OUTPUT",n.file,{query:t,item:n}).then(l=>{tr("COMPLETE_PREPARE_OUTPUT",l,{query:t,item:n}).then(u=>{if(n.archived)return s(o);a(u)})})},COMPLETE_LOAD_ITEM:({item:n,data:a})=>{const{success:s,source:o}=a,l=t("GET_ITEM_INSERT_LOCATION");if(_n(l)&&o&&Gc(r,l),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===ct.INPUT?null:o}),s(St(n)),n.origin===ct.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===ct.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||o});return}t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id})},RETRY_ITEM_LOAD:Gt(r,n=>{n.retryLoad()}),REQUEST_ITEM_PREPARE:Gt(r,(n,a,s)=>{e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:o=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:o}),a({file:n,output:o})},failure:s},!0)}),REQUEST_ITEM_PROCESSING:Gt(r,(n,a,s)=>{if(!(n.status===xe.IDLE||n.status===xe.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:a,failure:s}),u=()=>document.hidden?l():setTimeout(l,32);n.status===xe.PROCESSING_COMPLETE||n.status===xe.PROCESSING_REVERT_ERROR?n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(u).catch(()=>{}):n.status===xe.PROCESSING&&n.abortProcessing().then(u);return}n.status!==xe.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:a,failure:s},!0))}),PROCESS_ITEM:Gt(r,(n,a,s)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",xe.PROCESSING).length===o){r.processingQueue.push({id:n.id,success:a,failure:s});return}if(n.status===xe.PROCESSING)return;const u=()=>{const c=r.processingQueue.shift();if(!c)return;const{id:d,success:h,failure:m}=c,p=Nn(r.items,d);if(!p||p.archived){u();return}e("PROCESS_ITEM",{query:d,success:h,failure:m},!0)};n.onOnce("process-complete",()=>{a(St(n)),u();const c=r.options.server;if(r.options.instantUpload&&n.origin===ct.LOCAL&&_n(c.remove)){const m=()=>{};n.origin=ct.LIMBO,r.options.server.remove(n.source,m,m)}t("GET_ITEMS_BY_STATUS",xe.PROCESSING_COMPLETE).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",c=>{s({error:c,file:St(n)}),u()});const f=r.options;n.process(zH($H(f.server.url,f.server.process,f.name,{chunkTransferId:n.transferId,chunkServer:f.server.patch,chunkUploads:f.chunkUploads,chunkForce:f.chunkForce,chunkSize:f.chunkSize,chunkRetryDelays:f.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,d,h)=>{tr("PREPARE_OUTPUT",c,{query:t,item:n}).then(m=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:m}),d(m)}).catch(h)})}),RETRY_ITEM_PROCESSING:Gt(r,n=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:Gt(r,n=>{Sv(t("GET_BEFORE_REMOVE_FILE"),St(n)).then(a=>{a&&e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:Gt(r,n=>{n.release()}),REMOVE_ITEM:Gt(r,(n,a,s,o)=>{const l=()=>{const f=n.id;Ev(r.items,f).archive(),e("DID_REMOVE_ITEM",{error:null,id:f,item:n}),qc(e,r),a(St(n))},u=r.options.server;n.origin===ct.LOCAL&&u&&_n(u.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:n.id}),u.remove(n.source,()=>l(),f=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:Ve("error",0,f,null),status:{main:js(r.options.labelFileRemoveError)(f),sub:r.options.labelTapToRetry}})})):((o.revert&&n.origin!==ct.LOCAL&&n.serverId!==null||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:Gt(r,n=>{n.abortLoad()}),ABORT_ITEM_PROCESSING:Gt(r,n=>{if(n.serverId){e("REVERT_ITEM_PROCESSING",{id:n.id});return}n.abortProcessing().then(()=>{r.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Gt(r,n=>{if(!r.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:n});return}const a=l=>{l&&e("REVERT_ITEM_PROCESSING",{query:n})},s=t("GET_BEFORE_REMOVE_FILE");if(!s)return a(!0);const o=s(St(n));if(o==null)return a(!0);if(typeof o=="boolean")return a(o);typeof o.then=="function"&&o.then(a)}),REVERT_ITEM_PROCESSING:Gt(r,n=>{n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(r.options.instantUpload||VH(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(()=>{})}),SET_OPTIONS:({options:n})=>{const a=Object.keys(n),s=KH.filter(l=>a.includes(l));[...s,...Object.keys(n).filter(l=>!s.includes(l))].forEach(l=>{e(`SET_${uc(l,"_").toUpperCase()}`,{value:n[l]})})}}),KH=["server"],Hh=e=>e,Lr=e=>document.createElement(e),We=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},Pv=(e,t,r,n)=>{const a=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}},YH=(e,t,r,n,a,s)=>{const o=Pv(e,t,r,a),l=Pv(e,t,r,n);return["M",o.x,o.y,"A",r,r,0,s,0,l.x,l.y].join(" ")},XH=(e,t,r,n,a)=>{let s=1;return a>n&&a-n<=.5&&(s=0),n>a&&n-a>=.5&&(s=0),YH(e,t,r,Math.min(.9999,n)*360,Math.min(.9999,a)*360,s)},ZH=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=Mo("svg");e.ref.path=Mo("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},QH=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const r=parseInt(rt(e.ref.path,"stroke-width"),10),n=e.rect.element.width*.5;let a=0,s=0;t.spin?(a=0,s=.5):(a=0,s=t.progress);const o=XH(n,n,n-r,a,s);rt(e.ref.path,"d",o),rt(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Av=et({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:ZH,write:QH,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),JH=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},eq=({root:e,props:t})=>{const{isDisabled:r}=t,n=e.query("GET_DISABLED")||t.opacity===0;n&&!r?(t.isDisabled=!0,rt(e.element,"disabled","disabled")):!n&&r&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Oj=et({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:JH,write:eq}),Tj=(e,t=".",r=1e3,n={})=>{const{labelBytes:a="bytes",labelKilobytes:s="KB",labelMegabytes:o="MB",labelGigabytes:l="GB"}=n;e=Math.round(Math.abs(e));const u=r,f=r*r,c=r*r*r;return e<u?`${e} ${a}`:e<f?`${Math.floor(e/u)} ${s}`:e<c?`${Iv(e/f,1,t)} ${o}`:`${Iv(e/c,2,t)} ${l}`},Iv=(e,t,r)=>e.toFixed(t).split(".").filter(n=>n!=="0").join(r),tq=({root:e,props:t})=>{const r=Lr("span");r.className="filepond--file-info-main",rt(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const n=Lr("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,We(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),We(r,Hh(e.query("GET_ITEM_NAME",t.id)))},hd=({root:e,props:t})=>{We(e.ref.fileSize,Tj(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),We(e.ref.fileName,Hh(e.query("GET_ITEM_NAME",t.id)))},kv=({root:e,props:t})=>{if(La(e.query("GET_ITEM_SIZE",t.id))){hd({root:e,props:t});return}We(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},rq=et({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:hd,DID_UPDATE_ITEM_META:hd,DID_THROW_ITEM_LOAD_ERROR:kv,DID_THROW_ITEM_INVALID:kv}),didCreateView:e=>{Vn("CREATE_VIEW",{...e,view:e})},create:tq,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Sj=e=>Math.round(e*100),nq=({root:e})=>{const t=Lr("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const r=Lr("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Pj({root:e,action:{progress:null}})},Pj=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Sj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},aq=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Sj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},iq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},sq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},oq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Cv=({root:e})=>{We(e.ref.main,""),We(e.ref.sub,"")},Za=({root:e,action:t})=>{We(e.ref.main,t.status.main),We(e.ref.sub,t.status.sub)},lq=et({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:Cv,DID_REVERT_ITEM_PROCESSING:Cv,DID_REQUEST_ITEM_PROCESSING:iq,DID_ABORT_ITEM_PROCESSING:sq,DID_COMPLETE_ITEM_PROCESSING:oq,DID_UPDATE_ITEM_PROCESS_PROGRESS:aq,DID_UPDATE_ITEM_LOAD_PROGRESS:Pj,DID_THROW_ITEM_LOAD_ERROR:Za,DID_THROW_ITEM_INVALID:Za,DID_THROW_ITEM_PROCESSING_ERROR:Za,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Za,DID_THROW_ITEM_REMOVE_ERROR:Za}),didCreateView:e=>{Vn("CREATE_VIEW",{...e,view:e})},create:nq,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),md={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},pd=[];qe(md,e=>{pd.push(e)});const Ct=e=>{if(gd(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},cq=e=>e.ref.buttonAbortItemLoad.rect.element.width,_s=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),uq=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),dq=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),fq=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),gd=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),hq={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:dq},processProgressIndicator:{opacity:0,align:fq},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Dv={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct}},Vc={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ta={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:gd},info:{translateX:Ct},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:gd},buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{opacity:1,translateX:Ct}},DID_LOAD_ITEM:Dv,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct}},DID_START_ITEM_PROCESSING:Vc,DID_REQUEST_ITEM_PROCESSING:Vc,DID_UPDATE_ITEM_PROCESS_PROGRESS:Vc,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Ct}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ct},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Dv},mq=et({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),pq=({root:e,props:t})=>{const r=Object.keys(md).reduce((p,g)=>(p[g]={...md[g]},p),{}),{id:n}=t,a=e.query("GET_ALLOW_REVERT"),s=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),u=e.query("IS_ASYNC"),f=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;u?o&&!a?c=p=>!/RevertItemProcessing/.test(p):!o&&a?c=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!o&&!a&&(c=p=>!/Process/.test(p)):c=p=>!/Process/.test(p);const d=c?pd.filter(c):pd.concat();if(l&&a&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),u&&!a){const p=ta.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=uq,p.info.translateY=_s,p.status.translateY=_s,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{ta[p].status.translateY=_s}),ta.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=cq),f&&a){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=ta.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Ct,p.status.translateY=_s,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(r.RemoveItem.disabled=!0),qe(r,(p,g)=>{const v=e.createChildView(Oj,{label:e.query(g.label),icon:e.query(g.icon),opacity:0});d.includes(p)&&e.appendChildView(v),g.disabled&&(v.element.setAttribute("disabled","disabled"),v.element.setAttribute("hidden","hidden")),v.element.dataset.align=e.query(`GET_STYLE_${g.align}`),v.element.classList.add(g.className),v.on("click",y=>{y.stopPropagation(),!g.disabled&&e.dispatch(g.action,{query:n})}),e.ref[`button${p}`]=v}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(mq)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(rq,{id:n})),e.ref.status=e.appendChildView(e.createChildView(lq,{id:n}));const h=e.appendChildView(e.createChildView(Av,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const m=e.appendChildView(e.createChildView(Av,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},gq=({root:e,actions:t,props:r})=>{vq({root:e,actions:t,props:r});let n=t.concat().filter(a=>/^DID_/.test(a.type)).reverse().find(a=>ta[a.type]);if(n){e.ref.activeStyles=[];const a=ta[n.type];qe(hq,(s,o)=>{const l=e.ref[s];qe(o,(u,f)=>{const c=a[s]&&typeof a[s][u]<"u"?a[s][u]:f;e.ref.activeStyles.push({control:l,key:u,value:c})})})}e.ref.activeStyles.forEach(({control:a,key:s,value:o})=>{a[s]=typeof o=="function"?o(e):o})},vq=Tt({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),yq=et({create:pq,write:gq,didCreateView:e=>{Vn("CREATE_VIEW",{...e,view:e})},name:"file"}),xq=({root:e,props:t})=>{e.ref.fileName=Lr("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(yq,{id:t.id})),e.ref.data=!1},bq=({root:e,props:t})=>{We(e.ref.fileName,Hh(e.query("GET_ITEM_NAME",t.id)))},wq=et({create:xq,ignoreRect:!0,write:Tt({DID_LOAD_ITEM:bq}),didCreateView:e=>{Vn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Mv={type:"spring",damping:.6,mass:7},jq=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Mv},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Mv},styles:["translateY"]}}].forEach(r=>{_q(e,r,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},_q=(e,t,r)=>{const n=et({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins,ignoreRectUpdate:!0}),a=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(a)},Nq=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=dj(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const r=e.ref.top.rect.element,n=e.ref.bottom.rect.element,a=Math.max(r.height+n.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(a-r.height-n.height)/100,e.ref.bottom.translateY=a-n.height},Aj=et({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Nq,create:jq,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Eq=e=>{const t=e.map(n=>n.id);let r;return{setIndex:n=>{r=n},getIndex:()=>r,getItemIndex:n=>t.indexOf(n.id)}},Rv={type:"spring",stiffness:.75,damping:.45,mass:10},Lv="spring",Bv={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Oq=({root:e,props:t})=>{if(e.ref.handleClick=n=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(wq,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Aj,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const r=n=>{if(!n.isPrimary)return;let a=!1;const s={x:n.pageX,y:n.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:n.offsetX,y:n.offsetY};const o=Eq(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const l=d=>{if(!d.isPrimary)return;d.stopPropagation(),d.preventDefault(),t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!a&&(a=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},u=d=>{d.isPrimary&&(t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},c())},f=()=>{c()},c=()=>{document.removeEventListener("pointercancel",f),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",u),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),a&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",f),document.addEventListener("pointermove",l),document.addEventListener("pointerup",u)};e.element.addEventListener("pointerdown",r)},Tq=Tt({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Sq=Tt({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:r,shouldOptimize:n})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let a=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Bv[o.type]);a&&a.type!==r.currentState&&(r.currentState=a.type,e.element.dataset.filepondItemState=Bv[r.currentState]||"");const s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?n||(e.height=e.rect.element.width*s):(Tq({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Pq=et({create:Oq,write:Sq,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Lv,scaleY:Lv,translateX:Rv,translateY:Rv,opacity:{type:"tween",duration:150}}}});var qh=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Gh=(e,t,r)=>{if(!r)return;const n=e.rect.element.width,a=t.length;let s=null;if(a===0||r.top<t[0].rect.element.top)return-1;const l=t[0].rect.element,u=l.marginLeft+l.marginRight,f=l.width+u,c=qh(n,f);if(c===1){for(let m=0;m<a;m++){const p=t[m],g=p.rect.outer.top+p.rect.element.height*.5;if(r.top<g)return m}return a}const d=l.marginTop+l.marginBottom,h=l.height+d;for(let m=0;m<a;m++){const p=m%c,g=Math.floor(m/c),v=p*f,y=g*h,x=y-l.marginTop,w=v+f,b=y+h+l.marginBottom;if(r.top<b&&r.top>x){if(r.left<w)return m;m!==a-1?s=m:s=null}}return s!==null?s:a},Ns={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)}},Aq=({root:e})=>{rt(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Iq=({root:e,action:t})=>{const{id:r,index:n,interactionMethod:a}=t;e.ref.addIndex=n;const s=Date.now();let o=s,l=1;if(a!==Kt.NONE){l=0;const u=e.query("GET_ITEM_INSERT_INTERVAL"),f=s-e.ref.lastItemSpanwDate;o=f<u?s+(u-f):s}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Pq,{spawnDate:o,id:r,opacity:l,interactionMethod:a}),n)},$v=(e,t,r,n=0,a=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(e.opacity===0&&kq(e,t,r,n,a),e.scaleX=1,e.scaleY=1,e.opacity=1))},kq=(e,t,r,n,a)=>{e.interactionMethod===Kt.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===Kt.DROP?(e.translateX=null,e.translateX=t-n*20,e.translateY=null,e.translateY=r-a*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Kt.BROWSE?(e.translateY=null,e.translateY=r-30):e.interactionMethod===Kt.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Cq=({root:e,action:t})=>{const{id:r}=t,n=e.childViews.find(a=>a.id===r);n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},Wc=e=>e.rect.element.height+e.rect.element.marginBottom+e.rect.element.marginTop,Dq=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Mq=({root:e,action:t})=>{const{id:r,dragState:n}=t,a=e.query("GET_ITEM",{id:r}),s=e.childViews.find(v=>v.id===r),o=e.childViews.length,l=n.getItemIndex(a);if(!s)return;const u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},f=Wc(s),c=Dq(s);let d=Math.floor(e.rect.outer.width/c);d>o&&(d=o);const h=Math.floor(o/d+1);Ns.setHeight=f*h,Ns.setWidth=c*d;var m={y:Math.floor(u.y/f),x:Math.floor(u.x/c),getGridIndex:function(){return u.y>Ns.getHeight||u.y<0||u.x>Ns.getWidth||u.x<0?l:this.y*d+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),x=e.childViews.filter(O=>O.rect.element.height),w=y.map(O=>x.find(I=>I.id===O.id)),b=w.findIndex(O=>O===s),j=Wc(s),T=w.length;let E=T,S=0,N=0,P=0;for(let O=0;O<T;O++)if(S=Wc(w[O]),P=N,N=P+S,u.y<N){if(b>O){if(u.y<P+j){E=O;break}continue}E=O;break}return E}};const p=d>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:s,index:p});const g=n.getIndex();if(g===void 0||g!==p){if(n.setIndex(p),g===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:p})}},Rq=Tt({DID_ADD_ITEM:Iq,DID_REMOVE_ITEM:Cq,DID_DRAG_ITEM:Mq}),Lq=({root:e,props:t,actions:r,shouldOptimize:n})=>{Rq({root:e,props:t,actions:r});const{dragCoordinates:a}=t,s=e.rect.element.width,o=e.childViews.filter(w=>w.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(w=>o.find(b=>b.id===w.id)).filter(w=>w),u=a?Gh(e,l,a):null,f=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,d=0,h=0;if(l.length===0)return;const m=l[0].rect.element,p=m.marginTop+m.marginBottom,g=m.marginLeft+m.marginRight,v=m.width+g,y=m.height+p,x=qh(s,v);if(x===1){let w=0,b=0;l.forEach((j,T)=>{if(u){let N=T-u;N===-2?b=-p*.25:N===-1?b=-p*.75:N===0?b=p*.75:N===1?b=p*.25:b=0}n&&(j.translateX=null,j.translateY=null),j.markedForRemoval||$v(j,0,w+b);let S=(j.rect.element.height+p)*(j.markedForRemoval?j.opacity:1);w+=S})}else{let w=0,b=0;l.forEach((j,T)=>{T===u&&(c=1),T===f&&(h+=1),j.markedForRemoval&&j.opacity<.5&&(d-=1);const E=T+h+c+d,S=E%x,N=Math.floor(E/x),P=S*v,O=N*y,I=Math.sign(P-w),k=Math.sign(O-b);w=P,b=O,!j.markedForRemoval&&(n&&(j.translateX=null,j.translateY=null),$v(j,P,O,I,k))})}},Bq=(e,t)=>t.filter(r=>r.data&&r.data.id?e.id===r.data.id:!0),$q=et({create:Aq,write:Lq,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Bq,mixins:{apis:["dragCoordinates"]}}),Fq=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView($q)),t.dragCoordinates=null,t.overflowing=!1},zq=({root:e,props:t,action:r})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Uq=({props:e})=>{e.dragCoordinates=null},Hq=Tt({DID_DRAG:zq,DID_END_DRAG:Uq}),qq=({root:e,props:t,actions:r})=>{if(Hq({root:e,props:t,actions:r}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const n=Math.round(t.overflow);n!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=n)}},Gq=et({create:Fq,write:qq,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),sr=(e,t,r,n="")=>{r?rt(e,t,n):e.removeAttribute(t)},Vq=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Lr("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}},Wq=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,rt(e.element,"name",e.query("GET_NAME")),rt(e.element,"aria-controls",`filepond--assistant-${t.id}`),rt(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Ij({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),kj({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Cj({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),vd({root:e}),Dj({root:e,action:{value:e.query("GET_REQUIRED")}}),Mj({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=r=>{if(!e.element.value)return;const n=Array.from(e.element.files).map(a=>(a._relativePath=a.webkitRelativePath,a));setTimeout(()=>{t.onload(n),Vq(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Ij=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&sr(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},kj=({root:e,action:t})=>{sr(e.element,"multiple",t.value)},Cj=({root:e,action:t})=>{sr(e.element,"webkitdirectory",t.value)},vd=({root:e})=>{const t=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),n=t||!r;sr(e.element,"disabled",n)},Dj=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&sr(e.element,"required",!0):sr(e.element,"required",!1)},Mj=({root:e,action:t})=>{sr(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Fv=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){sr(t,"required",!1),sr(t,"name",!1);const r=e.query("GET_ACTIVE_ITEMS");let n=!1;for(let a=0;a<r.length;a++)r[a].status===xe.LOAD_ERROR&&(n=!0);e.element.setCustomValidity(n?e.query("GET_LABEL_INVALID_FIELD"):"")}else sr(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&sr(t,"required",!0)},Kq=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Yq=et({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Wq,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Tt({DID_LOAD_ITEM:Fv,DID_REMOVE_ITEM:Fv,DID_THROW_ITEM_INVALID:Kq,DID_SET_DISABLED:vd,DID_SET_ALLOW_BROWSE:vd,DID_SET_ALLOW_DIRECTORIES_ONLY:Cj,DID_SET_ALLOW_MULTIPLE:kj,DID_SET_ACCEPTED_FILE_TYPES:Ij,DID_SET_CAPTURE_METHOD:Mj,DID_SET_REQUIRED:Dj})}),zv={ENTER:13,SPACE:32},Xq=({root:e,props:t})=>{const r=Lr("label");rt(r,"for",`filepond--browser-${t.id}`),rt(r,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=n=>{(n.keyCode===zv.ENTER||n.keyCode===zv.SPACE)&&(n.preventDefault(),e.ref.label.click())},e.ref.handleClick=n=>{n.target===r||r.contains(n.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Rj(r,t.caption),e.appendChild(r),e.ref.label=r},Rj=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&rt(r,"tabindex","0"),t},Zq=et({name:"drop-label",ignoreRect:!0,create:Xq,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Tt({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Rj(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Qq=et({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Jq=({root:e})=>{const t=e.rect.element.width*.5,r=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Qq,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))},eG=({root:e,action:t})=>{if(!e.ref.blob){Jq({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},tG=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},rG=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},nG=({root:e,props:t,actions:r})=>{aG({root:e,props:t,actions:r});const{blob:n}=e.ref;r.length===0&&n&&n.opacity===0&&(e.removeChildView(n),e.ref.blob=null)},aG=Tt({DID_DRAG:eG,DID_DROP:rG,DID_END_DRAG:tG}),iG=et({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:nG}),Lj=(e,t)=>{try{const r=new DataTransfer;t.forEach(n=>{n instanceof File?r.items.add(n):r.items.add(new File([n],n.name,{type:n.type}))}),e.files=r.files}catch{return!1}return!0},sG=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},hc=(e,t)=>e.ref.fields[t],Vh=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Uv=({root:e})=>Vh(e),oG=({root:e,action:t})=>{const a=!(e.query("GET_ITEM",t.id).origin===ct.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),s=Lr("input");s.type=a?"file":"hidden",s.name=e.query("GET_NAME"),e.ref.fields[t.id]=s,Vh(e)},lG=({root:e,action:t})=>{const r=hc(e,t.id);if(!r||(t.serverFileReference!==null&&(r.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const n=e.query("GET_ITEM",t.id);Lj(r,[n.file])},cG=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const r=hc(e,t.id);r&&Lj(r,[t.file])},0)},uG=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},dG=({root:e,action:t})=>{const r=hc(e,t.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[t.id])},fG=({root:e,action:t})=>{const r=hc(e,t.id);r&&(t.value===null?r.removeAttribute("value"):r.type!="file"&&(r.value=t.value),Vh(e))},hG=Tt({DID_SET_DISABLED:uG,DID_ADD_ITEM:oG,DID_LOAD_ITEM:lG,DID_REMOVE_ITEM:dG,DID_DEFINE_VALUE:fG,DID_PREPARE_OUTPUT:cG,DID_REORDER_ITEMS:Uv,DID_SORT_ITEMS:Uv}),mG=et({tag:"fieldset",name:"data",create:sG,write:hG,ignoreRect:!0}),pG=e=>"getRootNode"in e?e.getRootNode():document,gG=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],vG=["css","csv","html","txt"],yG={zip:"zip|compressed",epub:"application/epub+zip"},Bj=(e="")=>(e=e.toLowerCase(),gG.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):vG.includes(e)?"text/"+e:yG[e]||""),Wh=e=>new Promise((t,r)=>{const n=OG(e);if(n.length&&!xG(e))return t(n);bG(e).then(t)}),xG=e=>e.files?e.files.length>0:!1,bG=e=>new Promise((t,r)=>{const n=(e.items?Array.from(e.items):[]).filter(a=>wG(a)).map(a=>jG(a));if(!n.length){t(e.files?Array.from(e.files):[]);return}Promise.all(n).then(a=>{const s=[];a.forEach(o=>{s.push.apply(s,o)}),t(s.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),wG=e=>{if($j(e)){const t=Kh(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},jG=e=>new Promise((t,r)=>{if(EG(e)){_G(Kh(e)).then(t).catch(r);return}t([e.getAsFile()])}),_G=e=>new Promise((t,r)=>{const n=[];let a=0,s=0;const o=()=>{s===0&&a===0&&t(n)},l=u=>{a++;const f=u.createReader(),c=()=>{f.readEntries(d=>{if(d.length===0){a--,o();return}d.forEach(h=>{h.isDirectory?l(h):(s++,h.file(m=>{const p=NG(m);h.fullPath&&(p._relativePath=h.fullPath),n.push(p),s--,o()}))}),c()},r)};c()};l(e)}),NG=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,r=e.name,n=Bj(fc(e.name));return n.length&&(e=e.slice(0,e.size,n),e.name=r,e.lastModifiedDate=t),e},EG=e=>$j(e)&&(Kh(e)||{}).isDirectory,$j=e=>"webkitGetAsEntry"in e,Kh=e=>e.webkitGetAsEntry(),OG=e=>{let t=[];try{if(t=SG(e),t.length)return t;t=TG(e)}catch{}return t},TG=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},SG=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const r=t.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},Lo=[],kn=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),PG=(e,t,r)=>{const n=AG(t),a={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return a.destroy=n.addListener(a),a},AG=e=>{const t=Lo.find(n=>n.element===e);if(t)return t;const r=IG(e);return Lo.push(r),r},IG=e=>{const t=[],r={dragenter:CG,dragover:DG,dragleave:RG,drop:MG},n={};qe(r,(s,o)=>{n[s]=o(e,t),e.addEventListener(s,n[s],!1)});const a={element:e,addListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1),t.length===0&&(Lo.splice(Lo.indexOf(a),1),qe(r,o=>{e.removeEventListener(o,n[o],!1)}))})};return a},kG=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Yh=(e,t)=>{const r=pG(t),n=kG(r,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let Fj=null;const Es=(e,t)=>{try{e.dropEffect=t}catch{}},CG=(e,t)=>r=>{r.preventDefault(),Fj=r.target,t.forEach(n=>{const{element:a,onenter:s}=n;Yh(r,a)&&(n.state="enter",s(kn(r)))})},DG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Wh(n).then(a=>{let s=!1;t.some(o=>{const{filterElement:l,element:u,onenter:f,onexit:c,ondrag:d,allowdrop:h}=o;Es(n,"copy");const m=h(a);if(!m){Es(n,"none");return}if(Yh(r,u)){if(s=!0,o.state===null){o.state="enter",f(kn(r));return}if(o.state="over",l&&!m){Es(n,"none");return}d(kn(r))}else l&&!s&&Es(n,"none"),o.state&&(o.state=null,c(kn(r)))})})},MG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Wh(n).then(a=>{t.forEach(s=>{const{filterElement:o,element:l,ondrop:u,onexit:f,allowdrop:c}=s;if(s.state=null,!(o&&!Yh(r,l))){if(!c(a))return f(kn(r));u(kn(r),a)}})})},RG=(e,t)=>r=>{Fj===r.target&&t.forEach(n=>{const{onexit:a}=n;n.state=null,a(kn(r))})},LG=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:a,filterItems:s=c=>c}=r,o=PG(e,n?document.documentElement:e,a);let l="",u="";o.allowdrop=c=>t(s(c)),o.ondrop=(c,d)=>{const h=s(d);if(!t(h)){f.ondragend(c);return}u="drag-drop",f.onload(h,c)},o.ondrag=c=>{f.ondrag(c)},o.onenter=c=>{u="drag-over",f.ondragstart(c)},o.onexit=c=>{u="drag-exit",f.ondragend(c)};const f={updateHopperState:()=>{l!==u&&(e.dataset.hopperState=u,l=u)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return f};let yd=!1;const aa=[],zj=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let n=!1,a=t;for(;a!==document.body;){if(a.classList.contains("filepond--root")){n=!0;break}a=a.parentNode}if(!n)return}Wh(e.clipboardData).then(n=>{n.length&&aa.forEach(a=>a(n))})},BG=e=>{aa.includes(e)||(aa.push(e),!yd&&(yd=!0,document.addEventListener("paste",zj)))},$G=e=>{Fh(aa,aa.indexOf(e)),aa.length===0&&(document.removeEventListener("paste",zj),yd=!1)},FG=()=>{const e=r=>{t.onload(r)},t={destroy:()=>{$G(e)},onload:()=>{}};return BG(e),t},zG=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,rt(e.element,"role","alert"),rt(e.element,"aria-live","polite"),rt(e.element,"aria-relevant","additions")};let Hv=null,qv=null;const Kc=[],mc=(e,t)=>{e.element.textContent=t},UG=e=>{e.element.textContent=""},Uj=(e,t,r)=>{const n=e.query("GET_TOTAL_ITEMS");mc(e,`${r} ${t}, ${n} ${n===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(qv),qv=setTimeout(()=>{UG(e)},1500)},Hj=e=>e.element.parentNode.contains(document.activeElement),HG=({root:e,action:t})=>{if(!Hj(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);Kc.push(r.filename),clearTimeout(Hv),Hv=setTimeout(()=>{Uj(e,Kc.join(", "),e.query("GET_LABEL_FILE_ADDED")),Kc.length=0},750)},qG=({root:e,action:t})=>{if(!Hj(e))return;const r=t.item;Uj(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},GG=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");mc(e,`${n} ${a}`)},Gv=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");mc(e,`${n} ${a}`)},Os=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename;mc(e,`${t.status.main} ${n} ${t.status.sub}`)},VG=et({create:zG,ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:HG,DID_REMOVE_ITEM:qG,DID_COMPLETE_ITEM_PROCESSING:GG,DID_ABORT_ITEM_PROCESSING:Gv,DID_REVERT_ITEM_PROCESSING:Gv,DID_THROW_ITEM_REMOVE_ERROR:Os,DID_THROW_ITEM_LOAD_ERROR:Os,DID_THROW_ITEM_INVALID:Os,DID_THROW_ITEM_PROCESSING_ERROR:Os}),tag:"span",name:"assistant"}),qj=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),r=>r.charAt(1).toUpperCase()),Gj=(e,t=16,r=!0)=>{let n=Date.now(),a=null;return(...s)=>{clearTimeout(a);const o=Date.now()-n,l=()=>{n=Date.now(),e(...s)};o<t?r||(a=setTimeout(l,t-o)):l()}},WG=1e6,Bo=e=>e.preventDefault(),KG=({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter(u=>u.length).forEach(u=>{e.element.classList.add(u)}),e.ref.label=e.appendChildView(e.createChildView(Zq,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Gq,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Aj,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(VG,{...t})),e.ref.data=e.appendChildView(e.createChildView(mG,{...t})),e.ref.measure=Lr("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(u=>!Rr(u.value)).map(({name:u,value:f})=>{e.element.dataset[u]=f}),e.ref.widthPrevious=null,e.ref.widthUpdated=Gj(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const a=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!a&&(e.element.addEventListener("touchmove",Bo,{passive:!1}),e.element.addEventListener("gesturestart",Bo));const o=e.query("GET_CREDITS");if(o.length===2){const u=document.createElement("a");u.className="filepond--credits",u.href=o[0],u.tabIndex=-1,u.target="_blank",u.rel="noopener noreferrer nofollow",u.textContent=o[1],e.element.appendChild(u),e.ref.credits=u}},YG=({root:e,props:t,actions:r})=>{if(eV({root:e,props:t,actions:r}),r.filter(T=>/^DID_SET_STYLE_/.test(T.type)).filter(T=>!Rr(T.data.value)).map(({type:T,data:E})=>{const S=qj(T.substring(8).toLowerCase(),"_");e.element.dataset[S]=E.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=QG(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:a,label:s,list:o,panel:l}=e.ref;a&&a.updateHopperState();const u=e.query("GET_PANEL_ASPECT_RATIO"),f=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),d=f?e.query("GET_MAX_FILES")||WG:1,h=c===d,m=r.find(T=>T.type==="DID_ADD_ITEM");if(h&&m){const T=m.data.interactionMethod;s.opacity=0,f?s.translateY=-40:T===Kt.API?s.translateX=40:T===Kt.BROWSE?s.translateY=40:s.translateY=30}else h||(s.opacity=1,s.translateX=0,s.translateY=0);const p=XG(e),g=ZG(e),v=s.rect.element.height,y=!f||h?0:v,x=h?o.rect.element.marginTop:0,w=c===0?0:o.rect.element.marginBottom,b=y+x+g.visual+w,j=y+x+g.bounds+w;if(o.translateY=Math.max(0,y-o.rect.element.marginTop)-p.top,u){const T=e.rect.element.width,E=T*u;u!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=u,e.ref.updateHistory=[]);const S=e.ref.updateHistory;S.push(T);const N=2;if(S.length>N*2){const O=S.length,I=O-10;let k=0;for(let A=O;A>=I;A--)if(S[A]===S[A-2]&&k++,k>=N)return}l.scalable=!1,l.height=E;const P=E-y-(w-p.bottom)-(h?x:0);g.visual>P?o.overflow=P:o.overflow=null,e.height=E}else if(n.fixedHeight){l.scalable=!1;const T=n.fixedHeight-y-(w-p.bottom)-(h?x:0);g.visual>T?o.overflow=T:o.overflow=null}else if(n.cappedHeight){const T=b>=n.cappedHeight,E=Math.min(n.cappedHeight,b);l.scalable=!0,l.height=T?E:E-p.top-p.bottom;const S=E-y-(w-p.bottom)-(h?x:0);b>n.cappedHeight&&g.visual>S?o.overflow=S:o.overflow=null,e.height=Math.min(n.cappedHeight,j-p.top-p.bottom)}else{const T=c>0?p.top+p.bottom:0;l.scalable=!0,l.height=Math.max(v,b-T),e.height=Math.max(v,j-T)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},XG=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},ZG=e=>{let t=0,r=0;const n=e.ref.list,a=n.childViews[0],s=a.childViews.filter(x=>x.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(x=>s.find(w=>w.id===x.id)).filter(x=>x);if(o.length===0)return{visual:t,bounds:r};const l=a.rect.element.width,u=Gh(a,o,n.dragCoordinates),f=o[0].rect.element,c=f.marginTop+f.marginBottom,d=f.marginLeft+f.marginRight,h=f.width+d,m=f.height+c,p=typeof u<"u"&&u>=0?1:0,g=o.find(x=>x.markedForRemoval&&x.opacity<.45)?-1:0,v=o.length+p+g,y=qh(l,h);return y===1?o.forEach(x=>{const w=x.rect.element.height+c;r+=w,t+=w*x.opacity}):(r=Math.ceil(v/y)*m,t=r),{visual:t,bounds:r}},QG=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Xh=(e,t)=>{const r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),a=e.query("GET_TOTAL_ITEMS");let s=e.query("GET_MAX_FILES");const o=t.length;return!n&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):(s=n?s:1,!n&&r?!1:La(s)&&a+o>s?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):!1)},JG=(e,t,r)=>{const n=e.childViews[0];return Gh(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Vv=e=>{const t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){const a=LG(e.element,s=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?s.every(u=>Vn("ALLOW_HOPPER_ITEM",u,{query:e.query}).every(f=>f===!0)&&o(u)):!0},{filterItems:s=>{const o=e.query("GET_IGNORED_FILES");return s.filter(l=>In(l)?!o.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});a.onload=(s,o)=>{const u=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),f=e.query("GET_ACTIVE_ITEMS").map(c=>u.find(d=>d.id===c.id)).filter(c=>c);tr("ADD_ITEMS",s,{dispatch:e.dispatch}).then(c=>{if(Xh(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:JG(e.ref.list,f,o),interactionMethod:Kt.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},a.ondragstart=s=>{e.dispatch("DID_START_DRAG",{position:s})},a.ondrag=Gj(s=>{e.dispatch("DID_DRAG",{position:s})}),a.ondragend=s=>{e.dispatch("DID_END_DRAG",{position:s})},e.ref.hopper=a,e.ref.drip=e.appendChildView(e.createChildView(iG))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Wv=(e,t)=>{const r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),a=r&&!n;a&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Yq,{...t,onload:s=>{tr("ADD_ITEMS",s,{dispatch:e.dispatch}).then(o=>{if(Xh(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Kt.BROWSE})})}}),0):!a&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Kv=e=>{const t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=FG(),e.ref.paster.onload=a=>{tr("ADD_ITEMS",a,{dispatch:e.dispatch}).then(s=>{if(Xh(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Kt.PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},eV=Tt({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Wv(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Vv(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Kv(e)},DID_SET_DISABLED:({root:e,props:t})=>{Vv(e),Kv(e),Wv(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),tV=et({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:KG,write:YG,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Bo),e.element.removeEventListener("gesturestart",Bo)},mixins:{styles:["height"]}}),rV=(e={})=>{let t=null;const r=Ro(),n=yU(nH(r),[jH,sH(r)],[WH,iH(r)]);n.dispatch("SET_OPTIONS",{options:e});const a=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",a);let s=null,o=!1,l=!1,u=null,f=null;const c=()=>{o||(o=!0),clearTimeout(s),s=setTimeout(()=>{o=!1,u=null,f=null,l&&(l=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const d=tV(n,{id:$h()});let h=!1,m=!1;const p={_read:()=>{o&&(f=window.innerWidth,u||(u=f),!l&&f!==u&&(n.dispatch("DID_START_RESIZE"),l=!0)),m&&h&&(h=d.element.offsetParent===null),!h&&(d._read(),m=d.rect.element.hidden)},_write:R=>{const D=n.processActionQueue().filter(q=>!/^SET_/.test(q.type));h&&!D.length||(x(D),h=d._write(R,D,l),cH(n.query("GET_ITEMS")),h&&n.processDispatchQueue())}},g=R=>D=>{const q={type:R};if(!D)return q;if(D.hasOwnProperty("error")&&(q.error=D.error?{...D.error}:null),D.status&&(q.status={...D.status}),D.file&&(q.output=D.file),D.source)q.file=D.source;else if(D.item||D.id){const F=D.item?D.item:n.query("GET_ITEM",D.id);q.file=F?St(F):null}return D.items&&(q.items=D.items.map(St)),/progress/.test(R)&&(q.progress=D.progress),D.hasOwnProperty("origin")&&D.hasOwnProperty("target")&&(q.origin=D.origin,q.target=D.target),q},v={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},y=R=>{const D={pond:M,...R};delete D.type,d.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:D,bubbles:!0,cancelable:!0,composed:!0}));const q=[];R.hasOwnProperty("error")&&q.push(R.error),R.hasOwnProperty("file")&&q.push(R.file);const F=["type","error","file"];Object.keys(R).filter(C=>!F.includes(C)).forEach(C=>q.push(R[C])),M.fire(R.type,...q);const $=n.query(`GET_ON${R.type.toUpperCase()}`);$&&$(...q)},x=R=>{R.length&&R.filter(D=>v[D.type]).forEach(D=>{const q=v[D.type];(Array.isArray(q)?q:[q]).forEach(F=>{D.type==="DID_INIT_ITEM"?y(F(D.data)):setTimeout(()=>{y(F(D.data))},0)})})},w=R=>n.dispatch("SET_OPTIONS",{options:R}),b=R=>n.query("GET_ACTIVE_ITEM",R),j=R=>new Promise((D,q)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:F=>{D(F)},failure:F=>{q(F)}})}),T=(R,D={})=>new Promise((q,F)=>{N([{source:R,options:D}],{index:D.index}).then($=>q($&&$[0])).catch(F)}),E=R=>R.file&&R.id,S=(R,D)=>(typeof R=="object"&&!E(R)&&!D&&(D=R,R=void 0),n.dispatch("REMOVE_ITEM",{...D,query:R}),n.query("GET_ACTIVE_ITEM",R)===null),N=(...R)=>new Promise((D,q)=>{const F=[],$={};if(lc(R[0]))F.push.apply(F,R[0]),Object.assign($,R[1]||{});else{const C=R[R.length-1];typeof C=="object"&&!(C instanceof Blob)&&Object.assign($,R.pop()),F.push(...R)}n.dispatch("ADD_ITEMS",{items:F,index:$.index,interactionMethod:Kt.API,success:D,failure:q})}),P=()=>n.query("GET_ACTIVE_ITEMS"),O=R=>new Promise((D,q)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:F=>{D(F)},failure:F=>{q(F)}})}),I=(...R)=>{const D=Array.isArray(R[0])?R[0]:R,q=D.length?D:P();return Promise.all(q.map(j))},k=(...R)=>{const D=Array.isArray(R[0])?R[0]:R;if(!D.length){const q=P().filter(F=>!(F.status===xe.IDLE&&F.origin===ct.LOCAL)&&F.status!==xe.PROCESSING&&F.status!==xe.PROCESSING_COMPLETE&&F.status!==xe.PROCESSING_REVERT_ERROR);return Promise.all(q.map(O))}return Promise.all(D.map(O))},A=(...R)=>{const D=Array.isArray(R[0])?R[0]:R;let q;typeof D[D.length-1]=="object"?q=D.pop():Array.isArray(R[0])&&(q=R[1]);const F=P();return D.length?D.map(C=>jn(C)?F[C]?F[C].id:null:C).filter(C=>C).map(C=>S(C,q)):Promise.all(F.map(C=>S(C,q)))},M={...dc(),...p,...aH(n,r),setOptions:w,addFile:T,addFiles:N,getFile:b,processFile:O,prepareFile:j,removeFile:S,moveFile:(R,D)=>n.dispatch("MOVE_ITEM",{query:R,index:D}),getFiles:P,processFiles:k,removeFiles:A,prepareFiles:I,sort:R=>n.dispatch("SORT",{compare:R}),browse:()=>{var R=d.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{M.fire("destroy",d.element),n.dispatch("ABORT_ALL"),d._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",a),n.dispatch("DID_DESTROY")},insertBefore:R=>vv(d.element,R),insertAfter:R=>yv(d.element,R),appendTo:R=>R.appendChild(d.element),replaceElement:R=>{vv(d.element,R),R.parentNode.removeChild(R),t=R},restoreElement:()=>{t&&(yv(t,d.element),d.element.parentNode.removeChild(d.element),t=null)},isAttachedTo:R=>d.element===R||t===R,element:{get:()=>d.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),nn(M)},Vj=(e={})=>{const t={};return qe(Ro(),(n,a)=>{t[n]=a[0]}),rV({...t,...e})},nV=e=>e.charAt(0).toLowerCase()+e.slice(1),aV=e=>qj(e.replace(/^data-/,"")),Wj=(e,t)=>{qe(t,(r,n)=>{qe(e,(a,s)=>{const o=new RegExp(r);if(!o.test(a)||(delete e[a],n===!1))return;if(Ot(n)){e[n]=s;return}const u=n.group;dt(n)&&!e[u]&&(e[u]={}),e[u][nV(a.replace(o,""))]=s}),n.mapping&&Wj(e[n.group],n.mapping)})},iV=(e,t={})=>{const r=[];qe(e.attributes,a=>{r.push(e.attributes[a])});const n=r.filter(a=>a.name).reduce((a,s)=>{const o=rt(e,s.name);return a[aV(s.name)]=o===s.name?!0:o,a},{});return Wj(n,t),n},sV=(e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Vn("SET_ATTRIBUTE_TO_OPTION_MAP",r);const n={...t},a=iV(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,r);Object.keys(a).forEach(o=>{dt(a[o])?(dt(n[o])||(n[o]={}),Object.assign(n[o],a[o])):n[o]=a[o]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const s=Vj(n);return e.files&&Array.from(e.files).forEach(o=>{s.addFile(o)}),s.replaceElement(e),s},oV=(...e)=>vU(e[0])?sV(...e):Vj(...e),lV=["fire","_read","_write"],Yv=e=>{const t={};return pj(e,t,lV),t},cV=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(r,n)=>t[n]),uV=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:(a,s)=>{},post:(a,s,o)=>{const l=$h();n.onmessage=u=>{u.data.id===l&&s(u.data.message)},n.postMessage({id:l,message:a},o)},terminate:()=>{n.terminate(),URL.revokeObjectURL(r)}}},dV=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=a=>{r(a)},n.src=e}),Kj=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},fV=e=>Kj(e,e.name),Xv=[],hV=e=>{if(Xv.includes(e))return;Xv.push(e);const t=e({addFilter:dH,utils:{Type:ie,forin:qe,isString:Ot,isFile:In,toNaturalFileSize:Tj,replaceInString:cV,getExtensionFromFilename:fc,getFilenameWithoutExtension:Nj,guesstimateMimeType:Bj,getFileFromBlob:ha,getFilenameFromURL:Wi,createRoute:Tt,createWorker:uV,createView:et,createItemAPI:St,loadImage:dV,copyFile:fV,renameFile:Kj,createBlob:wj,applyFilterChain:tr,text:We,getNumericAspectRatioFromString:yj},views:{fileActionButton:Oj}});fH(t.options)},mV=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",pV=()=>"Promise"in window,gV=()=>"slice"in Blob.prototype,vV=()=>"URL"in window&&"createObjectURL"in window.URL,yV=()=>"visibilityState"in document,xV=()=>"performance"in window,bV=()=>"supports"in(window.CSS||{}),wV=()=>/MSIE|Trident/.test(window.navigator.userAgent),xd=(()=>{const e=cj()&&!mV()&&yV()&&pV()&&gV()&&vV()&&xV()&&(bV()||wV());return()=>e})(),Yr={apps:[]},jV="filepond",Wn=()=>{};let Zv={},Bs=Wn,Yc=Wn,Qv=Wn,Jv=Wn,bd=Wn,ey=Wn,ty=Wn;if(xd()){HU(()=>{Yr.apps.forEach(r=>r._read())},r=>{Yr.apps.forEach(n=>n._write(r))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:xd,create:Bs,destroy:Yc,parse:Qv,find:Jv,registerPlugin:bd,setOptions:ty}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>qe(Ro(),(r,n)=>{Zv[r]=n[1]});Zv={},t(),Bs=(...r)=>{const n=oV(...r);return n.on("destroy",Yc),Yr.apps.push(n),Yv(n)},Yc=r=>{const n=Yr.apps.findIndex(a=>a.isAttachedTo(r));return n>=0?(Yr.apps.splice(n,1)[0].restoreElement(),!0):!1},Qv=r=>Array.from(r.querySelectorAll(`.${jV}`)).filter(s=>!Yr.apps.find(o=>o.isAttachedTo(s))).map(s=>Bs(s)),Jv=r=>{const n=Yr.apps.find(a=>a.isAttachedTo(r));return n?Yv(n):null},bd=(...r)=>{r.forEach(hV),t()},ey=()=>{const r={};return qe(Ro(),(n,a)=>{r[n]=a[0]}),r},ty=r=>(dt(r)&&(Yr.apps.forEach(n=>{n.setOptions(r)}),hH(r)),ey())}/*!
 * react-filepond v7.1.3
 * A handy FilePond adapter component for React
 * 
 * Copyright (c) 2024 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const _V=xd(),NV=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];class ry extends Jj.Component{constructor(t){super(t),this.allowFilesSync=!0}componentDidMount(){if(this._input=this._element.querySelector('input[type="file"]'),this._inputClone=this._input.cloneNode(),!_V)return;const t=Object.assign({},this.props);if(t.onupdatefiles){const r=t.onupdatefiles;t.onupdatefiles=n=>{this.allowFilesSync=!1,r(n)}}this._pond=Bs(this._input,t),Object.keys(this._pond).filter(r=>!NV.includes(r)).forEach(r=>{this[r]=this._pond[r]})}componentWillUnmount(){if(!this._pond)return;const t=document.createElement("div");t.append(this._pond.element),t.id="foo",this._pond.destroy(),this._pond=void 0,this._element.append(this._inputClone)}shouldComponentUpdate(){return this.allowFilesSync?!0:(this.allowFilesSync=!0,!1)}componentDidUpdate(){if(!this._pond)return;const t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}render(){const{id:t,name:r,className:n,allowMultiple:a,required:s,captureMethod:o,acceptedFileTypes:l}=this.props;return _.createElement("div",{className:"filepond--wrapper",ref:u=>this._element=u},_.createElement("input",{type:"file",name:r,id:t,accept:l,multiple:a,required:s,className:n,capture:o}))}}/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Yj=({addFilter:e,utils:t})=>{const{Type:r,isString:n,replaceInString:a,guesstimateMimeType:s,getExtensionFromFilename:o,getFilenameFromURL:l}=t,u=(m,p)=>{const g=(/^[^/]+/.exec(m)||[]).pop(),v=p.slice(0,-2);return g===v},f=(m,p)=>m.some(g=>/\*$/.test(g)?u(p,g):g===p),c=m=>{let p="";if(n(m)){const g=l(m),v=o(g);v&&(p=s(v))}else p=m.type;return p},d=(m,p,g)=>{if(p.length===0)return!0;const v=c(m);return g?new Promise((y,x)=>{g(m,v).then(w=>{f(p,w)?y():x()}).catch(x)}):f(p,v)},h=m=>p=>m[p]===null?!1:m[p]||p;return e("SET_ATTRIBUTE_TO_OPTION_MAP",m=>Object.assign(m,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(m,{query:p})=>p("GET_ALLOW_FILE_TYPE_VALIDATION")?d(m,p("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(m,{query:p})=>new Promise((g,v)=>{if(!p("GET_ALLOW_FILE_TYPE_VALIDATION")){g(m);return}const y=p("GET_ACCEPTED_FILE_TYPES"),x=p("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),w=d(m,y,x),b=()=>{const j=y.map(h(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(E=>E!==!1),T=j.filter((E,S)=>j.indexOf(E)===S);v({status:{main:p("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:T.join(", "),allButLastType:T.slice(0,-1).join(", "),lastType:T[T.length-1]})}})};if(typeof w=="boolean")return w?g(m):b();w.then(()=>{g(m)}).catch(b)})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}},EV=typeof window<"u"&&typeof window.document<"u";EV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Yj}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Xj=({addFilter:e,utils:t})=>{const{Type:r,replaceInString:n,toNaturalFileSize:a}=t;return e("ALLOW_HOPPER_ITEM",(s,{query:o})=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const l=o("GET_MAX_FILE_SIZE");if(l!==null&&s.size>l)return!1;const u=o("GET_MIN_FILE_SIZE");return!(u!==null&&s.size<u)}),e("LOAD_FILE",(s,{query:o})=>new Promise((l,u)=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return l(s);const f=o("GET_FILE_VALIDATE_SIZE_FILTER");if(f&&!f(s))return l(s);const c=o("GET_MAX_FILE_SIZE");if(c!==null&&s.size>c){u({status:{main:o("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(c,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const d=o("GET_MIN_FILE_SIZE");if(d!==null&&s.size<d){u({status:{main:o("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(d,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const h=o("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&o("GET_ACTIVE_ITEMS").reduce((p,g)=>p+g.fileSize,0)>h){u({status:{main:o("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(h,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}l(s)})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}},OV=typeof window<"u"&&typeof window.document<"u";OV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Xj}));bd(Yj,Xj);const TV=()=>{const e="",[t,r]=_.useState([]),[n,a]=_.useState(null),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[f,c]=_.useState(!1),[d,h]=_.useState(null),[m,p]=_.useState("grid"),[g,v]=_.useState(""),[y,x]=_.useState(null),w=wr(),{user:b}=Fe(),[j,T]=_.useState({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""});_.useEffect(()=>{E(),S()},[]);const E=async()=>{try{const D=await se.get("/employees");r(D.data)}catch(D){console.error("Failed to fetch employees:",D)}finally{o(!1)}},S=async()=>{try{const D=await se.get("/employees/statistics");a(D.data)}catch(D){console.error("Failed to fetch statistics:",D)}},N=async D=>{var q,F;if(D.preventDefault(),!j.name||!j.email){M("Please fill in all required fields","error");return}try{const $=new FormData;if(Object.keys(j).forEach(C=>{j[C]&&$.append(C,j[C])}),d)await se.post(`/employees/${d.id}`,$,{headers:{"Content-Type":"multipart/form-data"},params:{_method:"PUT"}}),M("Employee updated successfully!");else{const C=await se.post("/employees",$,{headers:{"Content-Type":"multipart/form-data"}});M(`Employee created! Password: ${C.data.password} (Also sent to email)`,"success",1e4)}A(),E(),S()}catch($){M(((F=(q=$.response)==null?void 0:q.data)==null?void 0:F.message)||"Failed to save employee","error")}},P=async D=>{if(window.confirm(`Are you sure you want to delete ${D.user.name}?`))try{await se.delete(`/employees/${D.id}`),M("Employee deleted successfully!"),E(),S()}catch{M("Failed to delete employee","error")}},O=()=>{h(null),T({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""}),u(!0)},I=D=>{h(D),T({name:D.user.name,email:D.user.email,role:D.user.role,profile_image:null,date_of_birth:D.date_of_birth||"",joining_date:D.joining_date||"",designation:D.designation||"",salary:D.salary||"",address:D.address||"",phone:D.phone||"",emergency_contact:D.emergency_contact||"",cv:null,notes:D.notes||""}),u(!0)},k=D=>{var z,W;const q=((z=D==null?void 0:D.user)==null?void 0:z.role)||"",F=q==="project_manager"?"project-manager":q,$=(W=D==null?void 0:D.user)==null?void 0:W.id,C=b==null?void 0:b.role;$&&w(`${C==="admin"?"/admin":C==="project_manager"?"/manager":C==="developer"?"/developer":C==="client"?"/client":""}/users/${F}/${$}`)},A=()=>{u(!1),c(!1),h(null)},M=(D,q="success",F=3e3)=>{x({message:D,type:q}),setTimeout(()=>x(null),F)},R=t.filter(D=>{var q;return D.user.name.toLowerCase().includes(g.toLowerCase())||D.user.email.toLowerCase().includes(g.toLowerCase())||((q=D.designation)==null?void 0:q.toLowerCase().includes(g.toLowerCase()))});return s?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-5",children:[y&&i.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-[8px] shadow-lg ${y.type==="error"?"bg-red-500":"bg-green-500"} text-white`,children:y.message}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Team Members"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your team members and their roles"})]}),i.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg text-white text-sm font-medium transition-all shadow-md hover:shadow-lg",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Employee"]})]}),n&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Total Employees"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.total_employees})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Developers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.developers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Project Managers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.project_managers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Avg Performance"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[Math.round(n.avg_performance),"%"]})]})]})})]}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-sm border border-gray-100 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsxs("div",{className:"flex-1 w-full relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search employees...",value:g,onChange:D=>v(D.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent"})]}),i.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>p("grid"),className:`px-3 py-2 rounded-lg transition-all ${m==="grid"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Grid View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>p("table"),className:`px-3 py-2 rounded-lg transition-all ${m==="table"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Table View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),m==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((D,q)=>{const $={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsx("div",{className:"bg-white rounded-[16px] shadow-md hover:shadow-xl transition-all border border-gray-100 overflow-hidden",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-20 h-20 rounded-full object-cover border-4 border-gray-100 mb-3"}):i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-3 border-4 border-gray-100",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:D.user.name.charAt(0).toUpperCase()}),i.jsx("h3",{className:"text-base font-bold text-gray-800 mb-1",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:D.designation||D.user.email}),i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${$}`,children:D.user.role.replace("_"," ").toUpperCase()})]}),D.notes&&i.jsx("p",{className:"text-xs text-gray-600 text-center mb-4 line-clamp-2 px-2",children:D.notes}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Projects"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_projects||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tasks"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_tasks||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Performance"}),i.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>k(D),className:"flex-1 px-3 py-2 text-xs font-medium rounded-lg transition-all",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:"View Profile"}),i.jsx("button",{onClick:()=>I(D),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>P(D),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},D.id)})}),m==="table"&&i.jsx("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Employee"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Role"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Designation"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Performance"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Joined"}),i.jsx("th",{className:"text-right py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map((D,q)=>{const $={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"py-3 px-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:D.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500",children:D.user.email})]})]})}),i.jsx("td",{className:"py-3 px-5",children:i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${$}`,children:D.user.role.replace("_"," ")})}),i.jsx("td",{className:"py-3 px-5 text-sm text-gray-700",children:D.designation||"-"}),i.jsx("td",{className:"py-3 px-5",children:i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})}),i.jsx("td",{className:"py-3 px-5 text-xs text-gray-600",children:D.joining_date?new Date(D.joining_date).toLocaleDateString():"-"}),i.jsx("td",{className:"py-3 px-5 text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:()=>k(D),className:"px-2 py-1.5 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Profile"}),i.jsx("button",{onClick:()=>I(D),className:"px-2 py-1.5 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Edit"}),i.jsx("button",{onClick:()=>P(D),className:"px-2 py-1.5 text-xs bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Delete"})]})})]},D.id)})})]})})}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700",style:{background:"#59569D",color:"#fff"},children:i.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Employee":"Add New Employee"})}),i.jsx("style",{dangerouslySetInnerHTML:{__html:`
              .employees-modal-scroll::-webkit-scrollbar {
                width: 6px;
              }
              .employees-modal-scroll::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb:hover {
                background: #555;
              }
            `}}),i.jsxs("form",{onSubmit:N,className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] employees-modal-scroll",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),i.jsx(ry,{files:j.profile_image?[j.profile_image]:[],onupdatefiles:D=>{var q;T({...j,profile_image:((q=D[0])==null?void 0:q.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["image/jpeg","image/png","image/jpg","image/gif"],maxFileSize:"2MB",labelIdle:'Drag & Drop profile image or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects JPEG, PNG, JPG, or GIF",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 2MB",credits:!1,stylePanelLayout:"compact circle",imagePreviewHeight:170,imageCropAspectRatio:"1:1",imageResizeTargetWidth:200,imageResizeTargetHeight:200,stylePanelAspectRatio:"1:1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:j.name,onChange:D=>T({...j,name:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:j.email,onChange:D=>T({...j,email:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),i.jsxs("select",{value:j.role,onChange:D=>T({...j,role:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"project_manager",children:"Project Manager"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),i.jsx("input",{type:"text",value:j.designation,onChange:D=>T({...j,designation:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",value:j.date_of_birth,onChange:D=>T({...j,date_of_birth:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),i.jsx("input",{type:"date",value:j.joining_date,onChange:D=>T({...j,joining_date:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),i.jsx("input",{type:"number",value:j.salary,onChange:D=>T({...j,salary:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:j.phone,onChange:D=>T({...j,phone:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),i.jsx("input",{type:"text",value:j.emergency_contact,onChange:D=>T({...j,emergency_contact:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Upload"}),i.jsx(ry,{files:j.cv?[j.cv]:[],onupdatefiles:D=>{var q;T({...j,cv:((q=D[0])==null?void 0:q.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],maxFileSize:"5MB",labelIdle:'Drag & Drop your CV or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects PDF, DOC, or DOCX",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 5MB",credits:!1,stylePanelLayout:"compact"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:j.address,onChange:D=>T({...j,address:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:j.notes,onChange:D=>T({...j,notes:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:A,className:"flex-1 px-6 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-2.5 rounded-lg text-white font-medium transition-colors",style:{background:"#59569D"},children:d?"Update":"Create"})]})]})]})}),f&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-4",children:[d.profile_image?i.jsx("img",{src:`${e}/storage/${d.profile_image}`,alt:d.user.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:d.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:d.user.name}),i.jsx("p",{className:"text-gray-300",children:d.user.email})]})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-240px)]",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Role"}),i.jsx("p",{className:"font-medium text-gray-800 capitalize",children:d.user.role.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Designation"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.designation||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.date_of_birth?new Date(d.date_of_birth).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Joining Date"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.joining_date?new Date(d.joining_date).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phone"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.phone||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.emergency_contact||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salary"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.salary?`$${d.salary}`:"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Promotion"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.last_promotion_date?new Date(d.last_promotion_date).toLocaleDateString():"-"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Address"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.address||"-"})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Performance Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Completed Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.tasks_completed})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Rejected Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.tasks_rejected})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Client Satisfaction"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.client_satisfaction_points})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Performance Score"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[d.performance_score,"%"]})]})]})]}),d.notes&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Notes"}),i.jsx("p",{className:"text-gray-700",children:d.notes})]})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:A,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})}),R.length===0&&i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"#59569D20"},children:i.jsx("svg",{className:"w-8 h-8",style:{color:"#59569D"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Employees Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Start by adding your first employee"})]})]})};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PV=bi("circle",SV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ts=bi("message-circle",AV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ny=bi("paperclip",IV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CV=bi("plus",kV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MV=bi("send",DV);function Ss(){const{user:e}=Fe(),[t]=gN(),[r,n]=_.useState([]),[a,s]=_.useState(null),[o,l]=_.useState(!0),[u,f]=_.useState([]),[c,d]=_.useState(""),[h,m]=_.useState(!0),[p,g]=_.useState(!1),[v,y]=_.useState([]),[x,w]=_.useState([]),[b,j]=_.useState([]),[T,E]=_.useState(""),[S,N]=_.useState("direct"),[P,O]=_.useState(""),[I,k]=_.useState(!1),[A,M]=_.useState(""),[R,D]=_.useState([]),q=_.useRef(null),F=_.useRef(null),$=_.useRef(null);_.useEffect(()=>{L(),W(),V(),B(!0),$.current=setInterval(()=>{a&&!a.is_virtual&&z(a.id)},2e3);const K=setInterval(()=>{B(!0)},3e4);return()=>{clearInterval($.current),clearInterval(K),B(!1)}},[]),_.useEffect(()=>{const K=t.get("userId");if(K&&r.length>0&&!a){const G=r.find(X=>{var J;return X.type==="direct"&&((J=X.users)==null?void 0:J.some(ae=>ae.id==K))});G&&s(G)}},[t,r]),_.useEffect(()=>{a&&z(a.id)},[a]),_.useEffect(()=>{C()},[u]);const C=()=>{var K;(K=q.current)==null||K.scrollIntoView({behavior:"smooth"})},L=async()=>{try{const[K,G]=await Promise.all([se.get("/chat/rooms").catch(pe=>{var je;return console.error("Rooms fetch error:",(je=pe.response)==null?void 0:je.data),{data:{rooms:[],groupChatMessages:{}}}}),se.get("/chat/team-members").catch(pe=>{var je;return console.error("Team members fetch error:",(je=pe.response)==null?void 0:je.data),{data:[]}})]);console.log("Raw API Response:",K.data);const X=K.data;let J=(Array.isArray(X)?X:X.rooms||[]).map(pe=>({...pe,is_virtual:!1}));const ae=X.groupChatMessages||{},re=Array.isArray(G.data)?G.data:[],le=(pe,je)=>{if(!pe)return!0;const be=pe,hn=je;return be==="developer"?hn==="developer"||hn==="project_manager"||hn==="admin":be==="project_manager"?!0:be==="client"?hn==="project_manager"||hn==="admin":!0};J=J.filter(pe=>{if((pe==null?void 0:pe.type)!=="direct"||!Array.isArray(pe==null?void 0:pe.users))return!0;const je=pe.users.find(be=>(be==null?void 0:be.id)!==(e==null?void 0:e.id))||pe.users[0];return le(e==null?void 0:e.role,je==null?void 0:je.role)}),console.log("Existing Rooms:",J),console.log("Group Chat Messages:",ae);const oe=new Set(J.filter(pe=>(pe==null?void 0:pe.type)==="direct"&&(pe==null?void 0:pe.users)).flatMap(pe=>pe.users.filter(je=>(je==null?void 0:je.id)!==(e==null?void 0:e.id)).map(je=>je==null?void 0:je.id)).filter(Boolean)),ve=re.filter(pe=>(pe==null?void 0:pe.id)&&!oe.has(pe.id)).filter(pe=>le(e==null?void 0:e.role,pe==null?void 0:pe.role)).map(pe=>{const be=(ae[pe.id]||[])[0]||null;return console.log(`Virtual room for ${pe.name}:`,be),{id:`virtual-${pe.id}`,type:"direct",display_name:pe.name||"Unknown User",users:[pe],unread_count:0,last_message:be,is_virtual:!0,virtual_user:pe}});n([...J,...ve]),m(!1)}catch(K){console.error("Failed to load rooms:",K),n([]),m(!1)}},z=async K=>{try{if(String(K).startsWith("virtual-")){f([]);return}const G=await se.get(`/chat/rooms/${K}/messages`);f(G.data.messages);try{await se.post(`/chat/rooms/${K}/mark-read`)}catch(X){console.error("Mark-read failed:",X)}n(X=>X.map(J=>J.id===K?{...J,unread_count:0}:J)),await L()}catch(G){console.error("Failed to load messages:",G),String(K).startsWith("virtual-")&&f([])}},W=async()=>{try{const K=await se.get("/chat/team-members");y(K.data)}catch(K){console.error("Failed to load team members:",K)}},V=async()=>{try{const K=await se.get("/chat/online-users");w(K.data.map(G=>G.id))}catch(K){console.error("Failed to load online users:",K)}},B=async K=>{try{await se.post("/chat/online-status",{is_online:K})}catch(G){console.error("Failed to update online status:",G)}},H=K=>{const G=K.target.value;d(G);const X=G.lastIndexOf("@");if(X!==-1){const J=G.substring(X+1);if(G.substring(0,X),(X===0||G[X-1]===" ")&&J.indexOf(" ")===-1){M(J);const le=((a==null?void 0:a.users)||[]).filter(oe=>oe.id!==(e==null?void 0:e.id)&&oe.name.toLowerCase().includes(J.toLowerCase()));D(le),k(le.length>0)}}else k(!1),D([])},Z=K=>{const G=c.lastIndexOf("@"),X=c.substring(0,G),J=c.substring(G+A.length+1);d(`${X}@${K.name} ${J}`),k(!1),M("")},U=K=>{const G=["bg-red-100 text-red-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-cyan-100 text-cyan-800"];return G[K%G.length]},Q=(K,G=!1)=>K.split(/(@\w+)/).map((J,ae)=>{if(J.startsWith("@")){const re=J.substring(1),le=v.find(oe=>oe.name.includes(re)||oe.name.split(" ")[0]===re);if(le)return i.jsxs("span",{className:"font-bold",children:["@",le.name.split(" ")[0]]},ae)}return J}),ne=async K=>{if(K.preventDefault(),!(!c.trim()||!a))try{let G=a.id;if(a.is_virtual&&a.virtual_user){const ae=await se.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});G=ae.data.id,s(ae.data)}const X=new FormData;X.append("message",c),X.append("type","text");const J=await se.post(`/chat/rooms/${G}/messages`,X);f(ae=>[...ae,J.data]),d(""),L()}catch(G){console.error("Failed to send message:",G)}},te=async K=>{const G=K.target.files[0];if(!(!G||!a))try{let X=a.id;if(a.is_virtual&&a.virtual_user){const le=await se.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});X=le.data.id,s(le.data)}const J=new FormData;J.append("file",G),J.append("message",G.name);const ae=G.type.startsWith("image/");J.append("type",ae?"image":"file");const re=await se.post(`/chat/rooms/${X}/messages`,J,{headers:{"Content-Type":"multipart/form-data"}});f(le=>[...le,re.data]),L()}catch(X){console.error("Failed to upload file:",X)}},he=async()=>{if(b.length!==0)try{const K=await se.post("/chat/rooms",{type:S,name:S==="group"?T:null,user_ids:b});n(G=>[K.data,...G]),s(K.data),g(!1),j([]),E(""),N("direct")}catch(K){console.error("Failed to create chat:",K)}},ce=v.filter(K=>K.name.toLowerCase().includes(P.toLowerCase())||K.email.toLowerCase().includes(P.toLowerCase())),ge=K=>x.includes(K),Y=K=>{const G=new Date(K),J=new Date-G;return J<6e4?"Just now":J<36e5?`${Math.floor(J/6e4)}m ago`:J<864e5?G.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):G.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i.jsxs("div",{className:"flex h-[calc(100vh-4rem)] bg-gray-50 relative",children:[o&&a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 lg:hidden",onClick:()=>l(!1)}),i.jsxs("div",{className:`${o?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:relative z-20 w-80 lg:w-72 bg-white border-r border-gray-100 flex flex-col transition-transform duration-300 h-full`,children:[i.jsx("div",{className:"px-4 py-3.5 bg-[#59569D] border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2.5",children:[i.jsx(Ts,{className:"w-5 h-5 text-white"}),i.jsx("h2",{className:"text-base font-semibold text-white",children:"Messages"})]}),i.jsx("button",{onClick:()=>g(!0),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"New Chat",children:i.jsx(CV,{className:"w-5 h-5 text-white"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:h?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"})}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[i.jsx(Ts,{className:"w-12 h-12 mb-3 text-[#59569D] opacity-30"}),i.jsx("p",{className:"text-sm font-medium",children:"No conversations yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Start a new chat to begin"})]}):r.map(K=>{var G,X,J,ae;return i.jsxs("button",{onClick:async()=>{if(K.is_virtual)try{const re=await se.post("/chat/rooms",{type:"direct",user_ids:[K.virtual_user.id]});s(re.data),await L()}catch(re){console.error("Failed to create chat room:",re)}else{s(K);try{await se.post(`/chat/rooms/${K.id}/mark-read`)}catch(re){console.error("Mark-read on open failed:",re)}n(re=>re.map(le=>le.id===K.id?{...le,unread_count:0}:le)),await L()}l(!1)},className:`w-full px-4 py-3 flex items-start space-x-3 transition-all border-l-4 ${(a==null?void 0:a.id)===K.id?"bg-[#59569D]/5 border-[#59569D]":"border-transparent hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"w-11 h-11 rounded-full bg-[#59569D] flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:((X=(G=K.display_name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),!K.is_virtual&&ge((ae=(J=K.users)==null?void 0:J[0])==null?void 0:ae.id)&&i.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:K.display_name}),K.last_message&&i.jsx("span",{className:"text-[11px] text-gray-500 ml-2 flex-shrink-0",children:Y(K.last_message.created_at)})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:`text-xs truncate flex-1 ${K.unread_count>0?"text-gray-900 font-medium":"text-gray-500"}`,children:K.last_message?i.jsxs(i.Fragment,{children:[K.type==="group"&&K.last_message.user&&i.jsxs("span",{className:"font-semibold",children:[K.last_message.user.id===(e==null?void 0:e.id)?"You":K.last_message.user.name.split(" ")[0],":"]})," ",K.last_message.type==="image"?" Photo":K.last_message.type==="file"?" File":K.last_message.message]}):i.jsx("span",{className:"italic text-gray-400",children:"Start a conversation..."})}),K.unread_count>0&&(a==null?void 0:a.id)!==K.id&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-[10px] rounded-full font-semibold min-w-[20px] text-center flex-shrink-0",children:K.unread_count>99?"99+":K.unread_count})]})]})]},K.id)})})]}),a?i.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[i.jsx("div",{className:"px-4 py-3.5 bg-[#59569D] border-b border-white/10",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.type==="direct"&&a.users?i.jsx(i.Fragment,{children:(()=>{var G,X,J;const K=a.users.find(ae=>ae.id!==(e==null?void 0:e.id))||a.users[0];return i.jsxs(i.Fragment,{children:[K!=null&&K.profile_image?i.jsx("img",{src:`/storage/${K.profile_image}`,alt:K.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40 flex-shrink-0"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white font-semibold flex-shrink-0 shadow-sm border-2 border-white/30",children:((X=(G=K==null?void 0:K.name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-sm font-semibold text-white truncate",children:(K==null?void 0:K.name)||a.display_name}),i.jsx("p",{className:"text-xs text-gray-300 capitalize",children:((J=K==null?void 0:K.role)==null?void 0:J.replace("_"," "))||"User"})]})]})})()}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30",children:i.jsx(Ts,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-sm font-semibold text-white truncate",children:a.display_name}),a.type==="group"&&a.users&&i.jsxs("p",{className:"text-xs text-white/80",children:[a.users.length," members"]})]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[u.map(K=>{var X;const G=K.user_id===(e==null?void 0:e.id);return i.jsx("div",{className:`flex ${G?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md ${G?"order-2":"order-1"}`,children:[!G&&i.jsx("p",{className:"text-[10px] text-gray-500 mb-0.5 px-2",children:(X=K.user)==null?void 0:X.name}),i.jsx("div",{className:`px-3.5 py-2.5 text-sm ${G?"bg-[#F25292] text-white rounded-2xl rounded-br-sm shadow-sm":"bg-gray-50 text-gray-900 rounded-2xl rounded-bl-sm border border-gray-100"}`,children:K.type==="image"?i.jsx("img",{src:`/storage/${K.file_path}`,alt:"Shared image",className:"rounded-lg max-w-full"}):K.type==="file"?i.jsxs("a",{href:`/storage/${K.file_path}`,download:!0,className:"flex items-center space-x-2 hover:underline text-xs",children:[i.jsx(ny,{className:"w-3 h-3"}),i.jsx("span",{children:K.message})]}):i.jsx("p",{className:`whitespace-pre-wrap break-words ${G?"text-white":""}`,children:Q(K.message,G)})}),i.jsx("p",{className:`text-[10px] text-gray-500 mt-0.5 px-2 ${G?"text-right":""}`,children:Y(K.created_at)})]})},K.id)}),i.jsx("div",{ref:q})]}),i.jsx("form",{onSubmit:ne,className:"px-4 py-3 bg-white border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-2 relative",children:[i.jsx("input",{type:"file",ref:F,onChange:te,className:"hidden"}),i.jsx("button",{type:"button",onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},className:"p-2 hover:bg-[#59569D]/10 text-[#59569D] rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:i.jsx(ny,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{type:"text",value:c,onChange:H,placeholder:"Type a message...",className:"w-full px-4 py-2.5 text-sm bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D] focus:bg-white transition-all"}),I&&R.length>0&&i.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 max-h-48 overflow-y-auto",children:[i.jsx("div",{className:"px-3 py-2 bg-[#59569D] text-white text-xs font-semibold rounded-t-lg",children:"Group Members"}),R.map((K,G)=>{var X,J;return i.jsxs("button",{type:"button",onClick:()=>Z(K),className:`w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-3 transition-colors border-b border-gray-100 last:border-b-0 ${U(K.id).split(" ")[0]} bg-opacity-10`,children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0 ${U(K.id).split(" ")[0]}`,children:(J=(X=K.name)==null?void 0:X.charAt(0))==null?void 0:J.toUpperCase()}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-xs font-semibold text-gray-900",children:K.name.split(" ")[0]})}),i.jsxs("div",{className:`px-2 py-0.5 rounded-full text-[9px] font-semibold truncate max-w-[80px] ${U(K.id)}`,children:["@",K.name.split(" ")[0]]})]},K.id)})]})]}),i.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-2.5 bg-[#59569D] text-white rounded-full hover:bg-[#59569D]/90 hover:shadow-md transition-all disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0",title:"Send message",children:i.jsx(MV,{className:"w-5 h-5"})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-[#59569D]/10 flex items-center justify-center",children:i.jsx(Ts,{className:"w-10 h-10 text-[#59569D]"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1.5",children:"Select a conversation"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Choose a chat from the list to start messaging"})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-[#59569D] rounded-t-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"New Chat"}),i.jsx("button",{onClick:()=>g(!1),className:"text-white/80 hover:text-white transition-colors",children:i.jsx(t_,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"flex items-center space-x-2.5 mb-2 cursor-pointer",children:[i.jsx("input",{type:"radio",value:"direct",checked:S==="direct",onChange:K=>{N(K.target.value),j([])},className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Direct Message"})]}),i.jsxs("label",{className:"flex items-center space-x-2.5 cursor-pointer",children:[i.jsx("input",{type:"radio",value:"group",checked:S==="group",onChange:K=>N(K.target.value),className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Group Chat"})]})]}),S==="group"&&i.jsx("input",{type:"text",value:T,onChange:K=>E(K.target.value),placeholder:"Group name",className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D]"}),i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",value:P,onChange:K=>O(K.target.value),placeholder:"Search team members...",className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D]"})}),i.jsx("div",{className:"max-h-64 overflow-y-auto mb-4 border border-gray-200 rounded-lg",children:ce.map(K=>{var G,X;return i.jsxs("label",{className:"flex items-center space-x-3 px-3 py-2.5 hover:bg-[#59569D]/5 cursor-pointer border-b border-gray-100 last:border-b-0",children:[i.jsx("input",{type:S==="direct"?"radio":"checkbox",checked:b.includes(K.id),onChange:J=>{j(S==="direct"?J.target.checked?[K.id]:[]:ae=>J.target.checked?[...ae,K.id]:ae.filter(re=>re!==K.id))},className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-[#59569D] flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:((X=(G=K.name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:K.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:K.email})]}),ge(K.id)&&i.jsx(PV,{className:"w-2.5 h-2.5 text-green-400 fill-current flex-shrink-0"})]},K.id)})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:he,disabled:b.length===0||S==="group"&&!T,className:"px-4 py-2 text-sm bg-[#59569D] text-white rounded-lg hover:bg-[#59569D]/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Chat"})]})]})]})})]})}const Ps=()=>{const{user:e,logout:t}=Fe(),r=async()=>{await t()};return i.jsxs("div",{children:[i.jsx(Wo,{title:"Settings",subtitle:"Manage your account and preferences"}),i.jsxs("div",{className:"max-w-2xl",children:[i.jsxs(Ne,{className:"mb-6",children:[i.jsx("h3",{style:{fontSize:"18px",fontFamily:"Inter, sans-serif"},className:"font-semibold mb-4",children:"Account Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-900",children:e==null?void 0:e.name})]}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-900",children:e==null?void 0:e.email})]}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"User ID"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-600 font-mono",children:e==null?void 0:e.id})]})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx(vc,{variant:"secondary",children:"Edit Profile"})})]}),i.jsxs(Ne,{className:"mb-6",children:[i.jsx("h3",{style:{fontSize:"18px",fontFamily:"Inter, sans-serif"},className:"font-semibold mb-4",children:"Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"font-medium text-gray-900",children:"Email Notifications"}),i.jsx("p",{style:{fontSize:"13px",fontFamily:"Inter, sans-serif"},className:"text-gray-600",children:"Receive email updates about your projects"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Task Reminders"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded about upcoming due dates"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),i.jsxs(Ne,{className:"border border-red-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-red-600",children:"Danger Zone"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Sign Out"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sign out from your account"})]}),i.jsx(vc,{variant:"danger",onClick:r,children:"Sign Out"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Delete Account"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all data"})]}),i.jsx(vc,{variant:"danger",children:"Delete Account"})]})]})]})]})]})},As=({children:e})=>{const{user:t,loading:r}=Fe();return r?i.jsx(Je,{}):t?e:i.jsx(er,{to:"/login",replace:!0})},Is=({allowed:e,children:t})=>{const{user:r,loading:n}=Fe();if(n)return i.jsx(Je,{});if(!r)return i.jsx(er,{to:"/login",replace:!0});if(!(Array.isArray(e)?e:[e]).includes(r.role)){const s=o=>{switch(o){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return"/admin"}};return i.jsx(er,{to:`${s(r.role)}/dashboard`,replace:!0})}return t},RV=()=>{const{user:e,loading:t}=Fe();if(t)return i.jsx(Je,{});const n=e?(a=>{switch(a){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}})(e.role):"";return i.jsxs(rN,{children:[i.jsx(me,{path:"/login",element:e?i.jsx(er,{to:`${n}/dashboard`,replace:!0}):i.jsx(DN,{})}),i.jsx(me,{index:!0,element:e?i.jsx(er,{to:`${n}/dashboard`,replace:!0}):i.jsx(er,{to:"/login",replace:!0})}),i.jsxs(me,{path:"/admin/*",element:i.jsx(As,{children:i.jsx(Is,{allowed:["admin"],children:i.jsx(TN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(er,{to:"/admin/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(MN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Ji,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(es,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Zi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Qi,{})}),i.jsx(me,{path:"tasks",element:i.jsx(UN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(ts,{})}),i.jsx(me,{path:"clients",element:i.jsx(TI,{})}),i.jsx(me,{path:"employees",element:i.jsx(TV,{})}),i.jsx(me,{path:"activity-logs",element:i.jsx(dv,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ss,{})}),i.jsx(me,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(me,{path:"/manager/*",element:i.jsx(As,{children:i.jsx(Is,{allowed:["project_manager"],children:i.jsx(PN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(er,{to:"/manager/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(RN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Ji,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(es,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Zi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Qi,{})}),i.jsx(me,{path:"tasks",element:i.jsx(HN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(ts,{})}),i.jsx(me,{path:"activity-logs",element:i.jsx(dv,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ss,{})}),i.jsx(me,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(me,{path:"/developer/*",element:i.jsx(As,{children:i.jsx(Is,{allowed:["developer"],children:i.jsx(IN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(er,{to:"/developer/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(LN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Ji,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(es,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Zi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Qi,{})}),i.jsx(me,{path:"tasks",element:i.jsx(qN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(ts,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ss,{})}),i.jsx(me,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(me,{path:"/client/*",element:i.jsx(As,{children:i.jsx(Is,{allowed:["client"],children:i.jsx(CN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(er,{to:"/client/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(BN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Ji,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(es,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Zi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Qi,{})}),i.jsx(me,{path:"tasks",element:i.jsx(GN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(ts,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ss,{})}),i.jsx(me,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsx(me,{path:"*",element:i.jsx(er,{to:e?`${n}/dashboard`:"/login",replace:!0})})]})};function LV(){return i.jsx(dN,{children:i.jsx(xN,{children:i.jsx(RV,{})})})}function cW(){return i.jsx(LV,{})}export{cW as default};
