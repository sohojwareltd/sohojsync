var Jj=Object.defineProperty;var eN=(e,t,r)=>t in e?Jj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fc=(e,t,r)=>eN(e,typeof t!="symbol"?t+"":t,r);import{r as N,R as sy,a as oy,j as i,c as Rt,g as Br,b as xd,d as tN}from"./app-DZpL_gQd.js";import{c as ye,s as rN,a as bi,X as nN}from"./x-CSTkAX1S.js";import{D as aN,C as iN,P as sN,i as ly,a as oN,c as cy,b as lN,d as Kc,e as cN,s as uN,f as dN,g as fN}from"./dnd.esm-CRhknSdI.js";/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(this,arguments)}var Jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jr||(Jr={}));const Qh="popstate";function hN(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Yc("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$s(a)}return pN(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mN(){return Math.random().toString(36).substr(2,8)}function Jh(e,t){return{usr:e.state,key:e.key,idx:t}}function Yc(e,t,r,n){return r===void 0&&(r=null),ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pa(t):t,{state:r,key:t&&t.key||n||mN()})}function $s(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pN(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Jr.Pop,u=null,f=c();f==null&&(f=0,o.replaceState(ri({},o.state,{idx:f}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Jr.Pop;let v=c(),y=v==null?null:v-f;f=v,u&&u({action:l,location:g.location,delta:y})}function h(v,y){l=Jr.Push;let x=Yc(g.location,v,y);f=c()+1;let w=Jh(x,f),b=g.createHref(x);try{o.pushState(w,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}s&&u&&u({action:l,location:g.location,delta:1})}function m(v,y){l=Jr.Replace;let x=Yc(g.location,v,y);f=c();let w=Jh(x,f),b=g.createHref(x);o.replaceState(w,"",b),s&&u&&u({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:$s(v);return x=x.replace(/ $/,"%20"),Le(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Qh,d),u=v,()=>{a.removeEventListener(Qh,d),u=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var em;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(em||(em={}));function gN(e,t,r){return r===void 0&&(r="/"),vN(e,t,r)}function vN(e,t,r,n){let a=typeof t=="string"?pa(t):t,s=sa(a.pathname||"/",r);if(s==null)return null;let o=uy(e);yN(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=PN(s);l=SN(o[u],f)}return l}function uy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Le(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=tn([n,u.relativePath]),c=r.concat(u);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),uy(s.children,t,c,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:EN(f,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of dy(s.path))a(s,o,u)}),t}function dy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=dy(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function yN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ON(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xN=/^:[\w-]+$/,bN=3,wN=2,jN=1,NN=10,_N=-2,tm=e=>e==="*";function EN(e,t){let r=e.split("/"),n=r.length;return r.some(tm)&&(n+=_N),t&&(n+=wN),r.filter(a=>!tm(a)).reduce((a,s)=>a+(xN.test(s)?bN:s===""?jN:NN),n)}function ON(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function SN(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Xc({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},c),h=u.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:tn([s,d.pathname]),pathnameBase:MN(tn([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=tn([s,d.pathnameBase]))}return o}function Xc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=TN(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return m&&!p?f[h]=void 0:f[h]=(p||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function TN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function PN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const AN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kN=e=>AN.test(e);function IN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?pa(e):e,s;if(r)if(kN(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),bd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=rm(r.substring(1),"/"):s=rm(r,t)}else s=t;return{pathname:s,search:DN(n),hash:RN(a)}}function rm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function hc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wd(e,t){let r=CN(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pa(e):(a=ri({},e),Le(!a.pathname||!a.pathname.includes("?"),hc("?","pathname","search",a)),Le(!a.pathname||!a.pathname.includes("#"),hc("#","pathname","hash",a)),Le(!a.search||!a.search.includes("#"),hc("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let u=IN(a,l),f=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||c)&&(u.pathname+="/"),u}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),MN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fy=["post","put","patch","delete"];new Set(fy);const BN=["get",...fy];new Set(BN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}const $o=N.createContext(null),hy=N.createContext(null),$r=N.createContext(null),Fo=N.createContext(null),br=N.createContext({outlet:null,matches:[],isDataRoute:!1}),my=N.createContext(null);function $N(e,t){let{relative:r}=t===void 0?{}:t;ga()||Le(!1);let{basename:n,navigator:a}=N.useContext($r),{hash:s,pathname:o,search:l}=zo(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:tn([n,o])),a.createHref({pathname:u,search:l,hash:s})}function ga(){return N.useContext(Fo)!=null}function Zt(){return ga()||Le(!1),N.useContext(Fo).location}function py(e){N.useContext($r).static||N.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=N.useContext(br);return e?e_():FN()}function FN(){ga()||Le(!1);let e=N.useContext($o),{basename:t,future:r,navigator:n}=N.useContext($r),{matches:a}=N.useContext(br),{pathname:s}=Zt(),o=JSON.stringify(wd(a,r.v7_relativeSplatPath)),l=N.useRef(!1);return py(()=>{l.current=!0}),N.useCallback(function(f,c){if(c===void 0&&(c={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let d=jd(f,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:tn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,s,e])}const zN=N.createContext(null);function UN(e){let t=N.useContext(br).outlet;return t&&N.createElement(zN.Provider,{value:e},t)}function wi(){let{matches:e}=N.useContext(br),t=e[e.length-1];return t?t.params:{}}function zo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext($r),{matches:a}=N.useContext(br),{pathname:s}=Zt(),o=JSON.stringify(wd(a,n.v7_relativeSplatPath));return N.useMemo(()=>jd(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function HN(e,t){return qN(e,t)}function qN(e,t,r,n){ga()||Le(!1);let{navigator:a}=N.useContext($r),{matches:s}=N.useContext(br),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Zt(),c;if(t){var d;let v=typeof t=="string"?pa(t):t;u==="/"||(d=v.pathname)!=null&&d.startsWith(u)||Le(!1),c=v}else c=f;let h=c.pathname||"/",m=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=gN(e,{pathname:m}),g=YN(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:tn([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:tn([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?N.createElement(Fo.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Jr.Pop}},g):g}function GN(){let e=JN(),t=LN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const VN=N.createElement(GN,null);class WN extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(br.Provider,{value:this.props.routeContext},N.createElement(my.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KN(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext($o);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(br.Provider,{value:t},n)}function YN(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||Le(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=c),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||VN,u&&(f<0&&h===0?(t_("route-fallback"),p=!0,v=null):f===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=g:p?w=v:d.route.Component?w=N.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,N.createElement(KN,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(WN,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var gy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gy||{}),vy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vy||{});function XN(e){let t=N.useContext($o);return t||Le(!1),t}function ZN(e){let t=N.useContext(hy);return t||Le(!1),t}function QN(e){let t=N.useContext(br);return t||Le(!1),t}function yy(e){let t=QN(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function JN(){var e;let t=N.useContext(my),r=ZN(),n=yy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function e_(){let{router:e}=XN(gy.UseNavigateStable),t=yy(vy.UseNavigateStable),r=N.useRef(!1);return py(()=>{r.current=!0}),N.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ni({fromRouteId:t},s)))},[e,t])}const nm={};function t_(e,t,r){nm[e]||(nm[e]=!0)}function r_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function er(e){let{to:t,replace:r,state:n,relative:a}=e;ga()||Le(!1);let{future:s,static:o}=N.useContext($r),{matches:l}=N.useContext(br),{pathname:u}=Zt(),f=wr(),c=jd(t,wd(l,s.v7_relativeSplatPath),u,a==="path"),d=JSON.stringify(c);return N.useEffect(()=>f(JSON.parse(d),{replace:r,state:n,relative:a}),[f,d,a,r,n]),null}function Uo(e){return UN(e.context)}function pe(e){Le(!1)}function n_(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Jr.Pop,navigator:s,static:o=!1,future:l}=e;ga()&&Le(!1);let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:s,static:o,future:ni({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof n=="string"&&(n=pa(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,g=N.useMemo(()=>{let v=sa(c,u);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:p},navigationType:a}},[u,c,d,h,m,p,a]);return g==null?null:N.createElement($r.Provider,{value:f},N.createElement(Fo.Provider,{children:r,value:g}))}function a_(e){let{children:t,location:r}=e;return HN(Zc(t),r)}new Promise(()=>{});function Zc(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let s=[...t,a];if(n.type===N.Fragment){r.push.apply(r,Zc(n.props.children,s));return}n.type!==pe&&Le(!1),!n.props.index||!n.props.children||Le(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zc(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(this,arguments)}function xy(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function i_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s_(e,t){return e.button===0&&(!t||t==="_self")&&!i_(e)}function Qc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function o_(e,t){let r=Qc(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const l_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u_="6";try{window.__reactRouterVersion=u_}catch{}const d_=N.createContext({isTransitioning:!1}),f_="startTransition",am=sy[f_];function h_(e){let{basename:t,children:r,future:n,window:a}=e,s=N.useRef();s.current==null&&(s.current=hN({window:a,v5Compat:!0}));let o=s.current,[l,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},c=N.useCallback(d=>{f&&am?am(()=>u(d)):u(d)},[u,f]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.useEffect(()=>r_(n),[n]),N.createElement(n_,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const m_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:f,preventScrollReset:c,viewTransition:d}=t,h=xy(t,l_),{basename:m}=N.useContext($r),p,g=!1;if(typeof f=="string"&&p_.test(f)&&(p=f,m_))try{let w=new URL(window.location.href),b=f.startsWith("//")?new URL(w.protocol+f):new URL(f),j=sa(b.pathname,m);b.origin===w.origin&&j!=null?f=j+b.search+b.hash:g=!0}catch{}let v=$N(f,{relative:a}),y=v_(f,{replace:o,state:l,target:u,preventScrollReset:c,relative:a,viewTransition:d});function x(w){n&&n(w),w.defaultPrevented||y(w)}return N.createElement("a",Fs({},h,{href:p||v,onClick:g||s?n:x,ref:r,target:u}))}),Cn=N.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:c}=t,d=xy(t,c_),h=zo(u,{relative:d.relative}),m=Zt(),p=N.useContext(hy),{navigator:g,basename:v}=N.useContext($r),y=p!=null&&x_(h)&&f===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&v&&(b=sa(b,v)||b);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=w===x||!o&&w.startsWith(x)&&w.charAt(j)==="/",E=b!=null&&(b===x||!o&&b.startsWith(x)&&b.charAt(x.length)==="/"),T={isActive:S,isPending:E,isTransitioning:y},O=S?n:void 0,A;typeof s=="function"?A=s(T):A=[s,S?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(T):l;return N.createElement(zs,Fs({},d,{"aria-current":O,className:A,ref:r,style:_,to:u,viewTransition:f}),typeof c=="function"?c(T):c)});var Jc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jc||(Jc={}));var im;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(im||(im={}));function g_(e){let t=N.useContext($o);return t||Le(!1),t}function v_(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,u=wr(),f=Zt(),c=zo(e,{relative:o});return N.useCallback(d=>{if(s_(d,r)){d.preventDefault();let h=n!==void 0?n:$s(f)===$s(c);u(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,c,n,a,r,e,s,o,l])}function y_(e){let t=N.useRef(Qc(e)),r=N.useRef(!1),n=Zt(),a=N.useMemo(()=>o_(n.search,r.current?null:t.current),[n.search]),s=wr(),o=N.useCallback((l,u)=>{const f=Qc(typeof l=="function"?l(a):l);r.current=!0,s("?"+f,u)},[s,a]);return[a,o]}function x_(e,t){t===void 0&&(t={});let r=N.useContext(d_);r==null&&Le(!1);let{basename:n}=g_(Jc.useViewTransitionState),a=zo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=sa(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=sa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xc(a.pathname,o)!=null||Xc(a.pathname,s)!=null}const by="",b_="/api",oe=oy.create({baseURL:by+b_,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),sm=async()=>{try{await oy.get(`${by}/sanctum/csrf-cookie`,{withCredentials:!0})}catch(e){throw console.error("Failed to fetch CSRF cookie:",e),e}},wy=N.createContext(null),w_=({children:e})=>{const[t,r]=N.useState(null),[n,a]=N.useState(!0),s=async()=>{var c;try{const d=await oe.get("/me");r(d.data)}catch(d){((c=d.response)==null?void 0:c.status)!==401&&console.error("Error fetching user:",d),r(null)}finally{a(!1)}},o=async c=>{var d,h;try{await sm();const m=await oe.post("/login",c);return r(m.data),{success:!0,user:m.data}}catch(m){return console.error("Login error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Login failed. Please try again."}}},l=async c=>{var d,h;try{await sm();const m=await oe.post("/register",c);return r(m.data),{success:!0}}catch(m){return console.error("Registration error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Registration failed. Please try again."}}},u=async()=>{try{await oe.post("/logout")}catch(c){console.error("Logout error:",c)}finally{r(null)}};N.useEffect(()=>{s()},[]);const f={user:t,loading:n,login:o,register:l,logout:u,fetchUser:s};return i.jsx(wy.Provider,{value:f,children:e})},$e=()=>{const e=N.useContext(wy);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Je=()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),va=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),ji=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),ya=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),xa=({className:e="w-6 h-6"})=>i.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),j_=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),N_=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),__=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Nd=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),_d=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Ki="rgb(99, 102, 241)",E_=()=>{var f,c,d;const{user:e}=$e(),[t,r]=N.useState(()=>{const h=localStorage.getItem("adminSidebarCollapsed");return h?JSON.parse(h):!1}),[n,a]=N.useState({formatted:"â€”",seconds:0}),s=h=>{if(!h||h<=0)return"0m";const m=Math.floor(h/3600),p=Math.floor(h%3600/60);return m&&p?`${m}h ${p}m`:m?`${m}h`:`${p}m`};N.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",JSON.stringify(t))},[t]),N.useEffect(()=>{(async()=>{try{const{data:m}=await oe.get("/activity-logs/screen-time-today");a({formatted:(m==null?void 0:m.formatted)||s((m==null?void 0:m.screen_time_seconds)||0),seconds:(m==null?void 0:m.screen_time_seconds)||0})}catch(m){console.error("Failed to fetch screen time",m)}})()},[e==null?void 0:e.id]);const o=()=>{r(!t)},l=[{path:"/admin/dashboard",icon:va,label:"Overview"},{path:"/admin/projects",icon:ji,label:"Projects"},{path:"/admin/tasks",icon:ya,label:"Tasks"},{path:"/admin/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/admin/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/admin/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Team"},{path:"/admin/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"History"},{path:"/admin/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"}],u={path:"/admin/settings",icon:xa,label:"Settings"};return i.jsxs("aside",{className:`hidden md:flex flex-col transition-all duration-300 pt-5 ${t?"w-20":"w-56"}`,style:{background:"#ffffff",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[!t&&i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ki} 0%, rgb(109, 106, 177) 100%)`},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-[17px] font-bold text-gray-900",style:{letterSpacing:"-0.01em"},children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:`linear-gradient(135deg, ${Ki} 0%, rgb(109, 106, 177) 100%)`},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:o,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),t&&i.jsx("div",{className:"px-3 mb-3",children:i.jsx("button",{onClick:o,className:"w-full p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx("svg",{className:"w-4 h-4 text-gray-500 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})}),i.jsxs("nav",{className:"flex-1 px-4 pt-8 pb-4 overflow-y-auto",children:[i.jsx("div",{className:"space-y-1",children:l.map(h=>i.jsx(Cn,{to:h.path,className:({isActive:m})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${m?"bg-purple-50 text-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:({isActive:m})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-5 h-5 flex items-center justify-center flex-shrink-0 ${m?"text-purple-600":"text-gray-400 group-hover:text-gray-600"}`,children:i.jsx(h.icon,{className:"w-5 h-5"})}),!t&&i.jsx("span",{className:`text-[14px] font-medium ${m?"text-purple-600":"text-gray-600 group-hover:text-gray-900"}`,children:h.label})]})},h.path))}),i.jsx("div",{className:"mt-auto pt-4",children:i.jsx(Cn,{to:u.path,className:({isActive:h})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group ${h?"bg-purple-50 text-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:({isActive:h})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-5 h-5 flex items-center justify-center flex-shrink-0 ${h?"text-purple-600":"text-gray-400 group-hover:text-gray-600"}`,children:i.jsx(u.icon,{className:"w-5 h-5"})}),!t&&i.jsx("span",{className:`text-[14px] font-medium ${h?"text-purple-600":"text-gray-600 group-hover:text-gray-900"}`,children:u.label})]})})})]}),!t&&i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 shadow-sm",style:{background:`linear-gradient(135deg, ${Ki} 0%, rgb(109, 106, 177) 100%)`},children:((c=(f=e==null?void 0:e.name)==null?void 0:f[0])==null?void 0:c.toUpperCase())||"A"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(e==null?void 0:e.name)||"Admin"}),i.jsx("p",{className:"text-xs text-gray-600 capitalize truncate",children:((d=e==null?void 0:e.role)==null?void 0:d.replace("_"," "))||"Administrator"})]})]}),i.jsxs("div",{className:"bg-white/60 rounded-xl p-3 mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Screen time today"}),i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-lg font-bold",style:{color:Ki},children:n.formatted})]}),i.jsxs("button",{onClick:()=>window.location.href="/logout",className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 bg-white hover:bg-gray-50 rounded-xl transition-colors text-sm font-semibold text-gray-700 shadow-sm",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Logout"]})]})})]})},Ni=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",O_=e=>e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),En=e=>e?new Date(e)<new Date:!1,S_=({open:e,onClose:t})=>{const{logout:r}=$e(),n=async()=>{await r(),t()},a=[{path:"/dashboard",icon:va,label:"Dashboard"},{path:"/projects",icon:ji,label:"Projects"},{path:"/tasks",icon:ya,label:"Tasks"},{path:"/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Employees"},{path:"/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/settings",icon:xa,label:"Settings"}];return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),i.jsxs("aside",{className:ye("fixed top-0 left-0 h-full w-80 bg-primary text-white z-50 transform transition-transform duration-300 md:hidden",e?"translate-x-0":"-translate-x-full"),children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-accent",children:[i.jsx("h1",{className:"text-xl font-bold",children:"SohojSync"}),i.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-accent transition-colors","aria-label":"Close menu",children:i.jsx(__,{className:"w-6 h-6"})})]}),i.jsxs("nav",{className:"py-4",children:[a.map(s=>i.jsxs(Cn,{to:s.path,onClick:t,className:({isActive:o})=>ye("flex items-center px-6 py-4 text-white hover:bg-accent transition-colors",o&&"bg-accent"),children:[i.jsx(s.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:s.label})]},s.path)),i.jsxs("button",{onClick:n,className:"flex items-center w-full px-6 py-4 text-white hover:bg-accent transition-colors mt-4 border-t border-accent",children:[i.jsx(j_,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:"Logout"})]})]})]})]})},T_=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),[a,s]=N.useState(0),[o,l]=N.useState(!1),u=N.useRef(null);N.useEffect(()=>{f();const g=setInterval(f,3e4);return()=>clearInterval(g)},[]),N.useEffect(()=>{e&&c()},[e]),N.useEffect(()=>{const g=v=>{u.current&&!u.current.contains(v.target)&&t(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=async()=>{try{const g=await oe.get("/notifications/unread-count");s(g.data.count)}catch(g){console.error("Failed to fetch unread count:",g)}},c=async()=>{l(!0);try{const g=await oe.get("/notifications");n(g.data.data||g.data)}catch(g){console.error("Failed to fetch notifications:",g)}finally{l(!1)}},d=async g=>{try{await oe.patch(`/notifications/${g}/mark-read`),n(r.map(v=>v.id===g?{...v,is_read:!0,read_at:new Date}:v)),s(Math.max(0,a-1))}catch(v){console.error("Failed to mark notification as read:",v)}},h=async()=>{try{await oe.patch("/notifications/mark-all-read"),n(r.map(g=>({...g,is_read:!0,read_at:new Date}))),s(0)}catch(g){console.error("Failed to mark all as read:",g)}},m=g=>{switch(g){case"project_assigned":return i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})});case"deadline_reminder":return i.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});case"project_created":return i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})});default:return i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}},p=g=>{const v=new Date(g),x=Math.floor((new Date-v)/1e3);return x<60?"Just now":x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:x<604800?`${Math.floor(x/86400)}d ago`:v.toLocaleDateString()};return i.jsxs("div",{className:"relative",ref:u,children:[i.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 hover:bg-gray-200 rounded-lg transition-colors group",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),a>0&&i.jsx("span",{className:"absolute top-0.5 right-0.5 w-4 h-4 rounded-full text-white text-xs flex items-center justify-center font-semibold",style:{background:"#F25292"},children:a>9?"9+":a})]}),e&&i.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Notifications"}),a>0&&i.jsx("button",{onClick:h,className:"text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Mark all as read"})]}),i.jsxs("div",{className:"max-h-96 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                .max-h-96::-webkit-scrollbar {
                  width: 6px;
                }
                .max-h-96::-webkit-scrollbar-track {
                  background: #f1f1f1;
                }
                .max-h-96::-webkit-scrollbar-thumb {
                  background: #888;
                  border-radius: 10px;
                }
                .max-h-96::-webkit-scrollbar-thumb:hover {
                  background: #555;
                }
              `}),o?i.jsx("div",{className:"p-8 text-center text-gray-500",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto"})}):r.length>0?r.map(g=>i.jsx("div",{onClick:()=>!g.is_read&&d(g.id),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${g.is_read?"":"bg-purple-50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${g.is_read?"bg-gray-100":"bg-white"}`,children:m(g.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-0.5",children:g.title}),i.jsx("p",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:g.message}),i.jsx("span",{className:"text-xs text-gray-400",children:p(g.created_at)})]}),!g.is_read&&i.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full flex-shrink-0 mt-1"})]})},g.id)):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]})]})]})]})},P_="rgb(99, 102, 241)",Ho=({pageTitle:e})=>{var a;const{user:t}=$e(),[r,n]=N.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"h-16 flex items-center justify-between px-6 bg-white",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Open menu",children:i.jsx(N_,{className:"w-5 h-5 text-gray-700"})}),i.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border-0 rounded-lg text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-100 focus:bg-white transition-all",style:{fontFamily:"Inter, sans-serif"}})]})}),i.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[i.jsx(T_,{}),i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsxs("div",{className:"hidden sm:block text-right",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:(t==null?void 0:t.name)||"User"}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",style:{fontFamily:"Inter, sans-serif"},children:((a=t==null?void 0:t.role)==null?void 0:a.replace("_"," "))||"Member"})]}),i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-sm transition-transform group-hover:scale-105",style:{background:`linear-gradient(135deg, ${P_} 0%, rgb(109, 106, 177) 100%)`},children:O_((t==null?void 0:t.name)||"U")}),i.jsx("svg",{className:"hidden sm:block w-4 h-4 text-gray-400 group-hover:text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]}),i.jsx(S_,{open:r,onClose:()=>n(!1)})]})},om="rgb(99, 102, 241)",qo=()=>{const e=[{path:"/dashboard",icon:va,label:"Home"},{path:"/projects",icon:()=>i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),label:"Projects"},{path:"/tasks",icon:ya,label:"Tasks"},{path:"/settings",icon:xa,label:"Settings"}];return i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white shadow-lg z-50",style:{borderTop:"1px solid #f0f0f0"},children:i.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:e.map(t=>i.jsx(Cn,{to:t.path,className:({isActive:r})=>"flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 rounded-xl ",children:({isActive:r})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center transition-all ${r?"bg-purple-50":"bg-transparent"}`,children:i.jsx(t.icon,{className:"w-6 h-6",style:{color:r?om:"#9CA3AF"}})}),i.jsx("span",{className:"text-[11px] mt-0.5 font-medium",style:{color:r?om:"#9CA3AF",fontFamily:"Inter, sans-serif"},children:t.label})]})},t.path))})})},A_=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/admin/dashboard"?"Dashboard":r==="/admin/projects"?"Projects":r==="/admin/tasks"?"Tasks":r==="/admin/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden",style:{background:"#fafbfc"},children:[i.jsx(E_,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Ho,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-6 pb-20 md:pb-6",style:{background:"#fafbfc",fontFamily:"Inter, sans-serif"},children:i.jsx(Uo,{})})]}),i.jsx(qo,{})]})},k_=()=>{var s,o;const{user:e}=$e(),[t,r]=N.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});N.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/manager/dashboard",icon:va,label:"Dashboard"},{path:"/manager/projects",icon:ji,label:"Projects"},{path:"/manager/tasks",icon:ya,label:"Tasks"},{path:"/manager/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/manager/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/manager/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/manager/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Nd,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(_d,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(Cn,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"rgb(99, 102, 241)"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"rgb(99, 102, 241)"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"M"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Manager"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"manager@example.com"})]})]})})]})},I_=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(k_,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Ho,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(qo,{})]})},C_=()=>{var s,o;const{user:e}=$e(),[t,r]=N.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});N.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/developer/dashboard",icon:va,label:"Dashboard"},{path:"/developer/projects",icon:ji,label:"Projects"},{path:"/developer/tasks",icon:ya,label:"Tasks"},{path:"/developer/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/developer/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/developer/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Nd,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(_d,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(Cn,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"rgb(99, 102, 241)"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"rgb(99, 102, 241)"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"D"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Developer"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"dev@example.com"})]})]})})]})},M_=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(C_,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Ho,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(qo,{})]})},D_=()=>{var s,o;const{user:e}=$e(),[t,r]=N.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});N.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/client/dashboard",icon:va,label:"Dashboard"},{path:"/client/projects",icon:ji,label:"Projects"},{path:"/client/tasks",icon:ya,label:"Tasks"},{path:"/client/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/client/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/client/settings",icon:xa,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx(Nd,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(_d,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(Cn,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"rgb(99, 102, 241)"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"rgb(99, 102, 241)"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"C"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Client"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"client@example.com"})]})]})})]})},R_=()=>{const e=Zt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(D_,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Ho,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Uo,{})})]}),i.jsx(qo,{})]})},lm=({label:e,type:t="text",name:r,value:n,onChange:a,error:s,placeholder:o,required:l=!1,className:u=""})=>i.jsxs("div",{className:ye("mb-5",u),children:[e&&i.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-2",children:[e,l&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{type:t,id:r,name:r,value:n,onChange:a,placeholder:o,required:l,style:{...s?{}:{"--tw-ring-color":"#b56e84"}},className:ye("w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all",s?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-[#b56e84]")}),s&&i.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]}),_e=({children:e,className:t="",onClick:r})=>{const n="bg-white rounded-lg shadow-sm p-6",a=r?"cursor-pointer hover:shadow-md transition-shadow":"";return i.jsx("div",{className:ye(n,a,t),onClick:r,children:e})},L_=()=>{wr();const{login:e}=$e(),[t,r]=N.useState({email:"",password:"",remember:!1}),[n,a]=N.useState({}),[s,o]=N.useState(!1),l=c=>{r({email:c,password:"password",remember:!1}),a({})},u=c=>{const{name:d,value:h,type:m,checked:p}=c.target;r(g=>({...g,[d]:m==="checkbox"?p:h})),n[d]&&a(g=>({...g,[d]:""}))},f=async c=>{c.preventDefault(),a({}),o(!0);const d=await e(t);if(o(!1),d.success){const h=d.user;let m="/admin";h.role==="project_manager"?m="/manager":h.role==="developer"?m="/developer":h.role==="client"&&(m="/client"),window.location.href=`${m}/dashboard`}else a({general:d.error})};return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-background",children:i.jsx("div",{className:"w-full max-w-md relative z-10",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[i.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 rounded-xl blur-md opacity-30 group-hover:opacity-50 transition-opacity duration-300",style:{background:"rgb(99, 102, 241)"}}),i.jsx("div",{className:"relative w-12 h-12 rounded-xl flex items-center justify-center transform transition-all duration-300 group-hover:scale-105",style:{background:"rgb(99, 102, 241)"},children:i.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",style:{color:"rgb(99, 102, 241)"},children:"SohojSync"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back!"})]})]}),n.general&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm animate-shake",children:n.general}),i.jsxs("form",{onSubmit:f,children:[i.jsx(lm,{label:"Email",type:"email",name:"email",value:t.email,onChange:u,placeholder:"your@email.com",required:!0,error:n.email}),i.jsx(lm,{label:"Password",type:"password",name:"password",value:t.password,onChange:u,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,error:n.password}),i.jsxs("div",{className:"mb-6 flex items-center",children:[i.jsx("input",{type:"checkbox",id:"remember",name:"remember",checked:t.remember,onChange:u,className:"w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:ring-offset-0 transition-all",style:{accentColor:"rgb(99, 102, 241)"}}),i.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),i.jsxs("button",{type:"submit",disabled:s,className:"relative w-full text-white font-semibold py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl overflow-hidden group",style:{background:"linear-gradient(135deg, rgb(99, 102, 241), rgb(129, 140, 248))"},children:[i.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),i.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[s&&i.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s?"Signing in...":"Sign In"]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Demo Credentials"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Click to fill"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l("admin@sync.sohojware.dev"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="admin@sync.sohojware.dev"?"rgb(99, 102, 241)":"#e5e7eb",backgroundColor:t.email==="admin@sync.sohojware.dev"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:"ðŸ‘‘"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Admin Manager"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"admin@sync.sohojware.dev"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("raj.khan@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="raj.khan@company.com"?"rgb(99, 102, 241)":"#e5e7eb",backgroundColor:t.email==="raj.khan@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:"ðŸ‘”"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Raja Khan (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"raj.khan@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("priya.singh@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="priya.singh@company.com"?"rgb(99, 102, 241)":"#e5e7eb",backgroundColor:t.email==="priya.singh@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:"ðŸ‘©â€ðŸ’¼"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Priya Singh (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"priya.singh@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("ahmed@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="ahmed@company.com"?"rgb(99, 102, 241)":"#e5e7eb",backgroundColor:t.email==="ahmed@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:"ðŸ’»"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Ahmed Hassan"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"ahmed@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("contact@techinnovations.com"),className:"col-span-2 w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="contact@techinnovations.com"?"rgb(99, 102, 241)":"#e5e7eb",backgroundColor:t.email==="contact@techinnovations.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:"ðŸ¤"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Client Contact"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"contact@techinnovations.com"})]})]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3 italic",children:["All passwords: ",i.jsx("span",{className:"font-semibold text-gray-700",children:"password"})]})]})]})})})},It="rgb(99, 102, 241)",B_=()=>{const{user:e}=$e(),[t,r]=N.useState(!0),[n,a]=N.useState({totalUsers:0,totalProjects:0,totalTasks:0,completedTasks:0,totalClients:0,dueTasks:0,dueProjects:0,todayDeliveryProjects:0,todayDeliveryTasks:0}),[s,o]=N.useState([]),[l,u]=N.useState([]),[f,c]=N.useState([]),[d,h]=N.useState({tasks:[],projects:[]}),[m,p]=N.useState({tasks:[],projects:[]});N.useEffect(()=>{(async()=>{try{r(!0);const[b,j,S]=await Promise.all([oe.get("/projects"),oe.get("/tasks"),oe.get("/clients").catch(()=>({data:[]}))]),E=Array.isArray(b.data)?b.data:b.data.data||b.data.projects||[],T=Array.isArray(j.data)?j.data:j.data.data||j.data.tasks||[],O=Array.isArray(S.data)?S.data:S.data.data||S.data.clients||[],A=new Date;A.setHours(0,0,0,0);const _=new Date(A);_.setHours(23,59,59,999);const P=T.filter(M=>M.status==="done"||M.status==="completed"||!M.due_date&&!M.deadline?!1:new Date(M.due_date||M.deadline)<A),I=E.filter(M=>M.status==="completed"||!M.deadline?!1:new Date(M.deadline)<A),k=T.filter(M=>{if(!M.due_date&&!M.deadline)return!1;const $=new Date(M.due_date||M.deadline);return $>=A&&$<=_}),R=E.filter(M=>{if(!M.deadline)return!1;const $=new Date(M.deadline);return $>=A&&$<=_});o(E),u(T),c(O),h({tasks:P,projects:I}),p({tasks:k,projects:R}),a({totalUsers:O.length+E.length,totalProjects:E.length,totalTasks:T.length,completedTasks:T.filter(M=>M.status==="done"||M.status==="completed").length,totalClients:O.length,dueTasks:P.length,dueProjects:I.length,todayDeliveryProjects:R.length,todayDeliveryTasks:k.length})}catch(b){console.error("Error fetching dashboard data:",b)}finally{r(!1)}})()},[]);const g=["Oct","Nov","Dec","Jan","Feb","Mar"],v=g.map(()=>Math.floor(Math.random()*n.totalProjects)+1),y=g.map(()=>Math.floor(Math.random()*n.totalTasks)+1),x=[{title:"Total Projects",value:n.totalProjects,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),color:It},{title:"Active Tasks",value:Math.max(n.totalTasks-n.completedTasks,0),icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),color:"#4b8ef2"},{title:"Due Today",value:n.todayDeliveryProjects+n.todayDeliveryTasks,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),color:"#f97316"},{title:"Total Clients",value:n.totalClients,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),color:"#10b981"}];return t?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:x.map((w,b)=>i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center",style:{backgroundColor:`${w.color}20`},children:i.jsx("div",{className:"text-gray-900",style:{color:w.color},children:w.icon})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:w.value}),i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:w.title})]},b))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Projects vs. Tasks Trend"}),i.jsxs("select",{className:"text-xs border border-gray-200 rounded-md px-2.5 py-1 text-gray-600 bg-white",children:[i.jsx("option",{children:"Show by months"}),i.jsx("option",{children:"Show by weeks"}),i.jsx("option",{children:"Show by days"})]})]}),i.jsx("div",{className:"h-52 flex items-end justify-around gap-3",children:g.map((w,b)=>{const j=Math.max(...v,...y)||1;return i.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[i.jsxs("div",{className:"w-full flex gap-1",children:[i.jsx("div",{className:"flex-1 rounded-t-md",style:{backgroundColor:It,height:`${v[b]/j*180}px`,minHeight:"16px"}}),i.jsx("div",{className:"flex-1 rounded-t-md",style:{backgroundColor:"#4b8ef2",height:`${y[b]/j*180}px`,minHeight:"16px"}})]}),i.jsx("span",{className:"text-[11px] text-gray-500",children:w})]},b)})}),i.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:It}}),i.jsx("span",{children:"Projects"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#4b8ef2"}}),i.jsx("span",{children:"Tasks"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Task Status"}),i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"relative w-32 h-32",children:n.totalTasks>0?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10b981",strokeWidth:"10",strokeDasharray:`${n.completedTasks/n.totalTasks*251} 251`,strokeLinecap:"round"}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#f97316",strokeWidth:"10",strokeDasharray:`${(n.totalTasks-n.completedTasks)/n.totalTasks*251} 251`,strokeDashoffset:`-${n.completedTasks/n.totalTasks*251}`,strokeLinecap:"round"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("svg",{className:"w-7 h-7 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-400",children:"No data"})})})}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"}}),i.jsx("span",{className:"text-xs text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[Math.round(n.completedTasks/n.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f97316"}}),i.jsx("span",{className:"text-xs text-gray-600",children:"Pending"})]}),i.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[Math.round((n.totalTasks-n.completedTasks)/n.totalTasks*100)||0,"%"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Due Items"})}),i.jsxs("div",{className:"space-y-3",children:[d.projects.length>0&&d.projects.slice(0,3).map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#fef2f2",color:"#ef4444"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-800 block",children:w.name||w.title}),i.jsxs("span",{className:"text-[11px] text-red-600",children:["Overdue: ",new Date(w.deadline).toLocaleDateString()]})]})]}),i.jsx("span",{className:"text-[11px] font-semibold text-red-600",children:n.dueProjects})]},w.id)),d.tasks.length>0&&d.tasks.slice(0,3).map(w=>i.jsx("div",{className:"flex itemscenter justify-between py-2 border-b border-gray-100 last:border-0",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#fff7ed",color:"#f97316"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-800 block truncate max-w-[150px]",children:w.title}),i.jsxs("span",{className:"text-[11px] text-orange-600",children:["Due: ",new Date(w.due_date||w.deadline).toLocaleDateString()]})]})]})},w.id)),d.projects.length===0&&d.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-3",children:" All caught up!"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Due Today"})}),i.jsxs("div",{className:"space-y-3",children:[m.projects.length>0&&m.projects.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#eef2ff",color:It}}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:w.name||w.title})]}),i.jsx("span",{className:"text-[11px] font-semibold",style:{color:It},children:"Project"})]},w.id)),m.tasks.length>0&&m.tasks.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-sm",style:{background:"#eff6ff",color:"#2563eb"}}),i.jsx("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[150px]",children:w.title})]}),i.jsx("span",{className:"text-[11px] font-semibold text-blue-600",children:"Task"})]},w.id)),m.projects.length===0&&m.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-3",children:"No deliveries today"})]})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-white border border-gray-200 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center text-white",style:{background:It}}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Active Projects"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 leading-tight",children:n.totalProjects})]})]}),i.jsx("div",{className:"w-full h-12 relative overflow-hidden",children:i.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 200 50",children:i.jsx("path",{d:"M 5 40 Q 30 10, 50 25 T 90 20 T 130 30 T 170 15 T 195 20",fill:"none",stroke:It,strokeWidth:"2"})})}),i.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:It}}),i.jsx("span",{children:"Weekly trend"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-white",style:{background:It},children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Tasks"})]}),i.jsx("a",{href:"/admin/tasks",className:"text-xs font-semibold",style:{color:It},children:"View All"})]}),i.jsx("div",{className:"space-y-2.5 max-h-80 overflow-y-auto",children:l.length>0?l.slice(0,6).map(w=>{const b=w.due_date||w.deadline,j=b&&new Date(b)<new Date&&w.status!=="done"&&w.status!=="completed",S=b&&new Date(b).toDateString()===new Date().toDateString();return i.jsx("div",{className:"bg-white rounded-md p-3 border border-gray-100",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:w.title}),j&&i.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-[11px] font-semibold rounded-full",children:"OVERDUE"}),S&&!j&&i.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-[11px] font-semibold rounded-full",children:"TODAY"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[w.project&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),w.project.name||w.project.title]}),b&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(b).toLocaleDateString()]})]})]}),i.jsx("span",{className:`px-2.5 py-1 rounded text-[11px] font-semibold ${w.status==="done"||w.status==="completed"?"bg-emerald-50 text-emerald-700 border border-emerald-200":w.status==="in_progress"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:w.status==="done"||w.status==="completed"?"Done":w.status==="in_progress"?"Active":"Open"})]})},w.id)}):i.jsxs("div",{className:"text-center py-10 bg-white rounded-md border border-gray-100",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No tasks yet"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-white",style:{background:It},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Clients"})]}),i.jsx("a",{href:"/admin/clients",className:"text-xs font-semibold",style:{color:It},children:"View All"})]}),i.jsx("div",{className:"space-y-2.5 max-h-80 overflow-y-auto",children:f.length>0?f.slice(0,6).map(w=>{var b,j,S,E,T,O;return i.jsx("div",{className:"bg-white rounded-md p-3 border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:It},children:(w.name||w.company_name||((b=w.user)==null?void 0:b.name)||"C").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-0.5 truncate",children:w.name||w.company_name||((j=w.user)==null?void 0:j.name)||"Unknown Client"}),(w.email||((S=w.user)==null?void 0:S.email))&&i.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1",children:[i.jsxs("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),w.email||((E=w.user)==null?void 0:E.email)]}),(w.phone||((T=w.user)==null?void 0:T.phone))&&i.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1",children:[i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),w.phone||((O=w.user)==null?void 0:O.phone)]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"px-2.5 py-1 bg-gray-50 text-gray-700 text-[11px] font-semibold rounded border border-gray-200",children:"Active"})})]})},w.id)}):i.jsxs("div",{className:"text-center py-10 bg-white rounded-md border border-gray-100",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No clients yet"})]})})]})]})]})},Ed=({title:e,subtitle:t,actions:r})=>i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:e}),t&&i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),r&&i.jsx("div",{className:"flex gap-3",children:r})]}),$_=()=>{const{user:e}=$e(),[t,r]=N.useState({myProjects:0,totalTasks:0,assignedToMe:0,teamTasks:0}),[n,a]=N.useState([]),[s,o]=N.useState([]),[l,u]=N.useState(!0);N.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([oe.get("/projects"),oe.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(y=>{var x;return y.project_manager_id===(e==null?void 0:e.id)||((x=y.project_manager)==null?void 0:x.id)===(e==null?void 0:e.id)}),g=m.filter(y=>{var x,w,b;return((x=y.project)==null?void 0:x.project_manager_id)===(e==null?void 0:e.id)||((b=(w=y.project)==null?void 0:w.project_manager)==null?void 0:b.id)===(e==null?void 0:e.id)});a(p),o(g);const v=m.filter(y=>y.assigned_to===(e==null?void 0:e.id));r({myProjects:p.length,totalTasks:g.length,assignedToMe:v.length,teamTasks:g.filter(y=>y.status==="open"||y.status==="in_progress").length})}catch(c){console.error("Failed to fetch manager data:",c)}finally{u(!1)}};return l?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Ed,{title:`Manager Dashboard - Welcome ${e==null?void 0:e.name}!`,subtitle:"Manage your team's projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.totalTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Assigned to Me"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.assignedToMe})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Team Open Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.teamTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Projects"}),i.jsx("div",{className:"space-y-3",children:n.length>0?n.map(c=>i.jsxs(_e,{children:[i.jsx("h4",{className:"font-semibold text-lg mb-2",children:c.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3",children:[i.jsxs("span",{children:["Created ",new Date(c.created_at).toLocaleDateString()]}),i.jsx("button",{className:"text-primary hover:underline",children:"Manage"})]})]},c.id)):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects yet. Start creating!"})})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Team Tasks"}),i.jsx("a",{href:"/manager/tasks",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-3",children:s.length>0?s.slice(0,5).map(c=>{var d;return i.jsxs(_e,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:c.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:c.status==="done"?"Done":"Open"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:(d=c.project)==null?void 0:d.title}),c.assigned_to===(e==null?void 0:e.id)&&i.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"âœ“ Assigned to you"})]},c.id)}):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks available"})})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(_e,{className:"bg-gradient-to-r from-accent to-blue-500 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Manager Tools"}),i.jsx("p",{className:"mb-4",children:"Coordinate your team's work effectively"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Create Project"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Assign Tasks"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Team Reports"})]})]})})]})},F_=()=>{const{user:e}=$e(),t=d=>{if(!d)return d;const h=document.createElement("textarea");return h.innerHTML=d,h.value},[r,n]=N.useState({myTasks:0,completedTasks:0,pendingTasks:0,overdueTask:0,myProjects:0}),[a,s]=N.useState([]),[o,l]=N.useState([]),[u,f]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{try{const[d,h]=await Promise.all([oe.get("/projects"),oe.get("/tasks")]),m=Array.isArray(d.data)?d.data:d.data.data||[],p=Array.isArray(h.data)?h.data:h.data.data||[],g=m.filter(w=>(Array.isArray(w.members)?w.members:[]).some(j=>j.user_id===(e==null?void 0:e.id)||j.id===(e==null?void 0:e.id)));l(g),s(p);const v=p.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,y=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length,x=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())&&w.due_date&&En(w.due_date)).length;n({myTasks:p.length,completedTasks:v,pendingTasks:y,overdueTask:x,myProjects:g.length})}catch(d){console.error("Failed to fetch developer data:",d)}finally{f(!1)}};return u?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Ed,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Your developer dashboard - track your projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:r.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:r.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:r.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueTask})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/developer/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),o.length>0?i.jsx("div",{className:"space-y-3",children:o.map(d=>{var h;return i.jsx(_e,{className:"hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:d.title||d.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",dangerouslySetInnerHTML:{__html:d.description?t(d.description).substring(0,100):"No description"}}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:((h=d.status)==null?void 0:h.replace("_"," "))||"Planning"}),d.project_manager&&i.jsxs("span",{children:["PM: ",d.project_manager.name]})]})]}),i.jsx("a",{href:`/developer/projects/${d.id}`,className:"text-primary font-medium hover:underline whitespace-nowrap ml-4",children:"View"})]})},d.id)})}):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you yet."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Assigned Tasks"}),a.length>0?i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(d=>{var h;return i.jsx(_e,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:d.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${["done","completed"].includes(String(d.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(d.status).toLowerCase())?"Done":"Pending"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((h=d.project)==null?void 0:h.title)||"No project"}),d.description&&i.jsx("div",{className:"text-sm text-gray-700 mb-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t(d.description)}}),d.due_date&&i.jsxs("p",{className:`text-xs ${En(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())?"text-red-600 font-medium":"text-gray-500"}`,children:["Due ",Ni(d.due_date),En(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())&&" (Overdue!)"]})]})})},d.id)}),a.length>5&&i.jsxs("a",{href:"/developer/tasks",className:"text-primary font-medium hover:underline",children:["View all ",a.length," tasks â†’"]})]}):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks assigned yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"ðŸ’¡ Development Tip"}),i.jsx("p",{className:"text-blue-50",children:"Stay organized by checking your tasks regularly. Coordinate with your team to ensure smooth project delivery!"})]})})]})},z_=()=>{const{user:e}=$e(),[t,r]=N.useState({myProjects:0,myTasks:0,completedTasks:0,pendingTasks:0}),[n,a]=N.useState([]),[s,o]=N.useState([]),[l,u]=N.useState(!0);N.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([oe.get("/projects"),oe.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(w=>{var b;return w.client_id===(e==null?void 0:e.id)||((b=w.client)==null?void 0:b.id)===(e==null?void 0:e.id)});o(p);const g=new Set(p.map(w=>w.id)),v=m.filter(w=>{var b;return g.has((b=w.project)==null?void 0:b.id)});a(v);const y=v.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,x=v.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length;r({myProjects:p.length,myTasks:v.length,completedTasks:y,pendingTasks:x})}catch(c){console.error("Failed to fetch client data:",c)}finally{u(!1)}};return l?i.jsx(Je,{}):i.jsxs("div",{children:[i.jsx(Ed,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Track your projects and their progress"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Progress"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/client/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),s.length>0?i.jsx("div",{className:"space-y-3",children:s.map(c=>{var p,g;const d=n.filter(v=>{var y;return((y=v.project)==null?void 0:y.id)===c.id}),h=d.filter(v=>["done","completed"].includes(String(v.status).toLowerCase())).length,m=d.length>0?Math.round(h/d.length*100):0;return i.jsxs(_e,{className:"hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:c.title||c.name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["PM: ",((p=c.project_manager)==null?void 0:p.name)||"Unassigned"]})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:((g=c.status)==null?void 0:g.replace("_"," ").toUpperCase())||"PLANNING"})]}),d.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[m,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full transition-all",style:{width:`${m}%`}})}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[h," of ",d.length," tasks done"]})]})]}),i.jsx("a",{href:`/client/projects/${c.id}`,className:"text-primary font-medium text-sm hover:underline",children:"View Project â†’"})]},c.id)})}):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Tasks Overview"}),n.length>0?i.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(c=>{var d;return i.jsx(_e,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.title})}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:(d=c.project)==null?void 0:d.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${["done","completed"].includes(String(c.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(c.status).toLowerCase())?"âœ“ Done":"â³ In Progress"}),c.assigned_to&&i.jsx("span",{className:"text-xs text-gray-500",children:"Assigned to developer"})]})]})})},c.id)}),n.length>5&&i.jsxs("a",{href:"/client/tasks",className:"text-primary font-medium text-sm hover:underline",children:["View all ",n.length," tasks â†’"]})]}):i.jsx(_e,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"ðŸ“Š Project Insights"}),i.jsx("p",{className:"text-blue-50",children:"Monitor your project progress through task completion. Stay in touch with your project manager for updates and timelines."})]})})]})},U_=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},jy=()=>{const{user:e}=$e(),t="rgb(242, 82, 146)",[r,n]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState(new Date),[u,f]=N.useState("week"),[c,d]=N.useState(!1),[h,m]=N.useState(null),[p,g]=N.useState({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),v=U_((e==null?void 0:e.role)||"admin");N.useEffect(()=>{y(),console.log("AdminTasksCalendar mounted")},[]);const y=async()=>{try{let P=(await oe.get("/tasks")).data;P.data&&Array.isArray(P.data)?P=P.data:Array.isArray(P)||(P=[]),console.log("Calendar tasks loaded:",P),n(P)}catch(_){console.error("Failed to fetch tasks:",_)}finally{s(!1)}},x=_=>({"Website Translation":{bg:"bg-purple-500",text:"text-white"},"Website Development":{bg:"bg-blue-500",text:"text-white"},"Blog Post Writing":{bg:"bg-green-500",text:"text-white"},"Employee Training":{bg:"bg-yellow-500",text:"text-white"},Marketing:{bg:"bg-pink-500",text:"text-white"},"Executive meeting":{bg:"bg-indigo-500",text:"text-white"}})[_]||{bg:"bg-gray-500",text:"text-white"},w=()=>{const _=[],P=new Date(o),I=P.getDate()-P.getDay();for(let k=0;k<7;k++){const R=new Date(P.setDate(I+k));_.push(new Date(R))}return _},b=()=>{const _=w(),P=[];return r.forEach((I,k)=>{if(I.due_date){const R=new Date(I.due_date);_.forEach((M,$)=>{if(R.getDate()===M.getDate()&&R.getMonth()===M.getMonth()&&R.getFullYear()===M.getFullYear()){const G=String(9+k%8).padStart(2,"0"),D=["Website Translation","Website Development","Blog Post Writing","Employee Training","Marketing","Executive meeting"],z={...I,time:I.time||`${G}:00`,category:I.category||D[k%D.length],dayIndex:$,displayDate:M};P.push(z)}})}}),console.log("Week Tasks:",P),P},j=async()=>{if(!p.title||!p.time){alert("Please fill in all fields");return}try{const _={title:p.title,description:p.description,due_date:h==null?void 0:h.toISOString().split("T")[0],status:"open",priority:"medium"};await oe.post("/tasks",_),g({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),d(!1),m(null),y()}catch(_){console.error("Failed to create task:",_),alert("Error creating task")}},S=["January","February","March","April","May","June","July","August","September","October","November","December"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T=Array.from({length:24},(_,P)=>P),O=w(),A=b();return a?i.jsx(Je,{}):i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Calendar"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your tasks, events, and meetings"})]}),i.jsxs("button",{onClick:()=>{m(new Date),d(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:t},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Event"]})]})}),i.jsxs("div",{className:"bg-white rounded-xl p-4 border flex items-center justify-between",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>l(new Date(o.setDate(o.getDate()-7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("button",{onClick:()=>l(new Date),className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 border border-gray-300 hover:bg-gray-50 transition-colors",children:"today"}),i.jsx("button",{onClick:()=>l(new Date(o.setDate(o.getDate()+7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[S[o.getMonth()]," ",o.getFullYear()]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>f("month"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u==="month"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:u==="month"?{background:"rgb(99, 102, 241)"}:{},children:"month"}),i.jsx("button",{onClick:()=>f("week"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u==="week"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:u==="week"?{background:"rgb(99, 102, 241)"}:{},children:"week"}),i.jsx("button",{onClick:()=>f("day"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u==="day"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:u==="day"?{background:"rgb(99, 102, 241)"}:{},children:"day"})]})]}),u==="week"&&i.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"grid grid-cols-8 gap-0 border-b",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"p-3 font-semibold text-gray-700 text-sm"}),O.map((_,P)=>i.jsxs("div",{className:"p-3 text-center border-l",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"text-xs font-medium text-gray-600",children:E[_.getDay()]}),i.jsx("div",{className:"text-sm font-semibold text-gray-900",children:_.getDate()})]},P))]}),i.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"70vh"},children:i.jsxs("div",{className:"grid grid-cols-8 gap-0",children:[i.jsx("div",{className:"border-r",style:{borderColor:"#e9ecef"},children:T.map(_=>i.jsxs("div",{className:"h-20 p-2 text-xs text-gray-500 font-medium border-b text-right pr-3",style:{borderColor:"#e9ecef"},children:[String(_).padStart(2,"0"),":00"]},_))}),O.map((_,P)=>i.jsxs("div",{className:"border-l relative",style:{borderColor:"#e9ecef"},onClick:()=>{m(new Date(_)),d(!0)},children:[T.map(I=>i.jsx("div",{className:"h-20 border-b cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"#e9ecef"}},`${P}-${I}`)),A.filter(I=>I.dayIndex===P).map((I,k)=>{var D,z;const R=x(I.category||"Website Translation"),M=parseInt(((D=I.time)==null?void 0:D.split(":")[0])||"09"),$=parseInt(((z=I.time)==null?void 0:z.split(":")[1])||"00"),G=(M+$/60)/24*100;return i.jsxs("a",{href:`${v}/tasks/${I.id}`,className:`absolute left-0 right-0 mx-1 px-2 py-1 rounded text-xs font-medium text-white truncate hover:opacity-80 transition-opacity ${R.bg}`,style:{top:`calc(${G}% + 2px)`,height:"40px",zIndex:k+1},title:`${I.time||"09:00"} ${I.title}`,children:[i.jsx("div",{className:"text-xs font-bold",children:I.time||"09:00"}),i.jsx("div",{className:"truncate",children:I.title})]},`${I.id}-${k}`)})]},P))]})})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md border",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?`Add event for ${h.toDateString()}`:"Add Event"}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),i.jsx("input",{type:"text",value:p.title,onChange:_=>g({...p,title:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",placeholder:"e.g., Write email announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),i.jsx("input",{type:"time",value:p.time,onChange:_=>g({...p,time:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),i.jsx("input",{type:"number",min:"0.5",step:"0.5",value:p.duration,onChange:_=>g({...p,duration:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:p.category,onChange:_=>g({...p,category:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",children:[i.jsx("option",{children:"Website Translation"}),i.jsx("option",{children:"Website Development"}),i.jsx("option",{children:"Blog Post Writing"}),i.jsx("option",{children:"Employee Training"}),i.jsx("option",{children:"Marketing"}),i.jsx("option",{children:"Executive meeting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{value:p.description,onChange:_=>g({...p,description:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 resize-none",rows:"3",placeholder:"Add details..."})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(99, 102, 241)"},children:"Create Event"})]})]})]})})]})},H_=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},q_=(e="")=>e.split(" ").filter(Boolean).slice(0,2).map(t=>{var r;return((r=t[0])==null?void 0:r.toUpperCase())||""}).join(""),G_=()=>{const{user:e}=$e(),[t,r]=N.useState([]),[n,a]=N.useState(!0),[s,o]=N.useState("all"),[l,u]=N.useState(""),[f,c]=N.useState(1),[d,h]=N.useState("table"),m=12,p=H_((e==null?void 0:e.role)||"admin");N.useEffect(()=>{g()},[]);const g=async()=>{var E;try{const T=await oe.get("/tasks");console.log("Tasks API Response:",T.data);let O=T.data;O.data&&Array.isArray(O.data)?O=O.data:Array.isArray(O)||(O=[]),console.log("Parsed Tasks:",O),r(O)}catch(T){console.error("Failed to fetch tasks:",T),console.error("Error details:",((E=T.response)==null?void 0:E.data)||T.message)}finally{a(!1)}},v=t.filter(E=>{var A,_;const T=s==="all"||E.status===s,O=((A=E.title)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((_=E.description)==null?void 0:_.toLowerCase().includes(l.toLowerCase()));return T&&O});if(n)return i.jsx(Je,{});if(d==="calendar")return i.jsx(jy,{});const y=Math.max(1,Math.ceil(v.length/m)),x=Math.min(f,y),w=(x-1)*m,b=v.slice(w,w+m),j=E=>{var M,$,G,D;const T=[];if(Array.isArray(E.task_assignments)&&E.task_assignments.length>0&&E.task_assignments.forEach(z=>{const C=z.user||z;T.push({id:C.id,name:C.name||C.full_name||C.username||"Developer",role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})}),T.length===0&&E.assignee&&T.push(E.assignee),T.length===0){const z=Array.isArray((M=E.project)==null?void 0:M.members)?E.project.members:[],C=Array.isArray(($=E.project)==null?void 0:$.developers)?E.project.developers:[],L=Array.isArray((G=E.project)==null?void 0:G.users)?E.project.users:[],U=[...z,...C,...L].filter(K=>{var F;return(K.role||((F=K.pivot)==null?void 0:F.role))==="developer"});U.length>0?T.push(...U):T.push(...z,...L)}const O=T.map(z=>({id:z.id||z.user_id,name:z.name||z.full_name||z.username||"Developer",avatar:z.avatar||z.profile_image||null,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})).filter(z=>z.id||z.name).reduce((z,C)=>z.some(U=>U.id&&C.id&&U.id===C.id&&U.role===C.role)?z:[...z,C],[]),A=((D=E.project)==null?void 0:D.project_manager)||E.project_manager,_=A?[{id:A.id,name:A.name||A.full_name||A.username||"Project Manager",avatar:A.avatar||A.profile_image||null,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}]:[],P=Math.max(0,O.length-2),I=O.slice(0,2),k=[...I,..._],R=[...I,..._].map(z=>z.name).filter(Boolean).join(", ");return{avatars:k,extraDevelopers:P,labelText:R}},S=E=>{const T=(E||"").toLowerCase();return T==="done"||T==="completed"?"text-green-700 bg-green-50 border-green-200":T==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":T==="open"||T==="pending"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"};return i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage all tasks"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>h("table"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="table"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="table"?{background:"rgb(99, 102, 241)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2V3m-6 4h12m-12 6h12m-12 6h12"})})}),i.jsx("button",{onClick:()=>h("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="calendar"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="calendar"?{background:"rgb(99, 102, 241)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),i.jsxs("button",{className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(99, 102, 241)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:E=>{u(E.target.value),c(1)},className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(E=>{const T=s===E,O=E==="all"?"All":E.replace("_"," "),A=E==="all"?t.length:t.filter(_=>_.status===E).length;return i.jsxs("button",{onClick:()=>{o(E),c(1)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${T?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:T?{background:"rgb(99, 102, 241)"}:{},children:[O.charAt(0).toUpperCase()+O.slice(1)," (",A,")"]},E)})})]})}),v.length>0?i.jsxs("div",{className:"bg-white rounded-xl border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(E=>{var I;const T=E.due_date?Ni(E.due_date):"Not set",O=E.due_date&&En(E.due_date)&&E.status!=="done",A=((I=E.workflow_status)==null?void 0:I.name)||E.workflow_status||"Not set",{avatars:_,extraDevelopers:P}=j(E);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:E.title})]}),E.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:E.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${S(E.status)}`,children:E.status?E.status.replace("_"," "):"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:A}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:O?"text-red-600":"text-gray-700",children:T})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:_.length>0?i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"flex -space-x-2",children:[_.map((k,R)=>i.jsx("a",{href:`${p}/users/${k.role}/${k.id}`,title:`${k.name} - ${k.roleLabel}`,className:"w-8 h-8 rounded-full text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer overflow-hidden flex-shrink-0",style:k.avatar?{backgroundImage:`url(${k.avatar})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:`linear-gradient(135deg, ${k.from}, ${k.to})`},children:!k.avatar&&q_(k.name)},`${k.role}-${k.id||R}`)),P>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white flex-shrink-0",children:["+",P]})]})}):"Not assigned"})]},E.id)})})]})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Showing ",v.length===0?0:w+1,"â€“",Math.min(w+m,v.length)," of ",v.length," tasks"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>c(E=>Math.max(1,E-1)),disabled:x===1,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===1?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Previous page",children:"â† Prev"}),i.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:y},(E,T)=>T+1).map(E=>i.jsx("button",{onClick:()=>c(E),className:`w-8 h-8 rounded-lg text-xs font-semibold transition-all ${x===E?"bg-blue-600 text-white border border-blue-600":"text-gray-700 hover:bg-gray-100 border border-gray-200 hover:border-gray-300"}`,children:E},E))}),i.jsx("button",{onClick:()=>c(E=>Math.min(y,E+1)),disabled:x===y,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===y?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Next page",children:"Next â†’"})]})]})]}):i.jsxs("div",{className:"bg-white border rounded-xl p-8 text-center",style:{borderColor:"#e5e7eb"},children:[i.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("h3",{className:"text-base font-semibold mb-1 text-gray-700",children:s==="all"?"No Tasks Yet":`No ${s.replace("_"," ")} tasks`}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s==="all"?"Create your first task to get started":`You don't have any ${s.replace("_"," ")} tasks`}),i.jsx("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(99, 102, 241)"},children:"+ Create Task"})]})]})},V_=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,s]=N.useState("all"),[o,l]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await oe.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Manage tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${En(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",Ni(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})},W_=()=>{const{user:e}=$e(),[t,r]=N.useState([]),[n,a]=N.useState(!0),[s,o]=N.useState("all"),[l,u]=N.useState("");N.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await oe.get("/tasks"),h=Array.isArray(d.data)?d.data:d.data.data||[];r(h)}catch(d){console.error("Failed to fetch tasks:",d)}finally{a(!1)}},c=t.filter(d=>{var p,g;const h=s==="all"||d.status===s,m=((p=d.title)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=d.description)==null?void 0:g.toLowerCase().includes(l.toLowerCase()));return h&&m});return n?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"My Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Tasks assigned to you"})]})})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:d=>u(d.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(d=>i.jsx("button",{onClick:()=>o(d),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${s===d?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:s===d?{background:"#59569D"}:{},children:d==="all"?`All (${t.length})`:d.replace("_"," ").charAt(0).toUpperCase()+d.slice(1)},d))})]})}),i.jsx("div",{className:"space-y-2",children:c.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks assigned to you"})}):c.map(d=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:d.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:d.description||"No description"}}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.status==="done"?"bg-green-100 text-green-700":d.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status}),d.due_date&&i.jsxs("span",{className:`text-xs ${En(d.due_date)&&d.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",Ni(d.due_date)]}),d.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",d.project.name||d.project.title]})]})]})})},d.id))})]})},K_=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,s]=N.useState("all"),[o,l]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await oe.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(Je,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Track tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${En(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",Ni(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})};function Y_(){this.__data__=[],this.size=0}var X_=Y_;function Z_(e,t){return e===t||e!==e&&t!==t}var Ny=Z_,Q_=Ny;function J_(e,t){for(var r=e.length;r--;)if(Q_(e[r][0],t))return r;return-1}var Go=J_,eE=Go,tE=Array.prototype,rE=tE.splice;function nE(e){var t=this.__data__,r=eE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rE.call(t,r,1),--this.size,!0}var aE=nE,iE=Go;function sE(e){var t=this.__data__,r=iE(t,e);return r<0?void 0:t[r][1]}var oE=sE,lE=Go;function cE(e){return lE(this.__data__,e)>-1}var uE=cE,dE=Go;function fE(e,t){var r=this.__data__,n=dE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hE=fE,mE=X_,pE=aE,gE=oE,vE=uE,yE=hE;function ba(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ba.prototype.clear=mE;ba.prototype.delete=pE;ba.prototype.get=gE;ba.prototype.has=vE;ba.prototype.set=yE;var Vo=ba,xE=Vo;function bE(){this.__data__=new xE,this.size=0}var wE=bE;function jE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var NE=jE;function _E(e){return this.__data__.get(e)}var EE=_E;function OE(e){return this.__data__.has(e)}var SE=OE,TE=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt,_y=TE,PE=_y,AE=typeof self=="object"&&self&&self.Object===Object&&self,kE=PE||AE||Function("return this")(),Fr=kE,IE=Fr,CE=IE.Symbol,Od=CE,cm=Od,Ey=Object.prototype,ME=Ey.hasOwnProperty,DE=Ey.toString,Ba=cm?cm.toStringTag:void 0;function RE(e){var t=ME.call(e,Ba),r=e[Ba];try{e[Ba]=void 0;var n=!0}catch{}var a=DE.call(e);return n&&(t?e[Ba]=r:delete e[Ba]),a}var LE=RE,BE=Object.prototype,$E=BE.toString;function FE(e){return $E.call(e)}var zE=FE,um=Od,UE=LE,HE=zE,qE="[object Null]",GE="[object Undefined]",dm=um?um.toStringTag:void 0;function VE(e){return e==null?e===void 0?GE:qE:dm&&dm in Object(e)?UE(e):HE(e)}var Wo=VE;function WE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Oy=WE,KE=Wo,YE=Oy,XE="[object AsyncFunction]",ZE="[object Function]",QE="[object GeneratorFunction]",JE="[object Proxy]";function eO(e){if(!YE(e))return!1;var t=KE(e);return t==ZE||t==QE||t==XE||t==JE}var Sy=eO,tO=Fr,rO=tO["__core-js_shared__"],nO=rO,mc=nO,fm=function(){var e=/[^.]+$/.exec(mc&&mc.keys&&mc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aO(e){return!!fm&&fm in e}var iO=aO,sO=Function.prototype,oO=sO.toString;function lO(e){if(e!=null){try{return oO.call(e)}catch{}try{return e+""}catch{}}return""}var Ty=lO,cO=Sy,uO=iO,dO=Oy,fO=Ty,hO=/[\\^$.*+?()[\]{}|]/g,mO=/^\[object .+?Constructor\]$/,pO=Function.prototype,gO=Object.prototype,vO=pO.toString,yO=gO.hasOwnProperty,xO=RegExp("^"+vO.call(yO).replace(hO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bO(e){if(!dO(e)||uO(e))return!1;var t=cO(e)?xO:mO;return t.test(fO(e))}var wO=bO;function jO(e,t){return e==null?void 0:e[t]}var NO=jO,_O=wO,EO=NO;function OO(e,t){var r=EO(e,t);return _O(r)?r:void 0}var wa=OO,SO=wa,TO=Fr,PO=SO(TO,"Map"),Sd=PO,AO=wa,kO=AO(Object,"create"),Ko=kO,hm=Ko;function IO(){this.__data__=hm?hm(null):{},this.size=0}var CO=IO;function MO(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DO=MO,RO=Ko,LO="__lodash_hash_undefined__",BO=Object.prototype,$O=BO.hasOwnProperty;function FO(e){var t=this.__data__;if(RO){var r=t[e];return r===LO?void 0:r}return $O.call(t,e)?t[e]:void 0}var zO=FO,UO=Ko,HO=Object.prototype,qO=HO.hasOwnProperty;function GO(e){var t=this.__data__;return UO?t[e]!==void 0:qO.call(t,e)}var VO=GO,WO=Ko,KO="__lodash_hash_undefined__";function YO(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WO&&t===void 0?KO:t,this}var XO=YO,ZO=CO,QO=DO,JO=zO,eS=VO,tS=XO;function ja(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ja.prototype.clear=ZO;ja.prototype.delete=QO;ja.prototype.get=JO;ja.prototype.has=eS;ja.prototype.set=tS;var rS=ja,mm=rS,nS=Vo,aS=Sd;function iS(){this.size=0,this.__data__={hash:new mm,map:new(aS||nS),string:new mm}}var sS=iS;function oS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lS=oS,cS=lS;function uS(e,t){var r=e.__data__;return cS(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Yo=uS,dS=Yo;function fS(e){var t=dS(this,e).delete(e);return this.size-=t?1:0,t}var hS=fS,mS=Yo;function pS(e){return mS(this,e).get(e)}var gS=pS,vS=Yo;function yS(e){return vS(this,e).has(e)}var xS=yS,bS=Yo;function wS(e,t){var r=bS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var jS=wS,NS=sS,_S=hS,ES=gS,OS=xS,SS=jS;function Na(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Na.prototype.clear=NS;Na.prototype.delete=_S;Na.prototype.get=ES;Na.prototype.has=OS;Na.prototype.set=SS;var Py=Na,TS=Vo,PS=Sd,AS=Py,kS=200;function IS(e,t){var r=this.__data__;if(r instanceof TS){var n=r.__data__;if(!PS||n.length<kS-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new AS(n)}return r.set(e,t),this.size=r.size,this}var CS=IS,MS=Vo,DS=wE,RS=NE,LS=EE,BS=SE,$S=CS;function _a(e){var t=this.__data__=new MS(e);this.size=t.size}_a.prototype.clear=DS;_a.prototype.delete=RS;_a.prototype.get=LS;_a.prototype.has=BS;_a.prototype.set=$S;var FS=_a,zS="__lodash_hash_undefined__";function US(e){return this.__data__.set(e,zS),this}var HS=US;function qS(e){return this.__data__.has(e)}var GS=qS,VS=Py,WS=HS,KS=GS;function Us(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new VS;++t<r;)this.add(e[t])}Us.prototype.add=Us.prototype.push=WS;Us.prototype.has=KS;var YS=Us;function XS(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ZS=XS;function QS(e,t){return e.has(t)}var JS=QS,eT=YS,tT=ZS,rT=JS,nT=1,aT=2;function iT(e,t,r,n,a,s){var o=r&nT,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=s.get(e),c=s.get(t);if(f&&c)return f==t&&c==e;var d=-1,h=!0,m=r&aT?new eT:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var p=e[d],g=t[d];if(n)var v=o?n(g,p,d,t,e,s):n(p,g,d,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!tT(t,function(y,x){if(!rT(m,x)&&(p===y||a(p,y,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Ay=iT,sT=Fr,oT=sT.Uint8Array,lT=oT;function cT(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var uT=cT;function dT(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var fT=dT,pm=Od,gm=lT,hT=Ny,mT=Ay,pT=uT,gT=fT,vT=1,yT=2,xT="[object Boolean]",bT="[object Date]",wT="[object Error]",jT="[object Map]",NT="[object Number]",_T="[object RegExp]",ET="[object Set]",OT="[object String]",ST="[object Symbol]",TT="[object ArrayBuffer]",PT="[object DataView]",vm=pm?pm.prototype:void 0,pc=vm?vm.valueOf:void 0;function AT(e,t,r,n,a,s,o){switch(r){case PT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case TT:return!(e.byteLength!=t.byteLength||!s(new gm(e),new gm(t)));case xT:case bT:case NT:return hT(+e,+t);case wT:return e.name==t.name&&e.message==t.message;case _T:case OT:return e==t+"";case jT:var l=pT;case ET:var u=n&vT;if(l||(l=gT),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;n|=yT,o.set(e,t);var c=mT(l(e),l(t),n,a,s,o);return o.delete(e),c;case ST:if(pc)return pc.call(e)==pc.call(t)}return!1}var kT=AT;function IT(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var CT=IT,MT=Array.isArray,Td=MT,DT=CT,RT=Td;function LT(e,t,r){var n=t(e);return RT(e)?n:DT(n,r(e))}var BT=LT;function $T(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var FT=$T;function zT(){return[]}var UT=zT,HT=FT,qT=UT,GT=Object.prototype,VT=GT.propertyIsEnumerable,ym=Object.getOwnPropertySymbols,WT=ym?function(e){return e==null?[]:(e=Object(e),HT(ym(e),function(t){return VT.call(e,t)}))}:qT,KT=WT;function YT(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var XT=YT;function ZT(e){return e!=null&&typeof e=="object"}var Xo=ZT,QT=Wo,JT=Xo,eP="[object Arguments]";function tP(e){return JT(e)&&QT(e)==eP}var rP=tP,xm=rP,nP=Xo,ky=Object.prototype,aP=ky.hasOwnProperty,iP=ky.propertyIsEnumerable,sP=xm(function(){return arguments}())?xm:function(e){return nP(e)&&aP.call(e,"callee")&&!iP.call(e,"callee")},oP=sP,Hs={exports:{}};function lP(){return!1}var cP=lP;Hs.exports;(function(e,t){var r=Fr,n=cP,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;e.exports=f})(Hs,Hs.exports);var Iy=Hs.exports,uP=9007199254740991,dP=/^(?:0|[1-9]\d*)$/;function fP(e,t){var r=typeof e;return t=t??uP,!!t&&(r=="number"||r!="symbol"&&dP.test(e))&&e>-1&&e%1==0&&e<t}var hP=fP,mP=9007199254740991;function pP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mP}var Cy=pP,gP=Wo,vP=Cy,yP=Xo,xP="[object Arguments]",bP="[object Array]",wP="[object Boolean]",jP="[object Date]",NP="[object Error]",_P="[object Function]",EP="[object Map]",OP="[object Number]",SP="[object Object]",TP="[object RegExp]",PP="[object Set]",AP="[object String]",kP="[object WeakMap]",IP="[object ArrayBuffer]",CP="[object DataView]",MP="[object Float32Array]",DP="[object Float64Array]",RP="[object Int8Array]",LP="[object Int16Array]",BP="[object Int32Array]",$P="[object Uint8Array]",FP="[object Uint8ClampedArray]",zP="[object Uint16Array]",UP="[object Uint32Array]",Pe={};Pe[MP]=Pe[DP]=Pe[RP]=Pe[LP]=Pe[BP]=Pe[$P]=Pe[FP]=Pe[zP]=Pe[UP]=!0;Pe[xP]=Pe[bP]=Pe[IP]=Pe[wP]=Pe[CP]=Pe[jP]=Pe[NP]=Pe[_P]=Pe[EP]=Pe[OP]=Pe[SP]=Pe[TP]=Pe[PP]=Pe[AP]=Pe[kP]=!1;function HP(e){return yP(e)&&vP(e.length)&&!!Pe[gP(e)]}var qP=HP;function GP(e){return function(t){return e(t)}}var VP=GP,qs={exports:{}};qs.exports;(function(e,t){var r=_y,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qs,qs.exports);var WP=qs.exports,KP=qP,YP=VP,bm=WP,wm=bm&&bm.isTypedArray,XP=wm?YP(wm):KP,My=XP,ZP=XT,QP=oP,JP=Td,eA=Iy,tA=hP,rA=My,nA=Object.prototype,aA=nA.hasOwnProperty;function iA(e,t){var r=JP(e),n=!r&&QP(e),a=!r&&!n&&eA(e),s=!r&&!n&&!a&&rA(e),o=r||n||a||s,l=o?ZP(e.length,String):[],u=l.length;for(var f in e)(t||aA.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||tA(f,u)))&&l.push(f);return l}var sA=iA,oA=Object.prototype;function lA(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||oA;return e===r}var cA=lA;function uA(e,t){return function(r){return e(t(r))}}var dA=uA,fA=dA,hA=fA(Object.keys,Object),mA=hA,pA=cA,gA=mA,vA=Object.prototype,yA=vA.hasOwnProperty;function xA(e){if(!pA(e))return gA(e);var t=[];for(var r in Object(e))yA.call(e,r)&&r!="constructor"&&t.push(r);return t}var bA=xA,wA=Sy,jA=Cy;function NA(e){return e!=null&&jA(e.length)&&!wA(e)}var _A=NA,EA=sA,OA=bA,SA=_A;function TA(e){return SA(e)?EA(e):OA(e)}var PA=TA,AA=BT,kA=KT,IA=PA;function CA(e){return AA(e,IA,kA)}var MA=CA,jm=MA,DA=1,RA=Object.prototype,LA=RA.hasOwnProperty;function BA(e,t,r,n,a,s){var o=r&DA,l=jm(e),u=l.length,f=jm(t),c=f.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=l[d];if(!(o?h in t:LA.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++d<u;){h=l[d];var y=e[h],x=t[h];if(n)var w=o?n(x,y,h,t,e,s):n(y,x,h,e,t,s);if(!(w===void 0?y===x||a(y,x,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var b=e.constructor,j=t.constructor;b!=j&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var $A=BA,FA=wa,zA=Fr,UA=FA(zA,"DataView"),HA=UA,qA=wa,GA=Fr,VA=qA(GA,"Promise"),WA=VA,KA=wa,YA=Fr,XA=KA(YA,"Set"),ZA=XA,QA=wa,JA=Fr,ek=QA(JA,"WeakMap"),tk=ek,eu=HA,tu=Sd,ru=WA,nu=ZA,au=tk,Dy=Wo,Ea=Ty,Nm="[object Map]",rk="[object Object]",_m="[object Promise]",Em="[object Set]",Om="[object WeakMap]",Sm="[object DataView]",nk=Ea(eu),ak=Ea(tu),ik=Ea(ru),sk=Ea(nu),ok=Ea(au),mn=Dy;(eu&&mn(new eu(new ArrayBuffer(1)))!=Sm||tu&&mn(new tu)!=Nm||ru&&mn(ru.resolve())!=_m||nu&&mn(new nu)!=Em||au&&mn(new au)!=Om)&&(mn=function(e){var t=Dy(e),r=t==rk?e.constructor:void 0,n=r?Ea(r):"";if(n)switch(n){case nk:return Sm;case ak:return Nm;case ik:return _m;case sk:return Em;case ok:return Om}return t});var lk=mn,gc=FS,ck=Ay,uk=kT,dk=$A,Tm=lk,Pm=Td,Am=Iy,fk=My,hk=1,km="[object Arguments]",Im="[object Array]",Yi="[object Object]",mk=Object.prototype,Cm=mk.hasOwnProperty;function pk(e,t,r,n,a,s){var o=Pm(e),l=Pm(t),u=o?Im:Tm(e),f=l?Im:Tm(t);u=u==km?Yi:u,f=f==km?Yi:f;var c=u==Yi,d=f==Yi,h=u==f;if(h&&Am(e)){if(!Am(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new gc),o||fk(e)?ck(e,t,r,n,a,s):uk(e,t,u,r,n,a,s);if(!(r&hk)){var m=c&&Cm.call(e,"__wrapped__"),p=d&&Cm.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new gc),a(g,v,r,n,s)}}return h?(s||(s=new gc),dk(e,t,r,n,a,s)):!1}var gk=pk,vk=gk,Mm=Xo;function Ry(e,t,r,n,a){return e===t?!0:e==null||t==null||!Mm(e)&&!Mm(t)?e!==e&&t!==t:vk(e,t,r,n,Ry,a)}var yk=Ry,xk=yk;function bk(e,t){return xk(e,t)}var wk=bk,Ly={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:Rt,function(){return function(r){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=109)}([function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(17),o=a(18),l=a(19),u=a(45),f=a(46),c=a(47),d=a(48),h=a(49),m=a(12),p=a(32),g=a(33),v=a(31),y=a(1),x={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:d.default,Scroll:u.default,Block:c.default,Inline:f.default,Text:h.default,Attributor:{Attribute:m.default,Class:p.default,Style:g.default,Store:v.default}};n.default=x},function(r,n,a){var s=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)x.hasOwnProperty(w)&&(y[w]=x[w])};return function(y,x){v(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(v){s(y,v);function y(x){var w=this;return x="[Parchment] "+x,w=v.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return y}(Error);n.ParchmentError=o;var l={},u={},f={},c={};n.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function h(v,y){var x=p(v);if(x==null)throw new o("Unable to create "+v+" blot");var w=x,b=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:w.create(y);return new w(b,y)}n.create=h;function m(v,y){return y===void 0&&(y=!1),v==null?null:v[n.DATA_KEY]!=null?v[n.DATA_KEY].blot:y?m(v.parentNode,y):null}n.find=m;function p(v,y){y===void 0&&(y=d.ANY);var x;if(typeof v=="string")x=c[v]||l[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?x=c.block:v&d.LEVEL&d.INLINE&&(x=c.inline);else if(v instanceof HTMLElement){var w=(v.getAttribute("class")||"").split(/\s+/);for(var b in w)if(x=u[w[b]],x)break;x=x||f[v.tagName]}return x==null?null:y&d.LEVEL&x.scope&&y&d.TYPE&x.scope?x:null}n.query=p;function g(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(v.length>1)return v.map(function(b){return g(b)});var x=v[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(u[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(b){return b.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(b){(f[b]==null||x.className==null)&&(f[b]=x)})}return x}n.register=g},function(r,n,a){var s=a(51),o=a(11),l=a(3),u=a(20),f="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var m={};return d.length===0?this:(m.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var m={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},c.prototype.push=function(d){var h=this.ops.length,m=this.ops[h-1];if(d=l(!0,{},d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(d),this;if(o(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],m=[];return this.forEach(function(p){var g=d(p)?h:m;g.push(p)}),[h,m]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+u.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+u.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var m=[],p=u.iterator(this.ops),g=0;g<h&&p.hasNext();){var v;g<d?v=p.next(d-g):(v=p.next(h-g),m.push(v)),g+=u.length(v)}return new c(m)},c.prototype.compose=function(d){var h=u.iterator(this.ops),m=u.iterator(d.ops),p=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var v=g.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),p.push(h.next());g.retain-v>0&&m.next(g.retain-v)}for(var y=new c(p);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")y.push(m.next());else if(h.peekType()==="delete")y.push(h.next());else{var x=Math.min(h.peekLength(),m.peekLength()),w=h.next(x),b=m.next(x);if(typeof b.retain=="number"){var j={};typeof w.retain=="number"?j.retain=x:j.insert=w.insert;var S=u.attributes.compose(w.attributes,b.attributes,typeof w.retain=="number");if(S&&(j.attributes=S),y.push(j),!m.hasNext()&&o(y.ops[y.ops.length-1],j)){var E=new c(h.rest());return y.concat(E).chop()}}else typeof b.delete=="number"&&typeof w.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var m=[this,d].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:f;var b=x===d?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),p=new c,g=s(m[0],m[1],h),v=u.iterator(this.ops),y=u.iterator(d.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var b=0;switch(x[0]){case s.INSERT:b=Math.min(y.peekLength(),w),p.push(y.next(b));break;case s.DELETE:b=Math.min(w,v.peekLength()),v.next(b),p.delete(b);break;case s.EQUAL:b=Math.min(v.peekLength(),y.peekLength(),w);var j=v.next(b),S=y.next(b);o(j.insert,S.insert)?p.retain(b,u.attributes.diff(j.attributes,S.attributes)):p.push(S).delete(b);break}w-=b}}),p.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var m=u.iterator(this.ops),p=new c,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var v=m.peek(),y=u.length(v)-m.peekLength(),x=typeof v.insert=="string"?v.insert.indexOf(h,y)-y:-1;if(x<0)p.push(m.next());else if(x>0)p.push(m.next(x));else{if(d(p,m.next(1).attributes||{},g)===!1)return;g+=1,p=new c}}p.length()>0&&d(p,{},g)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var m=u.iterator(this.ops),p=u.iterator(d.ops),g=new c;m.hasNext()||p.hasNext();)if(m.peekType()==="insert"&&(h||p.peekType()!=="insert"))g.retain(u.length(m.next()));else if(p.peekType()==="insert")g.push(p.next());else{var v=Math.min(m.peekLength(),p.peekLength()),y=m.next(v),x=p.next(v);if(y.delete)continue;x.delete?g.push(x):g.retain(v,u.attributes.transform(y.attributes,x.attributes,h))}return g.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var m=u.iterator(this.ops),p=0;m.hasNext()&&p<=d;){var g=m.peekLength(),v=m.peekType();if(m.next(),v==="delete"){d-=Math.min(g,d-p);continue}else v==="insert"&&(p<d||!h)&&(d+=g);p+=g}return d},r.exports=c},function(r,n){var a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},f=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var p=a.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!p&&!g)return!1;var v;for(v in m);return typeof v>"u"||a.call(m,v)},c=function(m,p){o&&p.name==="__proto__"?o(m,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):m[p.name]=p.newValue},d=function(m,p){if(p==="__proto__")if(a.call(m,p)){if(l)return l(m,p).value}else return;return m[p]};r.exports=function h(){var m,p,g,v,y,x,w=arguments[0],b=1,j=arguments.length,S=!1;for(typeof w=="boolean"&&(S=w,w=arguments[1]||{},b=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});b<j;++b)if(m=arguments[b],m!=null)for(p in m)g=d(w,p),v=d(m,p),w!==v&&(S&&v&&(f(v)||(y=u(v)))?(y?(y=!1,x=g&&u(g)?g:[]):x=g&&f(g)?g:{},c(w,{name:p,newValue:h(S,x,v)})):typeof v<"u"&&c(w,{name:p,newValue:v}));return w}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=function(){function _(P,I){for(var k=0;k<I.length;k++){var R=I[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,I,k){return I&&_(P.prototype,I),k&&_(P,k),P}}(),o=function _(P,I,k){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,I);if(R===void 0){var M=Object.getPrototypeOf(P);return M===null?void 0:_(M,I,k)}else{if("value"in R)return R.value;var $=R.get;return $===void 0?void 0:$.call(k)}},l=a(3),u=w(l),f=a(2),c=w(f),d=a(0),h=w(d),m=a(16),p=w(m),g=a(6),v=w(g),y=a(7),x=w(y);function w(_){return _&&_.__esModule?_:{default:_}}function b(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}function j(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:_}function S(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}var E=1,T=function(_){S(P,_);function P(){return b(this,P),j(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(k,R){var M=h.default.query(k,h.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,R)}},{key:"formatAt",value:function(k,R,M,$){this.format(M,$)}},{key:"insertAt",value:function(k,R,M){if(typeof R=="string"&&R.endsWith(`
`)){var $=h.default.create(O.blotName);this.parent.insertBefore($,k===0?this:this.next),$.insertAt(0,R.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,k,R,M)}}]),P}(h.default.Embed);T.scope=h.default.Scope.BLOCK_BLOT;var O=function(_){S(P,_);function P(I){b(this,P);var k=j(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return k.cache={},k}return s(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(k,R){return R.length()===0?k:k.insert(R.value(),A(R))},new c.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(k,R){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,k,R),this.cache={}}},{key:"formatAt",value:function(k,R,M,$){R<=0||(h.default.query(M,h.default.Scope.BLOCK)?k+R===this.length()&&this.format(M,$):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,k,Math.min(R,this.length()-k-1),M,$),this.cache={})}},{key:"insertAt",value:function(k,R,M){if(M!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,k,R,M);if(R.length!==0){var $=R.split(`
`),G=$.shift();G.length>0&&(k<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(k,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var D=this;$.reduce(function(z,C){return D=D.split(z,!0),D.insertAt(0,C),C.length},k+G.length)}}},{key:"insertBefore",value:function(k,R){var M=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,k,R),M instanceof p.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(k,R){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,k,R),this.cache={}}},{key:"optimize",value:function(k){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,k),this.cache={}}},{key:"path",value:function(k){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,k,!0)}},{key:"removeChild",value:function(k){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,k),this.cache={}}},{key:"split",value:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(k===0||k>=this.length()-E)){var M=this.clone();return k===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var $=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,k,R);return this.cache={},$}}}]),P}(h.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[v.default,h.default.Embed,x.default];function A(_){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(P=(0,u.default)(P,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?P:A(_.parent,P)}n.bubbleFormats=A,n.BlockEmbed=T,n.default=O},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(z,C){var L=[],U=!0,K=!1,V=void 0;try{for(var F=z[Symbol.iterator](),q;!(U=(q=F.next()).done)&&(L.push(q.value),!(C&&L.length===C));U=!0);}catch(X){K=!0,V=X}finally{try{!U&&F.return&&F.return()}finally{if(K)throw V}}return L}return function(z,C){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return D(z,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(z,C){for(var L=0;L<C.length;L++){var U=C[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}return function(z,C,L){return C&&D(z.prototype,C),L&&D(z,L),z}}();a(50);var u=a(2),f=A(u),c=a(14),d=A(c),h=a(8),m=A(h),p=a(9),g=A(p),v=a(0),y=A(v),x=a(15),w=A(x),b=a(3),j=A(b),S=a(10),E=A(S),T=a(34),O=A(T);function A(D){return D&&D.__esModule?D:{default:D}}function _(D,z,C){return z in D?Object.defineProperty(D,z,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[z]=C,D}function P(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")}var I=(0,E.default)("quill"),k=function(){l(D,null,[{key:"debug",value:function(C){C===!0&&(C="log"),E.default.level(C)}},{key:"find",value:function(C){return C.__quill||y.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&I.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,L){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var V=C.attrName||C.blotName;typeof V=="string"?this.register("formats/"+V,C,L):Object.keys(C).forEach(function(F){U.register(F,C[F],L)})}else this.imports[C]!=null&&!K&&I.warn("Overwriting "+C+" with",L),this.imports[C]=L,(C.startsWith("blots/")||C.startsWith("formats/"))&&L.blotName!=="abstract"?y.default.register(L):C.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function D(z){var C=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,D),this.options=R(z,L),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",z);this.options.debug&&D.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(V){V===m.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(V,F){var q=C.selection.lastRange,X=q&&q.length===0?q.index:void 0;M.call(C,function(){return C.editor.update(null,F,X)},V)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(D,[{key:"addContainer",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var U=C;C=document.createElement("div"),C.classList.add(U)}return this.container.insertBefore(C,L),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,L,U){var K=this,V=$(C,L,U),F=o(V,4);return C=F[0],L=F[1],U=F[3],M.call(this,function(){return K.editor.deleteText(C,L)},U,C,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,L){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return M.call(this,function(){var V=U.getSelection(!0),F=new f.default;if(V==null)return F;if(y.default.query(C,y.default.Scope.BLOCK))F=U.editor.formatLine(V.index,V.length,_({},C,L));else{if(V.length===0)return U.selection.format(C,L),F;F=U.editor.formatText(V.index,V.length,_({},C,L))}return U.setSelection(V,m.default.sources.SILENT),F},K)}},{key:"formatLine",value:function(C,L,U,K,V){var F=this,q=void 0,X=$(C,L,U,K,V),H=o(X,4);return C=H[0],L=H[1],q=H[2],V=H[3],M.call(this,function(){return F.editor.formatLine(C,L,q)},V,C,0)}},{key:"formatText",value:function(C,L,U,K,V){var F=this,q=void 0,X=$(C,L,U,K,V),H=o(X,4);return C=H[0],L=H[1],q=H[2],V=H[3],M.call(this,function(){return F.editor.formatText(C,L,q)},V,C,0)}},{key:"getBounds",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof C=="number"?U=this.selection.getBounds(C,L):U=this.selection.getBounds(C.index,C.length);var K=this.container.getBoundingClientRect();return{bottom:U.bottom-K.top,height:U.height,left:U.left-K.left,right:U.right-K.left,top:U.top-K.top,width:U.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,U=$(C,L),K=o(U,2);return C=K[0],L=K[1],this.editor.getContents(C,L)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,L):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,L)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,U=$(C,L),K=o(U,2);return C=K[0],L=K[1],this.editor.getText(C,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,L,U){var K=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return M.call(this,function(){return K.editor.insertEmbed(C,L,U)},V,C)}},{key:"insertText",value:function(C,L,U,K,V){var F=this,q=void 0,X=$(C,0,U,K,V),H=o(X,4);return C=H[0],q=H[2],V=H[3],M.call(this,function(){return F.editor.insertText(C,L,q)},V,C,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,L,U){this.clipboard.dangerouslyPasteHTML(C,L,U)}},{key:"removeFormat",value:function(C,L,U){var K=this,V=$(C,L,U),F=o(V,4);return C=F[0],L=F[1],U=F[3],M.call(this,function(){return K.editor.removeFormat(C,L)},U,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var L=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){C=new f.default(C);var K=L.getLength(),V=L.editor.deleteText(0,K),F=L.editor.applyDelta(C),q=F.ops[F.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),F.delete(1));var X=V.compose(F);return X},U)}},{key:"setSelection",value:function(C,L,U){if(C==null)this.selection.setRange(null,L||D.sources.API);else{var K=$(C,L,U),V=o(K,4);C=V[0],L=V[1],U=V[3],this.selection.setRange(new x.Range(C,L),U),U!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,U=new f.default().insert(C);return this.setContents(U,L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,L=this.scroll.update(C);return this.selection.update(C),L}},{key:"updateContents",value:function(C){var L=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return M.call(this,function(){return C=new f.default(C),L.editor.applyDelta(C,U)},U,!0)}}]),D}();k.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},k.events=m.default.events,k.sources=m.default.sources,k.version="1.3.7",k.imports={delta:f.default,parchment:y.default,"core/module":g.default,"core/theme":O.default};function R(D,z){if(z=(0,j.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},z),!z.theme||z.theme===k.DEFAULTS.theme)z.theme=O.default;else if(z.theme=k.import("themes/"+z.theme),z.theme==null)throw new Error("Invalid theme "+z.theme+". Did you register it?");var C=(0,j.default)(!0,{},z.theme.DEFAULTS);[C,z].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(V){K.modules[V]===!0&&(K.modules[V]={})})});var L=Object.keys(C.modules).concat(Object.keys(z.modules)),U=L.reduce(function(K,V){var F=k.import("modules/"+V);return F==null?I.error("Cannot load "+V+" module. Are you sure you registered it?"):K[V]=F.DEFAULTS||{},K},{});return z.modules!=null&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,j.default)(!0,{},k.DEFAULTS,{modules:U},C,z),["bounds","container","scrollingContainer"].forEach(function(K){typeof z[K]=="string"&&(z[K]=document.querySelector(z[K]))}),z.modules=Object.keys(z.modules).reduce(function(K,V){return z.modules[V]&&(K[V]=z.modules[V]),K},{}),z}function M(D,z,C,L){if(this.options.strict&&!this.isEnabled()&&z===m.default.sources.USER)return new f.default;var U=C==null?null:this.getSelection(),K=this.editor.delta,V=D();if(U!=null&&(C===!0&&(C=U.index),L==null?U=G(U,V,z):L!==0&&(U=G(U,C,L,z)),this.setSelection(U,m.default.sources.SILENT)),V.length()>0){var F,q=[m.default.events.TEXT_CHANGE,V,K,z];if((F=this.emitter).emit.apply(F,[m.default.events.EDITOR_CHANGE].concat(q)),z!==m.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,q)}}return V}function $(D,z,C,L,U){var K={};return typeof D.index=="number"&&typeof D.length=="number"?typeof z!="number"?(U=L,L=C,C=z,z=D.length,D=D.index):(z=D.length,D=D.index):typeof z!="number"&&(U=L,L=C,C=z,z=0),(typeof C>"u"?"undefined":s(C))==="object"?(K=C,U=L):typeof C=="string"&&(L!=null?K[C]=L:U=C),U=U||m.default.sources.API,[D,z,K,U]}function G(D,z,C,L){if(D==null)return null;var U=void 0,K=void 0;if(z instanceof f.default){var V=[D.index,D.index+D.length].map(function(H){return z.transformPosition(H,L!==m.default.sources.USER)}),F=o(V,2);U=F[0],K=F[1]}else{var q=[D.index,D.index+D.length].map(function(H){return H<z||H===z&&L===m.default.sources.USER?H:C>=0?H+C:Math.max(z,H+C)}),X=o(q,2);U=X[0],K=X[1]}return new x.Range(U,K-U)}n.expandConfig=R,n.overload=$,n.default=k},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(w)}},l=a(7),u=d(l),f=a(0),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function m(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){p(y,v);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"formatAt",value:function(w,b,j,S){if(y.compare(this.statics.blotName,j)<0&&c.default.query(j,c.default.Scope.BLOT)){var E=this.isolate(w,b);S&&E.wrap(j,S)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,b,j,S)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(w,b){var j=y.order.indexOf(w),S=y.order.indexOf(b);return j>=0||S>=0?j-S:w===b?0:w<b?-1:1}}]),y}(c.default.Inline);g.allowedChildren=[g,c.default.Embed,u.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function x(w,b){for(var j=0;j<b.length;j++){var S=b[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,b,j){return b&&x(w.prototype,b),j&&x(w,j),w}}(),o=function x(w,b,j){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,b);if(S===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:x(E,b,j)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(j)}},l=a(54),u=d(l),f=a(10),c=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function m(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function p(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,b=Array(w),j=0;j<w;j++)b[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var E;(E=S.__quill.emitter).handleDOM.apply(E,b)}})})});var y=function(x){p(w,x);function w(){h(this,w);var b=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return b.listeners={},b.on("error",g.error),b}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var S=arguments.length,E=Array(S>1?S-1:0),T=1;T<S;T++)E[T-1]=arguments[T];(this.listeners[j.type]||[]).forEach(function(O){var A=O.node,_=O.handler;(j.target===A||A.contains(j.target))&&_.apply(void 0,[j].concat(E))})}},{key:"listenDOM",value:function(j,S,E){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:S,handler:E})}}]),w}(u.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=u,this.options=f};o.DEFAULTS={},n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(f){if(s.indexOf(f)<=s.indexOf(o)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];(c=console)[f].apply(c,h)}}function u(f){return s.reduce(function(c,d){return c[d]=l.bind(console,d,f),c},{})}l.level=u.level=function(f){o=f},n.default=u},function(r,n,a){var s=Array.prototype.slice,o=a(52),l=a(53),u=r.exports=function(h,m,p){return p||(p={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?p.strict?h===m:h==m:d(h,m,p)};function f(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,m,p){var g,v;if(f(h)||f(m)||h.prototype!==m.prototype)return!1;if(l(h))return l(m)?(h=s.call(h),m=s.call(m),u(h,m,p)):!1;if(c(h)){if(!c(m)||h.length!==m.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==m[g])return!1;return!0}try{var y=o(h),x=o(m)}catch{return!1}if(y.length!=x.length)return!1;for(y.sort(),x.sort(),g=y.length-1;g>=0;g--)if(y[g]!=x[g])return!1;for(g=y.length-1;g>=0;g--)if(v=y[g],!u(h[v],m[v],p))return!1;return typeof h==typeof m}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u,f,c){c===void 0&&(c={}),this.attrName=u,this.keyName=f;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return l.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},l.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},l.prototype.canAdd=function(u,f){var c=s.query(u,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},l.prototype.remove=function(u){u.removeAttribute(this.keyName)},l.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=function(){function T(O,A){var _=[],P=!0,I=!1,k=void 0;try{for(var R=O[Symbol.iterator](),M;!(P=(M=R.next()).done)&&(_.push(M.value),!(A&&_.length===A));P=!0);}catch($){I=!0,k=$}finally{try{!P&&R.return&&R.return()}finally{if(I)throw k}}return _}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(O,A){for(var _=0;_<A.length;_++){var P=A[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,A,_){return A&&T(O.prototype,A),_&&T(O,_),O}}(),l=function T(O,A,_){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,A);if(P===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:T(I,A,_)}else{if("value"in P)return P.value;var k=P.get;return k===void 0?void 0:k.call(_)}},u=a(2),f=x(u),c=a(0),d=x(c),h=a(4),m=x(h),p=a(6),g=x(p),v=a(7),y=x(v);function x(T){return T&&T.__esModule?T:{default:T}}function w(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function b(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function j(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var S=function(T){j(O,T);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(g.default);S.blotName="code",S.tagName="CODE";var E=function(T){j(O,T);function O(){return w(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"delta",value:function(){var _=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(I,k){return I.insert(k).insert(`
`,_.formats())},new f.default)}},{key:"format",value:function(_,P){if(!(_===this.statics.blotName&&P)){var I=this.descendant(y.default,this.length()-1),k=s(I,1),R=k[0];R!=null&&R.deleteAt(R.length()-1,1),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,_,P)}}},{key:"formatAt",value:function(_,P,I,k){if(P!==0&&!(d.default.query(I,d.default.Scope.BLOCK)==null||I===this.statics.blotName&&k===this.statics.formats(this.domNode))){var R=this.newlineIndex(_);if(!(R<0||R>=_+P)){var M=this.newlineIndex(_,!0)+1,$=R-M+1,G=this.isolate(M,$),D=G.next;G.format(I,k),D instanceof O&&D.formatAt(0,_-M+P-$,I,k)}}}},{key:"insertAt",value:function(_,P,I){if(I==null){var k=this.descendant(y.default,_),R=s(k,2),M=R[0],$=R[1];M.insertAt($,P)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var I=this.domNode.textContent.slice(_).indexOf(`
`);return I>-1?_+I:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,_);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(_),P.moveChildren(this),P.remove())}},{key:"replace",value:function(_){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var I=d.default.find(P);I==null?P.parentNode.removeChild(P):I instanceof d.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(_){var P=l(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,_);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),O}(m.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",n.Code=S,n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(z,C){var L=[],U=!0,K=!1,V=void 0;try{for(var F=z[Symbol.iterator](),q;!(U=(q=F.next()).done)&&(L.push(q.value),!(C&&L.length===C));U=!0);}catch(X){K=!0,V=X}finally{try{!U&&F.return&&F.return()}finally{if(K)throw V}}return L}return function(z,C){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return D(z,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(z,C){for(var L=0;L<C.length;L++){var U=C[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}return function(z,C,L){return C&&D(z.prototype,C),L&&D(z,L),z}}(),u=a(2),f=P(u),c=a(20),d=P(c),h=a(0),m=P(h),p=a(13),g=P(p),v=a(24),y=P(v),x=a(4),w=P(x),b=a(16),j=P(b),S=a(21),E=P(S),T=a(11),O=P(T),A=a(3),_=P(A);function P(D){return D&&D.__esModule?D:{default:D}}function I(D,z,C){return z in D?Object.defineProperty(D,z,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[z]=C,D}function k(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")}var R=/^[ -~]*$/,M=function(){function D(z){k(this,D),this.scroll=z,this.delta=this.getDelta()}return l(D,[{key:"applyDelta",value:function(C){var L=this,U=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),C=G(C),C.reduce(function(V,F){var q=F.retain||F.delete||F.insert.length||1,X=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var H=F.insert;H.endsWith(`
`)&&U&&(U=!1,H=H.slice(0,-1)),V>=K&&!H.endsWith(`
`)&&(U=!0),L.scroll.insertAt(V,H);var Z=L.scroll.line(V),ne=o(Z,2),ee=ne[0],he=ne[1],ce=(0,_.default)({},(0,x.bubbleFormats)(ee));if(ee instanceof w.default){var ge=ee.descendant(m.default.Leaf,he),B=o(ge,1),re=B[0];ce=(0,_.default)(ce,(0,x.bubbleFormats)(re))}X=d.default.attributes.diff(ce,X)||{}}else if(s(F.insert)==="object"){var W=Object.keys(F.insert)[0];if(W==null)return V;L.scroll.insertAt(V,W,F.insert[W])}K+=q}return Object.keys(X).forEach(function(Y){L.scroll.formatAt(V,q,Y,X[Y])}),V+q},0),C.reduce(function(V,F){return typeof F.delete=="number"?(L.scroll.deleteAt(V,F.delete),V):V+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,L){return this.scroll.deleteAt(C,L),this.update(new f.default().retain(C).delete(L))}},{key:"formatLine",value:function(C,L){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(V){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[V])){var F=U.scroll.lines(C,Math.max(L,1)),q=L;F.forEach(function(X){var H=X.length();if(!(X instanceof g.default))X.format(V,K[V]);else{var Z=C-X.offset(U.scroll),ne=X.newlineIndex(Z+q)-Z+1;X.formatAt(Z,ne,V,K[V])}q-=H})}}),this.scroll.optimize(),this.update(new f.default().retain(C).retain(L,(0,E.default)(K)))}},{key:"formatText",value:function(C,L){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(V){U.scroll.formatAt(C,L,V,K[V])}),this.update(new f.default().retain(C).retain(L,(0,E.default)(K)))}},{key:"getContents",value:function(C,L){return this.delta.slice(C,C+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,L){return C.concat(L.delta())},new f.default)}},{key:"getFormat",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],K=[];L===0?this.scroll.path(C).forEach(function(F){var q=o(F,1),X=q[0];X instanceof w.default?U.push(X):X instanceof m.default.Leaf&&K.push(X)}):(U=this.scroll.lines(C,L),K=this.scroll.descendants(m.default.Leaf,C,L));var V=[U,K].map(function(F){if(F.length===0)return{};for(var q=(0,x.bubbleFormats)(F.shift());Object.keys(q).length>0;){var X=F.shift();if(X==null)return q;q=$((0,x.bubbleFormats)(X),q)}return q});return _.default.apply(_.default,V)}},{key:"getText",value:function(C,L){return this.getContents(C,L).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(C,L,U){return this.scroll.insertAt(C,L,U),this.update(new f.default().retain(C).insert(I({},L,U)))}},{key:"insertText",value:function(C,L){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,L),Object.keys(K).forEach(function(V){U.scroll.formatAt(C,L.length,V,K[V])}),this.update(new f.default().retain(C).insert(L,(0,E.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==w.default.blotName||C.children.length>1?!1:C.children.head instanceof j.default}},{key:"removeFormat",value:function(C,L){var U=this.getText(C,L),K=this.scroll.line(C+L),V=o(K,2),F=V[0],q=V[1],X=0,H=new f.default;F!=null&&(F instanceof g.default?X=F.newlineIndex(q)-q+1:X=F.length()-q,H=F.delta().slice(q,q+X-1).insert(`
`));var Z=this.getContents(C,L+X),ne=Z.diff(new f.default().insert(U).concat(H)),ee=new f.default().retain(C).concat(ne);return this.applyDelta(ee)}},{key:"update",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(R)&&m.default.find(L[0].target)){var V=m.default.find(L[0].target),F=(0,x.bubbleFormats)(V),q=V.offset(this.scroll),X=L[0].oldValue.replace(y.default.CONTENTS,""),H=new f.default().insert(X),Z=new f.default().insert(V.value()),ne=new f.default().retain(q).concat(H.diff(Z,U));C=ne.reduce(function(ee,he){return he.insert?ee.insert(he.insert,F):ee.push(he)},new f.default),this.delta=K.compose(C)}else this.delta=this.getDelta(),(!C||!(0,O.default)(K.compose(C),this.delta))&&(C=K.diff(this.delta,U));return C}}]),D}();function $(D,z){return Object.keys(z).reduce(function(C,L){return D[L]==null||(z[L]===D[L]?C[L]=z[L]:Array.isArray(z[L])?z[L].indexOf(D[L])<0&&(C[L]=z[L].concat([D[L]])):C[L]=[z[L],D[L]]),C},{})}function G(D){return D.reduce(function(z,C){if(C.insert===1){var L=(0,E.default)(C.attributes);return delete L.image,z.insert({image:C.attributes.image},L)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,E.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var U=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(U,C.attributes)}return z.push(C)},new f.default)}n.default=M},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=function(){function T(O,A){var _=[],P=!0,I=!1,k=void 0;try{for(var R=O[Symbol.iterator](),M;!(P=(M=R.next()).done)&&(_.push(M.value),!(A&&_.length===A));P=!0);}catch($){I=!0,k=$}finally{try{!P&&R.return&&R.return()}finally{if(I)throw k}}return _}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(O,A){for(var _=0;_<A.length;_++){var P=A[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,A,_){return A&&T(O.prototype,A),_&&T(O,_),O}}(),l=a(0),u=y(l),f=a(21),c=y(f),d=a(11),h=y(d),m=a(8),p=y(m),g=a(10),v=y(g);function y(T){return T&&T.__esModule?T:{default:T}}function x(T){if(Array.isArray(T)){for(var O=0,A=Array(T.length);O<T.length;O++)A[O]=T[O];return A}else return Array.from(T)}function w(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}var b=(0,v.default)("quill:selection"),j=function T(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,T),this.index=O,this.length=A},S=function(){function T(O,A){var _=this;w(this,T),this.emitter=A,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(P,I){P===p.default.events.TEXT_CHANGE&&I.length()>0&&_.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var P=_.getNativeRange();P!=null&&P.start.node!==_.cursor.textNode&&_.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(P,I){if(I.range){var k=I.range,R=k.startNode,M=k.startOffset,$=k.endNode,G=k.endOffset;_.setNativeRange(R,M,$,G)}}),this.update(p.default.sources.SILENT)}return o(T,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var _=A.cursor.restore();if(!_)return;setTimeout(function(){A.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||u.default.query(A,u.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var I=u.default.find(P.start.node,!1);if(I==null)return;if(I instanceof u.default.Leaf){var k=I.split(P.start.offset);I.parent.insertBefore(this.cursor,k)}else I.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(A,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();A=Math.min(A,P-1),_=Math.min(A+_,P-1)-A;var I=void 0,k=this.scroll.leaf(A),R=s(k,2),M=R[0],$=R[1];if(M==null)return null;var G=M.position($,!0),D=s(G,2);I=D[0],$=D[1];var z=document.createRange();if(_>0){z.setStart(I,$);var C=this.scroll.leaf(A+_),L=s(C,2);if(M=L[0],$=L[1],M==null)return null;var U=M.position($,!0),K=s(U,2);return I=K[0],$=K[1],z.setEnd(I,$),z.getBoundingClientRect()}else{var V="left",F=void 0;return I instanceof Text?($<I.data.length?(z.setStart(I,$),z.setEnd(I,$+1)):(z.setStart(I,$-1),z.setEnd(I,$),V="right"),F=z.getBoundingClientRect()):(F=M.domNode.getBoundingClientRect(),$>0&&(V="right")),{bottom:F.top+F.height,height:F.height,left:F[V],right:F[V],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var _=A.getRangeAt(0);if(_==null)return null;var P=this.normalizeNative(_);return b.info("getNativeRange",P),P}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var _=this.normalizedToRange(A);return[_,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var _=this,P=[[A.start.node,A.start.offset]];A.native.collapsed||P.push([A.end.node,A.end.offset]);var I=P.map(function(M){var $=s(M,2),G=$[0],D=$[1],z=u.default.find(G,!0),C=z.offset(_.scroll);return D===0?C:z instanceof u.default.Container?C+z.length():C+z.index(G,D)}),k=Math.min(Math.max.apply(Math,x(I)),this.scroll.length()-1),R=Math.min.apply(Math,[k].concat(x(I)));return new j(R,k-R)}},{key:"normalizeNative",value:function(A){if(!E(this.root,A.startContainer)||!A.collapsed&&!E(this.root,A.endContainer))return null;var _={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[_.start,_.end].forEach(function(P){for(var I=P.node,k=P.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>k)I=I.childNodes[k],k=0;else if(I.childNodes.length===k)I=I.lastChild,k=I instanceof Text?I.data.length:I.childNodes.length+1;else break;P.node=I,P.offset=k}),_}},{key:"rangeToNative",value:function(A){var _=this,P=A.collapsed?[A.index]:[A.index,A.index+A.length],I=[],k=this.scroll.length();return P.forEach(function(R,M){R=Math.min(k-1,R);var $=void 0,G=_.scroll.leaf(R),D=s(G,2),z=D[0],C=D[1],L=z.position(C,M!==0),U=s(L,2);$=U[0],C=U[1],I.push($,C)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(A){var _=this.lastRange;if(_!=null){var P=this.getBounds(_.index,_.length);if(P!=null){var I=this.scroll.length()-1,k=this.scroll.line(Math.min(_.index,I)),R=s(k,1),M=R[0],$=M;if(_.length>0){var G=this.scroll.line(Math.min(_.index+_.length,I)),D=s(G,1);$=D[0]}if(!(M==null||$==null)){var z=A.getBoundingClientRect();P.top<z.top?A.scrollTop-=z.top-P.top:P.bottom>z.bottom&&(A.scrollTop+=P.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(A,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",A,_,P,I),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||P.parentNode==null))){var R=document.getSelection();if(R!=null)if(A!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||k||A!==M.startContainer||_!==M.startOffset||P!==M.endContainer||I!==M.endOffset){A.tagName=="BR"&&(_=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),P.tagName=="BR"&&(I=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var $=document.createRange();$.setStart(A,_),$.setEnd(P,I),R.removeAllRanges(),R.addRange($)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof _=="string"&&(P=_,_=!1),b.info("setRange",A),A!=null){var I=this.rangeToNative(A);this.setNativeRange.apply(this,x(I).concat([_]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,_=this.lastRange,P=this.getRange(),I=s(P,2),k=I[0],R=I[1];if(this.lastRange=k,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(_,this.lastRange)){var M;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(_),A];if((M=this.emitter).emit.apply(M,[p.default.events.EDITOR_CHANGE].concat($)),A!==p.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,$)}}}}]),T}();function E(T,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),T.contains(O)}n.Range=j,n.default=S},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(0),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(y,x){y.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,y,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(u.default.Embed);m.blotName="break",m.tagName="BR",n.default=m},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),u=a(1),f=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.build(),p}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=c(p);m.insertBefore(g,m.children.head||void 0)}catch(v){if(v instanceof u.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(m,p){if(m===0&&p===this.length())return this.remove();this.children.forEachAt(m,p,function(g,v,y){g.deleteAt(v,y)})},h.prototype.descendant=function(m,p){var g=this.children.find(p),v=g[0],y=g[1];return m.blotName==null&&m(v)||m.blotName!=null&&v instanceof m?[v,y]:v instanceof h?v.descendant(m,y):[null,-1]},h.prototype.descendants=function(m,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var v=[],y=g;return this.children.forEachAt(p,g,function(x,w,b){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&v.push(x),x instanceof h&&(v=v.concat(x.descendants(m,w,y))),y-=b}),v},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(m,p,g,v){this.children.forEachAt(m,p,function(y,x,w){y.formatAt(x,w,g,v)})},h.prototype.insertAt=function(m,p,g){var v=this.children.find(m),y=v[0],x=v[1];if(y)y.insertAt(x,p,g);else{var w=g==null?u.create("text",p):u.create(p,g);this.appendChild(w)}},h.prototype.insertBefore=function(m,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new u.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,p)},h.prototype.length=function(){return this.children.reduce(function(m,p){return m+p.length()},0)},h.prototype.moveChildren=function(m,p){this.children.forEach(function(g){m.insertBefore(g,p)})},h.prototype.optimize=function(m){if(d.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var p=u.create(this.statics.defaultChild);this.appendChild(p),p.optimize(m)}else this.remove()},h.prototype.path=function(m,p){p===void 0&&(p=!1);var g=this.children.find(m,p),v=g[0],y=g[1],x=[[this,m]];return v instanceof h?x.concat(v.path(y,p)):(v!=null&&x.push([v,y]),x)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),d.prototype.replace.call(this,m)},h.prototype.split=function(m,p){if(p===void 0&&(p=!1),!p){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(v,y,x){v=v.split(y,p),g.appendChild(v)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,p){var g=this,v=[],y=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(v.push.apply(v,x.addedNodes),y.push.apply(y,x.removedNodes))}),y.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=u.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),v.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=u.find(x.nextSibling));var b=c(x);(b.next!=w||b.next==null)&&(b.parent!=null&&b.parent.removeChild(g),g.insertBefore(b,w||void 0))})},h}(l.default);function c(d){var h=u.find(d);if(h==null)try{h=u.create(d)}catch{h=u.create(u.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){h.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),u=a(17),f=a(1),c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.attributes=new l.default(p.domNode),p}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,p){var g=f.query(m);g instanceof o.default?this.attributes.attribute(g,p):p&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==p)&&this.replaceWith(m,p)},h.prototype.formats=function(){var m=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(m[this.statics.blotName]=p),m},h.prototype.replaceWith=function(m,p){var g=d.prototype.replaceWith.call(this,m,p);return this.attributes.copy(g),g},h.prototype.update=function(m,p){var g=this;d.prototype.update.call(this,m,p),m.some(function(v){return v.target===g.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,p){var g=d.prototype.wrap.call(this,m,p);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(u.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=a(11),o=a(3),l={attributes:{compose:function(f,c,d){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var h=o(!0,{},c);d||(h=Object.keys(h).reduce(function(p,g){return h[g]!=null&&(p[g]=h[g]),p},{}));for(var m in f)f[m]!==void 0&&c[m]===void 0&&(h[m]=f[m]);return Object.keys(h).length>0?h:void 0},diff:function(f,c){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var d=Object.keys(f).concat(Object.keys(c)).reduce(function(h,m){return s(f[m],c[m])||(h[m]=c[m]===void 0?null:c[m]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(f,c,d){if(typeof f!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(m,p){return f[p]===void 0&&(m[p]=c[p]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=l.length(c);if(f>=h-d?(f=h-d,this.index+=1,this.offset=0):this.offset+=f,typeof c.delete=="number")return{delete:f};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=f:typeof c.insert=="string"?m.insert=c.insert.substr(d,f):m.insert=c.insert,m}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=f,this.index=c,[d].concat(h)}else return[]},r.exports=l},function(r,n){var a=function(){function s(g,v){return v!=null&&g instanceof v}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(g,v,y,x,w){typeof v=="object"&&(y=v.depth,x=v.prototype,w=v.includeNonEnumerable,v=v.circular);var b=[],j=[],S=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof y>"u"&&(y=1/0);function E(T,O){if(T===null)return null;if(O===0)return T;var A,_;if(typeof T!="object")return T;if(s(T,o))A=new o;else if(s(T,l))A=new l;else if(s(T,u))A=new u(function(z,C){T.then(function(L){z(E(L,O-1))},function(L){C(E(L,O-1))})});else if(f.__isArray(T))A=[];else if(f.__isRegExp(T))A=new RegExp(T.source,p(T)),T.lastIndex&&(A.lastIndex=T.lastIndex);else if(f.__isDate(T))A=new Date(T.getTime());else{if(S&&Buffer.isBuffer(T))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(T.length):A=new Buffer(T.length),T.copy(A),A;s(T,Error)?A=Object.create(T):typeof x>"u"?(_=Object.getPrototypeOf(T),A=Object.create(_)):(A=Object.create(x),_=x)}if(v){var P=b.indexOf(T);if(P!=-1)return j[P];b.push(T),j.push(A)}s(T,o)&&T.forEach(function(z,C){var L=E(C,O-1),U=E(z,O-1);A.set(L,U)}),s(T,l)&&T.forEach(function(z){var C=E(z,O-1);A.add(C)});for(var I in T){var k;_&&(k=Object.getOwnPropertyDescriptor(_,I)),!(k&&k.set==null)&&(A[I]=E(T[I],O-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(T),I=0;I<R.length;I++){var M=R[I],$=Object.getOwnPropertyDescriptor(T,M);$&&!$.enumerable&&!w||(A[M]=E(T[M],O-1),$.enumerable||Object.defineProperty(A,M,{enumerable:!1}))}if(w)for(var G=Object.getOwnPropertyNames(T),I=0;I<G.length;I++){var D=G[I],$=Object.getOwnPropertyDescriptor(T,D);$&&$.enumerable||(A[D]=E(T[D],O-1),Object.defineProperty(A,D,{enumerable:!1}))}return A}return E(g,y)}f.clonePrototype=function(v){if(v===null)return null;var y=function(){};return y.prototype=v,new y};function c(g){return Object.prototype.toString.call(g)}f.__objToStr=c;function d(g){return typeof g=="object"&&c(g)==="[object Date]"}f.__isDate=d;function h(g){return typeof g=="object"&&c(g)==="[object Array]"}f.__isArray=h;function m(g){return typeof g=="object"&&c(g)==="[object RegExp]"}f.__isRegExp=m;function p(g){var v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),v}return f.__getRegExpFlags=p,f}();typeof r=="object"&&r.exports&&(r.exports=a)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function A(_,P){var I=[],k=!0,R=!1,M=void 0;try{for(var $=_[Symbol.iterator](),G;!(k=(G=$.next()).done)&&(I.push(G.value),!(P&&I.length===P));k=!0);}catch(D){R=!0,M=D}finally{try{!k&&$.return&&$.return()}finally{if(R)throw M}}return I}return function(_,P){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return A(_,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(_,P){for(var I=0;I<P.length;I++){var k=P[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,P,I){return P&&A(_.prototype,P),I&&A(_,I),_}}(),l=function A(_,P,I){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,P);if(k===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:A(R,P,I)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(I)}},u=a(0),f=b(u),c=a(8),d=b(c),h=a(4),m=b(h),p=a(16),g=b(p),v=a(13),y=b(v),x=a(25),w=b(x);function b(A){return A&&A.__esModule?A:{default:A}}function j(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function S(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:A}function E(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}function T(A){return A instanceof m.default||A instanceof h.BlockEmbed}var O=function(A){E(_,A);function _(P,I){j(this,_);var k=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P));return k.emitter=I.emitter,Array.isArray(I.whitelist)&&(k.whitelist=I.whitelist.reduce(function(R,M){return R[M]=!0,R},{})),k.domNode.addEventListener("DOMNodeInserted",function(){}),k.optimize(),k.enable(),k}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,k){var R=this.line(I),M=s(R,2),$=M[0],G=M[1],D=this.line(I+k),z=s(D,1),C=z[0];if(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,I,k),C!=null&&$!==C&&G>0){if($ instanceof h.BlockEmbed||C instanceof h.BlockEmbed){this.optimize();return}if($ instanceof y.default){var L=$.newlineIndex($.length(),!0);if(L>-1&&($=$.split(L+1),$===C)){this.optimize();return}}else if(C instanceof y.default){var U=C.newlineIndex(0);U>-1&&C.split(U+1)}var K=C.children.head instanceof g.default?null:C.children.head;$.moveChildren(C,K),$.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,k,R,M){this.whitelist!=null&&!this.whitelist[R]||(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,I,k,R,M),this.optimize())}},{key:"insertAt",value:function(I,k,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[k])){if(I>=this.length())if(R==null||f.default.query(k,f.default.Scope.BLOCK)==null){var M=f.default.create(this.statics.defaultChild);this.appendChild(M),R==null&&k.endsWith(`
`)&&(k=k.slice(0,-1)),M.insertAt(0,k,R)}else{var $=f.default.create(k,R);this.appendChild($)}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,I,k,R);this.optimize()}}},{key:"insertBefore",value:function(I,k){if(I.statics.scope===f.default.Scope.INLINE_BLOT){var R=f.default.create(this.statics.defaultChild);R.appendChild(I),I=R}l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,I,k)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(T,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function M($,G,D){var z=[],C=D;return $.children.forEachAt(G,D,function(L,U,K){T(L)?z.push(L):L instanceof f.default.Container&&(z=z.concat(M(L,U,C))),C-=K}),z};return R(this,I,k)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,I,k),I.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,I,k))}},{key:"path",value:function(I){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var k=d.default.sources.USER;typeof I=="string"&&(k=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,k,I),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,k,I)}}}]),_}(f.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[m.default,h.BlockEmbed,w.default],n.default=O},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(q,X){var H=[],Z=!0,ne=!1,ee=void 0;try{for(var he=q[Symbol.iterator](),ce;!(Z=(ce=he.next()).done)&&(H.push(ce.value),!(X&&H.length===X));Z=!0);}catch(ge){ne=!0,ee=ge}finally{try{!Z&&he.return&&he.return()}finally{if(ne)throw ee}}return H}return function(q,X){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return F(q,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(q,X){for(var H=0;H<X.length;H++){var Z=X[H];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(q,Z.key,Z)}}return function(q,X,H){return X&&F(q.prototype,X),H&&F(q,H),q}}(),u=a(21),f=A(u),c=a(11),d=A(c),h=a(3),m=A(h),p=a(2),g=A(p),v=a(20),y=A(v),x=a(0),w=A(x),b=a(5),j=A(b),S=a(10),E=A(S),T=a(9),O=A(T);function A(F){return F&&F.__esModule?F:{default:F}}function _(F,q,X){return q in F?Object.defineProperty(F,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[q]=X,F}function P(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}function I(F,q){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:F}function k(F,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);F.prototype=Object.create(q&&q.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(F,q):F.__proto__=q)}var R=(0,E.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(F){k(q,F),l(q,null,[{key:"match",value:function(H,Z){return Z=V(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!Z[ne]!==H[ne]&&Z[ne]!==null})?!1:Z.key===(H.which||H.keyCode)}}]);function q(X,H){P(this,q);var Z=I(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,H));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(ne){ne==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||Z.options.bindings[ne]&&Z.addBinding(Z.options.bindings[ne])}),Z.addBinding({key:q.keys.ENTER,shiftKey:null},L),Z.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},D),Z.addBinding({key:q.keys.DELETE},{collapsed:!0},z)):(Z.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Z.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),Z.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},C),Z.addBinding({key:q.keys.DELETE},{collapsed:!1},C),Z.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Z.listen(),Z}return l(q,[{key:"addBinding",value:function(H){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=V(H);if(ee==null||ee.key==null)return R.warn("Attempted to add invalid keyboard binding",ee);typeof Z=="function"&&(Z={handler:Z}),typeof ne=="function"&&(ne={handler:ne}),ee=(0,m.default)(ee,Z,ne),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var H=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var ne=Z.which||Z.keyCode,ee=(H.bindings[ne]||[]).filter(function(Ke){return q.match(Z,Ke)});if(ee.length!==0){var he=H.quill.getSelection();if(!(he==null||!H.quill.hasFocus())){var ce=H.quill.getLine(he.index),ge=o(ce,2),B=ge[0],re=ge[1],W=H.quill.getLeaf(he.index),Y=o(W,2),J=Y[0],ie=Y[1],te=he.length===0?[J,ie]:H.quill.getLeaf(he.index+he.length),me=o(te,2),le=me[0],se=me[1],xe=J instanceof w.default.Text?J.value().slice(0,ie):"",ze=le instanceof w.default.Text?le.value().slice(se):"",je={collapsed:he.length===0,empty:he.length===0&&B.length()<=1,format:H.quill.getFormat(he),offset:re,prefix:xe,suffix:ze},Qj=ee.some(function(Ke){if(Ke.collapsed!=null&&Ke.collapsed!==je.collapsed||Ke.empty!=null&&Ke.empty!==je.empty||Ke.offset!=null&&Ke.offset!==je.offset)return!1;if(Array.isArray(Ke.format)){if(Ke.format.every(function(Kr){return je.format[Kr]==null}))return!1}else if(s(Ke.format)==="object"&&!Object.keys(Ke.format).every(function(Kr){return Ke.format[Kr]===!0?je.format[Kr]!=null:Ke.format[Kr]===!1?je.format[Kr]==null:(0,d.default)(Ke.format[Kr],je.format[Kr])}))return!1;return Ke.prefix!=null&&!Ke.prefix.test(je.prefix)||Ke.suffix!=null&&!Ke.suffix.test(je.suffix)?!1:Ke.handler.call(H,he,je)!==!0});Qj&&Z.preventDefault()}}}})}}]),q}(O.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,X){X.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,j.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(q){this.quill.history.cutoff();var X=new g.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(X,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,j.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,X){this.quill.format("list",!1,j.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var X=this.quill.getLine(q.index),H=o(X,2),Z=H[0],ne=H[1],ee=(0,m.default)({},Z.formats(),{list:"checked"}),he=new g.default().retain(q.index).insert(`
`,ee).retain(Z.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,X){var H=this.quill.getLine(q.index),Z=o(H,2),ne=Z[0],ee=Z[1],he=new g.default().retain(q.index).insert(`
`,X.format).retain(ne.length()-ee-1).retain(1,{header:null});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,X){var H=X.prefix.length,Z=this.quill.getLine(q.index),ne=o(Z,2),ee=ne[0],he=ne[1];if(he>H)return!0;var ce=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":ce="unchecked";break;case"[x]":ce="checked";break;case"-":case"*":ce="bullet";break;default:ce="ordered"}this.quill.insertText(q.index," ",j.default.sources.USER),this.quill.history.cutoff();var ge=new g.default().retain(q.index-he).delete(H+1).retain(ee.length()-2-he).retain(1,{list:ce});this.quill.updateContents(ge,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-H,j.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var X=this.quill.getLine(q.index),H=o(X,2),Z=H[0],ne=H[1],ee=new g.default().retain(q.index+Z.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,j.default.sources.USER)}},"embed left":G($.keys.LEFT,!1),"embed left shift":G($.keys.LEFT,!0),"embed right":G($.keys.RIGHT,!1),"embed right shift":G($.keys.RIGHT,!0)}};function G(F,q){var X,H=F===$.keys.LEFT?"prefix":"suffix";return X={key:F,shiftKey:q,altKey:null},_(X,H,/^$/),_(X,"handler",function(ne){var ee=ne.index;F===$.keys.RIGHT&&(ee+=ne.length+1);var he=this.quill.getLeaf(ee),ce=o(he,1),ge=ce[0];return ge instanceof w.default.Embed?(F===$.keys.LEFT?q?this.quill.setSelection(ne.index-1,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index-1,j.default.sources.USER):q?this.quill.setSelection(ne.index,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,j.default.sources.USER),!1):!0}),X}function D(F,q){if(!(F.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(F.index),H=o(X,1),Z=H[0],ne={};if(q.offset===0){var ee=this.quill.getLine(F.index-1),he=o(ee,1),ce=he[0];if(ce!=null&&ce.length()>1){var ge=Z.formats(),B=this.quill.getFormat(F.index-1,1);ne=y.default.attributes.diff(ge,B)||{}}}var re=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(F.index-re,re,j.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(F.index-re,re,ne,j.default.sources.USER),this.quill.focus()}}function z(F,q){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(F.index>=this.quill.getLength()-X)){var H={},Z=0,ne=this.quill.getLine(F.index),ee=o(ne,1),he=ee[0];if(q.offset>=he.length()-1){var ce=this.quill.getLine(F.index+1),ge=o(ce,1),B=ge[0];if(B){var re=he.formats(),W=this.quill.getFormat(F.index,1);H=y.default.attributes.diff(re,W)||{},Z=B.length()}}this.quill.deleteText(F.index,X,j.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(F.index+Z-1,X,H,j.default.sources.USER)}}function C(F){var q=this.quill.getLines(F),X={};if(q.length>1){var H=q[0].formats(),Z=q[q.length-1].formats();X=y.default.attributes.diff(Z,H)||{}}this.quill.deleteText(F,j.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(F.index,1,X,j.default.sources.USER),this.quill.setSelection(F.index,j.default.sources.SILENT),this.quill.focus()}function L(F,q){var X=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var H=Object.keys(q.format).reduce(function(Z,ne){return w.default.query(ne,w.default.Scope.BLOCK)&&!Array.isArray(q.format[ne])&&(Z[ne]=q.format[ne]),Z},{});this.quill.insertText(F.index,`
`,H,j.default.sources.USER),this.quill.setSelection(F.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(Z){H[Z]==null&&(Array.isArray(q.format[Z])||Z!=="link"&&X.quill.format(Z,q.format[Z],j.default.sources.USER))})}function U(F){return{key:$.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(X){var H=w.default.query("code-block"),Z=X.index,ne=X.length,ee=this.quill.scroll.descendant(H,Z),he=o(ee,2),ce=he[0],ge=he[1];if(ce!=null){var B=this.quill.getIndex(ce),re=ce.newlineIndex(ge,!0)+1,W=ce.newlineIndex(B+ge+ne),Y=ce.domNode.textContent.slice(re,W).split(`
`);ge=0,Y.forEach(function(J,ie){F?(ce.insertAt(re+ge,H.TAB),ge+=H.TAB.length,ie===0?Z+=H.TAB.length:ne+=H.TAB.length):J.startsWith(H.TAB)&&(ce.deleteAt(re+ge,H.TAB.length),ge-=H.TAB.length,ie===0?Z-=H.TAB.length:ne-=H.TAB.length),ge+=J.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(Z,ne,j.default.sources.SILENT)}}}}function K(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(X,H){this.quill.format(F,!H.format[F],j.default.sources.USER)}}}function V(F){if(typeof F=="string"||typeof F=="number")return V({key:F});if((typeof F>"u"?"undefined":s(F))==="object"&&(F=(0,f.default)(F,!1)),typeof F.key=="string")if($.keys[F.key.toUpperCase()]!=null)F.key=$.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[M]=F.shortKey,delete F.shortKey),F}n.default=$,n.SHORTKEY=M},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){var b=[],j=!0,S=!1,E=void 0;try{for(var T=x[Symbol.iterator](),O;!(j=(O=T.next()).done)&&(b.push(O.value),!(w&&b.length===w));j=!0);}catch(A){S=!0,E=A}finally{try{!j&&T.return&&T.return()}finally{if(S)throw E}}return b}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),u=a(0),f=h(u),c=a(7),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function g(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var v=function(y){g(x,y),l(x,null,[{key:"value",value:function(){}}]);function x(w,b){m(this,x);var j=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.selection=b,j.textNode=document.createTextNode(x.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,j){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,b,j);for(var S=this,E=0;S!=null&&S.statics.scope!==f.default.Scope.BLOCK_BLOT;)E+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=x.CONTENTS.length,S.optimize(),S.formatAt(E,x.CONTENTS.length,b,j),this._length=0)}},{key:"index",value:function(b,j){return b===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,j=this.selection.getNativeRange(),S=void 0,E=void 0,T=void 0;if(j!=null&&j.start.node===b&&j.end.node===b){var O=[b,j.start.offset,j.end.offset];S=O[0],E=O[1],T=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var A=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof d.default?(S=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=x.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var _=[E,T].map(function(I){return Math.max(0,Math.min(S.data.length,I-1))}),P=s(_,2);return E=P[0],T=P[1],{startNode:S,startOffset:E,endNode:S,endOffset:T}}}}},{key:"update",value:function(b,j){var S=this;if(b.some(function(T){return T.type==="characterData"&&T.target===S.textNode})){var E=this.restore();E&&(j.range=E)}}},{key:"value",value:function(){return""}}]),x}(f.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=f(s),l=a(4),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[u.default,l.BlockEmbed,m],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(w)}},l=a(0),u=f(l);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"value",value:function(w){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):b}}]),y}(u.default.Attributor.Style),p=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),g=new m("color","color",{scope:u.default.Scope.INLINE});n.ColorAttributor=m,n.ColorClass=p,n.ColorStyle=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(6),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return p(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),v}(u.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,v){var y=document.createElement("a");y.href=g;var x=y.href.slice(0,y.href.indexOf(":"));return v.indexOf(x)>-1}n.default=m,n.sanitize=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),l=a(23),u=d(l),f=a(107),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var m=0;function p(v,y){v.setAttribute(y,v.getAttribute(y)!=="true")}var g=function(){function v(y){var x=this;h(this,v),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case u.default.keys.ENTER:x.togglePicker();break;case u.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),x.hasAttribute("value")&&b.setAttribute("data-value",x.getAttribute("value")),x.textContent&&b.setAttribute("data-label",x.textContent),b.addEventListener("click",function(){w.selectItem(b,!0)}),b.addEventListener("keydown",function(j){switch(j.keyCode){case u.default.keys.ENTER:w.selectItem(b,!0),j.preventDefault();break;case u.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(b){var j=x.buildItem(b);w.appendChild(j),b.selected===!0&&x.selectItem(j)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(x!==b&&(b!=null&&b.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var b=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),v}();n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=R(s),l=a(5),u=R(l),f=a(4),c=R(f),d=a(16),h=R(d),m=a(25),p=R(m),g=a(24),v=R(g),y=a(35),x=R(y),w=a(6),b=R(w),j=a(22),S=R(j),E=a(7),T=R(E),O=a(55),A=R(O),_=a(42),P=R(_),I=a(23),k=R(I);function R(M){return M&&M.__esModule?M:{default:M}}u.default.register({"blots/block":c.default,"blots/block/embed":f.BlockEmbed,"blots/break":h.default,"blots/container":p.default,"blots/cursor":v.default,"blots/embed":x.default,"blots/inline":b.default,"blots/scroll":S.default,"blots/text":T.default,"modules/clipboard":A.default,"modules/history":P.default,"modules/keyboard":k.default}),o.default.register(c.default,h.default,v.default,b.default,S.default,T.default),n.default=u.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u){this.domNode=u,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(u){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return s.create(u)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(u,f){var c=this.isolate(u,f);c.remove()},l.prototype.formatAt=function(u,f,c,d){var h=this.isolate(u,f);if(s.query(c,s.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);h.wrap(m),m.format(c,d)}},l.prototype.insertAt=function(u,f,c){var d=c==null?s.create("text",f):s.create(f,c),h=this.split(u);this.parent.insertBefore(d,h)},l.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var c=null;u.children.insertBefore(this,f),f!=null&&(c=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=c)&&u.domNode.insertBefore(this.domNode,c),this.parent=u,this.attach()},l.prototype.isolate=function(u,f){var c=this.split(u);return c.split(f),c},l.prototype.length=function(){return 1},l.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},l.prototype.optimize=function(u){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},l.prototype.replaceWith=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return c.replace(this),c},l.prototype.split=function(u,f){return u===0?this:this.next},l.prototype.update=function(u,f){},l.prototype.wrap=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},l.blotName="abstract",l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(12),o=a(32),l=a(33),u=a(1),f=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=s.default.keys(this.domNode),m=o.default.keys(this.domNode),p=l.default.keys(this.domNode);h.concat(m).concat(p).forEach(function(g){var v=u.query(g,u.Scope.ATTRIBUTE);v instanceof s.default&&(d.attributes[v.attrName]=v)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(m){var p=h.attributes[m].value(h.domNode);d.format(m,p)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=d.attributes[m].value(d.domNode),h},{})},c}();n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f,c){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=l(d,this.keyName);h.forEach(function(m){d.classList.remove(m)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=l(d,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(d,m)?m:""},c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f){var c=f.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[l(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[l(this.keyName)];return this.canAdd(d,h)?h:""},c}(o.default);n.default=u},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){o(this,u),this.quill=f,this.options=c,this.modules={}}return s(u,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),u}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=a(0),u=d(l),f=a(7),c=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function h(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function m(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function p(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g="\uFEFF",v=function(y){p(x,y);function x(w){h(this,x);var b=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(j){b.contentNode.appendChild(j)}),b.leftGuard=document.createTextNode(g),b.rightGuard=document.createTextNode(g),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return s(x,[{key:"index",value:function(b,j){return b===this.leftGuard?0:b===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"restore",value:function(b){var j=void 0,S=void 0,E=b.data.split(g).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var T=this.prev.length();this.prev.insertAt(T,E),j={startNode:this.prev.domNode,startOffset:T+E.length}}else S=document.createTextNode(E),this.parent.insertBefore(u.default.create(S),this),j={startNode:S,startOffset:E.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,E),j={startNode:this.next.domNode,startOffset:E.length}):(S=document.createTextNode(E),this.parent.insertBefore(u.default.create(S),this.next),j={startNode:S,startOffset:E.length}));return b.data=g,j}},{key:"update",value:function(b,j){var S=this;b.forEach(function(E){if(E.type==="characterData"&&(E.target===S.leftGuard||E.target===S.rightGuard)){var T=S.restore(E.target);T&&(j.range=T)}})}}]),x}(u.default.Embed);n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",u),c=new o.default.Attributor.Class("align","ql-align",u),d=new o.default.Attributor.Style("align","text-align",u);n.AlignAttribute=f,n.AlignClass=c,n.AlignStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=a(0),o=u(s),l=a(26);function u(d){return d&&d.__esModule?d:{default:d}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=c},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",u),c=new o.default.Attributor.Class("direction","ql-direction",u),d=new o.default.Attributor.Style("direction","direction",u);n.DirectionAttribute=f,n.DirectionClass=c,n.DirectionStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,b)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(b)}},l=a(0),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function d(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function h(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var m={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new u.default.Attributor.Class("font","ql-font",m),g=function(y){h(x,y);function x(){return c(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(b){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),x}(u.default.Attributor.Style),v=new g("font","font-family",m);n.FontStyle=v,n.FontClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=a(0),o=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=u,n.SizeStyle=f},function(r,n,a){r.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=function(){function w(b,j){for(var S=0;S<j.length;S++){var E=j[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,j,S){return j&&w(b.prototype,j),S&&w(b,S),b}}(),o=a(0),l=h(o),u=a(5),f=h(u),c=a(9),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=function(w){g(b,w);function b(j,S){m(this,b);var E=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,S));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(f.default.events.EDITOR_CHANGE,function(T,O,A,_){T!==f.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||_===f.default.sources.USER?E.record(O,A):E.transform(O))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return s(b,[{key:"change",value:function(S,E){if(this.stack[S].length!==0){var T=this.stack[S].pop();this.stack[E].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[S],f.default.sources.USER),this.ignoreChange=!1;var O=x(T[S]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,E){if(S.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(E),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var A=this.stack.undo.pop();T=T.compose(A.undo),S=A.redo.compose(S)}else this.lastRecorded=O;this.stack.undo.push({redo:S,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var b=w.ops[w.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(j){return l.default.query(j,l.default.Scope.BLOCK)!=null}):!1}function x(w){var b=w.reduce(function(S,E){return S+=E.delete||0,S},0),j=w.length()-b;return y(w)&&(j-=1),j}n.default=v,n.getLastChangeIndex=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=function(){function L(U,K){for(var V=0;V<K.length;V++){var F=K[V];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(U,F.key,F)}}return function(U,K,V){return K&&L(U.prototype,K),V&&L(U,V),U}}(),o=function L(U,K,V){U===null&&(U=Function.prototype);var F=Object.getOwnPropertyDescriptor(U,K);if(F===void 0){var q=Object.getPrototypeOf(U);return q===null?void 0:L(q,K,V)}else{if("value"in F)return F.value;var X=F.get;return X===void 0?void 0:X.call(V)}},l=a(3),u=O(l),f=a(2),c=O(f),d=a(8),h=O(d),m=a(23),p=O(m),g=a(34),v=O(g),y=a(59),x=O(y),w=a(60),b=O(w),j=a(28),S=O(j),E=a(61),T=O(E);function O(L){return L&&L.__esModule?L:{default:L}}function A(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function _(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function P(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var I=[!1,"center","right","justify"],k=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],M=["1","2","3",!1],$=["small",!1,"large","huge"],G=function(L){P(U,L);function U(K,V){A(this,U);var F=_(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,V)),q=function X(H){if(!document.body.contains(K.root))return document.body.removeEventListener("click",X);F.tooltip!=null&&!F.tooltip.root.contains(H.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(Z){Z.container.contains(H.target)||Z.close()})};return K.emitter.listenDOM("click",document.body,q),F}return s(U,[{key:"addModule",value:function(V){var F=o(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,V);return V==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(V,F){V.forEach(function(q){var X=q.getAttribute("class")||"";X.split(/\s+/).forEach(function(H){if(H.startsWith("ql-")&&(H=H.slice(3),F[H]!=null))if(H==="direction")q.innerHTML=F[H][""]+F[H].rtl;else if(typeof F[H]=="string")q.innerHTML=F[H];else{var Z=q.value||"";Z!=null&&F[H][Z]&&(q.innerHTML=F[H][Z])}})})}},{key:"buildPickers",value:function(V,F){var q=this;this.pickers=V.map(function(H){if(H.classList.contains("ql-align"))return H.querySelector("option")==null&&C(H,I),new b.default(H,F.align);if(H.classList.contains("ql-background")||H.classList.contains("ql-color")){var Z=H.classList.contains("ql-background")?"background":"color";return H.querySelector("option")==null&&C(H,k,Z==="background"?"#ffffff":"#000000"),new x.default(H,F[Z])}else return H.querySelector("option")==null&&(H.classList.contains("ql-font")?C(H,R):H.classList.contains("ql-header")?C(H,M):H.classList.contains("ql-size")&&C(H,$)),new S.default(H)});var X=function(){q.pickers.forEach(function(Z){Z.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,X)}}]),U}(v.default);G.DEFAULTS=(0,u.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var V=new FileReader;V.onload=function(F){var q=U.quill.getSelection(!0);U.quill.updateContents(new c.default().retain(q.index).delete(q.length).insert({image:F.target.result}),h.default.sources.USER),U.quill.setSelection(q.index+1,h.default.sources.SILENT),K.value=""},V.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(L){P(U,L);function U(K,V){A(this,U);var F=_(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,V));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return s(U,[{key:"listen",value:function(){var V=this;this.textbox.addEventListener("keydown",function(F){p.default.match(F,"enter")?(V.save(),F.preventDefault()):p.default.match(F,"escape")&&(V.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:V!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+V)||""),this.root.setAttribute("data-mode",V)}},{key:"restoreFocus",value:function(){var V=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=V}},{key:"save",value:function(){var V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,h.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":V=z(V);case"formula":{if(!V)break;var q=this.quill.getSelection(!0);if(q!=null){var X=q.index+q.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),V,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",h.default.sources.USER),this.quill.setSelection(X+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(T.default);function z(L){var U=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":L}function C(L,U){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(V){var F=document.createElement("option");V===K?F.setAttribute("selected","selected"):F.setAttribute("value",V),L.appendChild(F)})}n.BaseTooltip=D,n.default=G},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var u,f=this.iterator();u=f();)if(u===l)return!0;return!1},o.prototype.insertBefore=function(l,u){l&&(l.next=u,u!=null?(l.prev=u.prev,u.prev!=null&&(u.prev.next=l),u.prev=l,u===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var u=0,f=this.head;f!=null;){if(f===l)return u;u+=f.length(),f=f.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var u=l;return l!=null&&(l=l.next),u}},o.prototype.find=function(l,u){u===void 0&&(u=!1);for(var f,c=this.iterator();f=c();){var d=f.length();if(l<d||u&&l===d&&(f.next==null||f.next.length()!==0))return[f,l];l-=d}return[null,0]},o.prototype.forEach=function(l){for(var u,f=this.iterator();u=f();)l(u)},o.prototype.forEachAt=function(l,u,f){if(!(u<=0))for(var c=this.find(l),d=c[0],h=c[1],m,p=l-h,g=this.iterator(d);(m=g())&&p<l+u;){var v=m.length();l>p?f(m,l-p,Math.min(u,p+v-l)):f(m,0,Math.min(v,l+u-p)),p+=v}},o.prototype.map=function(l){return this.reduce(function(u,f){return u.push(l(f)),u},[])},o.prototype.reduce=function(l,u){for(var f,c=this.iterator();f=c();)u=l(u,f);return u},o}();n.default=s},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,u),p.attach(),p}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,p){this.update(),m===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,m,p)},h.prototype.formatAt=function(m,p,g,v){this.update(),d.prototype.formatAt.call(this,m,p,g,v)},h.prototype.insertAt=function(m,p,g){this.update(),d.prototype.insertAt.call(this,m,p,g)},h.prototype.optimize=function(m,p){var g=this;m===void 0&&(m=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)m.push(v.pop());for(var y=function(j,S){S===void 0&&(S=!0),!(j==null||j===g)&&j.domNode.parentNode!=null&&(j.domNode[l.DATA_KEY].mutations==null&&(j.domNode[l.DATA_KEY].mutations=[]),S&&y(j.parent))},x=function(j){j.domNode[l.DATA_KEY]==null||j.domNode[l.DATA_KEY].mutations==null||(j instanceof o.default&&j.children.forEach(x),j.optimize(p))},w=m,b=0;w.length>0;b+=1){if(b>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(j){var S=l.find(j.target,!0);S!=null&&(S.domNode===j.target&&(j.type==="childList"?(y(l.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(E){var T=l.find(E,!1);y(T,!1),T instanceof o.default&&T.children.forEach(function(O){y(O,!1)})})):j.type==="attributes"&&y(S.prev)),y(S))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),v=w.slice();v.length>0;)m.push(v.pop())}},h.prototype.update=function(m,p){var g=this;p===void 0&&(p={}),m=m||this.observer.takeRecords(),m.map(function(v){var y=l.find(v.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[v],y):(y.domNode[l.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===g||v.domNode[l.DATA_KEY]==null||v.update(v.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(m,p)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){c(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function u(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var f=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,m){var p=this;h===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(d.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):c.prototype.format.call(this,h,m)},d.prototype.formatAt=function(h,m,p,g){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var v=this.isolate(h,m);v.format(p,g)}else c.prototype.formatAt.call(this,h,m,p,g)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&u(m,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){var h=l.query(c.blotName).tagName;if(d.tagName!==h)return f.formats.call(this,d)},c.prototype.format=function(d,h){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):f.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,m,p){l.query(m,l.Scope.BLOCK)!=null?this.format(m,p):f.prototype.formatAt.call(this,d,h,m,p)},c.prototype.insertAt=function(d,h,m){if(m==null||l.query(h,l.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,h,m);else{var p=this.split(d),g=l.create(h,m);p.parent.insertBefore(g,p)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,h)},c.blotName="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(c){},f.prototype.format=function(c,d){u.prototype.formatAt.call(this,0,this.length(),c,d)},f.prototype.formatAt=function(c,d,h,m){c===0&&d===this.length()?this.format(h,m):u.prototype.formatAt.call(this,c,d,h,m)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);n.default=l},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),u=function(f){s(c,f);function c(d){var h=f.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,m){m==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,h,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var m=l.create(this.domNode.splitText(d));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(d,h){var m=this;d.some(function(p){return p.type==="characterData"&&p.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,u){return arguments.length>1&&!this.contains(l)==!u?u:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=l.length;var c=f.indexOf(l,u);return c!==-1&&c===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),c=f.length>>>0,d=arguments[1],h,m=0;m<c;m++)if(h=f[m],u.call(d,h,m,f))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var a=-1,s=1,o=0;function l(b,j,S){if(b==j)return b?[[o,b]]:[];(S<0||b.length<S)&&(S=null);var E=d(b,j),T=b.substring(0,E);b=b.substring(E),j=j.substring(E),E=h(b,j);var O=b.substring(b.length-E);b=b.substring(0,b.length-E),j=j.substring(0,j.length-E);var A=u(b,j);return T&&A.unshift([o,T]),O&&A.push([o,O]),p(A),S!=null&&(A=y(A,S)),A=x(A),A}function u(b,j){var S;if(!b)return[[s,j]];if(!j)return[[a,b]];var E=b.length>j.length?b:j,T=b.length>j.length?j:b,O=E.indexOf(T);if(O!=-1)return S=[[s,E.substring(0,O)],[o,T],[s,E.substring(O+T.length)]],b.length>j.length&&(S[0][0]=S[2][0]=a),S;if(T.length==1)return[[a,b],[s,j]];var A=m(b,j);if(A){var _=A[0],P=A[1],I=A[2],k=A[3],R=A[4],M=l(_,I),$=l(P,k);return M.concat([[o,R]],$)}return f(b,j)}function f(b,j){for(var S=b.length,E=j.length,T=Math.ceil((S+E)/2),O=T,A=2*T,_=new Array(A),P=new Array(A),I=0;I<A;I++)_[I]=-1,P[I]=-1;_[O+1]=0,P[O+1]=0;for(var k=S-E,R=k%2!=0,M=0,$=0,G=0,D=0,z=0;z<T;z++){for(var C=-z+M;C<=z-$;C+=2){var L=O+C,U;C==-z||C!=z&&_[L-1]<_[L+1]?U=_[L+1]:U=_[L-1]+1;for(var K=U-C;U<S&&K<E&&b.charAt(U)==j.charAt(K);)U++,K++;if(_[L]=U,U>S)$+=2;else if(K>E)M+=2;else if(R){var V=O+k-C;if(V>=0&&V<A&&P[V]!=-1){var F=S-P[V];if(U>=F)return c(b,j,U,K)}}}for(var q=-z+G;q<=z-D;q+=2){var V=O+q,F;q==-z||q!=z&&P[V-1]<P[V+1]?F=P[V+1]:F=P[V-1]+1;for(var X=F-q;F<S&&X<E&&b.charAt(S-F-1)==j.charAt(E-X-1);)F++,X++;if(P[V]=F,F>S)D+=2;else if(X>E)G+=2;else if(!R){var L=O+k-q;if(L>=0&&L<A&&_[L]!=-1){var U=_[L],K=O+U-L;if(F=S-F,U>=F)return c(b,j,U,K)}}}}return[[a,b],[s,j]]}function c(b,j,S,E){var T=b.substring(0,S),O=j.substring(0,E),A=b.substring(S),_=j.substring(E),P=l(T,O),I=l(A,_);return P.concat(I)}function d(b,j){if(!b||!j||b.charAt(0)!=j.charAt(0))return 0;for(var S=0,E=Math.min(b.length,j.length),T=E,O=0;S<T;)b.substring(O,T)==j.substring(O,T)?(S=T,O=S):E=T,T=Math.floor((E-S)/2+S);return T}function h(b,j){if(!b||!j||b.charAt(b.length-1)!=j.charAt(j.length-1))return 0;for(var S=0,E=Math.min(b.length,j.length),T=E,O=0;S<T;)b.substring(b.length-T,b.length-O)==j.substring(j.length-T,j.length-O)?(S=T,O=S):E=T,T=Math.floor((E-S)/2+S);return T}function m(b,j){var S=b.length>j.length?b:j,E=b.length>j.length?j:b;if(S.length<4||E.length*2<S.length)return null;function T($,G,D){for(var z=$.substring(D,D+Math.floor($.length/4)),C=-1,L="",U,K,V,F;(C=G.indexOf(z,C+1))!=-1;){var q=d($.substring(D),G.substring(C)),X=h($.substring(0,D),G.substring(0,C));L.length<X+q&&(L=G.substring(C-X,C)+G.substring(C,C+q),U=$.substring(0,D-X),K=$.substring(D+q),V=G.substring(0,C-X),F=G.substring(C+q))}return L.length*2>=$.length?[U,K,V,F,L]:null}var O=T(S,E,Math.ceil(S.length/4)),A=T(S,E,Math.ceil(S.length/2)),_;if(!O&&!A)return null;A?O?_=O[4].length>A[4].length?O:A:_=A:_=O;var P,I,k,R;b.length>j.length?(P=_[0],I=_[1],k=_[2],R=_[3]):(k=_[0],R=_[1],P=_[2],I=_[3]);var M=_[4];return[P,I,k,R,M]}function p(b){b.push([o,""]);for(var j=0,S=0,E=0,T="",O="",A;j<b.length;)switch(b[j][0]){case s:E++,O+=b[j][1],j++;break;case a:S++,T+=b[j][1],j++;break;case o:S+E>1?(S!==0&&E!==0&&(A=d(O,T),A!==0&&(j-S-E>0&&b[j-S-E-1][0]==o?b[j-S-E-1][1]+=O.substring(0,A):(b.splice(0,0,[o,O.substring(0,A)]),j++),O=O.substring(A),T=T.substring(A)),A=h(O,T),A!==0&&(b[j][1]=O.substring(O.length-A)+b[j][1],O=O.substring(0,O.length-A),T=T.substring(0,T.length-A))),S===0?b.splice(j-E,S+E,[s,O]):E===0?b.splice(j-S,S+E,[a,T]):b.splice(j-S-E,S+E,[a,T],[s,O]),j=j-S-E+(S?1:0)+(E?1:0)+1):j!==0&&b[j-1][0]==o?(b[j-1][1]+=b[j][1],b.splice(j,1)):j++,E=0,S=0,T="",O="";break}b[b.length-1][1]===""&&b.pop();var _=!1;for(j=1;j<b.length-1;)b[j-1][0]==o&&b[j+1][0]==o&&(b[j][1].substring(b[j][1].length-b[j-1][1].length)==b[j-1][1]?(b[j][1]=b[j-1][1]+b[j][1].substring(0,b[j][1].length-b[j-1][1].length),b[j+1][1]=b[j-1][1]+b[j+1][1],b.splice(j-1,1),_=!0):b[j][1].substring(0,b[j+1][1].length)==b[j+1][1]&&(b[j-1][1]+=b[j+1][1],b[j][1]=b[j][1].substring(b[j+1][1].length)+b[j+1][1],b.splice(j+1,1),_=!0)),j++;_&&p(b)}var g=l;g.INSERT=s,g.DELETE=a,g.EQUAL=o,r.exports=g;function v(b,j){if(j===0)return[o,b];for(var S=0,E=0;E<b.length;E++){var T=b[E];if(T[0]===a||T[0]===o){var O=S+T[1].length;if(j===O)return[E+1,b];if(j<O){b=b.slice();var A=j-S,_=[T[0],T[1].slice(0,A)],P=[T[0],T[1].slice(A)];return b.splice(E,1,_,P),[E+1,b]}else S=O}}throw new Error("cursor_pos is out of bounds!")}function y(b,j){var S=v(b,j),E=S[1],T=S[0],O=E[T],A=E[T+1];if(O==null)return b;if(O[0]!==o)return b;if(A!=null&&O[1]+A[1]===A[1]+O[1])return E.splice(T,2,A,O),w(E,T,2);if(A!=null&&A[1].indexOf(O[1])===0){E.splice(T,2,[A[0],O[1]],[0,O[1]]);var _=A[1].slice(O[1].length);return _.length>0&&E.splice(T+2,0,[A[0],_]),w(E,T,3)}else return b}function x(b){for(var j=!1,S=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},E=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},T=2;T<b.length;T+=1)b[T-2][0]===o&&E(b[T-2][1])&&b[T-1][0]===a&&S(b[T-1][1])&&b[T][0]===s&&S(b[T][1])&&(j=!0,b[T-1][1]=b[T-2][1].slice(-1)+b[T-1][1],b[T][1]=b[T-2][1].slice(-1)+b[T][1],b[T-2][1]=b[T-2][1].slice(0,-1));if(!j)return b;for(var O=[],T=0;T<b.length;T+=1)b[T][1].length>0&&O.push(b[T]);return O}function w(b,j,S){for(var E=j+S-1;E>=0&&E>=j-1;E--)if(E+1<b.length){var T=b[E],O=b[E+1];T[0]===O[1]&&b.splice(E,2,[T[0],T[1]+O[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(s){var o=[];for(var l in s)o.push(l);return o}},function(r,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=a?s:o,n.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var a=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function u(){this._events=new o,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)a.call(d,h)&&c.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},u.prototype.listeners=function(c,d){var h=s?s+c:c,m=this._events[h];if(d)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},u.prototype.emit=function(c,d,h,m,p,g){var v=s?s+c:c;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,m),!0;case 5:return y.fn.call(y.context,d,h,m,p),!0;case 6:return y.fn.call(y.context,d,h,m,p,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,S;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,h);break;case 4:y[b].fn.call(y[b].context,d,h,m);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y[b].fn.apply(y[b].context,w)}}return!0},u.prototype.on=function(c,d,h){var m=new l(d,h||this),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.once=function(c,d,h){var m=new l(d,h||this,!0),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.removeListener=function(c,d,h,m){var p=s?s+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==d||m&&!g[v].once||h&&g[v].context!==h)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},u.prototype.removeAllListeners=function(c){var d;return c?(d=s?s+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=s,u.EventEmitter=u,typeof r<"u"&&(r.exports=u)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(Y,J){var ie=[],te=!0,me=!1,le=void 0;try{for(var se=Y[Symbol.iterator](),xe;!(te=(xe=se.next()).done)&&(ie.push(xe.value),!(J&&ie.length===J));te=!0);}catch(ze){me=!0,le=ze}finally{try{!te&&se.return&&se.return()}finally{if(me)throw le}}return ie}return function(Y,J){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return W(Y,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function W(Y,J){for(var ie=0;ie<J.length;ie++){var te=J[ie];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Y,te.key,te)}}return function(Y,J,ie){return J&&W(Y.prototype,J),ie&&W(Y,ie),Y}}(),u=a(3),f=P(u),c=a(2),d=P(c),h=a(0),m=P(h),p=a(5),g=P(p),v=a(10),y=P(v),x=a(9),w=P(x),b=a(36),j=a(37),S=a(13),E=P(S),T=a(26),O=a(38),A=a(39),_=a(40);function P(W){return W&&W.__esModule?W:{default:W}}function I(W,Y,J){return Y in W?Object.defineProperty(W,Y,{value:J,enumerable:!0,configurable:!0,writable:!0}):W[Y]=J,W}function k(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function R(W,Y){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:W}function M(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Y):W.__proto__=Y)}var $=(0,y.default)("quill:clipboard"),G="__ql-matcher",D=[[Node.TEXT_NODE,re],[Node.TEXT_NODE,ce],["br",ne],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,B],["li",he],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",ee]],z=[b.AlignAttribute,O.DirectionAttribute].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),C=[b.AlignStyle,j.BackgroundStyle,T.ColorStyle,O.DirectionStyle,A.FontStyle,_.SizeStyle].reduce(function(W,Y){return W[Y.keyName]=Y,W},{}),L=function(W){M(Y,W);function Y(J,ie){k(this,Y);var te=R(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,J,ie));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],D.concat(te.options.matchers).forEach(function(me){var le=o(me,2),se=le[0],xe=le[1];!ie.matchVisual&&xe===ge||te.addMatcher(se,xe)}),te}return l(Y,[{key:"addMatcher",value:function(ie,te){this.matchers.push([ie,te])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[E.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new d.default().insert(me,I({},E.default.blotName,te[E.default.blotName]))}var le=this.prepareMatching(),se=o(le,2),xe=se[0],ze=se[1],je=q(this.container,xe,ze);return V(je,`
`)&&je.ops[je.ops.length-1].attributes==null&&(je=je.compose(new d.default().retain(je.length()-1).delete(1))),$.log("convert",this.container.innerHTML,je),this.container.innerHTML="",je}},{key:"dangerouslyPasteHTML",value:function(ie,te){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),te),this.quill.setSelection(0,g.default.sources.SILENT);else{var le=this.convert(te);this.quill.updateContents(new d.default().retain(ie).concat(le),me),this.quill.setSelection(ie+le.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var te=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),le=new d.default().retain(me.index),se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){le=le.concat(te.convert()).delete(me.length),te.quill.updateContents(le,g.default.sources.USER),te.quill.setSelection(le.length()-me.length,g.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=se,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,te=[],me=[];return this.matchers.forEach(function(le){var se=o(le,2),xe=se[0],ze=se[1];switch(xe){case Node.TEXT_NODE:me.push(ze);break;case Node.ELEMENT_NODE:te.push(ze);break;default:[].forEach.call(ie.container.querySelectorAll(xe),function(je){je[G]=je[G]||[],je[G].push(ze)});break}}),[te,me]}}]),Y}(w.default);L.DEFAULTS={matchers:[],matchVisual:!0};function U(W,Y,J){return(typeof Y>"u"?"undefined":s(Y))==="object"?Object.keys(Y).reduce(function(ie,te){return U(ie,te,Y[te])},W):W.reduce(function(ie,te){return te.attributes&&te.attributes[Y]?ie.push(te):ie.insert(te.insert,(0,f.default)({},I({},Y,J),te.attributes))},new d.default)}function K(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return W[Y]||(W[Y]=window.getComputedStyle(W))}function V(W,Y){for(var J="",ie=W.ops.length-1;ie>=0&&J.length<Y.length;--ie){var te=W.ops[ie];if(typeof te.insert!="string")break;J=te.insert+J}return J.slice(-1*Y.length)===Y}function F(W){if(W.childNodes.length===0)return!1;var Y=K(W);return["block","list-item"].indexOf(Y.display)>-1}function q(W,Y,J){return W.nodeType===W.TEXT_NODE?J.reduce(function(ie,te){return te(W,ie)},new d.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ie,te){var me=q(te,Y,J);return te.nodeType===W.ELEMENT_NODE&&(me=Y.reduce(function(le,se){return se(te,le)},me),me=(te[G]||[]).reduce(function(le,se){return se(te,le)},me)),ie.concat(me)},new d.default):new d.default}function X(W,Y,J){return U(J,W,!0)}function H(W,Y){var J=m.default.Attributor.Attribute.keys(W),ie=m.default.Attributor.Class.keys(W),te=m.default.Attributor.Style.keys(W),me={};return J.concat(ie).concat(te).forEach(function(le){var se=m.default.query(le,m.default.Scope.ATTRIBUTE);se!=null&&(me[se.attrName]=se.value(W),me[se.attrName])||(se=z[le],se!=null&&(se.attrName===le||se.keyName===le)&&(me[se.attrName]=se.value(W)||void 0),se=C[le],se!=null&&(se.attrName===le||se.keyName===le)&&(se=C[le],me[se.attrName]=se.value(W)||void 0))}),Object.keys(me).length>0&&(Y=U(Y,me)),Y}function Z(W,Y){var J=m.default.query(W);if(J==null)return Y;if(J.prototype instanceof m.default.Embed){var ie={},te=J.value(W);te!=null&&(ie[J.blotName]=te,Y=new d.default().insert(ie,J.formats(W)))}else typeof J.formats=="function"&&(Y=U(Y,J.blotName,J.formats(W)));return Y}function ne(W,Y){return V(Y,`
`)||Y.insert(`
`),Y}function ee(){return new d.default}function he(W,Y){var J=m.default.query(W);if(J==null||J.blotName!=="list-item"||!V(Y,`
`))return Y;for(var ie=-1,te=W.parentNode;!te.classList.contains("ql-clipboard");)(m.default.query(te)||{}).blotName==="list"&&(ie+=1),te=te.parentNode;return ie<=0?Y:Y.compose(new d.default().retain(Y.length()-1).retain(1,{indent:ie}))}function ce(W,Y){return V(Y,`
`)||(F(W)||Y.length()>0&&W.nextSibling&&F(W.nextSibling))&&Y.insert(`
`),Y}function ge(W,Y){if(F(W)&&W.nextElementSibling!=null&&!V(Y,`

`)){var J=W.offsetHeight+parseFloat(K(W).marginTop)+parseFloat(K(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+J*1.5&&Y.insert(`
`)}return Y}function B(W,Y){var J={},ie=W.style||{};return ie.fontStyle&&K(W).fontStyle==="italic"&&(J.italic=!0),ie.fontWeight&&(K(W).fontWeight.startsWith("bold")||parseInt(K(W).fontWeight)>=700)&&(J.bold=!0),Object.keys(J).length>0&&(Y=U(Y,J)),parseFloat(ie.textIndent||0)>0&&(Y=new d.default().insert("	").concat(Y)),Y}function re(W,Y){var J=W.data;if(W.parentNode.tagName==="O:P")return Y.insert(J.trim());if(J.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return Y;if(!K(W.parentNode).whiteSpace.startsWith("pre")){var ie=function(me,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&me?" ":le};J=J.replace(/\r\n/g," ").replace(/\n/g," "),J=J.replace(/\s\s+/g,ie.bind(ie,!0)),(W.previousSibling==null&&F(W.parentNode)||W.previousSibling!=null&&F(W.previousSibling))&&(J=J.replace(/^\s+/,ie.bind(ie,!1))),(W.nextSibling==null&&F(W.parentNode)||W.nextSibling!=null&&F(W.nextSibling))&&(J=J.replace(/\s+$/,ie.bind(ie,!1)))}return Y.insert(J)}n.default=L,n.matchAttributor=H,n.matchBlot=Z,n.matchNewline=ce,n.matchSpacing=ge,n.matchText=re},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(y){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(u.default);m.blotName="bold",m.tagName=["STRONG","B"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=function(){function _(P,I){var k=[],R=!0,M=!1,$=void 0;try{for(var G=P[Symbol.iterator](),D;!(R=(D=G.next()).done)&&(k.push(D.value),!(I&&k.length===I));R=!0);}catch(z){M=!0,$=z}finally{try{!R&&G.return&&G.return()}finally{if(M)throw $}}return k}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return _(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(P,I){for(var k=0;k<I.length;k++){var R=I[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,I,k){return I&&_(P.prototype,I),k&&_(P,k),P}}(),l=a(2),u=y(l),f=a(0),c=y(f),d=a(5),h=y(d),m=a(10),p=y(m),g=a(9),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function x(_,P,I){return P in _?Object.defineProperty(_,P,{value:I,enumerable:!0,configurable:!0,writable:!0}):_[P]=I,_}function w(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}function b(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:_}function j(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}var S=(0,p.default)("quill:toolbar"),E=function(_){j(P,_);function P(I,k){w(this,P);var R=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,k));if(Array.isArray(R.options.container)){var M=document.createElement("div");O(M,R.options.container),I.container.parentNode.insertBefore(M,I.container),R.container=M}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;if(!(R.container instanceof HTMLElement)){var $;return $=S.error("Container required for toolbar",R.options),b(R,$)}return R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(G){R.addHandler(G,R.options.handlers[G])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(G){R.attach(G)}),R.quill.on(h.default.events.EDITOR_CHANGE,function(G,D){G===h.default.events.SELECTION_CHANGE&&R.update(D)}),R.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=R.quill.selection.getRange(),D=s(G,1),z=D[0];R.update(z)}),R}return o(P,[{key:"addHandler",value:function(k,R){this.handlers[k]=R}},{key:"attach",value:function(k){var R=this,M=[].find.call(k.classList,function(G){return G.indexOf("ql-")===0});if(M){if(M=M.slice(3),k.tagName==="BUTTON"&&k.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){S.warn("ignoring attaching to disabled format",M,k);return}if(c.default.query(M)==null){S.warn("ignoring attaching to nonexistent format",M,k);return}}var $=k.tagName==="SELECT"?"change":"click";k.addEventListener($,function(G){var D=void 0;if(k.tagName==="SELECT"){if(k.selectedIndex<0)return;var z=k.options[k.selectedIndex];z.hasAttribute("selected")?D=!1:D=z.value||!1}else k.classList.contains("ql-active")?D=!1:D=k.value||!k.hasAttribute("value"),G.preventDefault();R.quill.focus();var C=R.quill.selection.getRange(),L=s(C,1),U=L[0];if(R.handlers[M]!=null)R.handlers[M].call(R,D);else if(c.default.query(M).prototype instanceof c.default.Embed){if(D=prompt("Enter "+M),!D)return;R.quill.updateContents(new u.default().retain(U.index).delete(U.length).insert(x({},M,D)),h.default.sources.USER)}else R.quill.format(M,D,h.default.sources.USER);R.update(U)}),this.controls.push([M,k])}}},{key:"update",value:function(k){var R=k==null?{}:this.quill.getFormat(k);this.controls.forEach(function(M){var $=s(M,2),G=$[0],D=$[1];if(D.tagName==="SELECT"){var z=void 0;if(k==null)z=null;else if(R[G]==null)z=D.querySelector("option[selected]");else if(!Array.isArray(R[G])){var C=R[G];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),z=D.querySelector('option[value="'+C+'"]')}z==null?(D.value="",D.selectedIndex=-1):z.selected=!0}else if(k==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var L=R[G]===D.getAttribute("value")||R[G]!=null&&R[G].toString()===D.getAttribute("value")||R[G]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",L)}else D.classList.toggle("ql-active",R[G]!=null)})}}]),P}(v.default);E.DEFAULTS={};function T(_,P,I){var k=document.createElement("button");k.setAttribute("type","button"),k.classList.add("ql-"+P),I!=null&&(k.value=I),_.appendChild(k)}function O(_,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(I){var k=document.createElement("span");k.classList.add("ql-formats"),I.forEach(function(R){if(typeof R=="string")T(k,R);else{var M=Object.keys(R)[0],$=R[M];Array.isArray($)?A(k,M,$):T(k,M,$)}}),_.appendChild(k)})}function A(_,P,I){var k=document.createElement("select");k.classList.add("ql-"+P),I.forEach(function(R){var M=document.createElement("option");R!==!1?M.setAttribute("value",R):M.setAttribute("selected","selected"),k.appendChild(M)}),_.appendChild(k)}E.DEFAULTS={container:null,handlers:{clean:function(){var P=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var k=this.quill.getFormat();Object.keys(k).forEach(function(R){c.default.query(R,c.default.Scope.INLINE)!=null&&P.quill.format(R,!1)})}else this.quill.removeFormat(I,h.default.sources.USER)},direction:function(P){var I=this.quill.getFormat().align;P==="rtl"&&I==null?this.quill.format("align","right",h.default.sources.USER):!P&&I==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",P,h.default.sources.USER)},indent:function(P){var I=this.quill.getSelection(),k=this.quill.getFormat(I),R=parseInt(k.indent||0);if(P==="+1"||P==="-1"){var M=P==="+1"?1:-1;k.direction==="rtl"&&(M*=-1),this.quill.format("indent",R+M,h.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,h.default.sources.USER)},list:function(P){var I=this.quill.getSelection(),k=this.quill.getFormat(I);P==="check"?k.list==="checked"||k.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",P,h.default.sources.USER)}}},n.default=E,n.addControls=O},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.label.innerHTML=y,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(y){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,y);return x.style.backgroundColor=y.getAttribute("value")||"",x}},{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x);var w=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=b:w.style.fill=b)}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){var d=this;o(this,u),this.quill=f,this.boundsContainer=c||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>m.right&&(g=m.right-p.right,this.root.style.left=d+g+"px"),p.left<m.left&&(g=m.left-p.left,this.root.style.left=d+g+"px"),p.bottom>m.bottom){var v=p.bottom-p.top,y=c.bottom-c.top+v;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function A(_,P){var I=[],k=!0,R=!1,M=void 0;try{for(var $=_[Symbol.iterator](),G;!(k=(G=$.next()).done)&&(I.push(G.value),!(P&&I.length===P));k=!0);}catch(D){R=!0,M=D}finally{try{!k&&$.return&&$.return()}finally{if(R)throw M}}return I}return function(_,P){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return A(_,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function A(_,P,I){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,P);if(k===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:A(R,P,I)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(I)}},l=function(){function A(_,P){for(var I=0;I<P.length;I++){var k=P[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,P,I){return P&&A(_.prototype,P),I&&A(_,I),_}}(),u=a(3),f=w(u),c=a(8),d=w(c),h=a(43),m=w(h),p=a(27),g=w(p),v=a(15),y=a(41),x=w(y);function w(A){return A&&A.__esModule?A:{default:A}}function b(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function j(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:A}function S(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(A){S(_,A);function _(P,I){b(this,_),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=E);var k=j(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P,I));return k.quill.container.classList.add("ql-snow"),k}return l(_,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),x.default),this.tooltip=new O(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(k,R){I.handlers.link.call(I,!R.format.link)})}}]),_}(m.default);T.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var P=this.quill.getSelection();if(P==null||P.length==0)return;var I=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var k=this.quill.theme.tooltip;k.edit("link",I)}else this.quill.format("link",!1)}}}}});var O=function(A){S(_,A);function _(P,I){b(this,_);var k=j(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P,I));return k.preview=k.root.querySelector("a.ql-preview"),k}return l(_,[{key:"listen",value:function(){var I=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(k){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),k.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(k){if(I.linkRange!=null){var R=I.linkRange;I.restoreFocus(),I.quill.formatText(R,"link",!1,d.default.sources.USER),delete I.linkRange}k.preventDefault(),I.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(k,R,M){if(k!=null){if(k.length===0&&M===d.default.sources.USER){var $=I.quill.scroll.descendant(g.default,k.index),G=s($,2),D=G[0],z=G[1];if(D!=null){I.linkRange=new v.Range(k.index-z,D.length());var C=g.default.formats(D.domNode);I.preview.textContent=C,I.preview.setAttribute("href",C),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(h.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=T},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(29),o=te(s),l=a(36),u=a(38),f=a(64),c=a(65),d=te(c),h=a(66),m=te(h),p=a(67),g=te(p),v=a(37),y=a(26),x=a(39),w=a(40),b=a(56),j=te(b),S=a(68),E=te(S),T=a(27),O=te(T),A=a(69),_=te(A),P=a(70),I=te(P),k=a(71),R=te(k),M=a(72),$=te(M),G=a(73),D=te(G),z=a(13),C=te(z),L=a(74),U=te(L),K=a(75),V=te(K),F=a(57),q=te(F),X=a(41),H=te(X),Z=a(28),ne=te(Z),ee=a(59),he=te(ee),ce=a(60),ge=te(ce),B=a(61),re=te(B),W=a(108),Y=te(W),J=a(62),ie=te(J);function te(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":C.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":j.default,"formats/code":z.Code,"formats/italic":E.default,"formats/link":O.default,"formats/script":_.default,"formats/strike":I.default,"formats/underline":R.default,"formats/image":$.default,"formats/video":D.default,"formats/list/item":p.ListItem,"modules/formula":U.default,"modules/syntax":V.default,"modules/toolbar":q.default,"themes/bubble":Y.default,"themes/snow":ie.default,"ui/icons":H.default,"ui/picker":ne.default,"ui/icon-picker":ge.default,"ui/color-picker":he.default,"ui/tooltip":re.default},!0),n.default=o.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(0),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var b=this.value(x)||0;w=w==="+1"?b+1:b-1}return w===0?(this.remove(x),!0):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,w)||o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,x))||void 0}}]),v}(u.default.Attributor.Class),p=new m("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function m(p,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,v){return g&&m(p.prototype,g),v&&m(p,v),p}}(),o=a(4),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){d(p,m);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),p}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=function(){function b(j,S){for(var E=0;E<S.length;E++){var T=S[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(j,T.key,T)}}return function(j,S,E){return S&&b(j.prototype,S),E&&b(j,E),j}}(),o=function b(j,S,E){j===null&&(j=Function.prototype);var T=Object.getOwnPropertyDescriptor(j,S);if(T===void 0){var O=Object.getPrototypeOf(j);return O===null?void 0:b(O,S,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},l=a(0),u=m(l),f=a(4),c=m(f),d=a(25),h=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,j,S){return j in b?Object.defineProperty(b,j,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[j]=S,b}function g(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")}function v(b,j){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:b}function y(b,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);b.prototype=Object.create(j&&j.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(b,j):b.__proto__=j)}var x=function(b){y(j,b);function j(){return g(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return s(j,[{key:"format",value:function(E,T){E===w.blotName&&!T?this.replaceWith(u.default.create(this.statics.scope)):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,E,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,T){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,T),this):(this.parent.unwrap(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,E,T))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:o(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,E)}}]),j}(c.default);x.blotName="list-item",x.tagName="LI";var w=function(b){y(j,b),s(j,null,[{key:"create",value:function(E){var T=E==="ordered"?"OL":"UL",O=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,T);return(E==="checked"||E==="unchecked")&&O.setAttribute("data-checked",E==="checked"),O}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(S){g(this,j);var E=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,S)),T=function(A){if(A.target.parentNode===S){var _=E.statics.formats(S),P=u.default.find(A.target);_==="checked"?P.format("list","unchecked"):_==="unchecked"&&P.format("list","checked")}};return S.addEventListener("touchstart",T),S.addEventListener("mousedown",T),E}return s(j,[{key:"format",value:function(E,T){this.children.length>0&&this.children.tail.format(E,T)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,T){if(E instanceof x)o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,E,T);else{var O=T==null?this.length():T.offset(this),A=this.split(O);A.parent.insertBefore(E,A)}}},{key:"optimize",value:function(E){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,E);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var T=u.default.create(this.statics.defaultChild);E.moveChildren(T),this.appendChild(T)}o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,E)}}]),j}(h.default);w.blotName="list",w.scope=u.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],n.ListItem=x,n.default=w},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(56),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),g}(u.default);m.blotName="script",m.tagName=["SUB","SUP"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(w)}},l=a(0),u=c(l),f=a(27);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["alt","height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,f.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(u.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(w)}},l=a(4),u=a(27),f=c(u);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"sanitize",value:function(w){return f.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=function(){function w(b,j){for(var S=0;S<j.length;S++){var E=j[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,j,S){return j&&w(b.prototype,j),S&&w(b,S),b}}(),o=function w(b,j,S){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,j);if(E===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:w(T,j,S)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(S)}},l=a(35),u=m(l),f=a(5),c=m(f),d=a(9),h=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function g(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function v(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){v(b,w);function b(){return p(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,null,[{key:"create",value:function(S){var E=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",S)),E}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),b}(u.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var x=function(w){v(b,w),s(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){p(this,b);var j=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return b}(h.default);n.FormulaBlot=y,n.default=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=function(){function S(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&S(E.prototype,T),O&&S(E,O),E}}(),o=function S(E,T,O){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:S(_,T,O)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(O)}},l=a(0),u=g(l),f=a(5),c=g(f),d=a(9),h=g(d),m=a(13),p=g(m);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function y(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function x(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var w=function(S){x(E,S);function E(){return v(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),E}(p.default);w.className="ql-syntax";var b=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),j=function(S){x(E,S),s(E,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(w,!0)}}]);function E(T,O){v(this,E);var A=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,O));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return A.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){A.highlight(),_=null},A.options.interval)}),A.highlight(),A}return s(E,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(_){_.highlight(O.options.highlight)}),this.quill.update(c.default.sources.SILENT),A!=null&&this.quill.setSelection(A,c.default.sources.SILENT)}}}]),E}(h.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var E=window.hljs.highlightAuto(S);return E.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=b,n.default=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function E(T,O,A){T===null&&(T=Function.prototype);var _=Object.getOwnPropertyDescriptor(T,O);if(_===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:E(P,O,A)}else{if("value"in _)return _.value;var I=_.get;return I===void 0?void 0:I.call(A)}},o=function(){function E(T,O){for(var A=0;A<O.length;A++){var _=O[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(T,_.key,_)}}return function(T,O,A){return O&&E(T.prototype,O),A&&E(T,A),T}}(),l=a(3),u=v(l),f=a(8),c=v(f),d=a(43),h=v(d),m=a(15),p=a(41),g=v(p);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function x(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function w(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(E){w(T,E);function T(O,A){y(this,T),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=b);var _=x(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,A));return _.quill.container.classList.add("ql-bubble"),_}return o(T,[{key:"extendToolbar",value:function(A){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),g.default)}}]),T}(h.default);j.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(E){w(T,E);function T(O,A){y(this,T);var _=x(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,A));return _.quill.on(c.default.events.EDITOR_CHANGE,function(P,I,k,R){if(P===c.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&R===c.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var M=_.quill.getLines(I.index,I.length);if(M.length===1)_.position(_.quill.getBounds(I));else{var $=M[M.length-1],G=_.quill.getIndex($),D=Math.min($.length()-1,I.index+I.length-G),z=_.quill.getBounds(new m.Range(G,D));_.position(z)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(T,[{key:"listen",value:function(){var A=this;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var _=A.quill.getSelection();_!=null&&A.position(A.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var _=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,A),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",_===0)return _;P.style.marginLeft=-1*_-P.offsetWidth/2+"px"}}]),T}(d.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=j},function(r,n,a){r.exports=a(63)}]).default})})(Ly);var jk=Ly.exports,Nk=Rt&&Rt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gs=Rt&&Rt.__assign||function(){return Gs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Gs.apply(this,arguments)},_k=Rt&&Rt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],o=0,l=s.length;o<l;o++,a++)n[a]=s[o];return n},Zo=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dr=Zo(N),Ek=Zo(xd),$a=Zo(wk),Dm=Zo(jk),Ok=function(e){Nk(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(s,o,l,u){var f,c,d,h;s==="text-change"?(c=(f=n).onEditorChangeText)===null||c===void 0||c.call(f,n.editor.root.innerHTML,o,u,n.unprivilegedEditor):s==="selection-change"&&((h=(d=n).onEditorChangeSelection)===null||h===void 0||h.call(d,o,u,n.unprivilegedEditor))};var a=n.isControlled()?r.value:r.defaultValue;return n.value=a??"",n}return t.prototype.validateProps=function(r){var n;if(dr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(dr.default.Children.count(r.children)){var a=dr.default.Children.only(r.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var a=this,s;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(s=r.value,s??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),_k(this.cleanProps,this.dirtyProps).some(function(u){return!$a.default(r[u],a.props[u])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(a){return!$a.default(r[a],n.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(r)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,s=l.delta,u=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(s),Rm(function(){return a.setEditorSelection(f,u)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var a=new Dm.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?$a.default(r.ops,n.ops):$a.default(r,n)},t.prototype.setEditorContents=function(r,n){var a=this;this.value=n;var s=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Rm(function(){return a.setEditorSelection(r,s)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var a=r.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var a,s;!((s=(a=r)===null||a===void 0?void 0:a.scroll)===null||s===void 0)&&s.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=Ek.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,a=n.children,s=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(u){r.editingArea=u}};return dr.default.Children.count(a)?dr.default.cloneElement(dr.default.Children.only(a),l):s?dr.default.createElement("pre",Gs({},l)):dr.default.createElement("div",Gs({},l))},t.prototype.render=function(){var r;return dr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,a,s){var o,l;if(this.editor){var u=this.isDelta(this.value)?s.getContents():s.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=u,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,a,s))}},t.prototype.onEditorChangeSelection=function(r,n,a){var s,o,l,u,f,c;if(this.editor){var d=this.getEditorSelection(),h=!d&&r,m=d&&!r;$a.default(r,d)||(this.selection=r,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,r,n,a),h?(u=(l=this.props).onFocus)===null||u===void 0||u.call(l,r,n,a):m&&((c=(f=this.props).onBlur)===null||c===void 0||c.call(f,d,n,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Dm.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(dr.default.Component);function Rm(e){Promise.resolve().then(e)}var Sk=Ok;const By=Br(Sk),Tk=e=>{switch(e){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},Pk="rgb(242, 82, 146)",zt="rgb(99, 102, 241)",fr=Pk,Xi=()=>{const{user:e}=$e(),t=Tk(e==null?void 0:e.role),[r,n]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState("grid"),[u,f]=N.useState(""),[c,d]=N.useState("all"),[h,m]=N.useState("deadline"),[p,g]=N.useState(!1),[v,y]=N.useState(null),[x,w]=N.useState({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),[b,j]=N.useState({}),[S,E]=N.useState(!1),[T,O]=N.useState({project_managers:[],developers:[],clients:[]}),[A,_]=N.useState({}),P=N.useRef(null);N.useEffect(()=>{I(),k()},[]);const I=async()=>{try{const B=await oe.get("/projects");let re=B.data.data||B.data;Array.isArray(re)||(re=Array.isArray(re.data)?re.data:[]),console.log("=== FULL API RESPONSE ===",B.data);const W=re.map(J=>{const ie=Array.isArray(J.tasks)?J.tasks:[],te=ie.length>0?ie.length:J.tasks_count||0,me=ie.length>0?ie.filter(se=>["completed","done","resolved"].includes(String(se.status||"").toLowerCase())).length:J.completed_tasks_count||0,le=te>0?Math.round(me/te*100):0;return console.log(`Project: "${J.name||J.title}"`,{tasks_count:J.tasks_count,completed_tasks_count:J.completed_tasks_count,totalTasks:te,completedTasks:me,calculatedProgress:le,hasProgressField:"progress"in J,apiProgress:J.progress}),{...J,progress:le,total_tasks:te,completed_tasks:me}}),Y=J=>{var te,me;const ie=e==null?void 0:e.role;return!ie||ie==="admin"?!0:ie==="client"?J.client_id===(e==null?void 0:e.id)||((te=J.client)==null?void 0:te.id)===(e==null?void 0:e.id):ie==="project_manager"?J.project_manager_id===(e==null?void 0:e.id)||((me=J.project_manager)==null?void 0:me.id)===(e==null?void 0:e.id):ie==="developer"?(Array.isArray(J.members)?J.members:[]).some(se=>se.user_id===(e==null?void 0:e.id)||se.id===(e==null?void 0:e.id)):!0};n(W.filter(Y))}catch(B){console.error("Failed to fetch projects:",B)}finally{s(!1)}},k=async()=>{try{const B=await oe.get("/projects/users-for-assignment");O(B.data)}catch(B){console.error("Failed to fetch users for assignment:",B)}},R=()=>{y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),_({}),g(!0)},M=async B=>{var re;try{const Y=(await oe.get(`/projects/${B.id}`)).data;y(Y),w({title:Y.title||Y.name,description:Y.description||"",status:Y.status,project_manager_id:Y.project_manager_id||"",client_id:Y.client_id||"",developer_ids:((re=Y.members)==null?void 0:re.map(J=>J.user_id))||[],deadline:Y.deadline||"",attachments:[],existingAttachments:Y.attachments||[]}),j({}),_({}),g(!0)}catch(W){console.error("Error fetching project details:",W),alert("Failed to load project details")}},$=()=>{g(!1),y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),_({})},G=()=>{const B={};return x.title.trim()||(B.title="Project title is required"),j(B),Object.keys(B).length===0},D=B=>{Array.from(B.target.files).forEach(W=>{if(W.size>10*1024*1024){alert(`File ${W.name} is too large. Maximum size is 10MB.`);return}const Y={id:Date.now()+Math.random(),file:W,name:W.name,size:W.size,type:W.type,uploaded:!1,progress:0};w(J=>({...J,attachments:[...J.attachments,Y]}))}),P.current&&(P.current.value="")},z=B=>{w(re=>({...re,attachments:re.attachments.filter(W=>W.id!==B)}))},C=B=>B.startsWith("image/")?i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"})}):B.includes("pdf")?i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}):i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),L=B=>{if(B===0)return"0 Bytes";const re=1024,W=["Bytes","KB","MB"],Y=Math.floor(Math.log(B)/Math.log(re));return Math.round(B/Math.pow(re,Y)*100)/100+" "+W[Y]},U=(B="")=>B.split(" ").filter(Boolean).slice(0,2).map(re=>{var W;return((W=re[0])==null?void 0:W.toUpperCase())||""}).join(""),K=[{label:"All Projects",value:"all"},{label:"Current",value:"current"},{label:"Pending",value:"pending"},{label:"Completed",value:"completed"},{label:"Failed",value:"failed"}],V=(B,re)=>{const W=B.status;return re==="all"?!0:re==="current"?["in_progress"].includes(W):re==="pending"?["planning","review","on_hold"].includes(W):re==="completed"?W==="completed":re==="failed"?["cancelled","failed"].includes(W):W===re},F=B=>r.filter(re=>V(re,B)).length,q=B=>{switch(B){case"completed":return"bg-emerald-50 text-emerald-700 border border-emerald-200";case"in_progress":return"bg-blue-50 text-blue-700 border border-blue-200";case"planning":case"review":return"bg-amber-50 text-amber-700 border border-amber-200";case"on_hold":return"bg-gray-50 text-gray-700 border border-gray-200";case"cancelled":case"failed":return"bg-rose-50 text-rose-700 border border-rose-200";default:return"bg-purple-50 text-purple-700 border border-purple-200"}},X=async B=>{var re,W;if(B.preventDefault(),!!G()){E(!0);try{let Y={...x};delete Y.attachments;let J;v?J=await oe.put(`/projects/${v.id}`,Y):J=await oe.post("/projects",Y);const ie=((re=J.data.data)==null?void 0:re.id)||J.data.id;if(x.attachments&&x.attachments.length>0){console.log("Starting file uploads, count:",x.attachments.length);for(const te of x.attachments)if(console.log("Processing attachment:",te.name,"Has file:",!!te.file),te.file&&!te.uploaded){const me=new FormData;me.append("file",te.file),me.append("project_id",ie),me.append("file_name",te.name),console.log("Uploading file:",te.name,"to project:",ie);try{const le=await oe.post("/projects/upload-attachment",me,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:se=>{const xe=Math.round(se.loaded*100/se.total);_(ze=>({...ze,[te.id]:xe}))}});console.log("File uploaded successfully:",le.data)}catch(le){console.error(`Failed to upload ${te.name}:`,le),console.error("Error response:",(W=le.response)==null?void 0:W.data),alert(`Failed to upload file: ${te.name}`)}}}else console.log("No attachments to upload");await I(),$()}catch(Y){console.error("Failed to save project:",Y),j({submit:"Failed to save project. Please try again."})}finally{E(!1)}}},[H,Z]=N.useState({show:!1,projectId:null,projectTitle:""}),ne=B=>{Z({show:!0,projectId:B.id,projectTitle:B.title||B.name})},ee=()=>{Z({show:!1,projectId:null,projectTitle:""})},he=async()=>{try{await oe.delete(`/projects/${H.projectId}`),await I(),ee()}catch(B){console.error("Failed to delete project:",B),alert("Failed to delete project. Please try again.")}},ce=r.filter(B=>{const re=(B.name||"").toLowerCase().includes(u.toLowerCase())||(B.description||"").toLowerCase().includes(u.toLowerCase()),W=V(B,c);return re&&W}),ge=[...ce].sort((B,re)=>{if(h==="progress")return(re.progress||0)-(B.progress||0);if(h==="deadline"){const W=B.deadline?new Date(B.deadline).getTime():Number.MAX_SAFE_INTEGER,Y=re.deadline?new Date(re.deadline).getTime():Number.MAX_SAFE_INTEGER;return W-Y}return h==="name"?(B.name||B.title||"").localeCompare(re.name||re.title||""):0});return a?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-4",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("div",{children:i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Projects"})}),i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between bg-white border border-gray-100 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:zt},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:ce.length})]})]}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsxs("button",{onClick:R,className:"px-6 py-2.5 rounded-lg font-semibold text-white transition-all flex items-center gap-2 text-base",style:{background:fr},children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New"]})]}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-100",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center justify-between",children:[i.jsx("div",{className:"flex flex-wrap gap-1.5",children:K.map(B=>i.jsxs("button",{onClick:()=>d(B.value),className:`px-3 py-1.5 rounded-lg border transition-all text-xs font-medium flex items-center gap-1.5 ${c===B.value?"text-white border-transparent":"bg-white text-gray-600 border-gray-100 hover:border-gray-200"}`,style:c===B.value?{background:zt,borderColor:zt}:{},children:[i.jsx("span",{children:B.label}),i.jsx("span",{className:`text-xs px-1 py-0 rounded-sm font-medium ${c===B.value?"bg-white/30":"bg-gray-100 text-gray-600"}`,children:F(B.value)})]},B.value))}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[i.jsxs("select",{value:h,onChange:B=>m(B.target.value),className:"px-3 py-2 border border-gray-100 rounded-lg focus:outline-none focus:border-gray-300 hover:border-gray-200 transition-colors text-sm bg-white",style:{minWidth:"130px"},children:[i.jsx("option",{value:"deadline",children:"Deadline"}),i.jsx("option",{value:"progress",children:"Progress"}),i.jsx("option",{value:"name",children:"Name"})]}),i.jsx("div",{className:"flex-1 md:flex md:justify-end",style:{maxWidth:"300px"},children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:B=>f(B.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-100 rounded-lg focus:outline-none focus:border-gray-300 hover:border-gray-200 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-colors ${o==="grid"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="grid"?{background:fr}:{},title:"Grid view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>l("table"),className:`p-2 rounded-md transition-colors ${o==="table"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="table"?{background:fr}:{},title:"Table view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]})}),ce.length>0?i.jsxs(i.Fragment,{children:[o==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ge.map((B,re)=>{var me;const W=B.deadline?Math.ceil((new Date(B.deadline)-new Date)/864e5):null,Y=B.deadline&&new Date(B.deadline)<new Date,J=[];B.project_manager&&J.push({name:B.project_manager.name,id:B.project_manager.id,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}),B.client&&J.push({name:B.client.name,id:B.client.id,role:"client",roleLabel:"Client",from:"#059669",to:"#10b981"}),B.members&&B.members.length>0&&B.members.slice(0,2).forEach(le=>{J.push({name:le.name||le.full_name||le.username||"Dev",id:le.user_id||le.id,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})});const ie=Math.max(0,(((me=B.members)==null?void 0:me.length)||0)-2),te=J.length+(ie>0?ie:0);return i.jsxs("div",{onClick:()=>window.location.href=`${t}/projects/${B.id}`,className:"bg-white border border-gray-150 rounded-lg p-3 hover:shadow-md transition-all duration-200 cursor-pointer group",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{background:zt},children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide\\",children:"Project"}),i.jsxs("h3",{className:"font-semibold text-gray-900 text-sm group-hover:opacity-80 transition-opacity\\",children:["\\n                            ",B.name||B.title]})]})]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${q(B.status)}`,children:B.status.replace("_"," ").toUpperCase()})]}),B.description&&i.jsx("div",{className:"text-xs text-gray-600 mb-2 line-clamp-2",dangerouslySetInnerHTML:{__html:B.description}}),B.progress!==void 0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold",style:{color:zt},children:[B.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${B.progress||0}%`,background:fr}})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex -space-x-2",children:[J.map((le,se)=>i.jsx("a",{href:`${t}/users/${le.role}/${le.id}`,onClick:xe=>xe.stopPropagation(),title:`${le.name} - ${le.roleLabel}`,className:"w-8 h-8 rounded-full bg-gradient-to-br text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer",style:{backgroundImage:`linear-gradient(135deg, ${le.from}, ${le.to})`},children:U(le.name)},`${le.name}-${se}`)),ie>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white",children:["+",ie]})]}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Team ",te]})]}),B.deadline&&i.jsx("div",{className:`px-2 py-1 rounded-lg border text-xs font-medium ${Y?"bg-rose-50 text-rose-700 border-rose-200":W<=3?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-xs",children:Y?"Overdue":W<=3?"Due soon":"Deadline"})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[i.jsxs("a",{href:`${t}/projects/${B.id}/tasks`,onClick:le=>le.stopPropagation(),className:"px-4 py-1.5 rounded-lg font-semibold text-white transition-all flex items-center gap-1.5 text-sm",style:{background:zt},children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM15 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2h-2zM5 13a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM13 11a1 1 0 10-2 0v3.586L9.707 13.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L13 14.586V11z"})}),"Tasks"]}),i.jsxs("div",{className:"flex items-center gap-1.5",onClick:le=>le.preventDefault(),children:[i.jsx("button",{onClick:le=>{le.preventDefault(),le.stopPropagation(),M(B)},className:"p-1.5 rounded-md transition-colors border",style:{color:zt,borderColor:zt},title:"Edit",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:le=>{le.preventDefault(),le.stopPropagation(),ne(B)},className:"p-1.5 rounded-md transition-colors border",style:{color:fr,borderColor:fr},title:"Delete",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},B.id)})}),o==="table"&&i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"All Projects"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Project"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Team"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Deadline"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",style:{borderColor:"#e5e7eb"},children:ge.map((B,re)=>{const W=B.deadline?Math.ceil((new Date(B.deadline)-new Date)/864e5):null,Y=B.deadline&&new Date(B.deadline)<new Date;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",onClick:()=>window.location.href=`${t}/projects/${B.id}`,style:{cursor:"pointer"},children:[i.jsx("td",{className:"py-3 px-4 border-l-2",style:{borderLeftColor:zt},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{background:zt},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsx("div",{children:i.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-purple-600 transition-colors",children:B.name||B.title})})]})}),i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"space-y-1.5 text-sm text-gray-600",children:[B.project_manager&&i.jsxs("a",{href:`${t}/users/project-manager/${B.project_manager.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0z"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"PM:"}),i.jsx("span",{className:"ml-1 font-bold text-purple-700 text-sm group-hover:text-purple-900 group-hover:underline",children:B.project_manager.name})]})]}),B.client&&i.jsxs("a",{href:`${t}/users/client/${B.client.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Client:"}),i.jsx("span",{className:"ml-1 font-bold text-blue-700 text-sm group-hover:text-blue-900 group-hover:underline",children:B.client.name})]})]}),B.members&&B.members.length>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-medium",children:"Devs:"}),i.jsx("span",{children:B.members.length})]})]})}),i.jsx("td",{className:"py-3 px-4 text-center",children:B.progress!==void 0?i.jsx("div",{className:"flex flex-col items-center gap-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${B.progress||0}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[B.progress,"%"]})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:B.deadline?i.jsx("div",{className:`inline-block px-3 py-1.5 rounded-full text-xs font-semibold border ${Y?"bg-red-50 text-red-700 border-red-300":W<=3?"bg-yellow-50 text-yellow-700 border-yellow-300":"bg-blue-50 text-blue-700 border-blue-300"}`,children:i.jsxs("div",{className:"flex items-center gap-1",children:[Y&&"âš ï¸",W<=3&&!Y&&"â°",W>3&&"ðŸ“…",i.jsx("span",{children:new Date(B.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"No deadline"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${B.status==="completed"?"bg-green-100 text-green-700 border border-green-300":B.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":B.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":B.status==="on_hold"?"bg-gray-100 text-gray-700 border border-gray-300":"bg-purple-100 text-purple-700 border border-purple-300"}`,children:B.status.replace("_"," ").toUpperCase()})}),i.jsx("td",{className:"py-3 px-4",onClick:J=>J.stopPropagation(),children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:J=>{J.stopPropagation(),M(B)},className:"p-2 rounded-lg transition-colors",style:{color:zt},title:"Edit",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:J=>{J.stopPropagation(),ne(B)},className:"p-2 rounded-lg transition-colors",style:{color:fr},title:"Delete",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},B.id)})})]})})]})]}):i.jsxs("div",{className:"bg-white rounded-xl p-16 text-center shadow-sm border border-gray-100",children:[i.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-gray-500 mb-6",children:u||c!=="all"?"Try adjusting your filters":"Get started by creating your first project"}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsx("button",{onClick:R,className:"px-8 py-3 rounded-xl font-semibold text-white shadow-md hover:shadow-lg transition-all text-base",style:{background:fr},children:"+ Create Project"})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"px-8 py-6 border-b border-gray-200 flex-shrink-0",style:{background:zt},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-white",children:v?"Edit Project":"Create New Project"}),i.jsx("button",{onClick:$,className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-8 py-6",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                  .flex-1::-webkit-scrollbar {
                    width: 6px;
                  }
                  .flex-1::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb:hover {
                    background: #555;
                  }
                  .ql-container {
                    min-height: 180px;
                  }
                  .ql-editor {
                    min-height: 180px;
                  }
                `}),i.jsxs("form",{onSubmit:X,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:x.title,onChange:B=>w({...x,title:B.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base ${b.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter project title"}),b.title&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),i.jsx(By,{value:x.description,onChange:B=>w({...x,description:B}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},placeholder:"Enter project description",theme:"snow"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Manager"}),i.jsxs("select",{value:x.project_manager_id,onChange:B=>w({...x,project_manager_id:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Project Manager --"}),T.project_managers.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client"}),i.jsxs("select",{value:x.client_id,onChange:B=>w({...x,client_id:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Client --"}),T.clients.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Developers"}),x.developer_ids.length>0&&i.jsxs("div",{className:"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-purple-900",children:[x.developer_ids.length," Developer",x.developer_ids.length>1?"s":""," Selected"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:x.developer_ids.map(B=>{const re=T.developers.find(W=>W.id===B);return re?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border border-purple-300 rounded-lg text-sm text-gray-700",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),re.name,i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:x.developer_ids.filter(W=>W!==B)}),className:"ml-1 text-gray-400 hover:text-red-600 transition-colors",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B):null})})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:i.jsxs("div",{className:"max-h-64 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                          .max-h-64::-webkit-scrollbar {
                            width: 6px;
                          }
                          .max-h-64::-webkit-scrollbar-track {
                            background: #f1f1f1;
                          }
                          .max-h-64::-webkit-scrollbar-thumb {
                            background: #888;
                            border-radius: 10px;
                          }
                        `}),T.developers.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:T.developers.map(B=>{const re=x.developer_ids.includes(B.id);return i.jsxs("label",{className:`flex items-center gap-3 cursor-pointer px-4 py-3 hover:bg-purple-50 transition-colors ${re?"bg-purple-50":""}`,children:[i.jsx("input",{type:"checkbox",checked:re,onChange:W=>{W.target.checked?w({...x,developer_ids:[...x.developer_ids,B.id]}):w({...x,developer_ids:x.developer_ids.filter(Y=>Y!==B.id)})},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-sm font-medium ${re?"text-purple-900":"text-gray-700"}`,children:B.name}),re&&i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("span",{className:"text-xs text-gray-500",children:B.email})]})]},B.id)})}):i.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No developers available"})]})}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:T.developers.map(B=>B.id)}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Select All"}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Deselect All"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Attachments"}),i.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-all",onClick:()=>{var B;return(B=P.current)==null?void 0:B.click()},children:[i.jsx("input",{ref:P,type:"file",multiple:!0,onChange:D,className:"hidden",accept:"*/*"}),i.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF or any file up to 10MB"})]}),x.existingAttachments&&x.existingAttachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["ðŸ“Ž ",x.existingAttachments.length," Existing File",x.existingAttachments.length>1?"s":""]})}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-blue-50 p-3 rounded-lg border border-blue-200",children:x.existingAttachments.map(B=>i.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-3 flex items-center gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:C(B.file_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:B.file_name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(B.file_size)}),i.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Uploaded"})]}),i.jsx("a",{href:`/storage/${B.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1.5 text-blue-600 hover:text-blue-800 transition-colors",title:"Download file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]},B.id))})]}),x.attachments&&x.attachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["ðŸ“¤ ",x.attachments.length," New File",x.attachments.length>1?"s":""," to Upload"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,attachments:[]}),className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Remove All"})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:x.attachments.map(B=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center gap-3 hover:shadow-sm transition-shadow",children:[i.jsx("div",{className:"flex-shrink-0",children:C(B.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:B.name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(B.size)}),A[B.id]&&A[B.id]<100&&i.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"bg-purple-500 h-full transition-all",style:{width:`${A[B.id]}%`}})})]}),i.jsx("button",{type:"button",onClick:()=>z(B.id),className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-red-600 transition-colors",title:"Remove file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deadline"}),i.jsxs("div",{className:"relative group",children:[i.jsx("style",{children:`
                          input[type="date"]::-webkit-calendar-picker-indicator {
                            opacity: 0;
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            cursor: pointer;
                          }
                          input[type="date"] {
                            appearance: none;
                            -webkit-appearance: none;
                          }
                        `}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:x.deadline,onChange:B=>w({...x,deadline:B.target.value}),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-base transition-all hover:border-purple-400 group-hover:shadow-md",style:{cursor:"pointer"},placeholder:"Select deadline date"}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]})]}),x.deadline&&i.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-medium text-purple-900",children:"Selected Deadline"}),i.jsx("p",{className:"text-sm font-semibold text-purple-700",children:new Date(x.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsx("button",{type:"button",onClick:()=>w({...x,deadline:""}),className:"p-1.5 hover:bg-white rounded-lg transition-colors",title:"Clear deadline",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:x.status,onChange:B=>w({...x,status:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"planning",children:"Planning"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"review",children:"Review"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"on_hold",children:"On Hold"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),b.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.submit})]})]}),i.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:$,className:"px-8 py-3 border-2 border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-100 transition-colors text-base",disabled:S,children:"Cancel"}),i.jsx("button",{onClick:X,className:"px-8 py-3 rounded-xl font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base",style:{background:fr},disabled:S,children:S?"Saving...":v?"Update Project":"Create Project"})]})})]})}),H.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-scale-in",children:[i.jsx("div",{className:"px-6 py-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"Delete Project"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]})}),i.jsxs("div",{className:"px-6 py-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"You are about to delete:"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"font-semibold text-gray-900",children:H.projectTitle})}),i.jsx("p",{className:"text-xs text-gray-500",children:"All associated data including tasks, members, and files will be permanently deleted."})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3 border-t border-gray-200",children:[i.jsx("button",{onClick:ee,className:"px-5 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:he,className:"px-5 py-2.5 rounded-lg font-medium text-white transition-colors",style:{background:fr},children:"Delete Project"})]})]})}),i.jsx("style",{children:`
          @keyframes scale-in {
            from {
              opacity: 0;
              transform: scale(0.9);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          .animate-scale-in {
            animation: scale-in 0.2s ease-out;
          }
        `})]})},Fa="rgb(99, 102, 241)",Zi=()=>{var _,P;const{projectId:e}=wi(),t=wr(),{user:r}=$e(),[n,a]=N.useState(null),[s,o]=N.useState([]),[l,u]=N.useState(!0),[f,c]=N.useState(null),[d,h]=N.useState({total:0,completed:0,inProgress:0,pending:0,onHold:0});N.useEffect(()=>{m(),g(),p()},[e]);const m=async()=>{try{const I=await oe.get(`/projects/${e}`);a(I.data.data||I.data)}catch(I){console.error("Failed to fetch project:",I)}},p=async()=>{try{const I=await oe.get(`/projects/${e}/analytics`);c(I.data)}catch{c({todaysPendingTasks:0,overdueTasks:0,clientProjectCount:1,userPendingTaskRatio:0})}},g=async()=>{try{const I=await oe.get(`/projects/${e}/tasks`),k=I.data.data||I.data||[];o(k);const R={total:k.length,completed:k.filter(M=>M.status==="completed").length,inProgress:k.filter(M=>M.status==="in_progress").length,pending:k.filter(M=>M.status==="pending").length,onHold:k.filter(M=>M.status==="on_hold").length};h(R)}catch(I){console.error("Failed to fetch tasks:",I)}finally{u(!1)}},v=()=>d.total===0?0:Math.round(d.completed/d.total*100),y=I=>I?new Date(I)<new Date:!1,x=I=>I?Math.ceil((new Date(I)-new Date)/(1e3*60*60*24)):null,w=(I,k)=>{const R=b();t(`${R}/chat?user=${I}&name=${encodeURIComponent(k)}`)},b=()=>{switch(r==null?void 0:r.role){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},j=I=>({completed:"bg-green-50 text-green-800 border-green-200",in_progress:"bg-blue-50 text-blue-800 border-blue-200",pending:"bg-yellow-50 text-yellow-800 border-yellow-200",on_hold:"bg-orange-50 text-orange-800 border-orange-200",planning:"bg-gray-50 text-gray-800 border-gray-200"})[I]||"bg-gray-50 text-gray-800 border-gray-200";if(l)return i.jsx(Je,{});if(!n)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Project not found"}),i.jsx("button",{onClick:()=>t(`${b()}/projects`),className:"mt-4 px-4 py-2 text-white rounded-lg",style:{background:"rgb(155 2 50 / 76%)"},children:"Back to Projects"})]});const S=v(),E=x(n==null?void 0:n.deadline),T=y(n==null?void 0:n.deadline),O=b(),A=s.filter(I=>{if(I.status==="completed"||!I.due_date)return!1;const k=new Date(I.due_date),R=new Date;return k.toDateString()===R.toDateString()}).length;return i.jsxs("div",{className:"space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[(n==null?void 0:n.deadline)&&i.jsx("div",{className:`rounded-[12px] p-5 border-l-4 ${T?"bg-red-50 border-red-500":E<=3?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${T?"bg-red-100":E<=3?"bg-yellow-100":"bg-blue-100"}`,children:i.jsx("svg",{className:`w-6 h-6 ${T?"text-red-600":E<=3?"text-yellow-600":"text-blue-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-semibold ${T?"text-red-800":E<=3?"text-yellow-800":"text-blue-800"}`,children:T?"âš ï¸ Deadline Overdue!":E<=3?"â° Deadline Approaching!":"ðŸ“… Upcoming Deadline"}),i.jsxs("p",{className:`text-sm ${T?"text-red-700":E<=3?"text-yellow-700":"text-blue-700"}`,children:["Deadline: ",new Date(n.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!T&&` (${E} ${E===1?"day":"days"} remaining)`,T&&` (${Math.abs(E)} ${Math.abs(E)===1?"day":"days"} overdue)`]})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(zs,{to:`${O}/projects`,className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n.name||n.title}),n.description&&i.jsx("div",{className:"text-gray-600 mt-2",style:{fontSize:"14px",lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:n.description}})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-sm font-semibold border border-gray-200",style:{color:Fa,background:"#f5f3ff"},children:n.status.replace("_"," ")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.project_manager&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${O}/users/project-manager/${n.project_manager.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Project Manager"})]}),i.jsx("p",{className:"text-lg font-extrabold text-purple-700 mb-1 group-hover:text-purple-900 group-hover:underline",children:n.project_manager.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.project_manager.email})]}),i.jsxs("button",{onClick:I=>{I.preventDefault(),w(n.project_manager.id,n.project_manager.name)},className:"mt-2 px-3 py-1 bg-purple-100 hover:bg-purple-200 rounded text-xs text-purple-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.client&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${O}/users/client/${n.client.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Client"})]}),i.jsx("p",{className:"text-lg font-extrabold text-blue-700 mb-1 group-hover:text-blue-900 group-hover:underline",children:n.client.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.client.email})]}),i.jsxs("button",{onClick:I=>{I.preventDefault(),w(n.client.id,n.client.name)},className:"mt-2 px-3 py-1 bg-blue-100 hover:bg-blue-200 rounded text-xs text-blue-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.deadline&&i.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[i.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-1 flex items-center gap-1 uppercase tracking-wide",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Deadline"]}),i.jsx("p",{className:"text-base font-bold text-gray-900",children:new Date(n.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("p",{className:"text-xs mt-1 font-medium text-gray-600",children:T?`${Math.abs(E)} days overdue`:E<=0?"Today!":`${E} days left`})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"TEAM SIZE"}),i.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[((_=n.members)==null?void 0:_.length)||0," Developer",(((P=n.members)==null?void 0:P.length)||0)!==1?"s":""]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(f==null?void 0:f.clientProjectCount)||1," project",((f==null?void 0:f.clientProjectCount)||1)!==1?"s":""," for this client"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Total Tasks"}),i.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.total})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Pending Tasks"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.pending+d.inProgress}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A," due today"]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.completed}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S,"% completion"]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"Overdue"}),i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.overdueTasks)||0})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Project Progress & Analytics"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Progress"}),i.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[S,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${S}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.completed," of ",d.total," tasks completed"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{label:"Total",value:d.total,icon:"ðŸ“Š"},{label:"Completed",value:d.completed,icon:"âœ…"},{label:"In Progress",value:d.inProgress,icon:"ðŸ”„"},{label:"Pending",value:d.pending,icon:"â³"},{label:"On Hold",value:d.onHold,icon:"â¸ï¸"}].map((I,k)=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center shadow-sm",children:[i.jsx("p",{className:"text-xl mb-1",children:I.icon}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:I.value}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:I.label})]},k))}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Status Distribution"]}),i.jsx("div",{className:"space-y-3",children:[{status:"completed",label:"Completed",count:d.completed,color:"bg-green-500"},{status:"in_progress",label:"In Progress",count:d.inProgress,color:"bg-blue-500"},{status:"pending",label:"Pending",count:d.pending,color:"bg-yellow-500"},{status:"on_hold",label:"On Hold",count:d.onHold,color:"bg-orange-500"}].map((I,k)=>{const R=d.total>0?I.count/d.total*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:I.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[R.toFixed(1),"%"]}),i.jsx("span",{className:"text-sm font-semibold text-gray-800 w-8 text-right",children:I.count})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:`${I.color} h-full transition-all duration-500 relative`,style:{width:`${R}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20"})})})]},k)})})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",style:{color:Fa},children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Team Members"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:n.members.map((I,k)=>{var D,z;const R=s.filter(C=>{var L;return((L=C.assigned_to)==null?void 0:L.id)===I.user_id}),M=R.filter(C=>C.status!=="completed").length,$=R.filter(C=>C.status==="completed").length,G=R.length>0?($/R.length*100).toFixed(0):0;return i.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",style:{background:Fa},children:(((D=I.user)==null?void 0:D.name)||"D").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("a",{href:`${O}/users/developer/${I.user_id}`,className:"font-semibold text-gray-900 text-sm truncate hover:text-purple-700 block",children:((z=I.user)==null?void 0:z.name)||"Developer"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[R.length," task",R.length!==1?"s":""]})]}),i.jsx("button",{onClick:C=>{var L;C.preventDefault(),w(I.user_id,(L=I.user)==null?void 0:L.name)},className:"p-2 rounded-lg transition-colors border border-gray-200 hover:border-purple-300 hover:bg-purple-50 flex-shrink-0",title:"Send Message",children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",style:{color:Fa},children:[i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),i.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${G}%`,background:Fa}})})}),i.jsxs("span",{className:"font-semibold text-gray-700 text-xs",children:[G,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[i.jsxs("span",{className:"text-gray-500",children:[i.jsx("span",{className:"text-green-600 font-semibold",children:$})," done"]}),i.jsxs("span",{className:"text-gray-500",children:[i.jsx("span",{className:"text-yellow-600 font-semibold",children:M})," pending"]})]})]},k)})})]})]})]}),A>0&&i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:i.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-yellow-800",children:["âš¡ ",A," Task",A!==1?"s":""," Due Today!"]}),i.jsx("p",{className:"text-sm text-yellow-700",children:"You have pending tasks that need attention today."})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Tasks (",s.length,")"]})}),s.length>0?i.jsx("div",{className:"divide-y divide-gray-200",children:s.map((I,k)=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:I.title||I.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:I.description})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${j(I.status)}`,children:I.status.replace("_"," ")})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[I.assigned_to&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),I.assigned_to.name]}),I.due_date&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(I.due_date).toLocaleDateString()]}),I.priority&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),I.priority]})]})]},I.id))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-gray-500",children:"No tasks yet for this project"}),i.jsx("a",{href:`${O}/projects/${e}/tasks`,className:"mt-3 inline-block px-4 py-2 text-white rounded-lg text-sm",style:{background:"rgb(155 2 50 / 76%)"},children:"Create Task"})]})]}),n.attachments&&n.attachments.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Project Attachments"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.attachments.map(I=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:I.file_name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(I.file_size/1024).toFixed(2)," KB",I.created_at&&` â€¢ ${new Date(I.created_at).toLocaleDateString()}`]})]})]}),i.jsx("a",{href:`${oe.defaults.baseURL.replace("/api","")}/${I.file_path}`,download:!0,target:"_blank",rel:"noopener noreferrer",className:"ml-3 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded transition-colors",children:"Download"})]},I.id))})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Team Members"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:n.members.map((I,k)=>{var R;return i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:I.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:I.email}),i.jsx("p",{className:"text-xs text-purple-600 font-medium mt-1 capitalize",children:(R=I.role)==null?void 0:R.replace("_"," ")})]},k)})})]})]})},Qi=()=>{var x,w;const{userId:e}=wi(),t=wr(),[r,n]=N.useState(null),[a,s]=N.useState([]),[o,l]=N.useState([]),[u,f]=N.useState(!0),[c,d]=N.useState({totalTasks:0,completedTasks:0,pendingTasks:0,emergencyTasks:0,onHoldTasks:0,todayCompletedTasks:0});N.useEffect(()=>{h()},[e]);const h=async()=>{try{f(!0);const b=await oe.get(`/users/${e}`);n(b.data.data||b.data);const j=await oe.get(`/users/${e}/projects`),S=j.data.data||j.data||[];s(S);const E=await oe.get(`/users/${e}/tasks`),T=E.data.data||E.data||[];l(T);const O=new Date().toISOString().split("T")[0],A=T.filter(_=>_.status==="completed"&&_.updated_at&&_.updated_at.startsWith(O)).length;d({totalTasks:T.length,completedTasks:T.filter(_=>_.status==="completed").length,pendingTasks:T.filter(_=>_.status==="pending").length,emergencyTasks:T.filter(_=>_.priority==="high"||_.priority==="critical").length,onHoldTasks:T.filter(_=>_.status==="on_hold").length,todayCompletedTasks:A})}catch(b){console.error("Failed to fetch user data:",b)}finally{f(!1)}};if(u)return i.jsx(Je,{});if(!r)return i.jsx("div",{className:"p-6 text-center",children:"User not found"});const m=o.filter(b=>b.status==="pending"||b.status==="in_progress"),p=o.filter(b=>b.status==="completed"),g=o.filter(b=>b.priority==="high"||b.priority==="critical"),v=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=b=>{switch(b){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";case"pending":return"text-yellow-600 bg-yellow-50";case"on_hold":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"bg-white rounded-[12px] p-6 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsxs("button",{onClick:()=>t(-1),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-3",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:(x=r.name)==null?void 0:x.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r.name}),i.jsx("p",{className:"text-gray-600 text-sm",children:r.email}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700 capitalize",children:(w=r.role)==null?void 0:w.replace("_"," ")}),r.department&&i.jsxs("span",{className:"text-sm text-gray-600",children:["Department: ",r.department]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[i.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"TOTAL TASKS"}),i.jsx("p",{className:"text-3xl font-bold text-blue-700",children:c.totalTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[i.jsx("p",{className:"text-xs text-green-600 font-semibold mb-1",children:"COMPLETED"}),i.jsx("p",{className:"text-3xl font-bold text-green-700",children:c.completedTasks}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[Math.round(c.completedTasks/c.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[i.jsx("p",{className:"text-xs text-yellow-600 font-semibold mb-1",children:"PENDING"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:c.pendingTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[i.jsx("p",{className:"text-xs text-red-600 font-semibold mb-1",children:"EMERGENCY"}),i.jsx("p",{className:"text-3xl font-bold text-red-700",children:c.emergencyTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[i.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"ON HOLD"}),i.jsx("p",{className:"text-3xl font-bold text-orange-700",children:c.onHoldTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[i.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"TODAY DONE"}),i.jsx("p",{className:"text-3xl font-bold text-purple-700",children:c.todayCompletedTasks})]})]}),a.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Projects (",a.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:a.map(b=>{var j,S;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.name||b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(j=b.client)==null?void 0:j.name})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-xs font-medium text-white",style:{background:b.status==="completed"?"rgb(107, 114, 128)":"#F25292"},children:(S=b.status)==null?void 0:S.replace("_"," ")})]})},b.id)})})]}),g.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border-2 border-red-300 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-red-200 bg-red-50",children:i.jsxs("h2",{className:"text-lg font-bold text-red-800",children:["ðŸš¨ Emergency Tasks (",g.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[g.slice(0,5).map(b=>{var j,S;return i.jsxs("div",{className:"p-4 hover:bg-red-50 transition-colors border-l-4 border-red-500",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(S=b.status)==null?void 0:S.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)}),g.length>5&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",g.length-5," more emergency tasks"]})]})]}),m.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Active Tasks (",m.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:m.map(b=>{var j,S;return i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[b.priority&&i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(S=b.status)==null?void 0:S.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)})})]}),p.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Completed (",p.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[p.slice(0,10).map(b=>{var j;return i.jsx("div",{className:"p-4 opacity-75 hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-700 line-through",children:b.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700",children:"âœ“ Done"})]})},b.id)}),p.length>10&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",p.length-10," more completed tasks"]})]})]})]})},Ji=()=>{var T;const{userId:e,userType:t}=wi(),r=wr(),n=Zt(),[a,s]=N.useState(null),[o,l]=N.useState(null),[u,f]=N.useState([]),[c,d]=N.useState([]),[h,m]=N.useState(!0);N.useEffect(()=>{p(),g(),v(),(t==="developer"||t==="project-manager")&&y()},[e,t]);const p=async()=>{var O,A,_,P,I,k,R,M,$,G;try{const D=t==="client"?`/clients/${e}`:`/users/${e}`,z=await oe.get(D),C=((O=z.data)==null?void 0:O.data)??z.data??{},L={id:C.id||C.user_id||e,name:C.name||((A=C.user)==null?void 0:A.name)||((_=C.client)==null?void 0:_.name)||"Unknown",email:C.email||((P=C.user)==null?void 0:P.email)||((I=C.client)==null?void 0:I.email)||"",role:t||C.role||((k=C.user)==null?void 0:k.role)||"",phone:C.phone||((R=C.user)==null?void 0:R.phone)||"",company:C.company||((M=C.client)==null?void 0:M.company)||"",profile_image:C.profile_image||(($=C.user)==null?void 0:$.profile_image)||((G=C.client)==null?void 0:G.profile_image)||""};s(L)}catch{s({id:e,name:"Unknown",email:"",role:t})}},g=async()=>{try{const O=await oe.get(`/users/${e}/analytics`);l(O.data)}catch{l({totalProjects:0,activeProjects:0,completedProjects:0,totalTasks:0,completedTasks:0,pendingTasks:0,overdueTasks:0,completionRate:0})}},v=async()=>{try{let O;t==="client"?O=await oe.get(`/projects?client_id=${e}`):t==="project-manager"?O=await oe.get(`/projects?project_manager_id=${e}`):O=await oe.get(`/projects?developer_id=${e}`),f(O.data.data||O.data||[])}catch(O){console.error("Failed to fetch projects:",O),f([])}finally{m(!1)}},y=async()=>{try{const O=await oe.get(`/tasks?assigned_to=${e}`);d(O.data.data||O.data||[])}catch(O){console.error("Failed to fetch tasks:",O),d([])}},x=()=>{switch(t){case"project-manager":return{title:"Project Manager",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),gradient:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",textColor:"text-purple-600",borderColor:"border-purple-300"};case"client":return{title:"Client",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),gradient:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-300"};case"developer":return{title:"Developer",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),gradient:"from-green-500 to-green-700",bgColor:"bg-green-50",textColor:"text-green-600",borderColor:"border-green-300"};default:return{title:"User",icon:null,gradient:"from-gray-500 to-gray-700",bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-300"}}},w=()=>{var A;const O=((A=n.pathname.split("/"))==null?void 0:A[1])||"admin";r(`/${O}/chat?userId=${e}`)};if(h)return i.jsx(Je,{});if(!a)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"User Not Found"}),i.jsx(zs,{to:"/projects",className:"text-purple-600 hover:underline",children:"Back to Projects"})]})});const b=x(),j=(o==null?void 0:o.totalTasks)>0?(o.completedTasks/o.totalTasks*100).toFixed(1):0,S={total:u.length,completed:u.filter(O=>O.status==="completed").length,inProgress:u.filter(O=>O.status==="in_progress").length,planning:u.filter(O=>O.status==="planning").length,onHold:u.filter(O=>O.status==="on_hold").length},E={total:c.length,completed:c.filter(O=>O.status==="completed").length,inProgress:c.filter(O=>O.status==="in_progress").length,pending:c.filter(O=>O.status==="pending"||O.status==="todo").length,overdue:c.filter(O=>!O.due_date||O.status==="completed"?!1:new Date(O.due_date)<new Date).length};return S.total>0&&(S.completed/S.total*100).toFixed(1),i.jsxs("div",{className:"space-y-5 pb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(zs,{to:"/projects",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[a.profile_image?i.jsx("img",{src:`/storage/${a.profile_image}`,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-lg font-semibold",style:{background:"rgb(89, 86, 157)"},children:((T=a.name)==null?void 0:T.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a.name}),i.jsx("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:b.title})]})]})]}),i.jsxs("button",{onClick:w,className:"px-4 py-2 text-white rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2 text-sm",style:{background:"rgb(89, 86, 157)"},children:[i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),i.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Chat"]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),i.jsx("span",{className:"font-medium",children:a.email})]}),a.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),i.jsx("span",{className:"font-medium",children:a.phone})]}),a.company&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"})}),i.jsx("span",{className:"font-medium",children:a.company})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg",style:{background:"rgba(89, 86, 157, 0.1)"},children:i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[S.inProgress," active"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Projects"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-green-50",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E.completed}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["of ",E.total," tasks"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completed Tasks"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-blue-50",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E.inProgress}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[E.pending," pending"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:`p-2.5 rounded-lg ${E.overdue>0?"bg-red-50":"bg-purple-50"}`,children:i.jsx("svg",{className:`w-5 h-5 ${E.overdue>0?"text-red-600":"text-purple-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11 4a1 1 0 10-2 0v4a1 1 0 102 0V7zm-3 1a1 1 0 10-2 0v3a1 1 0 102 0V8zM8 9a1 1 0 00-2 0v2a1 1 0 102 0V9z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[j,"%"]}),i.jsx("p",{className:`text-xs mt-0.5 font-medium ${E.overdue>0?"text-red-600":"text-gray-500"}`,children:E.overdue>0?`${E.overdue} overdue`:"On track"})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-5 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Project Status Distribution"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[S.completed," (",S.total>0?(S.completed/S.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${S.total>0?S.completed/S.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[S.inProgress," (",S.total>0?(S.inProgress/S.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${S.total>0?S.inProgress/S.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Planning"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[S.planning," (",S.total>0?(S.planning/S.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${S.total>0?S.planning/S.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Hold"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[S.onHold," (",S.total>0?(S.onHold/S.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 h-3 rounded-full transition-all duration-500",style:{width:`${S.total>0?S.onHold/S.total*100:0}%`}})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Task Progress Overview"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.completed," (",E.total>0?(E.completed/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.completed/E.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.inProgress," (",E.total>0?(E.inProgress/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.inProgress/E.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pending"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[E.pending," (",E.total>0?(E.pending/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.pending/E.total*100:0}%`}})})]}),E.overdue>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overdue"})]}),i.jsxs("span",{className:"text-sm font-bold text-red-600",children:[E.overdue," (",E.total>0?(E.overdue/E.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${E.total>0?E.overdue/E.total*100:0}%`}})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-purple-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Projects"}),i.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.filter(O=>O.status!=="completed").length," active"]})]}),(t==="developer"||t==="project-manager")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Tasks"}),i.jsxs("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.filter(O=>O.status!=="completed").length," pending"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(O=>O.status==="completed").length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j,"% completion"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-red-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Overdue"}),i.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(O=>!O.due_date||O.status==="completed"?!1:new Date(O.due_date)<new Date).length})]})]}),t==="client"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(O=>O.status==="completed").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"In Progress"}),i.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(O=>O.status==="in_progress").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-yellow-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Planning"}),i.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(O=>O.status==="planning").length})]})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Task Progress"}),i.jsx("div",{className:"space-y-4",children:[{label:"Completed",count:c.filter(O=>O.status==="completed").length,color:"bg-green-500",textColor:"text-green-700"},{label:"In Progress",count:c.filter(O=>O.status==="in_progress").length,color:"bg-blue-500",textColor:"text-blue-700"},{label:"Pending",count:c.filter(O=>O.status==="pending"||O.status==="todo").length,color:"bg-yellow-500",textColor:"text-yellow-700"}].map((O,A)=>{const _=c.length>0?O.count/c.length*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:O.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`text-sm font-bold ${O.textColor}`,children:[_.toFixed(1),"%"]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",O.count,")"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`${O.color} h-full transition-all duration-500`,style:{width:`${_}%`}})})]},A)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),t==="project-manager"?"Managing Projects":t==="client"?"Client Projects":"Assigned Projects"]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length," total projects"]})]})}),u.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:u.map(O=>{var P;const A=O.deadline&&new Date(O.deadline)<new Date&&O.status!=="completed",_=O.deadline?Math.ceil((new Date(O.deadline)-new Date)/(1e3*60*60*24)):null;return i.jsxs("a",{href:`/${(a==null?void 0:a.role)==="admin"?"admin":(a==null?void 0:a.role)==="project_manager"?"manager":(a==null?void 0:a.role)==="developer"?"developer":"client"}/projects/${O.id}`,className:"group block bg-gradient-to-br from-gray-50 to-white p-5 rounded-lg border-2 border-gray-200 hover:border-purple-400 hover:shadow-lg transition-all duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-purple-600 transition-colors mb-1",children:O.name||O.title}),O.description&&i.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:O.description}})]}),i.jsx("span",{className:`ml-3 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap ${O.status==="completed"?"bg-green-100 text-green-700 border border-green-300":O.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":O.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:O.status.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[O.deadline&&i.jsxs("div",{className:`flex items-center gap-1 font-semibold ${A?"text-red-600":_<=7?"text-orange-600":"text-gray-600"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{children:new Date(O.deadline).toLocaleDateString()}),A&&i.jsx("span",{className:"text-xs",children:"(Overdue)"}),!A&&_<=7&&_>0&&i.jsxs("span",{className:"text-xs",children:["(",_,"d left)"]})]}),O.members&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsxs("span",{className:"font-medium",children:[((P=O.members)==null?void 0:P.length)||0," members"]})]})]}),O.progress!==void 0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("span",{className:"font-bold text-gray-800",children:[O.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${O.progress===100?"bg-gradient-to-r from-green-500 to-green-600":O.progress>=75?"bg-gradient-to-r from-blue-500 to-blue-600":O.progress>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,style:{width:`${O.progress||0}%`}})})]})]},O.id)})}):i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsxs("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),"Recent Tasks"]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[c.length," total tasks"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:c.slice(0,12).map(O=>{var k,R;const A=O.due_date&&new Date(O.due_date)<new Date&&O.status!=="completed",_=O.status==="completed"?"text-green-700 bg-green-50 border-green-200":O.status==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":"text-yellow-700 bg-yellow-50 border-yellow-200",P=O.due_date?new Date(O.due_date).toLocaleDateString():"â€”",I=((k=O.assignee)==null?void 0:k.name)||a.name;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:O.title||O.name})]}),O.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:O.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${_}`,children:((R=O.status)==null?void 0:R.replace("_"," "))||"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:O.type||"Operational"}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:A?"text-red-600":"text-gray-700",children:P})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:I||"â€”"})]},O.id)})})]})}),c.length>12&&i.jsxs("div",{className:"p-4 border-t border-gray-200 text-center text-sm text-gray-600",children:["Showing 12 of ",c.length," tasks"]})]})]})},es=()=>{const{projectId:e}=wi(),t=wr(),{user:r}=$e(),n=r!=null&&r.role?`/${r.role}`:"",[a,s]=N.useState(null),[o,l]=N.useState([]),[u,f]=N.useState([]),[c,d]=N.useState([]),[h,m]=N.useState(!0),[p,g]=N.useState(!1),[v,y]=N.useState(null),[x,w]=N.useState(!1),[b,j]=N.useState(null),[S,E]=N.useState({name:"",color:"#8B5CF6",order:0}),[T,O]=N.useState({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]});N.useEffect(()=>{A()},[e]);const A=async()=>{try{const[L,U,K,V]=await Promise.all([oe.get(`/projects/${e}`),oe.get(`/projects/${e}/workflow-statuses`),oe.get(`/projects/${e}/tasks`),oe.get("/projects/users-for-assignment")]);s(L.data),l(U.data),f(K.data);const F=[...V.data.project_managers||[],...V.data.developers||[]];d(F)}catch(L){console.error("Error fetching data:",L)}finally{m(!1)}},_=async L=>{const{destination:U,source:K,draggableId:V}=L;if(!U||U.droppableId===K.droppableId&&U.index===K.index)return;const F=parseInt(V),q=parseInt(U.droppableId),X=Array.from(u),H=X.findIndex(ne=>ne.id===F),Z=X[H];Z.workflow_status_id=q,Z.order=U.index,f(X);try{await oe.patch(`/projects/${e}/tasks/${F}/status`,{workflow_status_id:q,order:U.index})}catch(ne){console.error("Error updating task status:",ne),A()}},P=(L=null)=>{var U,K;L?(y(L),O({title:L.title,description:L.description||"",priority:L.priority,start_date:L.start_date||"",due_date:L.due_date||"",estimated_hours:((U=L.estimated_hours)==null?void 0:U.toString())||"",labels:L.labels||[],assigned_users:((K=L.assigned_users)==null?void 0:K.map(V=>V.id))||[]})):(y(null),O({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]})),g(!0)},I=()=>{g(!1),y(null)},k=async L=>{L.preventDefault();try{v?await oe.put(`/projects/${e}/tasks/${v.id}`,T):await oe.post(`/projects/${e}/tasks`,T),I(),A()}catch(U){console.error("Error saving task:",U),alert("Failed to save task. Please try again.")}},R=async L=>{if(window.confirm("Are you sure you want to delete this task?"))try{await oe.delete(`/projects/${e}/tasks/${L}`),I(),A()}catch(U){console.error("Error deleting task:",U),alert("Failed to delete task. Please try again.")}},M=(L=null)=>{L?(j(L),E({name:L.name,color:L.color,order:L.order})):(j(null),E({name:"",color:"#8B5CF6",order:o.length})),w(!0)},$=()=>{w(!1),j(null)},G=async L=>{var U,K,V,F,q,X,H,Z;L.preventDefault();try{if(b){const ne=await oe.put(`/projects/${e}/workflow-statuses/${b.id}`,S);console.log("Update response:",ne.data)}else{const ne=await oe.post(`/projects/${e}/workflow-statuses`,S);console.log("Create response:",ne.data)}$(),await A(),alert("Status saved successfully!")}catch(ne){console.error("Error saving status:",ne),console.error("Error response:",ne.response);const ee=((K=(U=ne.response)==null?void 0:U.data)==null?void 0:K.message)||((F=(V=ne.response)==null?void 0:V.data)==null?void 0:F.error)||((Z=(H=(X=(q=ne.response)==null?void 0:q.data)==null?void 0:X.errors)==null?void 0:H.color)==null?void 0:Z[0])||"Failed to save status. Please try again.";alert("Error: "+ee)}},D=async L=>{var K,V,F,q;const U=C(L);if(U.length>0){alert(`Cannot delete status with ${U.length} task(s). Please move or delete tasks first.`);return}if(window.confirm("Are you sure you want to delete this status?"))try{const X=await oe.delete(`/projects/${e}/workflow-statuses/${L}`);console.log("Delete response:",X.data),$(),await A(),alert("Status deleted successfully!")}catch(X){console.error("Error deleting status:",X),console.error("Error response:",X.response);const H=((V=(K=X.response)==null?void 0:K.data)==null?void 0:V.message)||((q=(F=X.response)==null?void 0:F.data)==null?void 0:q.error)||"Failed to delete status. Please try again.";alert("Error: "+H)}},z=L=>{switch(L){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=L=>u.filter(U=>U.workflow_status_id===L).sort((U,K)=>U.order-K.order);return h?i.jsx(Je,{}):a?i.jsxs("div",{className:"flex flex-col overflow-hidden bg-white",style:{height:"88vh"},children:[i.jsx("div",{className:"flex-shrink-0 bg-white shadow-sm border-b p-3",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>t(`${n}/projects`),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Projects",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:a.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Task Board - ",u.length," tasks"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(r==null?void 0:r.role)!=="developer"&&i.jsxs("button",{onClick:()=>M(),className:"px-3 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50 transition-all flex items-center gap-1.5",style:{borderColor:"#e5e7eb",color:"#6b7280"},title:"Customize Statuses",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Statuses"]}),(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{onClick:()=>P(),className:"px-3 py-2 rounded-lg text-sm font-medium text-white hover:shadow-md transition-all",style:{background:"#59569D"},children:i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})})]})]})}),i.jsx("div",{className:"flex-1 overflow-hidden p-3",children:i.jsx(aN,{onDragEnd:_,children:i.jsx("div",{className:"flex gap-3 h-full overflow-x-auto custom-scrollbar",children:o.map(L=>i.jsx("div",{className:"flex-shrink-0 w-80 flex flex-col h-full",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-full overflow-hidden border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"px-3 py-2 flex-shrink-0 border-b",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:L.color}}),i.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:L.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:C(L.id).length}),i.jsx("button",{onClick:()=>M(L),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Edit Status",children:i.jsx("svg",{className:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]})}),i.jsx(iN,{droppableId:L.id.toString(),children:(U,K)=>i.jsxs("div",{ref:U.innerRef,...U.droppableProps,className:`flex-1 overflow-y-auto custom-scrollbar p-2 ${K.isDraggingOver?"bg-gray-50":"bg-white"} transition-colors`,style:{minHeight:"100px"},children:[C(L.id).map((V,F)=>i.jsx(sN,{draggableId:V.id.toString(),index:F,children:(q,X)=>{var H;return i.jsxs("div",{ref:q.innerRef,...q.draggableProps,...q.dragHandleProps,className:`rounded-lg p-3 mb-2 cursor-pointer transition-all ${X.isDragging?"shadow-lg border":"border hover:shadow-md"} ${z(V.priority)}`,style:{...q.draggableProps.style,borderColor:X.isDragging?"#59569D":"#e5e7eb"},onClick:()=>t(`${n}/projects/${e}/tasks/${V.id}`),children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["#",V.id]}),i.jsxs("div",{className:"flex items-center gap-1",children:[(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{title:"Edit Task",onClick:Z=>{Z.stopPropagation(),P(V)},className:"p-1 rounded hover:bg-gray-100",children:i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M4 20h4l10.732-10.732a2.5 2.5 0 10-3.536-3.536L4 16v4z"})})}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-semibold border",style:{borderColor:"#e5e7eb",background:V.priority==="urgent"?"#fee2e2":V.priority==="high"?"#ffedd5":V.priority==="medium"?"#fef9c3":V.priority==="low"?"#f0fdf4":"#f3f4f6",color:V.priority==="urgent"?"#991b1b":V.priority==="high"?"#9a3412":V.priority==="medium"?"#854d0e":V.priority==="low"?"#166534":"#374151"},children:(H=V.priority)==null?void 0:H.toUpperCase()})]})]}),i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2 line-clamp-2",children:V.title}),Array.isArray(V.labels)&&V.labels.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[V.labels.slice(0,3).map((Z,ne)=>i.jsx("span",{className:"text-xs text-white px-2 py-0.5 rounded font-medium",style:{background:"#59569D"},children:Z},ne)),V.labels.length>3&&i.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-medium",children:["+",V.labels.length-3]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",style:{borderColor:"#e5e7eb"},children:[i.jsxs("div",{className:"flex -space-x-2",children:[V.assigned_users&&V.assigned_users.slice(0,3).map(Z=>i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-semibold border-2 border-white",style:{background:"#59569D"},title:Z.name,children:Z.name.charAt(0).toUpperCase()},Z.id)),V.assigned_users&&V.assigned_users.length>3&&i.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-semibold border-2 border-white",children:["+",V.assigned_users.length-3]})]}),V.due_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"font-medium",children:new Date(V.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})]})}},V.id)),U.placeholder]})})]})},L.id))})})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"px-4 py-3 border-b",style:{background:"#59569D",borderColor:"#e5e7eb"},children:i.jsx("h2",{className:"text-base font-semibold text-white",children:v?"Edit Task":"Create New Task"})}),i.jsxs("form",{onSubmit:k,className:"p-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),i.jsx("input",{type:"text",value:T.title,onChange:L=>O({...T,title:L.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx(By,{theme:"snow",value:T.description,onChange:L=>O({...T,description:L}),modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code-block"],["clean"]]},className:"bg-white rounded-lg",style:{height:"150px",marginBottom:"50px"}})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),i.jsxs("select",{value:T.priority,onChange:L=>O({...T,priority:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"urgent",children:"Urgent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),i.jsx("input",{type:"number",step:"0.5",value:T.estimated_hours,onChange:L=>O({...T,estimated_hours:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:T.start_date,onChange:L=>O({...T,start_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:T.due_date,onChange:L=>O({...T,due_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-gray-500 font-normal text-xs",children:"(Optional - auto-assigns project developers if empty)"})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg p-2 max-h-40 overflow-y-auto bg-white",children:c.length===0?i.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No users available"}):i.jsx("div",{className:"space-y-1",children:c.map(L=>i.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ${T.assigned_users.includes(L.id)?"bg-purple-50 border border-purple-200":"hover:bg-gray-50 border border-transparent"}`,children:[i.jsx("input",{type:"checkbox",checked:T.assigned_users.includes(L.id),onChange:U=>{U.target.checked?O({...T,assigned_users:[...T.assigned_users,L.id]}):O({...T,assigned_users:T.assigned_users.filter(K=>K!==L.id)})},className:"rounded text-purple-600 focus:ring-purple-500 focus:ring-offset-0"}),i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-semibold flex-shrink-0",style:{backgroundColor:"#59569D"},children:L.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.name}),L.role&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",L.role,")"]})]})]},L.id))})}),T.assigned_users.length===0&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ðŸ’¡ All project developers will be automatically assigned"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:v&&i.jsx("button",{type:"button",onClick:()=>R(v.id),className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Task"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:v?"Update Task":"Create Task"})]})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-4 text-white rounded-t-lg",style:{background:"#59569D"},children:[i.jsx("h2",{className:"text-lg font-semibold",children:b?"Edit Status":"Add New Status"}),i.jsx("p",{className:"text-sm text-purple-100 mt-1",children:b?"Update workflow status details":"Create a new workflow status for tasks"})]}),i.jsxs("form",{onSubmit:G,className:"p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Name *"}),i.jsx("input",{type:"text",required:!0,value:S.name,onChange:L=>E({...S,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., In Progress, Done"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Color *"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"color",value:S.color,onChange:L=>E({...S,color:L.target.value}),className:"h-10 w-20 border border-gray-300 rounded-lg cursor-pointer"}),i.jsx("input",{type:"text",value:S.color,onChange:L=>E({...S,color:L.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"#8B5CF6"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This color will appear as an indicator on the status column"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),i.jsx("input",{type:"number",min:"0",value:S.order,onChange:L=>E({...S,order:parseInt(L.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first on the board"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Preview:"}),i.jsx("div",{className:"bg-white rounded-lg p-2 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:S.color}}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:S.name||"Status Name"}),i.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:"0"})]})})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:b&&i.jsx("button",{type:"button",onClick:()=>D(b.id),className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Status"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:b?"Update Status":"Create Status"})]})]})]})]})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"Project not found"}),i.jsx("button",{onClick:()=>t("/projects"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg",children:"Back to Projects"})]})})},ts=()=>{var _,P,I;const{projectId:e,taskId:t}=wi(),r=wr(),[n,a]=N.useState(null),[s,o]=N.useState([]),[l,u]=N.useState(""),[f,c]=N.useState(null),[d,h]=N.useState(!0),[m,p]=N.useState([]),[g,v]=N.useState(!1),[y,x]=N.useState("");N.useEffect(()=>{w(),b()},[t]);const w=async()=>{try{const R=(await oe.get(`/projects/${e}/tasks`)).data.find(M=>M.id===parseInt(t));a(R),R!=null&&R.assigned_users&&p(R.assigned_users),h(!1)}catch(k){console.error("Error fetching task:",k),h(!1)}},b=async()=>{try{const k=await oe.get(`/tasks/${t}/comments`);o(k.data)}catch(k){console.error("Error fetching comments:",k)}},j=async k=>{if(k.preventDefault(),!!l.trim())try{const R=/@\[([^\]]+)\]\((\d+)\)/g,M=[];let $;for(;($=R.exec(l))!==null;)M.push(parseInt($[2]));await oe.post(`/tasks/${t}/comments`,{content:l,parent_id:f,mentions:M}),u(""),c(null),b()}catch(R){console.error("Error posting comment:",R)}},S=async k=>{if(confirm("Delete this comment?"))try{await oe.delete(`/tasks/${t}/comments/${k}`),b()}catch(R){console.error("Error deleting comment:",R)}},E=k=>({low:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"})[k]||"bg-gray-100 text-gray-700",T=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",O=k=>{const R=l.endsWith("@")?l.slice(0,-1):l,M=`@[${k.name}](${k.id}) `;u(R+M),v(!1),x("")},A=m.filter(k=>{var R;return(R=k.name)==null?void 0:R.toLowerCase().includes(y.toLowerCase())});return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-600",children:"Loading task..."})}):n?i.jsx("div",{className:"min-h-screen p-6",style:{background:"#f8f9fa",fontFamily:"Inter, sans-serif"},children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-5 flex items-start gap-3 bg-white rounded-[12px] p-5 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsx("button",{onClick:()=>r(`/projects/${e}/tasks`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600 group-hover:text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-base font-semibold text-gray-900 mb-1",children:n.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["#",n.id]}),i.jsx("span",{children:"â€¢"}),i.jsxs("span",{children:["Created ",new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-3 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Description"]}),i.jsx("div",{className:"prose max-w-none text-sm text-gray-700",dangerouslySetInnerHTML:{__html:n.description||'<span class="text-gray-400 italic">No description provided</span>'}})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-4 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Comments",i.jsx("span",{className:"ml-1 px-2 py-0.5 text-white text-xs font-medium rounded-full",style:{background:"#59569D"},children:s.length})]}),i.jsxs("form",{onSubmit:j,className:"mb-4 pb-4",children:[f&&i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs",children:[i.jsx("span",{style:{color:"#59569D"},children:"Replying to comment"}),i.jsx("button",{type:"button",onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{value:l,onChange:k=>{u(k.target.value),k.target.value.endsWith("@")&&v(!0)},placeholder:"Write a comment... (use @ to mention someone)",className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-sm focus:ring-1 focus:border-gray-300 resize-none transition-all focus:outline-none",rows:2}),g&&i.jsxs("div",{className:"absolute bottom-full left-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg mb-2 max-h-48 overflow-y-auto",children:[i.jsx("input",{type:"text",placeholder:"Search...",value:y,onChange:k=>x(k.target.value),className:"w-full p-2 text-xs border-b border-gray-200 focus:outline-none"}),A.map(k=>{var R;return i.jsxs("button",{type:"button",onClick:()=>O(k),className:"w-full text-left p-2 hover:bg-gray-50 flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs",style:{background:"#59569D"},children:(R=k.name)==null?void 0:R.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs",children:k.name})]},k.id)})]})]}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[i.jsx("button",{type:"button",onClick:()=>v(!g),className:"text-xs hover:opacity-80 transition-opacity",style:{color:"#59569D"},children:"@ Mention"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:"Post Comment"})]})]}),i.jsx("div",{className:"space-y-3",children:s.map(k=>{var R,M;return i.jsx("div",{className:"bg-white rounded-lg p-3 hover:shadow-sm transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",style:{background:"#59569D"},children:(R=k.user)==null?void 0:R.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm text-gray-900",children:(M=k.user)==null?void 0:M.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(k.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:k.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}}),i.jsxs("div",{className:"mt-1 flex gap-3 text-xs",children:[i.jsx("button",{onClick:()=>c(k.id),className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#59569D"},children:"Reply"}),i.jsx("button",{onClick:()=>S(k.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]}),k.replies&&k.replies.length>0&&i.jsx("div",{className:"mt-3 space-y-2 pl-2",children:k.replies.map($=>{var G,D;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 flex items-start gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:(G=$.user)==null?void 0:G.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-xs text-gray-900",children:(D=$.user)==null?void 0:D.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-xs text-gray-700",dangerouslySetInnerHTML:{__html:$.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}})]})]},$.id)})})]})]})},k.id)})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Status"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"px-3 py-1.5 rounded-lg text-white text-xs font-medium text-center",style:{backgroundColor:(_=n.workflow_status)==null?void 0:_.color},children:(P=n.workflow_status)==null?void 0:P.name}),i.jsx("div",{className:"text-xs",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(n.priority)}`,children:(I=n.priority)==null?void 0:I.toUpperCase()})})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Details"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:T(n.start_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Due Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:T(n.due_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Estimated Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.estimated_hours||"Not set"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Actual Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.actual_hours||"Not set"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Assigned To"}),i.jsx("div",{className:"space-y-2",children:n.assigned_users&&n.assigned_users.map(k=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:k.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs text-gray-900 font-medium",children:k.name})]},k.id))})]}),Array.isArray(n.labels)&&n.labels.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Labels"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.labels.map((k,R)=>i.jsx("span",{className:"text-xs text-white px-2 py-1 rounded-full font-medium",style:{background:"#59569D"},children:k},R))})]})]})]})]})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-red-600",children:"Task not found"})})},rs=()=>i.jsx(jy,{}),Ak=()=>{var R;const e="rgb(242, 82, 146)",t="rgb(99, 102, 241)",[r,n]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState("grid"),[u,f]=N.useState(""),[c,d]=N.useState(!1),[h,m]=N.useState(null),[p,g]=N.useState(null),[v,y]=N.useState({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),[x,w]=N.useState({}),[b,j]=N.useState(!1);N.useEffect(()=>{S()},[]);const S=async()=>{try{const M=await oe.get("/clients");n(M.data)}catch(M){console.error("Failed to fetch clients:",M)}finally{s(!1)}},E=r.filter(M=>{var G,D;const $=u.toLowerCase();return(((G=M.user)==null?void 0:G.name)||"").toLowerCase().includes($)||(((D=M.user)==null?void 0:D.email)||"").toLowerCase().includes($)||(M.company||"").toLowerCase().includes($)}),T=()=>{m(null),g(null),y({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),w({}),d(!0)},O=M=>{var $,G,D;m(M),g((($=M.user)==null?void 0:$.avatar)||null),y({name:((G=M.user)==null?void 0:G.name)||"",email:((D=M.user)==null?void 0:D.email)||"",company:M.company||"",phone:M.phone||"",address:M.address||"",website:M.website||"",notes:M.notes||""}),w({}),d(!0)},A=()=>{d(!1),m(null),g(null),y({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),w({})},_=()=>{const M={};return v.name.trim()||(M.name="Name is required"),v.email.trim()?/\S+@\S+\.\S+/.test(v.email)||(M.email="Email is invalid"):M.email="Email is required",w(M),Object.keys(M).length===0},P=M=>{const $=M.target.files[0];if($){const G=new FileReader;G.onloadend=()=>{g(G.result)},G.readAsDataURL($)}},I=async M=>{var $,G;if(M.preventDefault(),!!_()){j(!0);try{h?await oe.put(`/clients/${h.id}`,v):await oe.post("/clients",v),await S(),A(),alert(h?"Client updated successfully":"Client created and credentials sent via email")}catch(D){console.error("Failed to save client:",D),w({submit:((G=($=D.response)==null?void 0:$.data)==null?void 0:G.message)||"Failed to save client. Please try again."})}finally{j(!1)}}},k=async M=>{if(confirm("Are you sure you want to delete this client?"))try{await oe.delete(`/clients/${M}`),await S()}catch($){console.error("Failed to delete client:",$),alert("Failed to delete client. Please try again.")}};return a?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-4",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("div",{children:i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Clients"})}),i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between bg-white border border-gray-100 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:t},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total"}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.length})]})]}),i.jsxs("button",{onClick:T,className:"px-4 py-2 rounded-lg font-medium text-white transition-all flex items-center gap-2 text-sm",style:{background:e},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Client"]})]}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-100",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-stretch md:items-center justify-end",children:[i.jsx("div",{className:"flex-1 md:flex md:justify-end",style:{maxWidth:"320px"},children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search clients, companies...",value:u,onChange:M=>f(M.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-100 rounded-lg focus:outline-none focus:border-gray-300 hover:border-gray-200 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 w-fit",children:[i.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-colors ${o==="grid"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="grid"?{background:e}:{},title:"Grid view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>l("table"),className:`p-2 rounded-md transition-colors ${o==="table"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="table"?{background:e}:{},title:"Table view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),E.length>0?i.jsxs(i.Fragment,{children:[o==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.map(M=>{var $,G,D,z,C,L;return i.jsxs("div",{className:"bg-white border border-gray-150 rounded-lg p-3 hover:shadow-md transition-all duration-200 group",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-bold flex-shrink-0",style:{background:t},children:($=M.user)!=null&&$.avatar?i.jsx("img",{src:M.user.avatar,alt:(G=M.user)==null?void 0:G.name,className:"w-full h-full object-cover rounded-lg"}):(z=(D=M.user)==null?void 0:D.name)==null?void 0:z.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide",children:"Client"}),i.jsx("h3",{className:"font-semibold text-gray-900 text-sm group-hover:opacity-80 transition-opacity truncate",children:(C=M.user)==null?void 0:C.name})]})]}),M.company&&i.jsxs("div",{className:"mb-2 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Company:"})," ",M.company]}),M.phone&&i.jsxs("div",{className:"mb-2 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Phone:"})," ",M.phone]}),i.jsx("p",{className:"text-xs text-gray-500 truncate mb-3",children:(L=M.user)==null?void 0:L.email}),i.jsxs("div",{className:"flex items-center gap-1.5 pt-3 border-t border-gray-100",children:[i.jsx("button",{onClick:()=>O(M),className:"p-2 rounded-md transition-colors border flex-1",style:{color:t,borderColor:t},title:"Edit",children:i.jsx("svg",{className:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>k(M.id),className:"p-2 rounded-md transition-colors border flex-1",style:{color:e,borderColor:e},title:"Delete",children:i.jsx("svg",{className:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},M.id)})}),o==="table"&&i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"All Clients"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Client"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Company"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Phone"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Created"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",style:{borderColor:"#e5e7eb"},children:E.map(M=>{var $,G,D,z,C,L;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[i.jsx("td",{className:"py-3 px-4 border-l-2",style:{borderLeftColor:t},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0",style:{background:t},children:($=M.user)!=null&&$.avatar?i.jsx("img",{src:M.user.avatar,alt:(G=M.user)==null?void 0:G.name,className:"w-full h-full object-cover rounded-lg"}):(z=(D=M.user)==null?void 0:D.name)==null?void 0:z.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-pink-600 transition-colors",children:(C=M.user)==null?void 0:C.name}),i.jsx("p",{className:"text-xs text-gray-500",children:(L=M.user)==null?void 0:L.email})]})]})}),i.jsx("td",{className:"py-3 px-4 text-gray-700 text-sm",children:M.company||"-"}),i.jsx("td",{className:"py-3 px-4 text-gray-700 text-sm",children:M.phone||"-"}),i.jsx("td",{className:"py-3 px-4 text-gray-600 text-xs",children:new Date(M.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("td",{className:"py-3 px-4",onClick:U=>U.stopPropagation(),children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>O(M),className:"p-2 rounded-lg transition-colors border",style:{color:t,borderColor:t},title:"Edit",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>k(M.id),className:"p-2 rounded-lg transition-colors border",style:{color:e,borderColor:e},title:"Delete",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},M.id)})})]})})]})]}):i.jsxs("div",{className:"bg-white rounded-xl p-16 text-center shadow-sm border border-gray-100",children:[i.jsx("div",{className:"w-20 h-20 bg-pink-50 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Clients Found"}),i.jsx("p",{className:"text-gray-500 mb-6",children:u?"Try adjusting your search":"Get started by creating your first client"}),i.jsx("button",{onClick:T,className:"px-6 py-3 rounded-xl font-medium text-white shadow-md hover:shadow-lg transition-all",style:{background:e},children:"+ Create Client"})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"px-8 py-6 border-b border-gray-200 flex-shrink-0",style:{background:t},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:h?"Edit Client":"Create New Client"}),i.jsx("button",{onClick:A,className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("form",{onSubmit:I,className:"flex-1 overflow-y-auto px-8 py-6 space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-2xl font-bold text-white overflow-hidden",style:{background:t},children:p?i.jsx("img",{src:p,alt:"Profile",className:"w-full h-full object-cover"}):((R=v.name)==null?void 0:R.charAt(0).toUpperCase())||"+"}),i.jsxs("label",{className:"absolute bottom-0 right-0 p-2 rounded-full bg-white border-2 cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:t},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:v.name,onChange:M=>y({...v,name:M.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${x.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),x.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",value:v.email,onChange:M=>y({...v,email:M.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${x.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),x.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),i.jsx("input",{type:"text",value:v.company,onChange:M=>y({...v,company:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"Company Name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:v.phone,onChange:M=>y({...v,phone:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"+1234567890"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),i.jsx("input",{type:"url",value:v.website,onChange:M=>y({...v,website:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"https://example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:v.address,onChange:M=>y({...v,address:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Full address",rows:"2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:v.notes,onChange:M=>y({...v,notes:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Additional notes",rows:"3"})]}),x.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-xs",children:x.submit}),i.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:A,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors text-sm",disabled:b,children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg font-medium text-white shadow-sm hover:shadow-md transition-all text-sm disabled:opacity-50",style:{background:e},disabled:b,children:b?"Saving...":h?"Update Client":"Create Client"})]})]})]})})]})};var kk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Pd(e){if(typeof e!="string")return!1;var t=kk;return t.includes(e)}var Ik=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ck=new Set(Ik);function $y(e){return typeof e!="string"?!1:Ck.has(e)}function Fy(e){return typeof e=="string"&&e.startsWith("data-")}function $t(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($y(r)||Fy(r))&&(t[r]=e[r]);return t}function Mn(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $t(t)}return typeof e=="object"&&!Array.isArray(e)?$t(e):null}function _t(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($y(r)||Fy(r)||Pd(r))&&(t[r]=e[r]);return t}function Mk(e){return e==null?null:N.isValidElement(e)?_t(e.props):typeof e=="object"&&!Array.isArray(e)?_t(e):null}var Dk=["children","width","height","viewBox","className","style","title","desc"];function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(null,arguments)}function Rk(e,t){if(e==null)return{};var r,n,a=Lk(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zy=N.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:u,desc:f}=e,c=Rk(e,Dk),d=s||{width:n,height:a,x:0,y:0},h=ye("recharts-surface",o);return N.createElement("svg",iu({},_t(c),{className:h,width:n,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),N.createElement("title",null,u),N.createElement("desc",null,f),r)}),Bk=["children","className"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function $k(e,t){if(e==null)return{};var r,n,a=Fk(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ht=N.forwardRef((e,t)=>{var{children:r,className:n}=e,a=$k(e,Bk),s=ye("recharts-layer",n);return N.createElement("g",su({className:s},_t(a),{ref:t}),r)}),zk=N.createContext(null);function Te(e){return function(){return e}}const Uy=Math.cos,Vs=Math.sin,ur=Math.sqrt,Ws=Math.PI,Qo=2*Ws,ou=Math.PI,lu=2*ou,pn=1e-6,Uk=lu-pn;function Hy(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Hk(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hy;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hy:Hk(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-t,f=a-r,c=o-t,d=l-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>pn)if(!(Math.abs(d*u-f*c)>pn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=u*u+f*f,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),w=s*Math.tan((ou-Math.acos((g+h-v)/(2*y*x)))/2),b=w/x,j=w/y;Math.abs(b-1)>pn&&this._append`L${t+b*c},${r+b*d}`,this._append`A${s},${s},0,0,${+(d*m>c*p)},${this._x1=t+j*u},${this._y1=r+j*f}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),f=t+l,c=r+u,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>pn||Math.abs(this._y1-c)>pn)&&this._append`L${f},${c}`,n&&(h<0&&(h=h%lu+lu),h>Uk?this._append`A${n},${n},0,1,${d},${t-l},${r-u}A${n},${n},0,1,${d},${this._x1=f},${this._y1=c}`:h>pn&&this._append`A${n},${n},0,${+(h>=ou)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ad(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qk(t)}function kd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qy(e){this._context=e}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jo(e){return new qy(e)}function Gy(e){return e[0]}function Vy(e){return e[1]}function Wy(e,t){var r=Te(!0),n=null,a=Jo,s=null,o=Ad(l);e=typeof e=="function"?e:e===void 0?Gy:Te(e),t=typeof t=="function"?t:t===void 0?Vy:Te(t);function l(u){var f,c=(u=kd(u)).length,d,h=!1,m;for(n==null&&(s=a(m=o())),f=0;f<=c;++f)!(f<c&&r(d=u[f],f,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,f,u),+t(d,f,u));if(m)return s=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Te(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Te(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Te(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function ns(e,t,r){var n=null,a=Te(!0),s=null,o=Jo,l=null,u=Ad(f);e=typeof e=="function"?e:e===void 0?Gy:Te(+e),t=typeof t=="function"?t:Te(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Vy:Te(+r);function f(d){var h,m,p,g=(d=kd(d)).length,v,y=!1,x,w=new Array(g),b=new Array(g);for(s==null&&(l=o(x=u())),h=0;h<=g;++h){if(!(h<g&&a(v=d[h],h,d))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],b[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,d),b[h]=+t(v,h,d),l.point(n?+n(v,h,d):w[h],r?+r(v,h,d):b[h]))}if(x)return l=null,x+""||null}function c(){return Wy().defined(a).curve(o).context(s)}return f.x=function(d){return arguments.length?(e=typeof d=="function"?d:Te(+d),n=null,f):e},f.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Te(+d),f):e},f.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Te(+d),f):n},f.y=function(d){return arguments.length?(t=typeof d=="function"?d:Te(+d),r=null,f):t},f.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Te(+d),f):t},f.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Te(+d),f):r},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(r)},f.lineX1=function(){return c().x(n).y(t)},f.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Te(!!d),f):a},f.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),f):o},f.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),f):s},f}class Ky{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Gk(e){return new Ky(e,!0)}function Vk(e){return new Ky(e,!1)}const Id={draw(e,t){const r=ur(t/Ws);e.moveTo(r,0),e.arc(0,0,r,0,Qo)}},Wk={draw(e,t){const r=ur(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Yy=ur(1/3),Kk=Yy*2,Yk={draw(e,t){const r=ur(t/Kk),n=r*Yy;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Xk={draw(e,t){const r=ur(t),n=-r/2;e.rect(n,n,r,r)}},Zk=.8908130915292852,Xy=Vs(Ws/10)/Vs(7*Ws/10),Qk=Vs(Qo/10)*Xy,Jk=-Uy(Qo/10)*Xy,eI={draw(e,t){const r=ur(t*Zk),n=Qk*r,a=Jk*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Qo*s/5,l=Uy(o),u=Vs(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},vc=ur(3),tI={draw(e,t){const r=-ur(t/(vc*3));e.moveTo(0,r*2),e.lineTo(-vc*r,-r),e.lineTo(vc*r,-r),e.closePath()}},Ut=-.5,Ht=ur(3)/2,cu=1/ur(12),rI=(cu/2+1)*3,nI={draw(e,t){const r=ur(t/rI),n=r/2,a=r*cu,s=n,o=r*cu+r,l=-s,u=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,u),e.lineTo(Ut*n-Ht*a,Ht*n+Ut*a),e.lineTo(Ut*s-Ht*o,Ht*s+Ut*o),e.lineTo(Ut*l-Ht*u,Ht*l+Ut*u),e.lineTo(Ut*n+Ht*a,Ut*a-Ht*n),e.lineTo(Ut*s+Ht*o,Ut*o-Ht*s),e.lineTo(Ut*l+Ht*u,Ut*u-Ht*l),e.closePath()}};function aI(e,t){let r=null,n=Ad(a);e=typeof e=="function"?e:Te(e||Id),t=typeof t=="function"?t:Te(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Te(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Te(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ks(){}function Ys(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ys(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iI(e){return new Zy(e)}function Qy(e){this._context=e}Qy.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sI(e){return new Qy(e)}function Jy(e){this._context=e}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ys(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oI(e){return new Jy(e)}function ex(e){this._context=e}ex.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lI(e){return new ex(e)}function Lm(e){return e<0?-1:1}function Bm(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(Lm(s)+Lm(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function $m(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yc(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Xs(e){this._context=e}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yc(this,this._t0,$m(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yc(this,$m(this,r=Bm(this,e,t)),r);break;default:yc(this,this._t0,r=Bm(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tx(e){this._context=new rx(e)}(tx.prototype=Object.create(Xs.prototype)).point=function(e,t){Xs.prototype.point.call(this,t,e)};function rx(e){this._context=e}rx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function cI(e){return new Xs(e)}function uI(e){return new tx(e)}function nx(e){this._context=e}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Fm(e),a=Fm(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fm(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function dI(e){return new nx(e)}function el(e,t){this._context=e,this._t=t}el.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fI(e){return new el(e,.5)}function hI(e){return new el(e,0)}function mI(e){return new el(e,1)}function Dn(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function uu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pI(e,t){return e[t]}function gI(e){const t=[];return t.key=e,t}function vI(){var e=Te([]),t=uu,r=Dn,n=pI;function a(s){var o=Array.from(e.apply(this,arguments),gI),l,u=o.length,f=-1,c;for(const d of s)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(d,o[l].key,f,s)]).data=d;for(l=0,c=kd(t(o));l<u;++l)o[c[l]].index=l;return r(o,c),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Te(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Te(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?uu:typeof s=="function"?s:Te(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Dn,a):r},a}function yI(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Dn(e,t)}}function xI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dn(e,t)}}function bI(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,u=0,f=0;l<o;++l){for(var c=e[t[l]],d=c[n][1]||0,h=c[n-1][1]||0,m=(d-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}u+=d,f+=m*d}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Dn(e,t)}}var tl={},ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ax);var Cd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Cd);var rl={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(rl);var nl={},ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ix);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=rl;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,u="",f="",c=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const d=a[l];f?d==="\\"&&l+1<o?(l++,u+=a[l]):d===f?f="":u+=d:c?d==='"'||d==="'"?f=d:d==="]"?(c=!1,s.push(u),u=""):u+=d:d==="["?(c=!0,u&&(s.push(u),u="")):d==="."?u&&(s.push(u),u=""):u+=d,l++}return u&&s.push(u),s}e.toPath=n})(nl);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=Cd,n=rl,a=nl;function s(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?r.isDeepKey(u)?s(l,a.toPath(u),f):f:c}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const c=l[u];return c===void 0?f:c}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?f:c}}}function o(l,u,f){if(u.length===0)return f;let c=l;for(let d=0;d<u.length;d++){if(c==null||t.isUnsafeProperty(u[d]))return f;c=c[u[d]]}return c===void 0?f:c}e.get=s})(tl);var wI=tl.get;const Rn=Br(wI);var jI=4;function en(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ue(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,o)=>{var l=r[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+en(l)+s:a+s},"")}var ft=e=>e===0?0:e>0?1:-1,lr=e=>typeof e=="number"&&e!=+e,Pr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!lr(e),vr=e=>de(e)||typeof e=="string",NI=0,ai=e=>{var t=++NI;return"".concat(e||"").concat(t)},xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(Pr(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return lr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},sx=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ie(e,t,r){return de(e)&&de(t)?en(e+r*(t-e)):t}function ox(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Rn(n,t))===r)}var Me=e=>e===null||typeof e>"u",_i=e=>Me(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _I(e){return e!=null}function Ei(){}var EI=["type","size","sizeType"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t,r){return(t=SI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=TI(e,"string");return typeof t=="symbol"?t:t+""}function TI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PI(e,t){if(e==null)return{};var r,n,a=AI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lx={symbolCircle:Id,symbolCross:Wk,symbolDiamond:Yk,symbolSquare:Xk,symbolStar:eI,symbolTriangle:tI,symbolWye:nI},kI=Math.PI/180,II=e=>{var t="symbol".concat(_i(e));return lx[t]||Id},CI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MI=(e,t)=>{lx["symbol".concat(_i(e))]=t},cx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=PI(e,EI),s=Um(Um({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=II(o),m=aI().type(h).size(CI(r,n,o)),p=m();if(p!==null)return p},{className:u,cx:f,cy:c}=s,d=_t(s);return de(f)&&de(c)&&de(r)?N.createElement("path",du({},d,{className:ye("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:l()})):null};cx.registerSymbol=MI;var ux=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Md=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Pd(a)&&(n[a]=s=>r[a](r,s))}),n},DI=(e,t,r)=>n=>(e(t,r,n),null),al=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Pd(a)&&typeof s=="function"&&(n||(n={}),n[a]=DI(s,t,r))}),n};function Hm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hm(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LI(e,t,r){return(t=BI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e){var t=$I(e,"string");return typeof t=="symbol"?t:t+""}function $I(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=RI({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}var dx={},fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(fx);var Dd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Dd);var hx={},il={},mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(il);var px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=il,r=px;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(hx);var gx={},vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tl;function r(n){return function(a){return t.get(a,n)}}e.property=r})(vx);var yx={},Rd={},xx={},Ld={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ld);var Bd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Bd);var $d={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})($d);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ld,r=Bd,n=$d;function a(c,d,h){return typeof h!="function"?a(c,d,()=>{}):s(c,d,function m(p,g,v,y,x,w){const b=h(p,g,v,y,x,w);return b!==void 0?!!b:s(p,g,m,w)},new Map)}function s(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,m);case"function":return Object.keys(d).length>0?s(c,{...d},h,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return u(c,d,h,m);if(d instanceof Map)return l(c,d,h,m);if(d instanceof Set)return f(c,d,h,m);const p=Object.keys(d);if(c==null||r.isPrimitive(c))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let g=0;g<p.length;g++){const v=p[g];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!h(c[v],d[v],v,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function l(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,g]of d.entries()){const v=c.get(p);if(h(v,g,p,c,d,m)===!1)return!1}return!0}function u(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let g=0;g<d.length;g++){const v=d[g];let y=!1;for(let x=0;x<c.length;x++){if(p.has(x))continue;const w=c[x];let b=!1;if(h(w,v,g,c,d,m)&&(b=!0),b){p.add(x),y=!0;break}}if(!y)return!1}return!0}function f(c,d,h,m){return d.size===0?!0:c instanceof Set?u([...c],[...d],h,m):!1}e.isMatchWith=a,e.isSetMatch=f})(xx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xx;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Rd);var bx={},Fd={},wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(wx);var zd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zd);var Ud={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",T="[object BigInt64Array]",O="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=O,e.float64ArrayTag=A,e.functionTag=d,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(Ud);var jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(jx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx,r=zd,n=Ud,a=Bd,s=jx;function o(c,d){return l(c,void 0,c,new Map,d)}function l(c,d,h,m=new Map,p=void 0){const g=p==null?void 0:p(c,d,h,m);if(g!==void 0)return g;if(a.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const v=new Array(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;m.set(c,v);for(const[y,x]of c)v.set(y,l(x,y,h,m,p));return v}if(c instanceof Set){const v=new Set;m.set(c,v);for(const y of c)v.add(l(y,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,v),u(v,c,h,m,p),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Error){const v=new c.constructor;return m.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,u(v,c,h,m,p),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Number){const v=new Number(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof String){const v=new String(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(typeof c=="object"&&f(c)){const v=Object.create(Object.getPrototypeOf(c));return m.set(c,v),u(v,c,h,m,p),v}return c}function u(c,d,h=c,m,p){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(c,y);(x==null||x.writable)&&(c[y]=l(d[y],y,h,m,p))}}function f(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Fd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rd,r=bx;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(yx);var Nx={},_x={},Ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd,r=Ud;function n(a,s){return t.cloneDeepWith(a,(o,l,u,f)=>{const c=s==null?void 0:s(o,l,u,f);if(c!==void 0)return c;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Ex);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ex;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(_x);var Ox={},Hd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Hd);var Sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Sx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cd,r=Hd,n=Sx,a=nl;function s(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let c=0;c<u.length;c++){const d=u[c];if((f==null||!Object.hasOwn(f,d))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(d)&&d<f.length))return!1;f=f[d]}return!0}e.has=s})(Ox);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rd,r=rl,n=_x,a=tl,s=Ox;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const c=a.get(f,l);return c===void 0?s.has(f,l):u===void 0?c===void 0:t.isMatch(c,u)}}e.matchesProperty=o})(Nx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dd,r=vx,n=yx,a=Nx;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx,r=Dd,n=hx,a=gx;function s(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(dx);var FI=dx.uniqBy;const qm=Br(FI);function zI(e,t,r){return t===!0?qm(e,r):typeof t=="function"?qm(e,t):e}var Tx={exports:{}},Px={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=N,UI=rN;function HI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qI=typeof Object.is=="function"?Object.is:HI,GI=UI.useSyncExternalStore,VI=sl.useRef,WI=sl.useEffect,KI=sl.useMemo,YI=sl.useDebugValue;Px.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=VI(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=KI(function(){function u(m){if(!f){if(f=!0,c=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return d=p}return d=m}if(p=d,qI(c,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(c=m,p):(c=m,d=g)}var f=!1,c,d,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,a]);var l=GI(e,s[0],s[1]);return WI(function(){o.hasValue=!0,o.value=l},[l]),YI(l),l};Tx.exports=Px;var XI=Tx.exports,qd=N.createContext(null),ZI=e=>e,De=()=>{var e=N.useContext(qd);return e?e.store.dispatch:ZI},Is=()=>{},QI=()=>Is,JI=(e,t)=>e===t;function fe(e){var t=N.useContext(qd);return XI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QI,t?t.store.getState:Is,t?t.store.getState:Is,t?e:Is,JI)}function eC(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tC(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function rC(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Gm=e=>Array.isArray(e)?e:[e];function nC(e){const t=Array.isArray(e[0])?e[0]:e;return rC(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function aC(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var iC=class{constructor(e){this.value=e}deref(){return this.value}},sC=typeof WeakRef<"u"?WeakRef:iC,oC=0,Vm=1;function as(){return{s:oC,v:void 0,o:null,p:null}}function Ax(e,t={}){let r=as();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var d;let l=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=as(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=as(),g.set(p,l)):l=v}}const f=l;let c;if(l.s===Vm)c=l.v;else if(c=e.apply(null,arguments),s++,n){const h=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;h!=null&&n(h,c)&&(c=h,s!==0&&s--),a=typeof c=="object"&&c!==null||typeof c=="function"?new sC(c):c}return f.s=Vm,f.v=c,c}return o.clearCache=()=>{r=as(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function lC(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),eC(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const c={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Ax,argsMemoizeOptions:p=[]}=c,g=Gm(h),v=Gm(p),y=nC(a),x=d(function(){return s++,f.apply(null,arguments)},...g),w=m(function(){o++;const j=aC(y,arguments);return l=x.apply(null,j),l},...v);return Object.assign(w,{resultFunc:f,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var Q=lC(Ax),cC=Object.assign((e,t=Q)=>{tC(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>cC}),kx={},Ix={},Cx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(Cx);var Mx={},Gd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Gd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(Mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cx,r=Mx,n=nl;function a(s,o,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},c=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:f(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?f(p,m):typeof p=="object"?p[m]:p,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:d.map(p=>c(p,m))})).slice().sort((m,p)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(Ix);var Dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,u)=>{for(let f=0;f<l.length;f++){const c=l[f];Array.isArray(c)&&u<s?o(c,u+1):a.push(c)}};return o(r,0),a}e.flatten=t})(Dx);var Vd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hd,r=il,n=Ld,a=$d;function s(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=s})(Vd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ix,r=Dx,n=Vd;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(kx);var uC=kx.sortBy;const ol=Br(uC);var Rx=e=>e.legend.settings,dC=e=>e.legend.size,fC=e=>e.legend.payload;Q([fC,Rx],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ol(n,r):n});var is=1;function hC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>is||Math.abs(o.left-t.left)>is||Math.abs(o.top-t.top)>is||Math.abs(o.width-t.width)>is)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var Lx=Symbol.for("immer-nothing"),Wm=Symbol.for("immer-draftable"),Et=Symbol.for("immer-state");function rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Lt=Object,oa=Lt.getPrototypeOf,Zs="constructor",ll="prototype",fu="configurable",Qs="enumerable",Cs="writable",ii="value",Ar=e=>!!e&&!!e[Et];function cr(e){var t;return e?Bx(e)||cl(e)||!!e[Wm]||!!((t=e[Zs])!=null&&t[Wm])||ul(e)||dl(e):!1}var mC=Lt[ll][Zs].toString(),Km=new WeakMap;function Bx(e){if(!e||!Wd(e))return!1;const t=oa(e);if(t===null||t===Lt[ll])return!0;const r=Lt.hasOwnProperty.call(t,Zs)&&t[Zs];if(r===Object)return!0;if(!Qn(r))return!1;let n=Km.get(r);return n===void 0&&(n=Function.toString.call(r),Km.set(r,n)),n===mC}function Oi(e,t,r=!0){Si(e)===0?(r?Reflect.ownKeys(e):Lt.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Si(e){const t=e[Et];return t?t.type_:cl(e)?1:ul(e)?2:dl(e)?3:0}var Ym=(e,t,r=Si(e))=>r===2?e.has(t):Lt[ll].hasOwnProperty.call(e,t),hu=(e,t,r=Si(e))=>r===2?e.get(t):e[t],Js=(e,t,r,n=Si(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function pC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cl=Array.isArray,ul=e=>e instanceof Map,dl=e=>e instanceof Set,Wd=e=>typeof e=="object",Qn=e=>typeof e=="function",xc=e=>typeof e=="boolean";function gC(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var jr=e=>e.copy_||e.base_,Kd=e=>e.modified_?e.copy_:e.base_;function mu(e,t){if(ul(e))return new Map(e);if(dl(e))return new Set(e);if(cl(e))return Array[ll].slice.call(e);const r=Bx(e);if(t===!0||t==="class_only"&&!r){const n=Lt.getOwnPropertyDescriptors(e);delete n[Et];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[Cs]===!1&&(l[Cs]=!0,l[fu]=!0),(l.get||l.set)&&(n[o]={[fu]:!0,[Cs]:!0,[Qs]:l[Qs],[ii]:e[o]})}return Lt.create(oa(e),n)}else{const n=oa(e);if(n!==null&&r)return{...e};const a=Lt.create(n);return Lt.assign(a,e)}}function Yd(e,t=!1){return fl(e)||Ar(e)||!cr(e)||(Si(e)>1&&Lt.defineProperties(e,{set:ss,add:ss,clear:ss,delete:ss}),Lt.freeze(e),t&&Oi(e,(r,n)=>{Yd(n,!0)},!1)),e}function vC(){rr(2)}var ss={[ii]:vC};function fl(e){return e===null||!Wd(e)?!0:Lt.isFrozen(e)}var eo="MapSet",pu="Patches",Xm="ArrayMethods",$x={};function Ln(e){const t=$x[e];return t||rr(0,e),t}var Zm=e=>!!$x[e],si,Fx=()=>si,yC=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Zm(eo)?Ln(eo):void 0,arrayMethodsPlugin_:Zm(Xm)?Ln(Xm):void 0});function Qm(e,t){t&&(e.patchPlugin_=Ln(pu),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gu(e){vu(e),e.drafts_.forEach(xC),e.drafts_=null}function vu(e){e===si&&(si=e.parent_)}var Jm=e=>si=yC(si,e);function xC(e){const t=e[Et];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Et].modified_&&(gu(t),rr(4)),cr(e)&&(e=t0(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Et].base_,e,t)}else e=t0(t,r);return bC(t,e,!0),gu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lx?e:void 0}function t0(e,t){if(fl(t))return t;const r=t[Et];if(!r)return Xd(t,e.handledSet_,e);if(!hl(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Hx(r,e)}return r.copy_}function bC(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yd(t,r)}function zx(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hl=(e,t)=>e.scope_===t,wC=[];function Ux(e,t,r,n){const a=jr(e),s=e.type_;if(n!==void 0&&hu(a,n,s)===t){Js(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Oi(a,(u,f)=>{if(Ar(f)){const c=l.get(f)||[];c.push(u),l.set(f,c)}})}const o=e.draftLocations_.get(t)??wC;for(const l of o)Js(a,l,r,s)}function jC(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!hl(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=Kd(s);Ux(e,s.draft_??s,o,r),Hx(s,a)})}function Hx(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}zx(e)}}function NC(e,t,r){const{scope_:n}=e;if(Ar(r)){const a=r[Et];hl(a,n)&&a.callbacks_.push(function(){Ms(e);const o=Kd(a);Ux(e,r,o,t)})}else cr(r)&&e.callbacks_.push(function(){const s=jr(e);hu(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Xd(hu(e.copy_,t,e.type_),n.handledSet_,n)})}function Xd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ar(e)||t.has(e)||!cr(e)||fl(e)||(t.add(e),Oi(e,(n,a)=>{if(Ar(a)){const s=a[Et];if(hl(s,r)){const o=Kd(s);Js(e,n,o,e.type_),zx(s)}}else cr(a)&&Xd(a,t,r)})),e}function _C(e,t){const r=cl(e),n={type_:r?1:0,scope_:t?t.scope_:Fx(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Zd;r&&(a=[n],s=oi);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var Zd={get(e,t){if(t===Et)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=jr(e);if(!Ym(a,t,e.type_))return EC(e,a,t);const s=a[t];if(e.finalized_||!cr(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&gC(t))return s;if(s===bc(e.base_,t)){Ms(e);const o=e.type_===1?+t:t,l=xu(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in jr(e)},ownKeys(e){return Reflect.ownKeys(jr(e))},set(e,t,r){const n=qx(jr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=bc(jr(e),t),s=a==null?void 0:a[Et];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(pC(r,a)&&(r!==void 0||Ym(e.base_,t,e.type_)))return!0;Ms(e),yu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),NC(e,t,r)),!0},deleteProperty(e,t){return Ms(e),bc(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yu(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Cs]:!0,[fu]:e.type_!==1||t!=="length",[Qs]:n[Qs],[ii]:r[t]}},defineProperty(){rr(11)},getPrototypeOf(e){return oa(e.base_)},setPrototypeOf(){rr(12)}},oi={};Oi(Zd,(e,t)=>{oi[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});oi.deleteProperty=function(e,t){return oi.set.call(this,e,t,void 0)};oi.set=function(e,t,r){return Zd.set.call(this,e[0],t,r,e[0])};function bc(e,t){const r=e[Et];return(r?jr(r):e)[t]}function EC(e,t,r){var a;const n=qx(t,r);return n?ii in n?n[ii]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function qx(e,t){if(!(t in e))return;let r=oa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=oa(r)}}function yu(e){e.modified_||(e.modified_=!0,e.parent_&&yu(e.parent_))}function Ms(e){e.copy_||(e.assigned_=new Map,e.copy_=mu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Qn(r)&&!Qn(n)){const o=n;n=r;const l=this;return function(f=o,...c){return l.produce(f,d=>n.call(this,d,...c))}}Qn(n)||rr(6),a!==void 0&&!Qn(a)&&rr(7);let s;if(cr(r)){const o=Jm(this),l=xu(o,r,void 0);let u=!0;try{s=n(l),u=!1}finally{u?gu(o):vu(o)}return Qm(o,a),e0(s,o)}else if(!r||!Wd(r)){if(s=n(r),s===void 0&&(s=r),s===Lx&&(s=void 0),this.autoFreeze_&&Yd(s,!0),a){const o=[],l=[];Ln(pu).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else rr(1,r)},this.produceWithPatches=(r,n)=>{if(Qn(r))return(l,...u)=>this.produceWithPatches(l,f=>r(f,...u));let a,s;return[this.produce(r,n,(l,u)=>{a=l,s=u}),a,s]},xc(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),xc(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),xc(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cr(t)||rr(8),Ar(t)&&(t=or(t));const r=Jm(this),n=xu(r,t,void 0);return n[Et].isManual_=!0,vu(r),n}finishDraft(t,r){const n=t&&t[Et];(!n||!n.isManual_)&&rr(9);const{scope_:a}=n;return Qm(a,r),e0(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ln(pu).applyPatches_;return Ar(t)?a(t,r):this.produce(t,s=>a(s,r))}};function xu(e,t,r,n){const[a,s]=ul(t)?Ln(eo).proxyMap_(t,r):dl(t)?Ln(eo).proxySet_(t,r):_C(t,r);return((r==null?void 0:r.scope_)??Fx()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?jC(r,s,n):s.callbacks_.push(function(u){var c;(c=u.mapSetPlugin_)==null||c.fixSetContents(s);const{patchPlugin_:f}=u;s.modified_&&f&&f.generatePatches_(s,[],u)}),a}function or(e){return Ar(e)||rr(10,e),Gx(e)}function Gx(e){if(!cr(e)||fl(e))return e;const t=e[Et];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=mu(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=mu(e,!0);return Oi(r,(a,s)=>{Js(r,a,Gx(s))},n),t&&(t.finalized_=!1),r}var SC=new OC,Vx=SC.produce;function Wx(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var TC=Wx(),PC=Wx,AC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kc:Kc.apply(null,arguments)};function Yt(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Bt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ly(n)&&n.type===e,r}var Kx=class Qa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qa.prototype)}static get[Symbol.species](){return Qa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qa(...t[0].concat(this)):new Qa(...t.concat(this))}};function r0(e){return cr(e)?Vx(e,()=>{}):e}function os(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function kC(e){return typeof e=="boolean"}var IC=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new Kx;return r&&(kC(r)?o.push(TC):o.push(PC(r.extraArgument))),o},Yx="RTK_autoBatch",ke=()=>e=>({payload:e,meta:{[Yx]:!0}}),n0=e=>t=>{setTimeout(t,e)},Xx=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n0(10):e.type==="callback"?e.queueNotification:n0(e.timeout),f=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>a&&c(),h=n.subscribe(d);return l.add(c),()=>{h(),l.delete(c)}},dispatch(c){var d;try{return a=!((d=c==null?void 0:c.meta)!=null&&d[Yx]),s=!a,s&&(o||(o=!0,u(f))),n.dispatch(c)}finally{a=!0}}})},CC=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Kx(e);return n&&a.push(Xx(typeof n=="object"?n:void 0)),a};function MC(e){const t=IC(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(oN(r))l=cy(r);else throw new Error(Bt(1));let u;typeof n=="function"?u=n(t):u=t();let f=Kc;a&&(f=AC({trace:!1,...typeof a=="object"&&a}));const c=lN(...u),d=CC(c);let h=typeof o=="function"?o(d):d();const m=f(...h);return cN(l,s,m)}function Zx(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Bt(28));if(l in t)throw new Error(Bt(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function DC(e){return typeof e=="function"}function RC(e,t){let[r,n,a]=Zx(t),s;if(DC(e))s=()=>r0(e());else{const l=r0(e);s=()=>l}function o(l=s(),u){let f=[r[u.type],...n.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return f.filter(c=>!!c).length===0&&(f=[a]),f.reduce((c,d)=>{if(d)if(Ar(c)){const m=d(c,u);return m===void 0?c:m}else{if(cr(c))return Vx(c,h=>d(h,u));{const h=d(c,u);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},l)}return o.getInitialState=s,o}var LC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BC=(e=21)=>{let t="",r=e;for(;r--;)t+=LC[Math.random()*64|0];return t},$C=Symbol.for("rtk-slice-createasyncthunk");function FC(e,t){return`${e}/${t}`}function zC({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$C];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(Bt(11));const l=(typeof a.reducers=="function"?a.reducers(HC()):a.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,j){const S=typeof b=="string"?b:b.type;if(!S)throw new Error(Bt(12));if(S in f.sliceCaseReducersByType)throw new Error(Bt(13));return f.sliceCaseReducersByType[S]=j,c},addMatcher(b,j){return f.sliceMatchers.push({matcher:b,reducer:j}),c},exposeAction(b,j){return f.actionCreators[b]=j,c},exposeCaseReducer(b,j){return f.sliceCaseReducersByName[b]=j,c}};u.forEach(b=>{const j=l[b],S={reducerName:b,type:FC(s,b),createNotation:typeof a.reducers=="function"};GC(j)?WC(S,j,c,t):qC(S,j,c)});function d(){const[b={},j=[],S=void 0]=typeof a.extraReducers=="function"?Zx(a.extraReducers):[a.extraReducers],E={...b,...f.sliceCaseReducersByType};return RC(a.initialState,T=>{for(let O in E)T.addCase(O,E[O]);for(let O of f.sliceMatchers)T.addMatcher(O.matcher,O.reducer);for(let O of j)T.addMatcher(O.matcher,O.reducer);S&&T.addDefaultCase(S)})}const h=b=>b,m=new Map,p=new WeakMap;let g;function v(b,j){return g||(g=d()),g(b,j)}function y(){return g||(g=d()),g.getInitialState()}function x(b,j=!1){function S(T){let O=T[b];return typeof O>"u"&&j&&(O=os(p,S,y)),O}function E(T=h){const O=os(m,j,()=>new WeakMap);return os(O,T,()=>{const A={};for(const[_,P]of Object.entries(a.selectors??{}))A[_]=UC(P,T,()=>os(p,T,y),j);return A})}return{reducerPath:b,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const w={name:s,reducer:v,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(b,{reducerPath:j,...S}={}){const E=j??o;return b.inject({reducerPath:E,reducer:v},S),{...w,...x(E,!0)}}};return w}}function UC(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var At=zC();function HC(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function qC({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!VC(n))throw new Error(Bt(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Yt(e,o):Yt(e))}function GC(e){return e._reducerDefinitionType==="asyncThunk"}function VC(e){return e._reducerDefinitionType==="reducerWithPrepare"}function WC({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Bt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:f,options:c}=r,d=a(e,s,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),l&&n.addCase(d.pending,l),u&&n.addCase(d.rejected,u),f&&n.addMatcher(d.settled,f),n.exposeCaseReducer(t,{fulfilled:o||ls,pending:l||ls,rejected:u||ls,settled:f||ls})}function ls(){}var KC="task",Qx="listener",Jx="completed",Qd="cancelled",YC=`task-${Qd}`,XC=`task-${Jx}`,bu=`${Qx}-${Qd}`,ZC=`${Qx}-${Jx}`,ml=class{constructor(e){fc(this,"name","TaskAbortError");fc(this,"message");this.code=e,this.message=`${KC} ${Qd} (reason: ${e})`}},Jd=(e,t)=>{if(typeof e!="function")throw new TypeError(Bt(32))},to=()=>{},e1=(e,t=to)=>(e.catch(t),e),t1=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),On=e=>{if(e.aborted)throw new ml(e.reason)};function r1(e,t){let r=to;return new Promise((n,a)=>{const s=()=>a(new ml(e.reason));if(e.aborted){s();return}r=t1(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=to})}var QC=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ml?"cancelled":"rejected",error:r}}finally{t==null||t()}},ro=e=>t=>e1(r1(e,t).then(r=>(On(e),r))),n1=e=>{const t=ro(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:na}=Object,a0={},pl="listenerMiddleware",JC=(e,t)=>{const r=n=>t1(e,()=>n.abort(e.reason));return(n,a)=>{Jd(n);const s=new AbortController;r(s);const o=QC(async()=>{On(e),On(s.signal);const l=await n({pause:ro(s.signal),delay:n1(s.signal),signal:s.signal});return On(s.signal),l},()=>s.abort(XC));return a!=null&&a.autoJoin&&t.push(o.catch(to)),{result:ro(e)(o),cancel(){s.abort(YC)}}}},e5=(e,t)=>{const r=async(n,a)=>{On(t);let s=()=>{};const l=[new Promise((u,f)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),u([d,h.getState(),h.getOriginalState()])}});s=()=>{c(),f()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await r1(t,Promise.race(l));return On(t),u}finally{s()}};return(n,a)=>e1(r(n,a))},a1=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Yt(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Bt(21));return Jd(s),{predicate:a,type:t,effect:s}},i1=na(e=>{const{type:t,predicate:r,effect:n}=a1(e);return{id:BC(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Bt(22))}}},{withTypes:()=>i1}),i0=(e,t)=>{const{type:r,effect:n,predicate:a}=a1(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},wu=e=>{e.pending.forEach(t=>{t.abort(bu)})},t5=(e,t)=>()=>{for(const r of t.keys())wu(r);e.clear()},s0=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},s1=na(Yt(`${pl}/add`),{withTypes:()=>s1}),r5=Yt(`${pl}/removeAll`),o1=na(Yt(`${pl}/remove`),{withTypes:()=>o1}),n5=(...e)=>{console.error(`${pl}/error`,...e)},Ti=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:o=n5}=e;Jd(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&wu(m)}),u=m=>{const p=i0(t,m)??i1(m);return l(p)};na(u,{withTypes:()=>u});const f=m=>{const p=i0(t,m);return p&&(p.unsubscribe(),m.cancelActive&&wu(p)),!!p};na(f,{withTypes:()=>f});const c=async(m,p,g,v)=>{const y=new AbortController,x=e5(u,y.signal),w=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(p,na({},g,{getOriginalState:v,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:n1(y.signal),pause:ro(y.signal),extra:s,signal:y.signal,fork:JC(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((b,j,S)=>{b!==y&&(b.abort(bu),S.delete(b))})},cancel:()=>{y.abort(bu),m.pending.delete(y)},throwIfCancelled:()=>{On(y.signal)}})))}catch(b){b instanceof ml||s0(o,b,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(ZC),a(m),m.pending.delete(y)}},d=t5(t,r);return{middleware:m=>p=>g=>{if(!ly(g))return p(g);if(s1.match(g))return u(g.payload);if(r5.match(g)){d();return}if(o1.match(g))return f(g.payload);let v=m.getState();const y=()=>{if(v===a0)throw new Error(Bt(23));return v};let x;try{if(x=p(g),t.size>0){const w=m.getState(),b=Array.from(t.values());for(const j of b){let S=!1;try{S=j.predicate(g,w,v)}catch(E){S=!1,s0(o,E,{raisedBy:"predicate"})}S&&c(j,g,m,y)}}}finally{v=a0}return x},startListening:u,stopListening:f,clearListeners:d}};function Bt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var a5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},l1=At({name:"chartLayout",initialState:a5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:i5,setLayout:s5,setChartSize:o5,setScale:l5}=l1.actions,c5=l1.reducer;function c1(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Be(e){return Number.isFinite(e)}function yr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function o0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o0(Object(r),!0).forEach(function(n){u5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u5(e,t,r){return(t=d5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5(e){var t=f5(e,"string");return typeof t=="symbol"?t:t+""}function f5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e,t,r){return Me(e)||Me(t)?r:vr(t)?Rn(e,t,r):typeof t=="function"?t(e):r}var h5=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&de(e[s]))return Jn(Jn({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&de(e[o]))return Jn(Jn({},e),{},{[o]:e[o]+(a||0)})}return e},un=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",u1=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},d1=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:c,ticks:d,niceTicks:h,axisType:m}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(g=m==="angleAxis"&&s&&s.length>=2?ft(s[0]-s[1])*2*g:g,d||h){var v=(d||h||[]).map((y,x)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+g,value:y,offset:g,index:x}});return v.filter(y=>!lr(y.coordinate))}return u&&f?f.map((y,x)=>({coordinate:o(y)+g,value:y,index:x,offset:g})):o.ticks&&c!=null?o.ticks(c).map((y,x)=>({coordinate:o(y)+g,value:y,offset:g,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+g,value:n?n[y]:y,index:x,offset:g}))},l0=1e-4,m5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-l0,s=Math.max(n[0],n[1])+l0,o=e(t[0]),l=e(t[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},p5=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},g5=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var u=e[l],f=u==null?void 0:u[a];if(f!=null){var c=f[1],d=f[0],h=lr(c)?d:c;h>=0?(f[0]=s,f[1]=s+h,s=c):(f[0]=o,f[1]=o+h,o=c)}}}},v5=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[a];if(u!=null){var f=lr(u[1])?u[0]:u[1];f>=0?(u[0]=s,u[1]=s+f,s=u[1]):(u[0]=0,u[1]=0)}}}},y5={sign:g5,expand:yI,none:Dn,silhouette:xI,wiggle:bI,positive:v5},x5=(e,t,r)=>{var n,a=(n=y5[r])!==null&&n!==void 0?n:Dn,s=vI().keys(t).value((l,u)=>Number(Ee(l,u,0))).order(uu).offset(a),o=s(e);return o.forEach((l,u)=>{l.forEach((f,c)=>{var d=Ee(e[c],t[u],0);Array.isArray(d)&&d.length===2&&de(d[0])&&de(d[1])&&(f[0]=d[0],f[1]=d[1])})}),o};function b5(e){return e==null?void 0:String(e)}function c0(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(a[t.dataKey])){var l=ox(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Ee(a,Me(o)?t.dataKey:o);return Me(u)?null:t.scale(u)}var u0=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Ee(s,t.dataKey,t.scale.domain()[o]);return Me(l)?null:t.scale(l)-a/2+n},w5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},j5=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},N5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_5=(e,t,r)=>{if(e!=null)return N5(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:o}=s,l=o.reduce((u,f)=>{var c=c1(f,t,r),d=j5(c);return!Be(d[0])||!Be(d[1])?u:[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},d0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,la=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ol(t,c=>c.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],f=a[o-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((f==null?void 0:f.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function h0(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Jn(Jn({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Oa(e,t){if(e)return String(e);if(typeof t=="string")return t}var E5=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},O5=(e,t)=>t==="centric"?e.angle:e.radius,zr=e=>e.layout.width,Ur=e=>e.layout.height,S5=e=>e.layout.scale,f1=e=>e.layout.margin,gl=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vl=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),h1="data-recharts-item-index",m1="data-recharts-item-id",Pi=60;function m0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m0(Object(r),!0).forEach(function(n){T5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T5(e,t,r){return(t=P5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5(e){var t=A5(e,"string");return typeof t=="symbol"?t:t+""}function A5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k5=e=>e.brush.height;function I5(e){var t=vl(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pi;return r+a}return r},0)}function C5(e){var t=vl(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pi;return r+a}return r},0)}function M5(e){var t=gl(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function D5(e){var t=gl(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nt=Q([zr,Ur,f1,k5,I5,C5,M5,D5,Rx,dC],(e,t,r,n,a,s,o,l,u,f)=>{var c={left:(r.left||0)+a,right:(r.right||0)+s},d={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=cs(cs({},d),c),m=h.bottom;h.bottom+=n,h=h5(h,u,f);var p=e-h.left-h.right,g=t-h.top-h.bottom;return cs(cs({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),R5=Q(nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ef=Q(zr,Ur,(e,t)=>({x:0,y:0,width:e,height:t})),L5=N.createContext(null),bt=()=>N.useContext(L5)!=null,yl=e=>e.brush,xl=Q([yl,nt,f1],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),p1={},g1={},v1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),c=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},d=()=>{f&&c(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),o=void 0,l=null},v=()=>{c()},y=function(...x){if(a!=null&&a.aborted)return;o=this,l=x;const w=h==null;m(),u&&w&&c()};return y.schedule=m,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(v1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v1;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:u}=s,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let c,d=null;const h=t.debounce(function(...g){c=n.apply(this,g),d=null},a,{edges:f}),m=function(...g){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(c=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},p=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(g1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(p1);var B5=p1.throttle;const $5=Br(B5);var no=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},y1=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:o}=r,l=Pr(n)?e:Number(n),u=Pr(a)?t:Number(a);return s&&s>0&&(l?u=l/s:u&&(l=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},F5={width:0,height:0,overflow:"visible"},z5={width:0,overflowX:"visible"},U5={height:0,overflowY:"visible"},H5={},q5=e=>{var{width:t,height:r}=e,n=Pr(t),a=Pr(r);return n&&a?F5:n?z5:a?U5:H5};function G5(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(null,arguments)}function p0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p0(Object(r),!0).forEach(function(n){V5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V5(e,t,r){return(t=W5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5(e){var t=K5(e,"string");return typeof t=="symbol"?t:t+""}function K5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x1=N.createContext({width:-1,height:-1});function Y5(e){return yr(e.width)&&yr(e.height)}function b1(e){var{children:t,width:r,height:n}=e,a=N.useMemo(()=>({width:r,height:n}),[r,n]);return Y5(a)?N.createElement(x1.Provider,{value:a},t):null}var tf=()=>N.useContext(x1),X5=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:c=0,id:d,className:h,onResize:m,style:p={}}=e,g=N.useRef(null),v=N.useRef();v.current=m,N.useImperativeHandle(t,()=>g.current);var[y,x]=N.useState({containerWidth:n.width,containerHeight:n.height}),w=N.useCallback((T,O)=>{x(A=>{var _=Math.round(T),P=Math.round(O);return A.containerWidth===_&&A.containerHeight===P?A:{containerWidth:_,containerHeight:P}})},[]);N.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Ei;var T=P=>{var I,{width:k,height:R}=P[0].contentRect;w(k,R),(I=v.current)===null||I===void 0||I.call(v,k,R)};c>0&&(T=$5(T,c,{trailing:!0,leading:!1}));var O=new ResizeObserver(T),{width:A,height:_}=g.current.getBoundingClientRect();return w(A,_),O.observe(g.current),()=>{O.disconnect()}},[w,c]);var{containerWidth:b,containerHeight:j}=y;no(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=y1(b,j,{width:a,height:s,aspect:r,maxHeight:u});return no(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,s,o,l,r),N.createElement("div",{id:d?"".concat(d):void 0,className:ye("recharts-responsive-container",h),style:g0(g0({},p),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:u}),ref:g},N.createElement("div",{style:q5({width:a,height:s})},N.createElement(b1,{width:S,height:E},f)))}),us=N.forwardRef((e,t)=>{var r=tf();if(yr(r.width)&&yr(r.height))return e.children;var{width:n,height:a}=G5({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=y1(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(o)?N.createElement(b1,{width:s,height:o},e.children):N.createElement(X5,ju({},e,{width:n,height:a,ref:t}))});function w1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bl=()=>{var e,t=bt(),r=fe(R5),n=fe(xl),a=(e=fe(yl))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Z5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j1=()=>{var e;return(e=fe(nt))!==null&&e!==void 0?e:Z5},N1=()=>fe(zr),_1=()=>fe(Ur),be=e=>e.layout.layoutType,Sa=()=>fe(be),Q5=()=>{var e=Sa();return e!==void 0},wl=e=>{var t=De(),r=bt(),{width:n,height:a}=e,s=tf(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),N.useEffect(()=>{!r&&yr(o)&&yr(l)&&t(o5({width:o,height:l}))},[t,r,o,l]),null},E1=Symbol.for("immer-nothing"),v0=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function nr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object.getPrototypeOf;function ca(e){return!!e&&!!e[Ft]}function Bn(e){var t;return e?O1(e)||Array.isArray(e)||!!e[v0]||!!((t=e.constructor)!=null&&t[v0])||Ai(e)||Nl(e):!1}var J5=Object.prototype.constructor.toString(),y0=new WeakMap;function O1(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=y0.get(r);return n===void 0&&(n=Function.toString.call(r),y0.set(r,n)),n===J5}function ao(e,t,r=!0){jl(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function jl(e){const t=e[Ft];return t?t.type_:Array.isArray(e)?1:Ai(e)?2:Nl(e)?3:0}function Nu(e,t){return jl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S1(e,t,r){const n=jl(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function e3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ai(e){return e instanceof Map}function Nl(e){return e instanceof Set}function gn(e){return e.copy_||e.base_}function _u(e,t){if(Ai(e))return new Map(e);if(Nl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=O1(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ft];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(li(e),n)}else{const n=li(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function rf(e,t=!1){return _l(e)||ca(e)||!Bn(e)||(jl(e)>1&&Object.defineProperties(e,{set:ds,add:ds,clear:ds,delete:ds}),Object.freeze(e),t&&Object.values(e).forEach(r=>rf(r,!0))),e}function t3(){nr(2)}var ds={value:t3};function _l(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var r3={};function $n(e){const t=r3[e];return t||nr(0,e),t}var ci;function T1(){return ci}function n3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x0(e,t){t&&($n("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Eu(e){Ou(e),e.drafts_.forEach(a3),e.drafts_=null}function Ou(e){e===ci&&(ci=e.parent_)}function b0(e){return ci=n3(ci,e)}function a3(e){const t=e[Ft];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function w0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ft].modified_&&(Eu(t),nr(4)),Bn(e)&&(e=io(t,e),t.parent_||so(t,e)),t.patches_&&$n("Patches").generateReplacementPatches_(r[Ft].base_,e,t.patches_,t.inversePatches_)):e=io(t,r,[]),Eu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E1?e:void 0}function io(e,t,r){if(_l(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ft];if(!a)return ao(t,(s,o)=>j0(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return so(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),ao(o,(u,f)=>j0(e,a,s,u,f,r,l),n),so(e,s,!1),r&&e.patches_&&$n("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function j0(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=_l(a);if(!(l&&!o)){if(ca(a)){const u=s&&t&&t.type_!==3&&!Nu(t.assigned_,n)?s.concat(n):void 0,f=io(e,a,u);if(S1(r,n,f),ca(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Bn(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;io(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ai(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&so(e,a)}}}function so(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rf(t,r)}function i3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:T1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=nf;r&&(a=[n],s=ui);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var nf={get(e,t){if(t===Ft)return e;const r=gn(e);if(!Nu(r,t))return s3(e,r,t);const n=r[t];return e.finalized_||!Bn(n)?n:n===wc(e.base_,t)?(jc(e),e.copy_[t]=Tu(n,e)):n},has(e,t){return t in gn(e)},ownKeys(e){return Reflect.ownKeys(gn(e))},set(e,t,r){const n=P1(gn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=wc(gn(e),t),s=a==null?void 0:a[Ft];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(e3(r,a)&&(r!==void 0||Nu(e.base_,t)))return!0;jc(e),Su(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wc(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jc(e),Su(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nr(11)},getPrototypeOf(e){return li(e.base_)},setPrototypeOf(){nr(12)}},ui={};ao(nf,(e,t)=>{ui[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ui.deleteProperty=function(e,t){return ui.set.call(this,e,t,void 0)};ui.set=function(e,t,r){return nf.set.call(this,e[0],t,r,e[0])};function wc(e,t){const r=e[Ft];return(r?gn(r):e)[t]}function s3(e,t,r){var a;const n=P1(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function P1(e,t){if(!(t in e))return;let r=li(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=li(r)}}function Su(e){e.modified_||(e.modified_=!0,e.parent_&&Su(e.parent_))}function jc(e){e.copy_||(e.copy_=_u(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var o3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(u=s,...f){return o.produce(u,c=>r.call(this,c,...f))}}typeof r!="function"&&nr(6),n!==void 0&&typeof n!="function"&&nr(7);let a;if(Bn(t)){const s=b0(this),o=Tu(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Eu(s):Ou(s)}return x0(s,n),w0(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===E1&&(a=void 0),this.autoFreeze_&&rf(a,!0),n){const s=[],o=[];$n("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else nr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bn(e)||nr(8),ca(e)&&(e=l3(e));const t=b0(this),r=Tu(e,void 0);return r[Ft].isManual_=!0,Ou(t),r}finishDraft(e,t){const r=e&&e[Ft];(!r||!r.isManual_)&&nr(9);const{scope_:n}=r;return x0(n,t),w0(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=$n("Patches").applyPatches_;return ca(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Tu(e,t){const r=Ai(e)?$n("MapSet").proxyMap_(e,t):Nl(e)?$n("MapSet").proxySet_(e,t):i3(e,t);return(t?t.scope_:T1()).drafts_.push(r),r}function l3(e){return ca(e)||nr(10,e),A1(e)}function A1(e){if(!Bn(e)||_l(e))return e;const t=e[Ft];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_u(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_u(e,!0);return ao(r,(a,s)=>{S1(r,a,A1(s))},n),t&&(t.finalized_=!1),r}var c3=new o3;c3.produce;var u3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k1=At({name:"legend",initialState:u3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ke()},removeLegendPayload:{reducer(e,t){var r=or(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ke()}}}),{setLegendSize:VV,setLegendSettings:WV,addLegendPayload:I1,replaceLegendPayload:C1,removeLegendPayload:M1}=k1.actions,d3=k1.reducer;function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}function N0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(r),!0).forEach(function(n){f3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f3(e,t,r){return(t=h3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3(e){var t=m3(e,"string");return typeof t=="symbol"?t:t+""}function m3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p3(e){return Array.isArray(e)&&vr(e[0])&&vr(e[1])?e.join(" ~ "):e}var g3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},S=(l?ol(s,l):s).map((E,T)=>{if(E.type==="none")return null;var O=E.formatter||o||p3,{value:A,name:_}=E,P=A,I=_;if(O){var k=O(A,_,E,T,s);if(Array.isArray(k))[P,I]=k;else if(k!=null)P=k;else return null}var R=Nc({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:R},vr(I)?N.createElement("span",{className:"recharts-tooltip-item-name"},I):null,vr(I)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},P),N.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},p=Nc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Nc({margin:0},a),v=!Me(c),y=v?c:"",x=ye("recharts-default-tooltip",u),w=ye("recharts-tooltip-label",f);v&&d&&s!==void 0&&s!==null&&(y=d(c,s));var b=h?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Pu({className:x,style:p},b),N.createElement("p",{className:w,style:g},N.isValidElement(y)?y:"".concat(y)),m())},za="recharts-tooltip-wrapper",v3={visibility:"hidden"};function y3(e){var{coordinate:t,translateX:r,translateY:n}=e;return ye(za,{["".concat(za,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(za,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(za,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(za,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function _0(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(s&&de(s[n]))return s[n];var c=r[n]-l-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?c:d;var h=u[n];if(h==null)return 0;if(o[n]){var m=c,p=h;return m<p?Math.max(d,h):Math.max(c,h)}if(f==null)return 0;var g=d+l,v=h+f;return g>v?Math.max(c,h):Math.max(d,h)}function x3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function b3(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,c,d;return o.height>0&&o.width>0&&r?(c=_0({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=_0({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=x3({translateX:c,translateY:d,useTranslate3d:l})):f=v3,{cssProperties:f,cssClasses:y3({translateX:c,translateY:d,coordinate:r})}}function E0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(r),!0).forEach(function(n){Au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Au(e,t,r){return(t=w3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w3(e){var t=j3(e,"string");return typeof t=="symbol"?t:t+""}function j3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class N3 extends N.PureComponent{constructor(){super(...arguments),Au(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Au(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=b3({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:c,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),b=y?{}:fs(fs({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=fs(fs({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:v},s)}}var D1=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}function O0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O0(Object(r),!0).forEach(function(n){_3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _3(e,t,r){return(t=E3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=O3(e,"string");return typeof t=="symbol"?t:t+""}function O3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0={curveBasisClosed:sI,curveBasisOpen:oI,curveBasis:iI,curveBumpX:Gk,curveBumpY:Vk,curveLinearClosed:lI,curveLinear:Jo,curveMonotoneX:cI,curveMonotoneY:uI,curveNatural:dI,curveStep:fI,curveStepAfter:mI,curveStepBefore:hI},oo=e=>Be(e.x)&&Be(e.y),P0=e=>e.base!=null&&oo(e.base)&&oo(e),Ua=e=>e.x,Ha=e=>e.y,S3=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(_i(e));return(r==="curveMonotone"||r==="curveBump")&&t?T0["".concat(r).concat(t==="vertical"?"Y":"X")]:T0[r]||Jo},T3=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,o=S3(t,a),l=s?r.filter(oo):r,u;if(Array.isArray(n)){var f=r.map((m,p)=>S0(S0({},m),{},{base:n[p]}));a==="vertical"?u=ns().y(Ha).x1(Ua).x0(m=>m.base.x):u=ns().x(Ua).y1(Ha).y0(m=>m.base.y);var c=u.defined(P0).curve(o),d=s?f.filter(P0):f;return c(d)}a==="vertical"&&de(n)?u=ns().y(Ha).x1(Ua).x0(n):de(n)?u=ns().x(Ua).y1(Ha).y0(n):u=Wy().x(Ua).y(Ha);var h=u.defined(oo).curve(o);return h(l)},af=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Sa();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?T3(o):n;return N.createElement("path",ku({},$t(e),Md(e),{className:ye("recharts-curve",t),d:l===null?void 0:l,ref:a}))},P3=["x","y","top","left","width","height","className"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(null,arguments)}function A0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A0(Object(r),!0).forEach(function(n){k3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k3(e,t,r){return(t=I3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=C3(e,"string");return typeof t=="symbol"?t:t+""}function C3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M3(e,t){if(e==null)return{};var r,n,a=D3(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R3=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),L3=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,u=M3(e,P3),f=A3({x:t,y:r,top:n,left:a,width:s,height:o},u);return!de(t)||!de(r)||!de(s)||!de(o)||!de(n)||!de(a)?null:N.createElement("path",Iu({},_t(f),{className:ye("recharts-cross",l),d:R3(t,r,s,o,n,a)}))};function B3(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k0(Object(r),!0).forEach(function(n){$3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $3(e,t,r){return(t=F3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F3(e){var t=z3(e,"string");return typeof t=="symbol"?t:t+""}function z3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R1=(e,t,r)=>e.map(n=>"".concat(U3(n)," ").concat(t,"ms ").concat(r)).join(","),H3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),di=(e,t)=>Object.keys(t).reduce((r,n)=>I0(I0({},r),{},{[n]:e(n,t[n])}),{});function C0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(r),!0).forEach(function(n){q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3(e,t,r){return(t=G3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=V3(e,"string");return typeof t=="symbol"?t:t+""}function V3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lo=(e,t,r)=>e+(t-e)*r,Cu=e=>{var{from:t,to:r}=e;return t!==r},L1=(e,t,r)=>{var n=di((a,s)=>{if(Cu(s)){var[o,l]=e(s.from,s.to,s.velocity);return tt(tt({},s),{},{from:o,velocity:l})}return s},t);return r<1?di((a,s)=>Cu(s)&&n[a]!=null?tt(tt({},s),{},{velocity:lo(s.velocity,n[a].velocity,r),from:lo(s.from,n[a].from,r)}):s,t):L1(e,n,r-1)};function W3(e,t,r,n,a,s){var o,l=n.reduce((h,m)=>tt(tt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>di((h,m)=>m.from,l),f=()=>!Object.values(l).filter(Cu).length,c=null,d=h=>{o||(o=h);var m=h-o,p=m/r.dt;l=L1(r,l,p),a(tt(tt(tt({},e),t),u())),o=h,f()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function K3(e,t,r,n,a,s,o){var l=null,u=a.reduce((d,h)=>{var m=e[h],p=t[h];return m==null||p==null?d:tt(tt({},d),{},{[h]:[m,p]})},{}),f,c=d=>{f||(f=d);var h=(d-f)/n,m=di((g,v)=>lo(...v,r(h)),u);if(s(tt(tt(tt({},e),t),m)),h<1)l=o.setTimeout(c);else{var p=di((g,v)=>lo(...v,r(1)),u);s(tt(tt(tt({},e),t),p))}};return()=>(l=o.setTimeout(c),()=>{var d;(d=l)===null||d===void 0||d()})}const Y3=(e,t,r,n,a,s)=>{var o=H3(e,t);return r==null?()=>(a(tt(tt({},e),t)),()=>{}):r.isStepper===!0?W3(e,t,r,o,a,s):K3(e,t,r,n,o,a,s)};var co=1e-4,B1=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$1=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),M0=(e,t)=>r=>{var n=B1(e,t);return $1(n,r)},X3=(e,t)=>r=>{var n=B1(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return $1(a,r)},Z3=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},Q3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Z3(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},J3=(e,t,r,n)=>{var a=M0(e,r),s=M0(t,n),o=X3(e,r),l=f=>f>1?1:f<0?0:f,u=f=>{for(var c=f>1?1:f,d=c,h=0;h<8;++h){var m=a(d)-c,p=o(d);if(Math.abs(m-c)<co||p<co)return s(d);d=l(d-m/p)}return s(d)};return u.isStepper=!1,u},D0=function(){return J3(...Q3(...arguments))},e4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,u)=>{var f=-(o-l)*r,c=u*n,d=u+(f-c)*a/1e3,h=u*a/1e3+o;return Math.abs(h-l)<co&&Math.abs(d)<co?[l,0]:[h,d]};return s.isStepper=!0,s.dt=a,s},t4=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D0(e);case"spring":return e4();default:if(e.split("(")[0]==="cubic-bezier")return D0(e)}return typeof e=="function"?e:null};function r4(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){a=e.setTimeout(s.bind(null,f),u);return}s(u),a=e.setTimeout(s.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class n4{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function a4(){return r4(new n4)}var i4=N.createContext(a4);function s4(e,t){var r=N.useContext(i4);return N.useMemo(()=>t??r(e),[e,t,r])}var o4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),El={isSsr:o4()},l4={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},R0={t:0},_c={t:1};function ki(e){var t=mt(e,l4),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,c=r==="auto"?!El.isSsr:r,d=s4(t.animationId,t.animationManager),[h,m]=N.useState(c?R0:_c),p=N.useRef(null);return N.useEffect(()=>{c||m(_c)},[c]),N.useEffect(()=>{if(!c||!n)return Ei;var g=Y3(R0,_c,t4(s),a,m,d.getTimeoutController()),v=()=>{p.current=g()};return d.start([u,o,v,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[c,n,a,s,o,u,l,d]),f(h.t)}function Ii(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(ai(t)),n=N.useRef(e);return n.current!==e&&(r.current=ai(t),n.current=e),r.current}var c4=["radius"],u4=["radius"],L0,B0,$0,F0,z0,U0,H0,q0,G0,V0;function W0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W0(Object(r),!0).forEach(function(n){d4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4(e,t,r){return(t=f4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4(e){var t=h4(e,"string");return typeof t=="symbol"?t:t+""}function h4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}function Y0(e,t){if(e==null)return{};var r,n,a=m4(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X0=(e,t,r,n,a)=>{var s=en(r),o=en(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),u=o>=0?1:-1,f=s>=0?1:-1,c=o>=0&&s>=0||o<0&&s<0?1:0,d;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>l?l:a[m];d=Ue(L0||(L0=hr(["M",",",""])),e,t+u*h[0]),h[0]>0&&(d+=Ue(B0||(B0=hr(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+f*h[0],t)),d+=Ue($0||($0=hr(["L ",",",""])),e+r-f*h[1],t),h[1]>0&&(d+=Ue(F0||(F0=hr(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+u*h[1])),d+=Ue(z0||(z0=hr(["L ",",",""])),e+r,t+n-u*h[2]),h[2]>0&&(d+=Ue(U0||(U0=hr(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-f*h[2],t+n)),d+=Ue(H0||(H0=hr(["L ",",",""])),e+f*h[3],t+n),h[3]>0&&(d+=Ue(q0||(q0=hr(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-u*h[3])),d+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);d=Ue(G0||(G0=hr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*g,g,g,c,e+f*g,t,e+r-f*g,t,g,g,c,e+r,t+u*g,e+r,t+n-u*g,g,g,c,e+r-f*g,t+n,e+f*g,t+n,g,g,c,e,t+n-u*g)}else d=Ue(V0||(V0=hr(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},Z0={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F1=e=>{var t=mt(e,Z0),r=N.useRef(null),[n,a]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var{x:s,y:o,width:l,height:u,radius:f,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=N.useRef(l),y=N.useRef(u),x=N.useRef(s),w=N.useRef(o),b=N.useMemo(()=>({x:s,y:o,width:l,height:u,radius:f}),[s,o,l,u,f]),j=Ii(b,"rectangle-");if(s!==+s||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var S=ye("recharts-rectangle",c);if(!g){var E=_t(t),{radius:T}=E,O=Y0(E,c4);return N.createElement("path",uo({},O,{x:en(s),y:en(o),width:en(l),height:en(u),radius:typeof f=="number"?f:void 0,className:S,d:X0(s,o,l,u,f)}))}var A=v.current,_=y.current,P=x.current,I=w.current,k="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),M=R1(["strokeDasharray"],h,typeof d=="string"?d:Z0.animationEasing);return N.createElement(ki,{animationId:j,key:j,canBegin:n>0,duration:h,easing:d,isActive:g,begin:m},$=>{var G=Ie(A,l,$),D=Ie(_,u,$),z=Ie(P,s,$),C=Ie(I,o,$);r.current&&(v.current=G,y.current=D,x.current=z,w.current=C);var L;p?$>0?L={transition:M,strokeDasharray:R}:L={strokeDasharray:k}:L={strokeDasharray:R};var U=_t(t),{radius:K}=U,V=Y0(U,u4);return N.createElement("path",uo({},V,{radius:typeof f=="number"?f:void 0,className:S,d:X0(z,C,G,D,f),ref:r,style:K0(K0({},L),t.style)}))})};function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p4(e,t,r){return(t=g4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4(e){var t=v4(e,"string");return typeof t=="symbol"?t:t+""}function v4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fo=Math.PI/180,y4=e=>e*180/Math.PI,Xe=(e,t,r,n)=>({x:e+Math.cos(-fo*n)*r,y:t+Math.sin(-fo*n)*r}),z1=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},x4=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},b4=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=x4({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>s&&(u=2*Math.PI-u),{radius:o,angle:y4(u),angleInRadian:u}},w4=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},j4=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},N4=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=b4({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:f}=w4(t),c=s,d;if(u<=f){for(;c>f;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=f}else{for(;c>u;)c-=360;for(;c<f;)c+=360;d=c>=f&&c<=u}return d?J0(J0({},t),{},{radius:a,angle:j4(c,t)}):null};function U1(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=Xe(t,r,n,a),l=Xe(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var ep,tp,rp,np,ap,ip,sp;function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(null,arguments)}function yn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _4=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hs=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+n,c=Math.asin(l/f)/fo,d=u?a:a+s*c,h=Xe(t,r,f,d),m=Xe(t,r,n,d),p=u?a-s*c:a,g=Xe(t,r,f*Math.cos(c*fo),p);return{center:h,circleTangency:m,lineTangency:g,theta:c}},H1=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=_4(s,o),u=s+l,f=Xe(t,r,a,s),c=Xe(t,r,a,u),d=Ue(ep||(ep=yn(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(l)>180),+(s>u),c.x,c.y);if(n>0){var h=Xe(t,r,n,s),m=Xe(t,r,n,u);d+=Ue(tp||(tp=yn(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(s<=u),h.x,h.y)}else d+=Ue(rp||(rp=yn(["L ",","," Z"])),t,r);return d},E4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,c=ft(f-u),{circleTangency:d,lineTangency:h,theta:m}=hs({cx:t,cy:r,radius:a,angle:u,sign:c,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:v}=hs({cx:t,cy:r,radius:a,angle:f,sign:-c,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(u-f):Math.abs(u-f)-m-v;if(y<0)return o?Ue(np||(np=yn(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):H1({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var x=Ue(ap||(ap=yn(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(c<0),d.x,d.y,a,a,+(y>180),+(c<0),p.x,p.y,s,s,+(c<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:b,theta:j}=hs({cx:t,cy:r,radius:n,angle:u,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:T}=hs({cx:t,cy:r,radius:n,angle:f,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=l?Math.abs(u-f):Math.abs(u-f)-j-T;if(O<0&&s===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+=Ue(ip||(ip=yn(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,s,s,+(c<0),S.x,S.y,n,n,+(O>180),+(c>0),w.x,w.y,s,s,+(c<0),b.x,b.y)}else x+=Ue(sp||(sp=yn(["L",",","Z"])),t,r);return x},O4={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q1=e=>{var t=mt(e,O4),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c,className:d}=t;if(s<a||f===c)return null;var h=ye("recharts-sector",d),m=s-a,p=xt(o,m,0,!0),g;return p>0&&Math.abs(f-c)<360?g=E4({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):g=H1({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:c}),N.createElement("path",Mu({},_t(t),{className:h,d:g}))};function S4(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ux(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,u=Xe(n,a,s,l),f=Xe(n,a,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return U1(t)}}var G1={},V1={},W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vd,r=V1;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=a,a+=o;return u}e.range=n})(G1);var T4=G1.range;const K1=Br(T4);function rn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P4(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sf(e){let t,r,n;e.length!==2?(t=rn,r=(l,u)=>rn(e(l),u),n=(l,u)=>e(l)-u):(t=e===rn||e===P4?e:A4,r=e,n=e);function a(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<0?f=d+1:c=d}while(f<c)}return f}function s(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<=0?f=d+1:c=d}while(f<c)}return f}function o(l,u,f=0,c=l.length){const d=a(l,u,f,c-1);return d>f&&n(l[d-1],u)>-n(l[d],u)?d-1:d}return{left:a,center:o,right:s}}function A4(){return 0}function Y1(e){return e===null?NaN:+e}function*k4(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const I4=sf(rn),Ci=I4.right;sf(Y1).center;class op extends Map{constructor(t,r=D4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(lp(this,t))}has(t){return super.has(lp(this,t))}set(t,r){return super.set(C4(this,t),r)}delete(t){return super.delete(M4(this,t))}}function lp({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function C4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M4({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function R4(e=rn){if(e===rn)return X1;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function X1(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const L4=Math.sqrt(50),B4=Math.sqrt(10),$4=Math.sqrt(2);function ho(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=L4?10:s>=B4?5:s>=$4?2:1;let l,u,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?ho(e,t,r*2):[l,u,f]}function Du(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ho(t,e,r):ho(e,t,r);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(s-f)/-o;else for(let f=0;f<l;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(a+f)/-o;else for(let f=0;f<l;++f)u[f]=(a+f)*o;return u}function Ru(e,t,r){return t=+t,e=+e,r=+r,ho(e,t,r)[2]}function Lu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ru(t,e,r):Ru(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function cp(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function up(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Z1(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?X1:R4(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,c=Math.log(u),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(u-d)/u)*(f-u/2<0?-1:1),m=Math.max(r,Math.floor(t-f*d/u+h)),p=Math.min(n,Math.floor(t+(u-f)*d/u+h));Z1(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(qa(e,r,t),a(e[n],s)>0&&qa(e,r,n);o<l;){for(qa(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?qa(e,r,l):(++l,qa(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function qa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function F4(e,t,r){if(e=Float64Array.from(k4(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return up(e);if(t>=1)return cp(e);var n,a=(n-1)*t,s=Math.floor(a),o=cp(Z1(e,s).subarray(0,s+1)),l=up(e.subarray(s+1));return o+(l-o)*(a-s)}}function z4(e,t,r=Y1){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function U4(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Qt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bu=Symbol("implicit");function of(){var e=new op,t=[],r=[],n=Bu;function a(s){let o=e.get(s);if(o===void 0){if(n!==Bu)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new op;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return of(t,r).unknown(n)},Qt.apply(a,arguments),a}function lf(){var e=of().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,u=0,f=0,c=.5;delete e.unknown;function d(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-u+f*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-u))*c,o=s*(1-u),l&&(p=Math.round(p),o=Math.round(o));var v=U4(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,f=+h),d()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},e.paddingOuter=function(h){return arguments.length?(f=+h,d()):f},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return lf(t(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(c)},Qt.apply(d(),arguments)}function Q1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Q1(t())},e}function H4(){return Q1(lf.apply(null,arguments).paddingInner(1))}function cf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function J1(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mi(){}var fi=.7,mo=1/fi,aa="\\s*([+-]?\\d+)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q4=/^#([0-9a-f]{3,8})$/,G4=new RegExp(`^rgb\\(${aa},${aa},${aa}\\)$`),V4=new RegExp(`^rgb\\(${gr},${gr},${gr}\\)$`),W4=new RegExp(`^rgba\\(${aa},${aa},${aa},${hi}\\)$`),K4=new RegExp(`^rgba\\(${gr},${gr},${gr},${hi}\\)$`),Y4=new RegExp(`^hsl\\(${hi},${gr},${gr}\\)$`),X4=new RegExp(`^hsla\\(${hi},${gr},${gr},${hi}\\)$`),dp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cf(Mi,mi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fp,formatHex:fp,formatHex8:Z4,formatHsl:Q4,formatRgb:hp,toString:hp});function fp(){return this.rgb().formatHex()}function Z4(){return this.rgb().formatHex8()}function Q4(){return eb(this).formatHsl()}function hp(){return this.rgb().formatRgb()}function mi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q4.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?mp(t):r===3?new Pt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ms(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ms(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=G4.exec(e))?new Pt(t[1],t[2],t[3],1):(t=V4.exec(e))?new Pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W4.exec(e))?ms(t[1],t[2],t[3],t[4]):(t=K4.exec(e))?ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Y4.exec(e))?vp(t[1],t[2]/100,t[3]/100,1):(t=X4.exec(e))?vp(t[1],t[2]/100,t[3]/100,t[4]):dp.hasOwnProperty(e)?mp(dp[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function mp(e){return new Pt(e>>16&255,e>>8&255,e&255,1)}function ms(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pt(e,t,r,n)}function J4(e){return e instanceof Mi||(e=mi(e)),e?(e=e.rgb(),new Pt(e.r,e.g,e.b,e.opacity)):new Pt}function $u(e,t,r,n){return arguments.length===1?J4(e):new Pt(e,t,r,n??1)}function Pt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cf(Pt,$u,J1(Mi,{brighter(e){return e=e==null?mo:Math.pow(mo,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pt(Sn(this.r),Sn(this.g),Sn(this.b),po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pp,formatHex:pp,formatHex8:eM,formatRgb:gp,toString:gp}));function pp(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}`}function eM(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}${xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function gp(){const e=po(this.opacity);return`${e===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${e===1?")":`, ${e})`}`}function po(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xn(e){return e=Sn(e),(e<16?"0":"")+e.toString(16)}function vp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ar(e,t,r,n)}function eb(e){if(e instanceof ar)return new ar(e.h,e.s,e.l,e.opacity);if(e instanceof Mi||(e=mi(e)),!e)return new ar;if(e instanceof ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new ar(o,l,u,e.opacity)}function tM(e,t,r,n){return arguments.length===1?eb(e):new ar(e,t,r,n??1)}function ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cf(ar,tM,J1(Mi,{brighter(e){return e=e==null?mo:Math.pow(mo,e),new ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pt(Ec(e>=240?e-240:e+120,a,n),Ec(e,a,n),Ec(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ar(yp(this.h),ps(this.s),ps(this.l),po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=po(this.opacity);return`${e===1?"hsl(":"hsla("}${yp(this.h)}, ${ps(this.s)*100}%, ${ps(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yp(e){return e=(e||0)%360,e<0?e+360:e}function ps(e){return Math.max(0,Math.min(1,e||0))}function Ec(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uf=e=>()=>e;function rM(e,t){return function(r){return e+r*t}}function nM(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aM(e){return(e=+e)==1?tb:function(t,r){return r-t?nM(t,r,e):uf(isNaN(t)?r:t)}}function tb(e,t){var r=t-e;return r?rM(e,r):uf(isNaN(e)?t:e)}const xp=function e(t){var r=aM(t);function n(a,s){var o=r((a=$u(a)).r,(s=$u(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),f=tb(a.opacity,s.opacity);return function(c){return a.r=o(c),a.g=l(c),a.b=u(c),a.opacity=f(c),a+""}}return n.gamma=e,n}(1);function iM(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function sM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oM(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ta(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function lM(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function go(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cM(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ta(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Fu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oc=new RegExp(Fu.source,"g");function uM(e){return function(){return e}}function dM(e){return function(t){return e(t)+""}}function fM(e,t){var r=Fu.lastIndex=Oc.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Fu.exec(e))&&(a=Oc.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:go(n,a)})),r=Oc.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?dM(u[0].x):uM(t):(t=u.length,function(f){for(var c=0,d;c<t;++c)l[(d=u[c]).i]=d.x(f);return l.join("")})}function Ta(e,t){var r=typeof t,n;return t==null||r==="boolean"?uf(t):(r==="number"?go:r==="string"?(n=mi(t))?(t=n,xp):fM:t instanceof mi?xp:t instanceof Date?lM:sM(t)?iM:Array.isArray(t)?oM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cM:go)(e,t)}function df(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hM(e,t){t===void 0&&(t=e,e=Ta);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function mM(e){return function(){return e}}function vo(e){return+e}var bp=[0,1];function Nt(e){return e}function zu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mM(isNaN(t)?NaN:.5)}function pM(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gM(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=zu(a,n),s=r(o,s)):(n=zu(n,a),s=r(s,o)),function(l){return s(n(l))}}function vM(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=zu(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Ci(e,l,1,n)-1;return s[u](a[u](l))}}function Di(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ol(){var e=bp,t=bp,r=Ta,n,a,s,o=Nt,l,u,f;function c(){var h=Math.min(e.length,t.length);return o!==Nt&&(o=pM(e[0],e[h-1])),l=h>2?vM:gM,u=f=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((f||(f=l(t,e.map(n),go)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,vo),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=df,c()},d.clamp=function(h){return arguments.length?(o=h?!0:Nt,c()):o!==Nt},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return n=h,a=m,c()}}function ff(){return Ol()(Nt,Nt)}function yM(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ua(e){return e=yo(Math.abs(e)),e?e[1]:NaN}function xM(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function bM(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pi(e){if(!(t=wM.exec(e)))throw new Error("invalid format: "+e);var t;return new hf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pi.prototype=hf.prototype;function hf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jM(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rb;function NM(e,t){var r=yo(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(rb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+yo(e,Math.max(0,t+s-1))[0]}function wp(e,t){var r=yo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const jp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yM,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wp(e*100,t),r:wp,s:NM,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Np(e){return e}var _p=Array.prototype.map,Ep=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function _M(e){var t=e.grouping===void 0||e.thousands===void 0?Np:xM(_p.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Np:bM(_p.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(d){d=pi(d);var h=d.fill,m=d.align,p=d.sign,g=d.symbol,v=d.zero,y=d.width,x=d.comma,w=d.precision,b=d.trim,j=d.type;j==="n"?(x=!0,j="g"):jp[j]||(w===void 0&&(w=12),b=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",E=g==="$"?n:/[%p]/.test(j)?o:"",T=jp[j],O=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(_){var P=S,I=E,k,R,M;if(j==="c")I=T(_)+I,_="";else{_=+_;var $=_<0||1/_<0;if(_=isNaN(_)?u:T(Math.abs(_),w),b&&(_=jM(_)),$&&+_==0&&p!=="+"&&($=!1),P=($?p==="("?p:l:p==="-"||p==="("?"":p)+P,I=(j==="s"?Ep[8+rb/3]:"")+I+($&&p==="("?")":""),O){for(k=-1,R=_.length;++k<R;)if(M=_.charCodeAt(k),48>M||M>57){I=(M===46?a+_.slice(k+1):_.slice(k))+I,_=_.slice(0,k);break}}}x&&!v&&(_=t(_,1/0));var G=P.length+_.length+I.length,D=G<y?new Array(y-G+1).join(h):"";switch(x&&v&&(_=t(D+_,D.length?y-I.length:1/0),D=""),m){case"<":_=P+_+I+D;break;case"=":_=P+D+_+I;break;case"^":_=D.slice(0,G=D.length>>1)+P+_+I+D.slice(G);break;default:_=D+P+_+I;break}return s(_)}return A.toString=function(){return d+""},A}function c(d,h){var m=f((d=pi(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ua(h)/3)))*3,g=Math.pow(10,-p),v=Ep[8+p/3];return function(y){return m(g*y)+v}}return{format:f,formatPrefix:c}}var gs,mf,nb;EM({thousands:",",grouping:[3],currency:["$",""]});function EM(e){return gs=_M(e),mf=gs.format,nb=gs.formatPrefix,gs}function OM(e){return Math.max(0,-ua(Math.abs(e)))}function SM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ua(t)/3)))*3-ua(Math.abs(e)))}function TM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ua(t)-ua(e))+1}function ab(e,t,r,n){var a=Lu(e,t,r),s;switch(n=pi(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=SM(a,o))&&(n.precision=s),nb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=TM(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=OM(a))&&(n.precision=s-(n.type==="%")*2);break}}return mf(n)}function dn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Du(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ab(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u,f,c=10;for(l<o&&(f=o,o=l,l=f,f=a,a=s,s=f);c-- >0;){if(f=Ru(o,l,r),f===u)return n[a]=o,n[s]=l,t(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function ib(){var e=ff();return e.copy=function(){return Di(e,ib())},Qt.apply(e,arguments),dn(e)}function sb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sb(e).unknown(t)},e=arguments.length?Array.from(e,vo):[0,1],dn(r)}function ob(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function Op(e){return Math.log(e)}function Sp(e){return Math.exp(e)}function PM(e){return-Math.log(-e)}function AM(e){return-Math.exp(-e)}function kM(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IM(e){return e===10?kM:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CM(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tp(e){return(t,r)=>-e(-t,r)}function pf(e){const t=e(Op,Sp),r=t.domain;let n=10,a,s;function o(){return a=CM(n),s=IM(n),r()[0]<0?(a=Tp(a),s=Tp(s),e(PM,AM)):e(Op,Sp),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let f=u[0],c=u[u.length-1];const d=c<f;d&&([f,c]=[c,f]);let h=a(f),m=a(c),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),f>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}y.length*2<v&&(y=Du(f,c,v))}else y=Du(h,m,Math.min(m-h,v)).map(s);return d?y.reverse():y},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=pi(u)).precision==null&&(u.trim=!0),u=mf(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return c=>{let d=c/s(Math.round(a(c)));return d*n<n-.5&&(d*=n),d<=f?u(c):""}},t.nice=()=>r(ob(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function lb(){const e=pf(Ol()).domain([1,10]);return e.copy=()=>Di(e,lb()).base(e.base()),Qt.apply(e,arguments),e}function Pp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ap(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gf(e){var t=1,r=e(Pp(t),Ap(t));return r.constant=function(n){return arguments.length?e(Pp(t=+n),Ap(t)):t},dn(r)}function cb(){var e=gf(Ol());return e.copy=function(){return Di(e,cb()).constant(e.constant())},Qt.apply(e,arguments)}function kp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DM(e){return e<0?-e*e:e*e}function vf(e){var t=e(Nt,Nt),r=1;function n(){return r===1?e(Nt,Nt):r===.5?e(MM,DM):e(kp(r),kp(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dn(t)}function yf(){var e=vf(Ol());return e.copy=function(){return Di(e,yf()).exponent(e.exponent())},Qt.apply(e,arguments),e}function RM(){return yf.apply(null,arguments).exponent(.5)}function Ip(e){return Math.sign(e)*e*e}function LM(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ub(){var e=ff(),t=[0,1],r=!1,n;function a(s){var o=LM(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(Ip(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,vo)).map(Ip)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ub(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qt.apply(a,arguments),dn(a)}function db(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=z4(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Ci(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(rn),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return db().domain(e).range(t).unknown(n)},Qt.apply(s,arguments)}function fb(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(u){return u!=null&&u<=u?a[Ci(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return fb().domain([e,t]).range(a).unknown(s)},Qt.apply(dn(o),arguments)}function hb(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ci(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return hb().domain(e).range(t).unknown(r)},Qt.apply(a,arguments)}const Sc=new Date,Tc=new Date;function at(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const u=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let f;do u.push(f=new Date(+s)),t(s,l),e(s);while(f<s&&s<o);return u},a.filter=s=>at(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Sc.setTime(+s),Tc.setTime(+o),e(Sc),e(Tc),Math.floor(r(Sc,Tc))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const xo=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xo);xo.range;const Er=1e3,Wt=Er*60,Or=Wt*60,kr=Or*24,xf=kr*7,Cp=kr*30,Pc=kr*365,bn=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCSeconds());bn.range;const bf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Er)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getMinutes());bf.range;const wf=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wt)},(e,t)=>(t-e)/Wt,e=>e.getUTCMinutes());wf.range;const jf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Er-e.getMinutes()*Wt)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getHours());jf.range;const Nf=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCHours());Nf.range;const Ri=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wt)/kr,e=>e.getDate()-1);Ri.range;const Sl=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kr,e=>e.getUTCDate()-1);Sl.range;const mb=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kr,e=>Math.floor(e/kr));mb.range;function Hn(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wt)/xf)}const Tl=Hn(0),bo=Hn(1),BM=Hn(2),$M=Hn(3),da=Hn(4),FM=Hn(5),zM=Hn(6);Tl.range;bo.range;BM.range;$M.range;da.range;FM.range;zM.range;function qn(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xf)}const Pl=qn(0),wo=qn(1),UM=qn(2),HM=qn(3),fa=qn(4),qM=qn(5),GM=qn(6);Pl.range;wo.range;UM.range;HM.range;fa.range;qM.range;GM.range;const _f=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_f.range;const Ef=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ef.range;const Ir=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ir.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ir.range;const Cr=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Cr.range;function pb(e,t,r,n,a,s){const o=[[bn,1,Er],[bn,5,5*Er],[bn,15,15*Er],[bn,30,30*Er],[s,1,Wt],[s,5,5*Wt],[s,15,15*Wt],[s,30,30*Wt],[a,1,Or],[a,3,3*Or],[a,6,6*Or],[a,12,12*Or],[n,1,kr],[n,2,2*kr],[r,1,xf],[t,1,Cp],[t,3,3*Cp],[e,1,Pc]];function l(f,c,d){const h=c<f;h&&([f,c]=[c,f]);const m=d&&typeof d.range=="function"?d:u(f,c,d),p=m?m.range(f,+c+1):[];return h?p.reverse():p}function u(f,c,d){const h=Math.abs(c-f)/d,m=sf(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Lu(f/Pc,c/Pc,d));if(m===0)return xo.every(Math.max(Lu(f,c,d),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,u]}const[VM,WM]=pb(Cr,Ef,Pl,mb,Nf,wf),[KM,YM]=pb(Ir,_f,Tl,Ri,jf,bf);function Ac(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ga(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function XM(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Va(a),c=Wa(a),d=Va(s),h=Wa(s),m=Va(o),p=Wa(o),g=Va(l),v=Wa(l),y=Va(u),x=Wa(u),w={a:$,A:G,b:D,B:z,c:null,d:$p,e:$p,f:xD,g:PD,G:kD,H:gD,I:vD,j:yD,L:gb,m:bD,M:wD,p:C,q:L,Q:Up,s:Hp,S:jD,u:ND,U:_D,V:ED,w:OD,W:SD,x:null,X:null,y:TD,Y:AD,Z:ID,"%":zp},b={a:U,A:K,b:V,B:F,c:null,d:Fp,e:Fp,f:RD,g:VD,G:KD,H:CD,I:MD,j:DD,L:yb,m:LD,M:BD,p:q,q:X,Q:Up,s:Hp,S:$D,u:FD,U:zD,V:UD,w:HD,W:qD,x:null,X:null,y:GD,Y:WD,Z:YD,"%":zp},j={a:A,A:_,b:P,B:I,c:k,d:Lp,e:Lp,f:fD,g:Rp,G:Dp,H:Bp,I:Bp,j:lD,L:dD,m:oD,M:cD,p:O,q:sD,Q:mD,s:pD,S:uD,u:tD,U:rD,V:nD,w:eD,W:aD,x:R,X:M,y:Rp,Y:Dp,Z:iD,"%":hD};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),b.x=S(r,b),b.X=S(n,b),b.c=S(t,b);function S(H,Z){return function(ne){var ee=[],he=-1,ce=0,ge=H.length,B,re,W;for(ne instanceof Date||(ne=new Date(+ne));++he<ge;)H.charCodeAt(he)===37&&(ee.push(H.slice(ce,he)),(re=Mp[B=H.charAt(++he)])!=null?B=H.charAt(++he):re=B==="e"?" ":"0",(W=Z[B])&&(B=W(ne,re)),ee.push(B),ce=he+1);return ee.push(H.slice(ce,he)),ee.join("")}}function E(H,Z){return function(ne){var ee=Ga(1900,void 0,1),he=T(ee,H,ne+="",0),ce,ge;if(he!=ne.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Z&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ce=kc(Ga(ee.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?wo.ceil(ce):wo(ce),ce=Sl.offset(ce,(ee.V-1)*7),ee.y=ce.getUTCFullYear(),ee.m=ce.getUTCMonth(),ee.d=ce.getUTCDate()+(ee.w+6)%7):(ce=Ac(Ga(ee.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?bo.ceil(ce):bo(ce),ce=Ri.offset(ce,(ee.V-1)*7),ee.y=ce.getFullYear(),ee.m=ce.getMonth(),ee.d=ce.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ge="Z"in ee?kc(Ga(ee.y,0,1)).getUTCDay():Ac(Ga(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ge+5)%7:ee.w+ee.U*7-(ge+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,kc(ee)):Ac(ee)}}function T(H,Z,ne,ee){for(var he=0,ce=Z.length,ge=ne.length,B,re;he<ce;){if(ee>=ge)return-1;if(B=Z.charCodeAt(he++),B===37){if(B=Z.charAt(he++),re=j[B in Mp?Z.charAt(he++):B],!re||(ee=re(H,ne,ee))<0)return-1}else if(B!=ne.charCodeAt(ee++))return-1}return ee}function O(H,Z,ne){var ee=f.exec(Z.slice(ne));return ee?(H.p=c.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function A(H,Z,ne){var ee=m.exec(Z.slice(ne));return ee?(H.w=p.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function _(H,Z,ne){var ee=d.exec(Z.slice(ne));return ee?(H.w=h.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function P(H,Z,ne){var ee=y.exec(Z.slice(ne));return ee?(H.m=x.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function I(H,Z,ne){var ee=g.exec(Z.slice(ne));return ee?(H.m=v.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function k(H,Z,ne){return T(H,t,Z,ne)}function R(H,Z,ne){return T(H,r,Z,ne)}function M(H,Z,ne){return T(H,n,Z,ne)}function $(H){return o[H.getDay()]}function G(H){return s[H.getDay()]}function D(H){return u[H.getMonth()]}function z(H){return l[H.getMonth()]}function C(H){return a[+(H.getHours()>=12)]}function L(H){return 1+~~(H.getMonth()/3)}function U(H){return o[H.getUTCDay()]}function K(H){return s[H.getUTCDay()]}function V(H){return u[H.getUTCMonth()]}function F(H){return l[H.getUTCMonth()]}function q(H){return a[+(H.getUTCHours()>=12)]}function X(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var Z=S(H+="",w);return Z.toString=function(){return H},Z},parse:function(H){var Z=E(H+="",!1);return Z.toString=function(){return H},Z},utcFormat:function(H){var Z=S(H+="",b);return Z.toString=function(){return H},Z},utcParse:function(H){var Z=E(H+="",!0);return Z.toString=function(){return H},Z}}}var Mp={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,ZM=/^%/,QM=/[\\^$*+?|[\]().{}]/g;function we(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function JM(e){return e.replace(QM,"\\$&")}function Va(e){return new RegExp("^(?:"+e.map(JM).join("|")+")","i")}function Wa(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function eD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function tD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function rD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function nD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function aD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Dp(e,t,r){var n=pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Rp(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iD(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Lp(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lD(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Bp(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function dD(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fD(e,t,r){var n=pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hD(e,t,r){var n=ZM.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mD(e,t,r){var n=pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pD(e,t,r){var n=pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $p(e,t){return we(e.getDate(),t,2)}function gD(e,t){return we(e.getHours(),t,2)}function vD(e,t){return we(e.getHours()%12||12,t,2)}function yD(e,t){return we(1+Ri.count(Ir(e),e),t,3)}function gb(e,t){return we(e.getMilliseconds(),t,3)}function xD(e,t){return gb(e,t)+"000"}function bD(e,t){return we(e.getMonth()+1,t,2)}function wD(e,t){return we(e.getMinutes(),t,2)}function jD(e,t){return we(e.getSeconds(),t,2)}function ND(e){var t=e.getDay();return t===0?7:t}function _D(e,t){return we(Tl.count(Ir(e)-1,e),t,2)}function vb(e){var t=e.getDay();return t>=4||t===0?da(e):da.ceil(e)}function ED(e,t){return e=vb(e),we(da.count(Ir(e),e)+(Ir(e).getDay()===4),t,2)}function OD(e){return e.getDay()}function SD(e,t){return we(bo.count(Ir(e)-1,e),t,2)}function TD(e,t){return we(e.getFullYear()%100,t,2)}function PD(e,t){return e=vb(e),we(e.getFullYear()%100,t,2)}function AD(e,t){return we(e.getFullYear()%1e4,t,4)}function kD(e,t){var r=e.getDay();return e=r>=4||r===0?da(e):da.ceil(e),we(e.getFullYear()%1e4,t,4)}function ID(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function Fp(e,t){return we(e.getUTCDate(),t,2)}function CD(e,t){return we(e.getUTCHours(),t,2)}function MD(e,t){return we(e.getUTCHours()%12||12,t,2)}function DD(e,t){return we(1+Sl.count(Cr(e),e),t,3)}function yb(e,t){return we(e.getUTCMilliseconds(),t,3)}function RD(e,t){return yb(e,t)+"000"}function LD(e,t){return we(e.getUTCMonth()+1,t,2)}function BD(e,t){return we(e.getUTCMinutes(),t,2)}function $D(e,t){return we(e.getUTCSeconds(),t,2)}function FD(e){var t=e.getUTCDay();return t===0?7:t}function zD(e,t){return we(Pl.count(Cr(e)-1,e),t,2)}function xb(e){var t=e.getUTCDay();return t>=4||t===0?fa(e):fa.ceil(e)}function UD(e,t){return e=xb(e),we(fa.count(Cr(e),e)+(Cr(e).getUTCDay()===4),t,2)}function HD(e){return e.getUTCDay()}function qD(e,t){return we(wo.count(Cr(e)-1,e),t,2)}function GD(e,t){return we(e.getUTCFullYear()%100,t,2)}function VD(e,t){return e=xb(e),we(e.getUTCFullYear()%100,t,2)}function WD(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function KD(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fa(e):fa.ceil(e),we(e.getUTCFullYear()%1e4,t,4)}function YD(){return"+0000"}function zp(){return"%"}function Up(e){return+e}function Hp(e){return Math.floor(+e/1e3)}var Yn,bb,wb;XD({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XD(e){return Yn=XM(e),bb=Yn.format,Yn.parse,wb=Yn.utcFormat,Yn.utcParse,Yn}function ZD(e){return new Date(e)}function QD(e){return e instanceof Date?+e:+new Date(+e)}function Of(e,t,r,n,a,s,o,l,u,f){var c=ff(),d=c.invert,h=c.domain,m=f(".%L"),p=f(":%S"),g=f("%I:%M"),v=f("%I %p"),y=f("%a %d"),x=f("%b %d"),w=f("%B"),b=f("%Y");function j(S){return(u(S)<S?m:l(S)<S?p:o(S)<S?g:s(S)<S?v:n(S)<S?a(S)<S?y:x:r(S)<S?w:b)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?h(Array.from(S,QD)):h().map(ZD)},c.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},c.tickFormat=function(S,E){return E==null?j:f(E)},c.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(ob(E,S)):c},c.copy=function(){return Di(c,Of(e,t,r,n,a,s,o,l,u,f))},c}function JD(){return Qt.apply(Of(KM,YM,Ir,_f,Tl,Ri,jf,bf,bn,bb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eR(){return Qt.apply(Of(VM,WM,Cr,Ef,Pl,Sl,Nf,wf,bn,wb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Al(){var e=0,t=1,r,n,a,s,o=Nt,l=!1,u;function f(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}f.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(d){return arguments.length?(l=!!d,f):l},f.interpolator=function(d){return arguments.length?(o=d,f):o};function c(d){return function(h){var m,p;return arguments.length?([m,p]=h,o=d(m,p),f):[o(0),o(1)]}}return f.range=c(Ta),f.rangeRound=c(df),f.unknown=function(d){return arguments.length?(u=d,f):u},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),f}}function fn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jb(){var e=dn(Al()(Nt));return e.copy=function(){return fn(e,jb())},Hr.apply(e,arguments)}function Nb(){var e=pf(Al()).domain([1,10]);return e.copy=function(){return fn(e,Nb()).base(e.base())},Hr.apply(e,arguments)}function _b(){var e=gf(Al());return e.copy=function(){return fn(e,_b()).constant(e.constant())},Hr.apply(e,arguments)}function Sf(){var e=vf(Al());return e.copy=function(){return fn(e,Sf()).exponent(e.exponent())},Hr.apply(e,arguments)}function tR(){return Sf.apply(null,arguments).exponent(.5)}function Eb(){var e=[],t=Nt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ci(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(rn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>F4(e,s/n))},r.copy=function(){return Eb(t).domain(e)},Hr.apply(r,arguments)}function kl(){var e=0,t=.5,r=1,n=1,a,s,o,l,u,f=Nt,c,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-s)*(n*g<n*s?l:u),f(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=c(e=+e),s=c(t=+t),o=c(r=+r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(f=g,m):f};function p(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,f=hM(g,[y,x,w]),m):[f(0),f(.5),f(1)]}}return m.range=p(Ta),m.rangeRound=p(df),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return c=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function Ob(){var e=dn(kl()(Nt));return e.copy=function(){return fn(e,Ob())},Hr.apply(e,arguments)}function Sb(){var e=pf(kl()).domain([.1,1,10]);return e.copy=function(){return fn(e,Sb()).base(e.base())},Hr.apply(e,arguments)}function Tb(){var e=gf(kl());return e.copy=function(){return fn(e,Tb()).constant(e.constant())},Hr.apply(e,arguments)}function Tf(){var e=vf(kl());return e.copy=function(){return fn(e,Tf()).exponent(e.exponent())},Hr.apply(e,arguments)}function rR(){return Tf.apply(null,arguments).exponent(.5)}const Ja=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lf,scaleDiverging:Ob,scaleDivergingLog:Sb,scaleDivergingPow:Tf,scaleDivergingSqrt:rR,scaleDivergingSymlog:Tb,scaleIdentity:sb,scaleImplicit:Bu,scaleLinear:ib,scaleLog:lb,scaleOrdinal:of,scalePoint:H4,scalePow:yf,scaleQuantile:db,scaleQuantize:fb,scaleRadial:ub,scaleSequential:jb,scaleSequentialLog:Nb,scaleSequentialPow:Sf,scaleSequentialQuantile:Eb,scaleSequentialSqrt:tR,scaleSequentialSymlog:_b,scaleSqrt:RM,scaleSymlog:cb,scaleThreshold:hb,scaleTime:JD,scaleUtc:eR,tickFormat:ab},Symbol.toStringTag,{value:"Module"}));var qr=e=>e.chartData,Il=Q([qr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pf=(e,t,r,n)=>n?Il(e):qr(e),nR=(e,t,r)=>r?Il(e):qr(e);function an(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Be(t)&&Be(r))return!0}return!1}function qp(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Pb(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Be(r))a=r;else if(typeof r=="function")return;if(Be(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(an(o))return o}}function aR(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(an(n))return qp(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(de(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&d0.test(a)){var u=d0.exec(a);if(u==null||u[1]==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&f0.test(s)){var c=f0.exec(s);if(c==null||c[1]==null||t==null)l=void 0;else{var d=+c[1];l=t[1]+d}}else l=t==null?void 0:t[1];var h=[o,l];if(an(h))return t==null?h:qp(h,t,r)}}}var Pa=1e9,iR={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kf,Ce=!0,Xt="[DecimalError] ",Tn=Xt+"Invalid argument: ",Af=Xt+"Exponent out of range: ",Aa=Math.floor,vn=Math.pow,sR=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dt,ut=1e7,Ae=7,Ab=9007199254740991,jo=Aa(Ab/Ae),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ae;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Sr(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Oe(Sr(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Qe(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dt))throw Error(Xt+"NaN");if(r.s<1)throw Error(Xt+(r.s?"NaN":"-Infinity"));return r.eq(Dt)?new n(0):(Ce=!1,t=Sr(gi(r,s),gi(e,s),s),Ce=!0,Oe(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Cb(t,e):kb(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xt+"NaN");return r.s?(Ce=!1,t=Sr(r,e,0,1).times(e),Ce=!0,r.minus(t)):Oe(new n(r),a)};ue.naturalExponential=ue.exp=function(){return Ib(this)};ue.naturalLogarithm=ue.ln=function(){return gi(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kb(t,e):Cb(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tn+e);if(t=Qe(a)+1,n=a.d.length-1,r=n*Ae+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Xt+"NaN")}for(e=Qe(l),Ce=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Aa((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(s=n,n=s.plus(Sr(l,s,o+2)).times(.5),pr(s.d).slice(0,o)===(t=pr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Oe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ce=!0,Oe(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,s,o,l,u,f,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,u=h.length,f=m.length,u<f&&(s=h,h=m,m=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%ut|0,t=l/ut|0;s[a]=(s[a]+t)%ut|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ce?Oe(e,d.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xr(e,0,Pa),t===void 0?t=n.rounding:xr(t,0,8),Oe(r,e+Qe(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Fn(n,!0):(xr(e,0,Pa),t===void 0?t=a.rounding:xr(t,0,8),n=Oe(new a(n),e+1,t),r=Fn(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Fn(a):(xr(e,0,Pa),t===void 0?t=s.rounding:xr(t,0,8),n=Oe(new s(a),e+Qe(a)+1,t),r=Fn(n.abs(),!1,e+Qe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Oe(new t(e),Qe(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,s,o,l=this,u=l.constructor,f=12,c=+(e=new u(e));if(!e.s)return new u(Dt);if(l=new u(l),!l.s){if(e.s<1)throw Error(Xt+"Infinity");return l}if(l.eq(Dt))return l;if(n=u.precision,e.eq(Dt))return Oe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=c<0?-c:c)<=Ab){for(a=new u(Dt),t=Math.ceil(n/Ae+4),Ce=!1;r%2&&(a=a.times(l),Vp(a.d,t)),r=Aa(r/2),r!==0;)l=l.times(l),Vp(l.d,t);return Ce=!0,e.s<0?new u(Dt).div(a):Oe(a,n)}}else if(s<0)throw Error(Xt+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ce=!1,a=e.times(gi(l,n+f)),Ce=!0,a=Ib(a),a.s=s,a};ue.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Qe(a),n=Fn(a,r<=s.toExpNeg||r>=s.toExpPos)):(xr(e,1,Pa),t===void 0?t=s.rounding:xr(t,0,8),a=Oe(new s(a),e,t),r=Qe(a),n=Fn(a,e<=r||r<=s.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xr(e,1,Pa),t===void 0?t=n.rounding:xr(t,0,8)),Oe(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return Fn(e,t<=r.toExpNeg||t>=r.toExpPos)};function kb(e,t){var r,n,a,s,o,l,u,f,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ce?Oe(t,d):t;if(u=e.d,f=t.d,o=e.e,a=t.e,u=u.slice(),s=o-a,s){for(s<0?(n=u,s=-s,l=f.length):(n=f,a=o,l=u.length),o=Math.ceil(d/Ae),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/ut|0,u[s]%=ut;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Ce?Oe(t,d):t}function xr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Tn+e)}function pr(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Ae-n.length,r&&(s+=Xr(r)),s+=n;o=e[t],n=o+"",r=Ae-n.length,r&&(s+=Xr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Sr=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ut|0,o=s/ut|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ut+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,u,f,c,d,h,m,p,g,v,y,x,w,b,j,S,E,T,O=n.constructor,A=n.s==a.s?1:-1,_=n.d,P=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Xt+"Division by zero");for(u=n.e-a.e,E=P.length,j=_.length,m=new O(A),p=m.d=[],f=0;P[f]==(_[f]||0);)++f;if(P[f]>(_[f]||0)&&--u,s==null?x=s=O.precision:o?x=s+(Qe(n)-Qe(a))+1:x=s,x<0)return new O(0);if(x=x/Ae+2|0,f=0,E==1)for(c=0,P=P[0],x++;(f<j||c)&&x--;f++)w=c*ut+(_[f]||0),p[f]=w/P|0,c=w%P|0;else{for(c=ut/(P[0]+1)|0,c>1&&(P=e(P,c),_=e(_,c),E=P.length,j=_.length),b=E,g=_.slice(0,E),v=g.length;v<E;)g[v++]=0;T=P.slice(),T.unshift(0),S=P[0],P[1]>=ut/2&&++S;do c=0,l=t(P,g,E,v),l<0?(y=g[0],E!=v&&(y=y*ut+(g[1]||0)),c=y/S|0,c>1?(c>=ut&&(c=ut-1),d=e(P,c),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(c--,r(d,E<h?T:P,h))):(c==0&&(l=c=1),d=P.slice()),h=d.length,h<v&&d.unshift(0),r(g,d,v),l==-1&&(v=g.length,l=t(P,g,E,v),l<1&&(c++,r(g,E<v?T:P,v))),v=g.length):l===0&&(c++,g=[0]),p[f++]=c,l&&g[0]?g[v++]=_[b]||0:(g=[_[b]],v=1);while((b++<j||g[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=u,Oe(m,o?s+Qe(m)+1:s)}}();function Ib(e,t){var r,n,a,s,o,l,u=0,f=0,c=e.constructor,d=c.precision;if(Qe(e)>16)throw Error(Af+Qe(e));if(!e.s)return new c(Dt);for(Ce=!1,l=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(vn(2,f))/Math.LN10*2+5|0,l+=n,r=a=s=new c(Dt),c.precision=l;;){if(a=Oe(a.times(e),l),r=r.times(++u),o=s.plus(Sr(a,r,l)),pr(o.d).slice(0,l)===pr(s.d).slice(0,l)){for(;f--;)s=Oe(s.times(s),l);return c.precision=d,t==null?(Ce=!0,Oe(s,d)):s}s=o}}function Qe(e){for(var t=e.e*Ae,r=e.d[0];r>=10;r/=10)t++;return t}function Ic(e,t,r){if(t>e.LN10.sd())throw Ce=!0,r&&(e.precision=r),Error(Xt+"LN10 precision limit exceeded");return Oe(new e(e.LN10),t)}function Xr(e){for(var t="";e--;)t+="0";return t}function gi(e,t){var r,n,a,s,o,l,u,f,c,d=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Xt+(m.s?"NaN":"-Infinity"));if(m.eq(Dt))return new g(0);if(t==null?(Ce=!1,f=v):f=t,m.eq(10))return t==null&&(Ce=!0),Ic(g,f);if(f+=h,g.precision=f,r=pr(p),n=r.charAt(0),s=Qe(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=pr(m.d),n=r.charAt(0),d++;s=Qe(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return u=Ic(g,f+2,v).times(s+""),m=gi(new g(n+"."+r.slice(1)),f-h).plus(u),g.precision=v,t==null?(Ce=!0,Oe(m,v)):m;for(l=o=m=Sr(m.minus(Dt),m.plus(Dt),f),c=Oe(m.times(m),f),a=3;;){if(o=Oe(o.times(c),f),u=l.plus(Sr(o,new g(a),f)),pr(u.d).slice(0,f)===pr(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(Ic(g,f+2,v).times(s+""))),l=Sr(l,new g(d),f),g.precision=v,t==null?(Ce=!0,Oe(l,v)):l;l=u,a+=2}}function Gp(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Aa(r/Ae),e.d=[],n=(r+1)%Ae,r<0&&(n+=Ae),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ae;n<a;)e.d.push(+t.slice(n,n+=Ae));t=t.slice(n),n=Ae-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ce&&(e.e>jo||e.e<-jo))throw Error(Af+r)}else e.s=0,e.e=0,e.d=[0];return e}function Oe(e,t,r){var n,a,s,o,l,u,f,c,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ae,a=t,f=d[c=0];else{if(c=Math.ceil((n+1)/Ae),s=d.length,c>=s)return e;for(f=s=d[c],o=1;s>=10;s/=10)o++;n%=Ae,a=n-Ae+o}if(r!==void 0&&(s=vn(10,o-a-1),l=f/s%10|0,u=t<0||d[c+1]!==void 0||f%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?f/vn(10,o-a):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return u?(s=Qe(e),d.length=1,t=t-s-1,d[0]=vn(10,(Ae-t%Ae)%Ae),e.e=Aa(-t/Ae)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,s=1,c--):(d.length=c+1,s=vn(10,Ae-n),d[c]=a>0?(f/vn(10,o-a)%vn(10,a)|0)*s:0),u)for(;;)if(c==0){(d[0]+=s)==ut&&(d[0]=1,++e.e);break}else{if(d[c]+=s,d[c]!=ut)break;d[c--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Ce&&(e.e>jo||e.e<-jo))throw Error(Af+Qe(e));return e}function Cb(e,t){var r,n,a,s,o,l,u,f,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ce?Oe(t,m):t;if(u=e.d,d=t.d,n=t.e,f=e.e,u=u.slice(),o=f-n,o){for(c=o<0,c?(r=u,o=-o,l=d.length):(r=d,n=f,l=u.length),a=Math.max(Math.ceil(m/Ae),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=d.length,c=a<l,c&&(l=a),a=0;a<l;a++)if(u[a]!=d[a]){c=u[a]<d[a];break}o=0}for(c&&(r=u,u=d,d=r,t.s=-t.s),l=u.length,a=d.length-l;a>0;--a)u[l++]=0;for(a=d.length;a>o;){if(u[--a]<d[a]){for(s=a;s&&u[--s]===0;)u[s]=ut-1;--u[s],u[a]+=ut}u[a]-=d[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Ce?Oe(t,m):t):new h(0)}function Fn(e,t,r){var n,a=Qe(e),s=pr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Xr(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Xr(-a-1)+s,r&&(n=r-o)>0&&(s+=Xr(n))):a>=o?(s+=Xr(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Xr(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Xr(n))),e.s<0?"-"+s:s}function Vp(e,t){if(e.length>t)return e.length=t,!0}function Mb(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Tn+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Gp(o,s.toString())}else if(typeof s!="string")throw Error(Tn+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,sR.test(s))Gp(o,s);else throw Error(Tn+s)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Mb,a.config=a.set=oR,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function oR(e){if(!e||typeof e!="object")throw Error(Xt+"Object expected");var t,r,n,a=["precision",1,Pa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Aa(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Tn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tn+r+": "+n);return this}var kf=Mb(iR);Dt=new kf(1);const Ne=kf;var lR=e=>e,Db={},Rb=e=>e===Db,Wp=e=>function t(){return arguments.length===0||arguments.length===1&&Rb(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Lb=(e,t)=>e===1?t:Wp(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(o=>o!==Db).length;return s>=e?t(...n):Lb(e-s,Wp(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=n.map(c=>Rb(c)?l.shift():c);return t(...f,...l)}))}),cR=e=>Lb(e.length,e),Uu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},uR=cR((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),dR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return lR;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),s(...arguments))}};function Bb(e){var t;return e===0?t=1:t=Math.floor(new Ne(e).abs().log(10).toNumber())+1,t}function $b(e,t,r){for(var n=new Ne(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Fb=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},zb=(e,t,r)=>{if(e.lte(0))return new Ne(0);var n=Bb(e.toNumber()),a=new Ne(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ne(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new Ne(u.toNumber()):new Ne(Math.ceil(u.toNumber()))},fR=(e,t,r)=>{var n=new Ne(1),a=new Ne(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ne(10).pow(Bb(e)-1),a=new Ne(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ne(Math.floor(e)))}else e===0?a=new Ne(Math.floor((t-1)/2)):r||(a=new Ne(Math.floor(e)));var o=Math.floor((t-1)/2),l=dR(uR(u=>a.add(new Ne(u-o).mul(n)).toNumber()),Uu);return l(0,t)},Ub=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ne(0),tickMin:new Ne(0),tickMax:new Ne(0)};var o=zb(new Ne(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Ne(0):(l=new Ne(t).add(r).div(2),l=l.sub(new Ne(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Ne(r).sub(l).div(o).toNumber()),c=u+f+1;return c>n?Ub(t,r,n,a,s+1):(c<n&&(f=r>0?f+(n-c):f,u=r>0?u:u+(n-c)),{step:o,tickMin:l.sub(new Ne(u).mul(o)),tickMax:l.add(new Ne(f).mul(o))})},hR=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=Fb([r,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Uu(0,a-1).map(()=>1/0)]:[...Uu(0,a-1).map(()=>-1/0),u];return r>n?f.reverse():f}if(l===u)return fR(l,a,s);var{step:c,tickMin:d,tickMax:h}=Ub(l,u,o,s,0),m=$b(d,h.add(new Ne(.1).mul(c)),c);return r>n?m.reverse():m},mR=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Fb([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),f=zb(new Ne(l).sub(o).div(u-1),s,0),c=[...$b(new Ne(o),new Ne(l),f),l];return s===!1&&(c=c.map(d=>Math.round(d))),n>a?c.reverse():c},Hb=e=>e.rootProps.maxBarSize,pR=e=>e.rootProps.barGap,qb=e=>e.rootProps.barCategoryGap,gR=e=>e.rootProps.barSize,Li=e=>e.rootProps.stackOffset,Gb=e=>e.rootProps.reverseStackOrder,If=e=>e.options.chartName,Cf=e=>e.rootProps.syncId,Vb=e=>e.rootProps.syncMethod,Mf=e=>e.options.eventEmitter,Ze={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Nr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cl=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nr.angleAxisId,includeHidden:!1,name:void 0,reversed:Nr.reversed,scale:Nr.scale,tick:Nr.tick,tickCount:void 0,ticks:void 0,type:Nr.type,unit:void 0},yR={allowDataOverflow:Mt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mt.scale,tick:Mt.tick,tickCount:Mt.tickCount,ticks:void 0,type:Mt.type,unit:void 0},xR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bR={allowDataOverflow:Mt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mt.scale,tick:Mt.tick,tickCount:Mt.tickCount,ticks:void 0,type:"category",unit:void 0},Df=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xR:vR,Rf=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bR:yR,Ml=e=>e.polarOptions,Lf=Q([zr,Ur,nt],z1),Wb=Q([Ml,Lf],(e,t)=>{if(e!=null)return xt(e.innerRadius,t,0)}),Kb=Q([Ml,Lf],(e,t)=>{if(e!=null)return xt(e.outerRadius,t,t*.8)}),wR=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Yb=Q([Ml],wR);Q([Df,Yb],Cl);var Xb=Q([Lf,Wb,Kb],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([Rf,Xb],Cl);var Zb=Q([be,Ml,Wb,Kb,zr,Ur],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:xt(o,a,a/2),cy:xt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),Re=(e,t)=>t,Bi=(e,t,r)=>r;function Bf(e){return e==null?void 0:e.id}function Qb(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var c=Bf(l);f.forEach((d,h)=>{var m=s==null||a?h:String(Ee(d,s,null)),p=Ee(d,l.dataKey,0),g;o.has(m)?g=o.get(m):g={},Object.assign(g,{[c]:p}),o.set(m,g)})}}),Array.from(o.values())}function Dl(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Rl=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ll(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jR(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var it=e=>{var t=be(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ka=e=>e.tooltip.settings.axisId;function Kp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(r),!0).forEach(function(n){NR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NR(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=ER(e,"string");return typeof t=="symbol"?t:t+""}function ER(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hu=[0,"auto"],ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jb=(e,t)=>e.cartesianAxis.xAxis[t],Gr=(e,t)=>{var r=Jb(e,t);return r??ot},lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pi},e2=(e,t)=>e.cartesianAxis.yAxis[t],Vr=(e,t)=>{var r=e2(e,t);return r??lt},OR={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$f=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??OR},Fe=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);case"zAxis":return $f(e,r);case"angleAxis":return Df(e,r);case"radiusAxis":return Rf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},SR=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$i=(e,t,r)=>{switch(t){case"xAxis":return Gr(e,r);case"yAxis":return Vr(e,r);case"angleAxis":return Df(e,r);case"radiusAxis":return Rf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},t2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ff(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bl=e=>e.graphicalItems.cartesianItems,TR=Q([Re,Bi],Ff),zf=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Fi=Q([Bl,Fe,TR],zf,{memoizeOptions:{resultEqualityCheck:Ll}}),r2=Q([Fi],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Dl)),n2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PR=Q([Fi],n2),Uf=e=>e.map(t=>t.data).filter(Boolean).flat(1),AR=Q([Fi],Uf,{memoizeOptions:{resultEqualityCheck:Ll}}),Hf=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},qf=Q([AR,Pf],Hf),Gf=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ee(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ee(a,n)}))):e.map(n=>({value:n})),$l=Q([qf,Fe,Fi],Gf);function a2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ds(e){if(vr(e)||e instanceof Date){var t=Number(e);if(Be(t))return t}}function Yp(e){if(Array.isArray(e)){var t=[Ds(e[0]),Ds(e[1])];return an(t)?t:void 0}var r=Ds(e);if(r!=null)return[r,r]}function Mr(e){return e.map(Ds).filter(_I)}function kR(e,t,r){return!r||typeof t!="number"||lr(t)?[]:r.length?Mr(r.flatMap(n=>{var a=Ee(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!Be(s)||!Be(o)))return[t-s,t+o]})):[]}var st=e=>{var t=it(e),r=ka(e);return $i(e,t,r)},zi=Q([st],e=>e==null?void 0:e.dataKey),IR=Q([r2,Pf,st],Qb),i2=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,u]=o,f=n?[...u].reverse():u,c=f.map(Bf);return[l,{stackedData:x5(e,c,r),graphicalItems:f}]}))},qu=Q([IR,r2,Li,Gb],i2),s2=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=_5(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},CR=Q([Fe],e=>e.allowDataOverflow),Vf=e=>{var t;if(e==null||!("domain"in e))return Hu;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mr(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Hu},Wf=Q([Fe],Vf),Kf=Q([Wf,CR],Pb),MR=Q([qu,qr,Re,Kf],s2,{memoizeOptions:{resultEqualityCheck:Rl}}),Fl=e=>e.errorBars,DR=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>a2(r,n)),_o=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},Yf=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var f,c,d=(f=n[u.id])===null||f===void 0?void 0:f.filter(y=>a2(a,y)),h=Ee(l,(c=t.dataKey)!==null&&c!==void 0?c:u.dataKey),m=kR(l,h,d);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(s==null||p<s)&&(s=p),(o==null||g>o)&&(o=g)}var v=Yp(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=Yp(Ee(l,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Be(s)&&Be(o))return[s,o]},RR=Q([qf,Fe,PR,Fl,Re],Yf,{memoizeOptions:{resultEqualityCheck:Rl}});function LR(e){var{value:t}=e;if(vr(t)||t instanceof Date)return t}var BR=(e,t,r)=>{var n=e.map(LR).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sx(n))?K1(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},o2=e=>e.referenceElements.dots,Ia=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$R=Q([o2,Re,Bi],Ia),l2=e=>e.referenceElements.areas,FR=Q([l2,Re,Bi],Ia),c2=e=>e.referenceElements.lines,zR=Q([c2,Re,Bi],Ia),u2=(e,t)=>{if(e!=null){var r=Mr(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},UR=Q($R,Re,u2),d2=(e,t)=>{if(e!=null){var r=Mr(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},HR=Q([FR,Re],d2);function qR(e){var t;if(e.x!=null)return Mr([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mr(r)}function GR(e){var t;if(e.y!=null)return Mr([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mr(r)}var f2=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?qR(n):GR(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},VR=Q([zR,Re],f2),WR=Q(UR,VR,HR,(e,t,r)=>_o(e,r,t)),Xf=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?_o(n,s,a):_o(s,a);return aR(t,f,e.allowDataOverflow)},KR=Q([Fe,Wf,Kf,MR,RR,WR,be,Re],Xf,{memoizeOptions:{resultEqualityCheck:Rl}}),YR=[0,1],Zf=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=un(t,s);if(f&&l==null){var c;return K1(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return u==="category"?BR(n,e,f):a==="expand"?YR:o}},Qf=Q([Fe,be,qf,$l,Li,Re,KR],Zf),h2=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(_i(s));return l in Ja?l:"point"}}},Ca=Q([Fe,be,t2,If,Re],h2);function XR(e){if(e!=null){if(e in Ja)return Ja[e]();var t="scale".concat(_i(e));if(t in Ja)return Ja[t]()}}function Jf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=XR(t);if(a!=null){var s=a.domain(r).range(n);return m5(s),s}}}var eh=(e,t,r)=>{var n=Vf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&an(e))return hR(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&an(e))return mR(e,t.tickCount,t.allowDecimals)}},th=Q([Qf,$i,Ca],eh),rh=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&an(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},ZR=Q([Fe,Qf,th,Re],rh),QR=Q($l,Fe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mr(e.map(d=>d.value))).sort((d,h)=>d-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],f=n[l+1];if(!(u==null||f==null)){var c=f-u;r=Math.min(r,c)}}return r/o}}),m2=Q(QR,be,qb,nt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Be(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=xt(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),JR=(e,t,r)=>{var n=Gr(e,t);return n==null||typeof n.padding!="string"?0:m2(e,"xAxis",t,r,n.padding)},eL=(e,t,r)=>{var n=Vr(e,t);return n==null||typeof n.padding!="string"?0:m2(e,"yAxis",t,r,n.padding)},tL=Q(Gr,JR,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rL=Q(Vr,eL,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nL=Q([nt,tL,xl,yl,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),aL=Q([nt,be,rL,xl,yl,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ui=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nL(e,r,n);case"yAxis":return aL(e,r,n);case"zAxis":return(a=$f(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Yb(e);case"radiusAxis":return Xb(e,r);default:return}},p2=Q([Fe,Ui],Cl),zl=Q([Fe,Ca,ZR,p2],Jf);Q([Fi,Fl,Re],DR);function g2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ul=(e,t)=>t,Hl=(e,t,r)=>r,iL=Q(gl,Ul,Hl,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g2)),sL=Q(vl,Ul,Hl,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g2)),v2=(e,t)=>({width:e.width,height:t.height}),oL=(e,t)=>{var r=typeof t.width=="number"?t.width:Pi;return{width:r,height:e.height}},y2=Q(nt,Gr,v2),lL=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cL=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uL=Q(Ur,nt,iL,Ul,Hl,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=v2(t,l);o==null&&(o=lL(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),s}),dL=Q(zr,nt,sL,Ul,Hl,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=oL(t,l);o==null&&(o=cL(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),s}),fL=(e,t)=>{var r=Gr(e,t);if(r!=null)return uL(e,r.orientation,r.mirror)},hL=Q([nt,Gr,fL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mL=(e,t)=>{var r=Vr(e,t);if(r!=null)return dL(e,r.orientation,r.mirror)},pL=Q([nt,Vr,mL,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),x2=Q(nt,Vr,(e,t)=>{var r=typeof t.width=="number"?t.width:Pi;return{width:r,height:e.height}}),Xp=(e,t,r)=>{switch(t){case"xAxis":return y2(e,r).width;case"yAxis":return x2(e,r).height;default:return}},b2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=un(e,n),u=t.map(f=>f.value);if(o&&l&&s==="category"&&a&&sx(u))return u}},nh=Q([be,$l,Fe,Re],b2),w2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=un(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},ah=Q([be,$l,$i,Re],w2),Zp=Q([be,SR,Ca,zl,nh,ah,Ui,th,Re],(e,t,r,n,a,s,o,l,u)=>{if(t!=null){var f=un(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}}),gL=(e,t,r,n,a,s,o,l,u)=>{if(!(t==null||n==null)){var f=un(e,u),{type:c,ticks:d,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/m:0;p=u==="angleAxis"&&s!=null&&s.length>=2?ft(s[0]-s[1])*2*p:p;var g=d||a;if(g){var v=g.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:n(w)+p,value:y,offset:p}});return v.filter(y=>Be(y.coordinate))}return f&&l?l.map((y,x)=>({coordinate:n(y)+p,value:y,index:x,offset:p})).filter(y=>Be(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,x)=>({coordinate:n(y)+p,value:o?o[y]:y,index:x,offset:p}))}},j2=Q([be,$i,Ca,zl,th,Ui,nh,ah,Re],gL),vL=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=un(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ft(n[0]-n[1])*2*f:f,l&&s?s.map((c,d)=>({coordinate:r(c)+f,value:c,index:d,offset:f})):r.ticks?r.ticks(u).map(c=>({coordinate:r(c)+f,value:c,offset:f})):r.domain().map((c,d)=>({coordinate:r(c)+f,value:a?a[c]:c,index:d,offset:f}))}},sn=Q([be,$i,zl,Ui,nh,ah,Re],vL),on=Q(Fe,zl,(e,t)=>{if(!(e==null||t==null))return No(No({},e),{},{scale:t})}),yL=Q([Fe,Ca,Qf,p2],Jf);Q((e,t,r)=>$f(e,r),yL,(e,t)=>{if(!(e==null||t==null))return No(No({},e),{},{scale:t})});var xL=Q([be,gl,vl],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),N2=e=>e.options.defaultTooltipEventType,_2=e=>e.options.validateTooltipEventTypes;function E2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ih(e,t){var r=N2(e),n=_2(e);return E2(t,r,n)}function bL(e){return fe(t=>ih(t,e))}var O2=(e,t)=>{var r,n=Number(t);if(!(lr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wL=e=>e.tooltip.settings,Qr={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jL={itemInteraction:{click:Qr,hover:Qr},axisInteraction:{click:Qr,hover:Qr},keyboardInteraction:Qr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S2=At({name:"tooltip",initialState:jL,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ke()},removeTooltipEntrySettings:{reducer(e,t){var r=or(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:NL,replaceTooltipEntrySettings:_L,removeTooltipEntrySettings:EL,setTooltipSettingsState:OL,setActiveMouseOverItemIndex:T2,mouseLeaveItem:SL,mouseLeaveChart:P2,setActiveClickItemIndex:TL,setMouseOverAxisIndex:A2,setMouseClickAxisIndex:PL,setSyncInteraction:Gu,setKeyboardInteraction:Vu}=S2.actions,AL=S2.reducer;function Qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qp(Object(r),!0).forEach(function(n){kL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kL(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ML(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DL(e){return e.index!=null}var k2=(e,t,r,n)=>{if(t==null)return Qr;var a=ML(e,t,r);if(a==null)return Qr;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(DL(a)){if(s)return vs(vs({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vs(vs({},Qr),{},{coordinate:a.coordinate})};function RL(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function LL(e,t){var r=RL(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function BL(e,t,r){if(r==null||t==null)return!0;var n=Ee(e,t);return n==null||!an(r)?!0:LL(n,r)}var sh=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Be(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(s,l)),f=t[u];return f==null||BL(f,r,n)?String(u):null},I2=(e,t,r,n,a,s,o,l)=>{if(!(s==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,s);if(f!=null)return f;var c=a==null?void 0:a[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},C2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Hi=e=>e.options.tooltipPayloadSearcher,Ma=e=>e.tooltip;function Jp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jp(Object(r),!0).forEach(function(n){$L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $L(e,t,r){return(t=FL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=zL(e,"string");return typeof t=="symbol"?t:t+""}function zL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UL(e,t){return e??t}var M2=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:c}=r,d=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,y=UL(g,l),x=Array.isArray(y)?c1(y,f,c):y,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,b=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=ox(x,n,a):j=s(x,t,u,b),Array.isArray(j))j.forEach(E=>{var T=eg(eg({},v),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(h0({tooltipEntrySettings:T,dataKey:E.dataKey,payload:E.payload,value:Ee(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(h0({tooltipEntrySettings:v,dataKey:w,payload:j,value:Ee(j,w),name:(S=Ee(j,b))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},d)}},oh=Q([st,be,t2,If,it],h2),HL=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qL=Q([it,ka],Ff),Da=Q([HL,st,qL],zf,{memoizeOptions:{resultEqualityCheck:Ll}}),GL=Q([Da],e=>e.filter(Dl)),VL=Q([Da],Uf,{memoizeOptions:{resultEqualityCheck:Ll}}),Ra=Q([VL,qr],Hf),WL=Q([GL,qr,st],Qb),lh=Q([Ra,st,Da],Gf),D2=Q([st],Vf),KL=Q([st],e=>e.allowDataOverflow),R2=Q([D2,KL],Pb),YL=Q([Da],e=>e.filter(Dl)),XL=Q([WL,YL,Li,Gb],i2),ZL=Q([XL,qr,it,R2],s2),QL=Q([Da],n2),JL=Q([Ra,st,QL,Fl,it],Yf,{memoizeOptions:{resultEqualityCheck:Rl}}),e6=Q([o2,it,ka],Ia),t6=Q([e6,it],u2),r6=Q([l2,it,ka],Ia),n6=Q([r6,it],d2),a6=Q([c2,it,ka],Ia),i6=Q([a6,it],f2),s6=Q([t6,i6,n6],_o),o6=Q([st,D2,R2,ZL,JL,s6,be,it],Xf),qi=Q([st,be,Ra,lh,Li,it,o6],Zf),l6=Q([qi,st,oh],eh),c6=Q([st,qi,l6,it],rh),L2=e=>{var t=it(e),r=ka(e),n=!1;return Ui(e,t,r,n)},B2=Q([st,L2],Cl),$2=Q([st,oh,c6,B2],Jf),u6=Q([be,lh,st,it],b2),d6=Q([be,lh,st,it],w2),f6=(e,t,r,n,a,s,o,l)=>{if(t){var{type:u}=t,f=un(e,l);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=u==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ft(a[0]-a[1])*2*d:d,f&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:s?s[h]:h,index:m,offset:d}))}}},Wr=Q([be,st,oh,$2,L2,u6,d6,it],f6),ch=Q([N2,_2,wL],(e,t,r)=>E2(r.shared,e,t)),F2=e=>e.tooltip.settings.trigger,uh=e=>e.tooltip.settings.defaultIndex,Gi=Q([Ma,ch,F2,uh],k2),ln=Q([Gi,Ra,zi,qi],sh),z2=Q([Wr,ln],O2),dh=Q([Gi],e=>{if(e)return e.dataKey}),h6=Q([Gi],e=>{if(e)return e.graphicalItemId}),U2=Q([Ma,ch,F2,uh],C2),m6=Q([zr,Ur,be,nt,Wr,uh,U2,Hi],I2),p6=Q([Gi,m6],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),g6=Q([Gi],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),v6=Q([U2,ln,qr,zi,z2,Hi,ch],M2),y6=Q([v6],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(n){x6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6(e,t,r){return(t=b6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=w6(e,"string");return typeof t=="symbol"?t:t+""}function w6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j6=()=>fe(st),N6=()=>{var e=j6(),t=fe(Wr),r=fe($2);return la(!e||!r?void 0:rg(rg({},e),{},{scale:r}),t)};function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){_6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _6(e,t,r){return(t=E6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E6(e){var t=O6(e,"string");return typeof t=="symbol"?t:t+""}function O6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S6=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},T6=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return Xn(Xn(Xn({},n),Xe(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:u}=n;return Xn(Xn(Xn({},n),Xe(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function P6(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var H2=(e,t,r,n,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,f,c,d,h,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(f=r[o-1])===null||f===void 0?void 0:f.coordinate,p=(c=r[l])===null||c===void 0?void 0:c.coordinate,g=l>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(m==null||p==null||g==null))if(ft(p-m)!==ft(g-p)){var y=[];if(ft(g-p)===ft(a[1]-a[0])){v=g;var x=p+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{v=m;var w=g+a[1]-a[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var b=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,g),E=Math.max(m,g);if(e>(S+p)/2&&e<=(E+p)/2){var T;return(T=r[l])===null||T===void 0?void 0:T.index}}}else if(t)for(var O=0;O<o;O++){var A=t[O];if(A!=null){var _=t[O+1],P=t[O-1];if(O===0&&_!=null&&e<=(A.coordinate+_.coordinate)/2||O===o-1&&P!=null&&e>(A.coordinate+P.coordinate)/2||O>0&&O<o-1&&P!=null&&_!=null&&e>(A.coordinate+P.coordinate)/2&&e<=(A.coordinate+_.coordinate)/2)return A.index}}return-1},A6=()=>fe(If),fh=(e,t)=>t,q2=(e,t,r)=>r,hh=(e,t,r,n)=>n,k6=Q(Wr,e=>ol(e,t=>t.coordinate)),mh=Q([Ma,fh,q2,hh],k2),ph=Q([mh,Ra,zi,qi],sh),I6=(e,t,r)=>{if(t!=null){var n=Ma(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},G2=Q([Ma,fh,q2,hh],C2),Eo=Q([zr,Ur,be,nt,Wr,hh,G2,Hi],I2),C6=Q([mh,Eo],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),V2=Q([Wr,ph],O2),M6=Q([G2,ph,qr,zi,V2,Hi,fh],M2),D6=Q([mh,ph],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),R6=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&P6(e,o)){var l=E5(e,t),u=H2(l,s,a,r,n),f=S6(t,a,u,e);return{activeIndex:String(u),activeCoordinate:f}}},L6=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=N4(e,r);if(l){var u=O5(l,t),f=H2(u,o,s,n,a),c=T6(t,s,f,l);return{activeIndex:String(f),activeCoordinate:c}}}},B6=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?R6(e,t,n,a,s,o,l):L6(e,t,r,n,a,s,o)},$6=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),F6=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ze)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:jR}});function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(n){z6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z6(e,t,r){return(t=U6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6(e){var t=H6(e,"string");return typeof t=="symbol"?t:t+""}function H6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6={},G6={zIndexMap:Object.values(Ze).reduce((e,t)=>ig(ig({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),q6)},V6=new Set(Object.values(Ze));function W6(e){return V6.has(e)}var W2=At({name:"zIndex",initialState:G6,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!W6(r)&&delete e.zIndexMap[r])},prepare:ke()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:ke()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ke()}}}),{registerZIndexPortal:K6,unregisterZIndexPortal:Y6,registerZIndexPortalElement:X6,unregisterZIndexPortalElement:Z6}=W2.actions,Q6=W2.reducer;function kt(e){var{zIndex:t,children:r}=e,n=Q5(),a=n&&t!==void 0&&t!==0,s=bt(),o=De();N.useLayoutEffect(()=>a?(o(K6({zIndex:t})),()=>{o(Y6({zIndex:t}))}):Ei,[o,t,a]);var l=fe(u=>$6(u,t,s));return a?l?xd.createPortal(r,l):null:r}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(r),!0).forEach(function(n){J6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6(e,t,r){return(t=e8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r8(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function n8(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:c}=e,d=r,h=n,m=a;if(!u||!d||c!=="ScatterChart"&&f!=="axis")return null;var p,g,v;if(c==="ScatterChart")p=d,g=L3,v=Ze.cursorLine;else if(c==="BarChart")p=B3(l,d,s,o),g=F1,v=Ze.cursorRectangle;else if(l==="radial"&&ux(d)){var{cx:y,cy:x,radius:w,startAngle:b,endAngle:j}=U1(d);p={cx:y,cy:x,startAngle:b,endAngle:j,innerRadius:w,outerRadius:w},g=q1,v=Ze.cursorLine}else p={points:S4(l,d,s)},g=af,v=Ze.cursorLine;var S=typeof u=="object"&&"className"in u?u.className:void 0,E=ys(ys(ys(ys({stroke:"#ccc",pointerEvents:"none"},s),p),Mn(u)),{},{payload:h,payloadIndex:m,className:ye("recharts-tooltip-cursor",S)});return N.createElement(kt,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},N.createElement(r8,{cursor:u,cursorComp:g,cursorProps:E}))}function a8(e){var t=N6(),r=j1(),n=Sa(),a=A6();return t==null||r==null||n==null||a==null?null:N.createElement(n8,Wu({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var K2=N.createContext(null),i8=()=>N.useContext(K2),Y2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,c){this.fn=u,this.context=f,this.once=c||!1}function s(u,f,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new a(c,d||u,h),p=r?r+f:f;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],m]:u._events[p].push(m):(u._events[p]=m,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)t.call(c,d)&&f.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,p=new Array(m);h<m;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(f){var c=r?r+f:f,d=this._events[c];return d?d.fn?1:d.length:0},l.prototype.emit=function(f,c,d,h,m,p){var g=r?r+f:f;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,m),!0;case 6:return v.fn.call(v.context,c,d,h,m,p),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var b=v.length,j;for(w=0;w<b;w++)switch(v[w].once&&this.removeListener(f,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,d);break;case 4:v[w].fn.call(v[w].context,c,d,h);break;default:if(!x)for(j=1,x=new Array(y-1);j<y;j++)x[j-1]=arguments[j];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(f,c,d){return s(this,f,c,d,!1)},l.prototype.once=function(f,c,d){return s(this,f,c,d,!0)},l.prototype.removeListener=function(f,c,d,h){var m=r?r+f:f;if(!this._events[m])return this;if(!c)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==c||h&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Y2);var s8=Y2.exports;const o8=Br(s8);var vi=new o8,Ku="recharts.syncEvent.tooltip",og="recharts.syncEvent.brush";function gh(e,t){if(t){var r=Number.parseInt(t,10);if(!lr(r))return e==null?void 0:e[r]}}var l8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},X2=At({name:"options",initialState:l8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),c8=X2.reducer,{createEventEmitter:u8}=X2.actions;function d8(e){return e.tooltip.syncInteraction}var f8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Z2=At({name:"chartData",initialState:f8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:lg,setDataStartEndIndexes:h8,setComputedData:KV}=Z2.actions,m8=Z2.reducer,p8=["x","y"];function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=v8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=y8(e,"string");return typeof t=="symbol"?t:t+""}function y8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x8(e,t){if(e==null)return{};var r,n,a=b8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function w8(){var e=fe(Cf),t=fe(Mf),r=De(),n=fe(Vb),a=fe(Wr),s=Sa(),o=bl(),l=fe(u=>u.rootProps.className);N.useEffect(()=>{if(e==null)return Ei;var u=(f,c,d)=>{if(t!==d&&e===f){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:p,y:g}=m,v=x8(m,p8),{x:y,y:x,width:w,height:b}=c.payload.sourceViewBox,j=Zn(Zn({},v),{},{x:o.x+(w?(p-y)/w:0)*o.width,y:o.y+(b?(g-x)/b:0)*o.height});r(Zn(Zn({},c),{},{payload:Zn(Zn({},c.payload),{},{coordinate:j})}))}else r(c);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=n(a,E);S=a[T]}else n==="value"&&(S=a.find(M=>String(M.value)===c.payload.label));var{coordinate:O}=c.payload;if(S==null||c.payload.active===!1||O==null||o==null){r(Gu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:_}=O,P=Math.min(A,o.x+o.width),I=Math.min(_,o.y+o.height),k={x:s==="horizontal"?S.coordinate:P,y:s==="horizontal"?I:S.coordinate},R=Gu({active:c.payload.active,coordinate:k,dataKey:c.payload.dataKey,index:String(S.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(R)}}};return vi.on(Ku,u),()=>{vi.off(Ku,u)}},[l,r,t,e,n,a,s,o])}function j8(){var e=fe(Cf),t=fe(Mf),r=De();N.useEffect(()=>{if(e==null)return Ei;var n=(a,s,o)=>{t!==o&&e===a&&r(h8(s))};return vi.on(og,n),()=>{vi.off(og,n)}},[r,t,e])}function N8(){var e=De();N.useEffect(()=>{e(u8())},[e]),w8(),j8()}function _8(e,t,r,n,a,s){var o=fe(m=>I6(m,e,t)),l=fe(Mf),u=fe(Cf),f=fe(Vb),c=fe(d8),d=c==null?void 0:c.active,h=bl();N.useEffect(()=>{if(!d&&u!=null&&l!=null){var m=Gu({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});vi.emit(Ku,u,m,l)}},[d,r,o,a,n,l,u,f,s,h])}function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(n){E8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e){return e.dataKey}function P8(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(g3,t)}var fg=[],A8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xs(e){var t,r,n=mt(e,A8),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:x,trigger:w,defaultIndex:b,portal:j,axisId:S}=n,E=De(),T=typeof b=="number"?String(b):b;N.useEffect(()=>{E(OL({shared:x,trigger:w,axisId:S,active:a,defaultIndex:T}))},[E,x,w,S,a,T]);var O=bl(),A=D1(),_=bL(x),{activeIndex:P,isActive:I}=(t=fe(q=>D6(q,_,w,T)))!==null&&t!==void 0?t:{},k=fe(q=>M6(q,_,w,T)),R=fe(q=>V2(q,_,w,T)),M=fe(q=>C6(q,_,w,T)),$=k,G=i8(),D=(r=a??I)!==null&&r!==void 0?r:!1,[z,C]=hC([$,D]),L=_==="axis"?R:void 0;_8(_,w,M,L,P,D);var U=j??G;if(U==null||O==null||_==null)return null;var K=$??fg;D||(K=fg),f&&K.length&&(K=zI(K.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,T8));var V=K.length>0,F=N.createElement(N3,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:c,active:D,coordinate:M,hasPayload:V,offset:d,position:m,reverseDirection:p,useTranslate3d:g,viewBox:O,wrapperStyle:v,lastBoundingBox:z,innerRef:C,hasPortalFromProps:!!j},P8(u,dg(dg({},n),{},{payload:K,label:L,active:D,activeIndex:P,coordinate:M,accessibilityLayer:A})));return N.createElement(N.Fragment,null,xd.createPortal(F,U),D&&N.createElement(a8,{cursor:y,tooltipEventType:_,coordinate:M,payload:K,index:P}))}var ha=e=>null;ha.displayName="Cell";function k8(e,t,r){return(t=I8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class M8{constructor(t){k8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){R8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $8={cacheSize:2e3,enableCache:!0},Q2=D8({},$8),mg=new M8(Q2.cacheSize),F8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pg="recharts_measurement_span";function z8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var gg=(e,t)=>{try{var r=document.getElementById(pg);r||(r=document.createElement("span"),r.setAttribute("id",pg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,F8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ei=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||El.isSsr)return{width:0,height:0};if(!Q2.enableCache)return gg(t,r);var n=z8(t,r),a=mg.get(n);if(a)return a;var s=gg(t,r);return mg.set(n,s),s},J2;function U8(e,t,r){return(t=H8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=q8(e,"string");return typeof t=="symbol"?t:t+""}function q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K8=["cm","mm","pt","pc","in","Q","px"];function Y8(e){return K8.includes(e)}var ea="NaN";function X8(e,t){return e*W8[t]}class gt{static parse(t){var r,[,n,a]=(r=V8.exec(t))!==null&&r!==void 0?r:[];return n==null?gt.NaN:new gt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,lr(t)&&(this.unit=""),r!==""&&!G8.test(r)&&(this.num=NaN,this.unit=""),Y8(r)&&(this.num=X8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return lr(this.num)}}J2=gt;U8(gt,"NaN",new J2(NaN,""));function ew(e){if(e==null||e.includes(ea))return ea;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=vg.exec(t))!==null&&r!==void 0?r:[],o=gt.parse(n??""),l=gt.parse(s??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return ea;t=t.replace(vg,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,c,d,h]=(f=yg.exec(t))!==null&&f!==void 0?f:[],m=gt.parse(c??""),p=gt.parse(h??""),g=d==="+"?m.add(p):m.subtract(p);if(g.isNaN())return ea;t=t.replace(yg,g.toString())}return t}var xg=/\(([^()]*)\)/;function Z8(e){for(var t=e,r;(r=xg.exec(t))!=null;){var[,n]=r;t=t.replace(xg,ew(n))}return t}function Q8(e){var t=e.replace(/\s+/g,"");return t=Z8(t),t=ew(t),t}function J8(e){try{return Q8(e)}catch{return ea}}function Cc(e){var t=J8(e.slice(5,-1));return t===ea?"":t}var e7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],t7=["dx","dy","angle","className","breakAll"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}function bg(e,t){if(e==null)return{};var r,n,a=r7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tw=/[ \f\n\r\t\v\u2028\u2029]+/,rw=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Me(t)||(r?a=t.toString().split(""):a=t.toString().split(tw));var s=a.map(l=>({word:l,width:ei(l,n).width})),o=r?0:ei("Â ",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function n7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var nw=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var f={words:[o],width:l};a.push(f)}return a},[]),aw=e=>e.reduce((t,r)=>t.width>r.width?t:r),a7="â€¦",wg=(e,t,r,n,a,s,o,l)=>{var u=e.slice(0,t),f=rw({breakAll:r,style:n,children:u+a7});if(!f)return[!1,[]];var c=nw(f.wordsWithComputedWidth,s,o,l),d=c.length>a||aw(c).width>Number(s);return[d,c]},i7=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:u}=e,f=de(s),c=String(o),d=nw(t,n,r,a);if(!f||a)return d;var h=d.length>s||aw(d).width>Number(n);if(!h)return d;for(var m=0,p=c.length-1,g=0,v;m<=p&&g<=c.length-1;){var y=Math.floor((m+p)/2),x=y-1,[w,b]=wg(c,x,u,l,s,n,r,a),[j]=wg(c,y,u,l,s,n,r,a);if(!w&&!j&&(m=y+1),w&&j&&(p=y-1),!w&&j){v=b;break}g++}return v||d},jg=e=>{var t=Me(e)?[]:e.toString().split(tw);return[{words:t,width:void 0}]},s7=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!El.isSsr){var l,u,f=rw({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:c,spaceWidth:d}=f;l=c,u=d}else return jg(n);return i7({breakAll:s,children:n,maxLines:o,style:a},l,u,t,!!r)}return jg(n)},iw="#808080",o7={angle:0,breakAll:!1,capHeight:"0.71em",fill:iw,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ql=N.forwardRef((e,t)=>{var r=mt(e,o7),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:c}=r,d=bg(r,e7),h=N.useMemo(()=>s7({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:u,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,u,d.style,d.width]),{dx:m,dy:p,angle:g,className:v,breakAll:y}=d,x=bg(d,t7);if(!vr(n)||!vr(a)||h.length===0)return null;var w=Number(n)+(de(m)?m:0),b=Number(a)+(de(p)?p:0);if(!Be(w)||!Be(b))return null;var j;switch(c){case"start":j=Cc("calc(".concat(o,")"));break;case"middle":j=Cc("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=Cc("calc(".concat(h.length-1," * -").concat(s,")"));break}var S=[];if(u){var E=h[0].width,{width:T}=d;S.push("scale(".concat(de(T)&&de(E)?T/E:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(w,", ").concat(b,")")),S.length&&(x.transform=S.join(" ")),N.createElement("text",Yu({},_t(x),{ref:t,x:w,y:b,className:ye("recharts-text",v),textAnchor:f,fill:l.includes("url")?iw:l}),h.map((O,A)=>{var _=O.words.join(y?"":" ");return N.createElement("tspan",{x:w,dy:A===0?j:s,key:"".concat(_,"-").concat(A)},_)}))});ql.displayName="Text";var l7=["labelRef"],c7=["content"];function Ng(e,t){if(e==null)return{};var r,n,a=u7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_r.apply(null,arguments)}var sw=N.createContext(null),m7=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,u=N.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return N.createElement(sw.Provider,{value:u},l)},ow=()=>{var e=N.useContext(sw),t=bl();return e||w1(t)},p7=N.createContext(null),g7=()=>{var e=N.useContext(p7),t=fe(Zb);return e||t},v7=e=>{var{value:t,formatter:r}=e,n=Me(e.children)?t:e.children;return typeof r=="function"?r(n):n},vh=e=>e!=null&&typeof e=="function",y7=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},x7=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=a,p=(f+c)/2,g=y7(d,h),v=g>=0?1:-1,y,x;switch(t){case"insideStart":y=d+v*s,x=m;break;case"insideEnd":y=h-v*s,x=!m;break;case"end":y=h+v*s,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Xe(l,u,p,y),b=Xe(l,u,p,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(b.x,",").concat(b.y),S=Me(e.id)?ai("recharts-radial-line-"):e.id;return N.createElement("text",_r({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:S,d:j})),N.createElement("textPath",{xlinkHref:"#".concat(S)},r))},b7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(r==="outside"){var{x:c,y:d}=Xe(n,a,o+t,f);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:p}=Xe(n,a,h,f);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Xu=e=>"cx"in e&&de(e.cx),w7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Xu(r)&&(s=r);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:c}=t,d=o,h=o+(u-f)/2,m=(d+h)/2,p=(u+f)/2,g=d+u/2,v=c>=0?1:-1,y=v*n,x=v>0?"end":"start",w=v>0?"start":"end",b=u>=0?1:-1,j=b*n,S=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var T={x:d+u/2,y:l-y,textAnchor:"middle",verticalAnchor:x};return Ge(Ge({},T),s?{height:Math.max(l-s.y,0),width:u}:{})}if(a==="bottom"){var O={x:h+f/2,y:l+c+y,textAnchor:"middle",verticalAnchor:w};return Ge(Ge({},O),s?{height:Math.max(s.y+s.height-(l+c),0),width:f}:{})}if(a==="left"){var A={x:m-j,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return Ge(Ge({},A),s?{width:Math.max(A.x-s.x,0),height:c}:{})}if(a==="right"){var _={x:m+p+j,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return Ge(Ge({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:c}:{})}var P=s?{width:p,height:c}:{};return a==="insideLeft"?Ge({x:m+j,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?Ge({x:m+p-j,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?Ge({x:d+u/2,y:l+y,textAnchor:"middle",verticalAnchor:w},P):a==="insideBottom"?Ge({x:h+f/2,y:l+c-y,textAnchor:"middle",verticalAnchor:x},P):a==="insideTopLeft"?Ge({x:d+j,y:l+y,textAnchor:E,verticalAnchor:w},P):a==="insideTopRight"?Ge({x:d+u-j,y:l+y,textAnchor:S,verticalAnchor:w},P):a==="insideBottomLeft"?Ge({x:h+j,y:l+c-y,textAnchor:E,verticalAnchor:x},P):a==="insideBottomRight"?Ge({x:h+f-j,y:l+c-y,textAnchor:S,verticalAnchor:x},P):a&&typeof a=="object"&&(de(a.x)||Pr(a.x))&&(de(a.y)||Pr(a.y))?Ge({x:o+xt(a.x,p),y:l+xt(a.y,c),textAnchor:"end",verticalAnchor:"end"},P):Ge({x:g,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},j7={angle:0,offset:5,zIndex:Ze.label,position:"middle",textBreakAll:!1};function Zr(e){var t=mt(e,j7),{viewBox:r,position:n,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:f}=t,c=g7(),d=ow(),h=n==="center"?d:c??d,m,p,g;if(r==null?m=h:Xu(r)?m=r:m=w1(r),!m||Me(a)&&Me(s)&&!N.isValidElement(o)&&typeof o!="function")return null;var v=Ge(Ge({},t),{},{viewBox:m});if(N.isValidElement(o)){var{labelRef:y}=v,x=Ng(v,l7);return N.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=v,b=Ng(v,c7);if(p=N.createElement(o,b),N.isValidElement(p))return p}else p=v7(t);var j=_t(t);if(Xu(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return x7(t,n,p,j,m);g=b7(m,t.offset,t.position)}else g=w7(t,m);return N.createElement(kt,{zIndex:t.zIndex},N.createElement(ql,_r({ref:f,className:ye("recharts-label",l)},j,g,{textAnchor:n7(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:u}),p))}Zr.displayName="Label";var N7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(Zr,_r({key:"label-implicit"},n)):vr(e)?N.createElement(Zr,_r({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===Zr?N.cloneElement(e,Ge({key:"label-implicit"},n)):N.createElement(Zr,_r({key:"label-implicit",content:e},n)):vh(e)?N.createElement(Zr,_r({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(Zr,_r({},e,{key:"label-implicit"},n)):null};function _7(e){var{label:t,labelRef:r}=e,n=ow();return N7(t,n,r)||null}var lw={},cw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(cw);var uw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(uw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cw,r=uw,n=il;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(lw);var E7=lw.last;const O7=Br(E7);var S7=["valueAccessor"],T7=["dataKey","clockWise","id","textBreakAll","zIndex"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}function Eg(e,t){if(e==null)return{};var r,n,a=P7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A7=e=>Array.isArray(e.value)?O7(e.value):e.value,dw=N.createContext(void 0),fw=dw.Provider,hw=N.createContext(void 0),k7=hw.Provider;function I7(){return N.useContext(dw)}function C7(){return N.useContext(hw)}function Rs(e){var{valueAccessor:t=A7}=e,r=Eg(e,S7),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,u=Eg(r,T7),f=I7(),c=C7(),d=f||c;return!d||!d.length?null:N.createElement(kt,{zIndex:l??Ze.label},N.createElement(ht,{className:"recharts-label-list"},d.map((h,m)=>{var p,g=Me(n)?t(h,m):Ee(h&&h.payload,n),v=Me(s)?{}:{id:"".concat(s,"-").concat(m)};return N.createElement(Zr,Oo({key:"label-".concat(m)},_t(h),u,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Rs.displayName="LabelList";function yh(e){var{label:t}=e;return t?t===!0?N.createElement(Rs,{key:"labelList-implicit"}):N.isValidElement(t)||vh(t)?N.createElement(Rs,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(Rs,Oo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}var mw=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ye("recharts-dot",a);return de(t)&&de(r)&&de(n)?N.createElement("circle",Zu({},$t(e),Md(e),{className:s,cx:t,cy:r,r:n})):null},pw=e=>e.graphicalItems.polarItems,M7=Q([Re,Bi],Ff),Gl=Q([pw,Fe,M7],zf),D7=Q([Gl],Uf),Vl=Q([D7,Il],Hf),R7=Q([Vl,Fe,Gl],Gf);Q([Vl,Fe,Gl],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,o=Ee(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ee(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Og=()=>{},L7=Q([Vl,Fe,Gl,Fl,Re],Yf),B7=Q([Fe,Wf,Kf,Og,L7,Og,be,Re],Xf),gw=Q([Fe,be,Vl,R7,Li,Re,B7],Zf),$7=Q([gw,Fe,Ca],eh);Q([Fe,gw,$7,Re],rh);var F7={radiusAxis:{},angleAxis:{}},vw=At({name:"polarAxis",initialState:F7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:YV,removeRadiusAxis:XV,addAngleAxis:ZV,removeAngleAxis:QV}=vw.actions,z7=vw.reducer;function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){U7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7=(e,t)=>t,xh=Q([pw,G7],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),V7=[],bh=(e,t,r)=>(r==null?void 0:r.length)===0?V7:r,yw=Q([Il,xh,bh],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Tg(Tg({},t.presentationProps),s.props))),a!=null)return a}}),W7=Q([yw,xh,bh],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,o=Ee(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Oa(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),K7=Q([yw,xh,bh,nt],(e,t,r,n)=>{if(!(t==null||e==null))return K9({offset:n,pieSettings:t,displayedData:e,cells:r})}),xw={exports:{}},Se={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.transitional.element"),jh=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),Xl=Symbol.for("react.consumer"),Zl=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),tc=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),Y7=Symbol.for("react.view_transition"),X7=Symbol.for("react.client.reference");function Jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wh:switch(e=e.type,e){case Wl:case Yl:case Kl:case Jl:case ec:case Y7:return e;default:switch(e=e&&e.$$typeof,e){case Zl:case Ql:case rc:case tc:return e;case Xl:return e;default:return t}}case jh:return t}}}Se.ContextConsumer=Xl;Se.ContextProvider=Zl;Se.Element=wh;Se.ForwardRef=Ql;Se.Fragment=Wl;Se.Lazy=rc;Se.Memo=tc;Se.Portal=jh;Se.Profiler=Yl;Se.StrictMode=Kl;Se.Suspense=Jl;Se.SuspenseList=ec;Se.isContextConsumer=function(e){return Jt(e)===Xl};Se.isContextProvider=function(e){return Jt(e)===Zl};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wh};Se.isForwardRef=function(e){return Jt(e)===Ql};Se.isFragment=function(e){return Jt(e)===Wl};Se.isLazy=function(e){return Jt(e)===rc};Se.isMemo=function(e){return Jt(e)===tc};Se.isPortal=function(e){return Jt(e)===jh};Se.isProfiler=function(e){return Jt(e)===Yl};Se.isStrictMode=function(e){return Jt(e)===Kl};Se.isSuspense=function(e){return Jt(e)===Jl};Se.isSuspenseList=function(e){return Jt(e)===ec};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wl||e===Yl||e===Kl||e===Jl||e===ec||typeof e=="object"&&e!==null&&(e.$$typeof===rc||e.$$typeof===tc||e.$$typeof===Zl||e.$$typeof===Xl||e.$$typeof===Ql||e.$$typeof===X7||e.getModuleId!==void 0)};Se.typeOf=Jt;xw.exports=Se;var Z7=xw.exports,Pg=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Ag=null,Mc=null,bw=e=>{if(e===Ag&&Array.isArray(Mc))return Mc;var t=[];return N.Children.forEach(e,r=>{Me(r)||(Z7.isFragment(r)?t=t.concat(bw(r.props.children)):t.push(r))}),Mc=t,Ag=e,t};function Nh(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Pg(a)):n=[Pg(t)],bw(e).forEach(a=>{var s=Rn(a,"type.displayName")||Rn(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var ww=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(jw);var Q7=jw.isPlainObject;const J7=Br(Q7);var kg,Ig,Cg,Mg,Dg;function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rg(Object(r),!0).forEach(function(n){e9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t,r){return(t=t9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(null,arguments)}function Ka(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Bg=(e,t,r,n,a)=>{var s=r-n,o;return o=Ue(kg||(kg=Ka(["M ",",",""])),e,t),o+=Ue(Ig||(Ig=Ka(["L ",",",""])),e+r,t),o+=Ue(Cg||(Cg=Ka(["L ",",",""])),e+r-s/2,t+a),o+=Ue(Mg||(Mg=Ka(["L ",",",""])),e+r-s/2-n,t+a),o+=Ue(Dg||(Dg=Ka(["L ",","," Z"])),e,t),o},n9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a9=e=>{var t=mt(e,n9),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:c,isUpdateAnimationActive:d}=t,h=N.useRef(null),[m,p]=N.useState(-1),g=N.useRef(a),v=N.useRef(s),y=N.useRef(o),x=N.useRef(r),w=N.useRef(n),b=Ii(e,"trapezoid-");if(N.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var k=h.current.getTotalLength();k&&p(k)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var j=ye("recharts-trapezoid",l);if(!d)return N.createElement("g",null,N.createElement("path",So({},_t(t),{className:j,d:Bg(r,n,a,s,o)})));var S=g.current,E=v.current,T=y.current,O=x.current,A=w.current,_="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),I=R1(["strokeDasharray"],f,u);return N.createElement(ki,{animationId:b,key:b,canBegin:m>0,duration:f,easing:u,isActive:d,begin:c},k=>{var R=Ie(S,a,k),M=Ie(E,s,k),$=Ie(T,o,k),G=Ie(O,r,k),D=Ie(A,n,k);h.current&&(g.current=R,v.current=M,y.current=$,x.current=G,w.current=D);var z=k>0?{transition:I,strokeDasharray:P}:{strokeDasharray:_};return N.createElement("path",So({},_t(t),{className:j,d:Bg(G,D,R,M,$),ref:h,style:Lg(Lg({},z),t.style)}))})},i9=["option","shapeType","activeClassName"];function s9(e,t){if(e==null)return{};var r,n,a=o9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return(t=c9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d9(e,t){return To(To({},t),e)}function f9(e,t){return e==="symbols"}function Fg(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(F1,r);case"trapezoid":return N.createElement(a9,r);case"sector":return N.createElement(q1,r);case"symbols":if(f9(t))return N.createElement(cx,r);break;case"curve":return N.createElement(af,r);default:return null}}function h9(e){return N.isValidElement(e)?e.props:e}function _h(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=s9(e,i9),s;if(N.isValidElement(t))s=N.cloneElement(t,To(To({},a),h9(t)));else if(typeof t=="function")s=t(a,a.index);else if(J7(t)&&typeof t!="boolean"){var o=d9(t,a);s=N.createElement(Fg,{shapeType:r,elementProps:o})}else{var l=a;s=N.createElement(Fg,{shapeType:r,elementProps:l})}return a.isActive?N.createElement(ht,{className:n},s):s}var Eh=(e,t,r)=>{var n=De();return(a,s)=>o=>{e==null||e(a,s,o),n(T2({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Oh=e=>{var t=De();return(r,n)=>a=>{e==null||e(r,n,a),t(SL())}},Sh=(e,t,r)=>{var n=De();return(a,s)=>o=>{e==null||e(a,s,o),n(TL({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Th(e){var{tooltipEntrySettings:t}=e,r=De(),n=bt(),a=N.useRef(null);return N.useLayoutEffect(()=>{n||(a.current===null?r(NL(t)):a.current!==t&&r(_L({prev:a.current,next:t})),a.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{a.current&&(r(EL(a.current)),a.current=null)},[r]),null}function Nw(e){var{legendPayload:t}=e,r=De(),n=bt(),a=N.useRef(null);return N.useLayoutEffect(()=>{n||(a.current===null?r(I1(t)):a.current!==t&&r(C1({prev:a.current,next:t})),a.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{a.current&&(r(M1(a.current)),a.current=null)},[r]),null}function m9(e){var{legendPayload:t}=e,r=De(),n=fe(be),a=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(I1(t)):a.current!==t&&r(C1({prev:a.current,next:t})),a.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{a.current&&(r(M1(a.current)),a.current=null)},[r]),null}var Dc,p9=()=>{var[e]=N.useState(()=>ai("uid-"));return e},g9=(Dc=sy.useId)!==null&&Dc!==void 0?Dc:p9;function v9(e,t){var r=g9();return t||(e?"".concat(e,"-").concat(r):r)}var y9=N.createContext(void 0),Ph=e=>{var{id:t,type:r,children:n}=e,a=v9("recharts-".concat(r),t);return N.createElement(y9.Provider,{value:a},n(a))},x9={cartesianItems:[],polarItems:[]},_w=At({name:"graphicalItems",initialState:x9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=or(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=or(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ke()},removePolarGraphicalItem:{reducer(e,t){var r=or(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ke()}}}),{addCartesianGraphicalItem:b9,replaceCartesianGraphicalItem:w9,removeCartesianGraphicalItem:j9,addPolarGraphicalItem:N9,removePolarGraphicalItem:_9}=_w.actions,E9=_w.reducer,O9=e=>{var t=De(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(b9(e)):r.current!==e&&t(w9({prev:r.current,next:e})),r.current=e},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(t(j9(r.current)),r.current=null)},[t]),null},Ew=N.memo(O9);function S9(e){var t=De();return N.useLayoutEffect(()=>(t(N9(e)),()=>{t(_9(e))}),[t,e]),null}var T9=["key"],P9=["onMouseEnter","onClick","onMouseLeave"],A9=["id"],k9=["id"];function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(null,arguments)}function nc(e,t){if(e==null)return{};var r,n,a=D9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R9(e){var t=N.useMemo(()=>Nh(e.children,ha),[e.children]),r=fe(n=>W7(n,e.id,t));return r==null?null:N.createElement(m9,{legendPayload:r})}var L9=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:Oa(l,t),hide:u,type:f,color:o,unit:"",graphicalItemId:c}};return N.createElement(Th,{tooltipEntrySettings:d})}),B9=(e,t)=>e>t?"start":e<t?"end":"middle",$9=(e,t,r)=>xt(typeof t=="function"?t(e):t,r,r*.8),F9=(e,t,r)=>{var{top:n,left:a,width:s,height:o}=t,l=z1(s,o),u=a+xt(e.cx,s,s/2),f=n+xt(e.cy,o,o/2),c=xt(e.innerRadius,l,0),d=$9(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:f,innerRadius:c,outerRadius:d,maxRadius:h}},z9=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function U9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var H9=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ye("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=nc(t,T9);return N.createElement(af,cn({},a,{type:"linear",className:r}))},q9=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var a=ye("recharts-pie-label-text",U9(e));return N.createElement(ql,cn({},t,{alignmentBaseline:"middle",className:a}),n)};function G9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=$t(r),u=Mn(a),f=Mn(s),c=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,d=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Xe(h.cx,h.cy,h.outerRadius+c,p),v=He(He(He(He({},l),h),{},{stroke:"none"},u),{},{index:m,textAnchor:B9(g.x,h.cx)},g),y=He(He(He(He({},l),h),{},{fill:"none",stroke:h.fill},f),{},{index:m,points:[Xe(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return N.createElement(kt,{zIndex:Ze.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},N.createElement(ht,null,s&&H9(s,y),q9(a,v,Ee(h,o))))});return N.createElement(ht,{className:"recharts-pie-labels"},d)}function V9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?N.createElement(yh,{label:a}):N.createElement(G9,{sectors:t,props:r,showLabels:n})}function W9(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:o}=e,l=fe(ln),u=fe(dh),f=fe(h6),{onMouseEnter:c,onClick:d,onMouseLeave:h}=a,m=nc(a,P9),p=Eh(c,a.dataKey,o),g=Oh(h),v=Sh(d,a.dataKey,o);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=f==null||f===o,b=String(x)===l&&(u==null||a.dataKey===u)&&w,j=l?n:null,S=r&&b?r:j,E=He(He({},y),{},{stroke:y.stroke,tabIndex:-1,[h1]:x,[m1]:o});return N.createElement(ht,cn({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},al(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),N.createElement(_h,cn({option:s??S,index:x,shapeType:"sector",isActive:b},E)))}))}function K9(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),m=z9(l,u),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(S=>Ee(S,f,0)!==0).length,y=(p>=360?v:v-1)*g,x=p-v*h-y,w=n.reduce((S,E)=>{var T=Ee(E,f,0);return S+(de(T)?T:0)},0),b;if(w>0){var j;b=n.map((S,E)=>{var T=Ee(S,f,0),O=Ee(S,c,E),A=F9(r,s,S),_=(de(T)?T:0)/w,P,I=He(He({},S),a&&a[E]&&a[E].props);E?P=j.endAngle+ft(m)*g*(T!==0?1:0):P=l;var k=P+ft(m)*((T!==0?h:0)+_*x),R=(P+k)/2,M=(A.innerRadius+A.outerRadius)/2,$=[{name:O,value:T,payload:I,dataKey:f,type:d,graphicalItemId:r.id}],G=Xe(A.cx,A.cy,M,R);return j=He(He(He(He({},r.presentationProps),{},{percent:_,cornerRadius:typeof o=="string"?parseFloat(o):o,name:O,tooltipPayload:$,midAngle:R,middleRadius:M,tooltipPosition:G},I),A),{},{value:T,dataKey:f,startAngle:P,endAngle:k,payload:I,paddingAngle:ft(m)*g}),j})}return b}function Y9(e){var{showLabels:t,sectors:r,children:n}=e,a=N.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return N.createElement(k7,{value:t?a:void 0},n)}function X9(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,m=Ii(t,"recharts-pie-"),p=r.current,[g,v]=N.useState(!1),y=N.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),x=N.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return N.createElement(Y9,{showLabels:!g,sectors:a},N.createElement(ki,{animationId:m,begin:o,duration:l,isActive:s,easing:u,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var b=[],j=a&&a[0],S=j==null?void 0:j.startAngle;return a==null||a.forEach((E,T)=>{var O=p&&p[T],A=T>0?Rn(E,"paddingAngle",0):0;if(O){var _=Ie(O.endAngle-O.startAngle,E.endAngle-E.startAngle,w),P=He(He({},E),{},{startAngle:S+A,endAngle:S+_+A});b.push(P),S=P.endAngle}else{var{endAngle:I,startAngle:k}=E,R=Ie(0,I-k,w),M=He(He({},E),{},{startAngle:S+A,endAngle:S+R+A});b.push(M),S=M.endAngle}}),r.current=b,N.createElement(ht,null,N.createElement(W9,{sectors:b,activeShape:f,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(V9,{showLabels:!g,sectors:a,props:t}),t.children)}var Z9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ze.area};function Q9(e){var{id:t}=e,r=nc(e,A9),{hide:n,className:a,rootTabIndex:s}=e,o=N.useMemo(()=>Nh(e.children,ha),[e.children]),l=fe(c=>K7(c,t,o)),u=N.useRef(null),f=ye("recharts-pie",a);return n||l==null?(u.current=null,N.createElement(ht,{tabIndex:s,className:f})):N.createElement(kt,{zIndex:e.zIndex},N.createElement(L9,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(ht,{tabIndex:s,className:f},N.createElement(X9,{props:He(He({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function Qu(e){var t=mt(e,Z9),{id:r}=t,n=nc(t,k9),a=$t(n);return N.createElement(Ph,{id:r,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(S9,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),N.createElement(R9,cn({},n,{id:s})),N.createElement(Q9,cn({},n,{id:s}))))}Qu.displayName="Pie";var J9=["points"];function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function nB(e,t){if(e==null)return{};var r,n,a=aB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iB(e){var{option:t,dotProps:r,className:n}=e;if(N.isValidElement(t))return N.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ye(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=nB(s,J9);return N.createElement(mw,Po({},l,{className:a}))}function sB(e,t){return e==null?!1:t?!0:e.length===1}function oB(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Ze.scatter}=e;if(!sB(t,r))return null;var c=ww(r),d=Mk(r),h=t.map((p,g)=>{var v,y,x=Rc(Rc(Rc({r:3},o),d),{},{index:g,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return N.createElement(iB,{key:"dot-".concat(g),option:r,dotProps:x,className:a})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(u,")")),N.createElement(kt,{zIndex:f},N.createElement(ht,Po({className:n},m),h))}function Hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(r),!0).forEach(function(n){lB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lB(e,t,r){return(t=cB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){var t=uB(e,"string");return typeof t=="symbol"?t:t+""}function uB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ow=0,dB={xAxis:{},yAxis:{},zAxis:{}},Sw=At({name:"cartesianAxis",initialState:dB,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=qg(qg({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:fB,replaceXAxis:hB,removeXAxis:mB,addYAxis:pB,replaceYAxis:gB,removeYAxis:vB,addZAxis:JV,replaceZAxis:eW,removeZAxis:tW,updateYAxisWidth:yB}=Sw.actions,xB=Sw.reducer,bB=Q([nt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wB=Q([bB,zr,Ur],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ah=()=>fe(wB),jB=()=>fe(y6);function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OB=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Lc(Lc(Lc({},l),Mn(a)),Md(a)),f;return N.isValidElement(a)?f=N.cloneElement(a,u):typeof a=="function"?f=a(u):f=N.createElement(mw,u),N.createElement(ht,{className:"recharts-active-dot",clipPath:o},f)};function SB(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=Ze.activeDot}=e,l=fe(ln),u=jB();if(t==null||u==null)return null;var f=t.find(c=>u.includes(c.payload));return Me(f)?null:N.createElement(kt,{zIndex:o},N.createElement(OB,{point:f,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Vg=(e,t,r)=>{var n=r??e;if(!Me(n))return xt(n,t,0)},TB=(e,t,r)=>{var n={},a=e.filter(Dl),s=e.filter(f=>f.stackId==null),o=a.reduce((f,c)=>(f[c.stackId]||(f[c.stackId]=[]),f[c.stackId].push(c),f),n),l=Object.entries(o).map(f=>{var[c,d]=f,h=d.map(p=>p.dataKey),m=Vg(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:m}}),u=s.map(f=>{var c=[f.dataKey].filter(h=>h!=null),d=Vg(t,r,f.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...l,...u]};function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(r),!0).forEach(function(n){PB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IB(e,t,r,n,a){var s=n.length;if(!(s<1)){var o=xt(e,r,0,!0),l,u=[];if(Be(n[0].barSize)){var f=!1,c=r/s,d=n.reduce((y,x)=>y+(x.barSize||0),0);d+=(s-1)*o,d>=r&&(d-=(s-1)*o,o=0),d>=r&&c>0&&(f=!0,c*=.9,d=s*c);var h=(r-d)/2>>0,m={offset:h-o,size:0};l=n.reduce((y,x)=>{var w,b={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:f?c:(w=x.barSize)!==null&&w!==void 0?w:0}},j=[...y,b];return m=j[j.length-1].position,j},u)}else{var p=xt(t,r,0,!0);r-2*p-(s-1)*o<=0&&(o=0);var g=(r-2*p-(s-1)*o)/s;g>1&&(g>>=0);var v=Be(a)?Math.min(g,a):g;l=n.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(g+o)*w+(g-v)/2,size:v}}],u)}return l}}var CB=(e,t,r,n,a,s,o)=>{var l=Me(o)?t:o,u=IB(r,n,a!==s?a:s,e,l);return a!==s&&u!=null&&(u=u.map(f=>bs(bs({},f),{},{position:bs(bs({},f.position),{},{offset:f.position.offset-a/2})}))),u},MB=(e,t)=>{var r=Bf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}};function DB(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Be(e.zIndex)?e.zIndex:t}var Tw=e=>{var{chartData:t}=e,r=De(),n=bt();return N.useEffect(()=>n?()=>{}:(r(lg(t)),()=>{r(lg(void 0))}),[t,r,n]),null},Kg={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pw=At({name:"brush",initialState:Kg,reducers:{setBrushSettings(e,t){return t.payload==null?Kg:t.payload}}}),{setBrushSettings:rW}=Pw.actions,RB=Pw.reducer;function LB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kh{static create(t){return new kh(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}LB(kh,"EPS",1e-4);function FB(e){return(e%180+180)%180}var zB=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FB(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},UB={dots:[],areas:[],lines:[]},Aw=At({name:"referenceElements",initialState:UB,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=or(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=or(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=or(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nW,removeDot:aW,addArea:iW,removeArea:sW,addLine:oW,removeLine:lW}=Aw.actions,HB=Aw.reducer,qB=N.createContext(void 0),GB=e=>{var{children:t}=e,[r]=N.useState("".concat(ai("recharts"),"-clip")),n=Ah();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return N.createElement(qB.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function kw(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function VB(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zB(n,r)}function WB(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function yi(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function KB(e,t){return kw(e,t+1)}function YB(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,u=0,f=1,c=o,d=function(){var p=n==null?void 0:n[u];if(p===void 0)return{v:kw(n,f)};var g=u,v,y=()=>(v===void 0&&(v=r(p,g)),v),x=p.coordinate,w=u===0||yi(e,x,y,c,l);w||(u=0,c=o,f+=1),w&&(c=x+e*(y()/2+a),u+=f)},h;f<=s.length;)if(h=d(),h)return h.v;return[]}function XB(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:u}=t,f=1;f<=o;f++){for(var c=(o-1)%f,d=l,h=!0,m=function(){var x=n[p],w=p,b,j=()=>(b===void 0&&(b=r(x,w)),b),S=x.coordinate,E=p===c||yi(e,S,j,d,u);if(!E)return h=!1,1;E&&(d=S+e*(j()/2+a))},p=c;p<o&&!m();p+=f);if(h){for(var g=[],v=c;v<o;v+=f)g.push(n[v]);return g}}return[]}function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(n){ZB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e$(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:u}=t,f=function(h){var m=s[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var v=e*(m.coordinate+e*g()/2-u);s[h]=m=vt(vt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=vt(vt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=yi(e,m.tickCoord,g,l,u);y&&(u=m.tickCoord-e*(g()/2+a),s[h]=vt(vt({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)f(c);return s}function t$(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:u,end:f}=t;if(s){var c=n[l-1],d=r(c,l-1),h=e*(c.coordinate+e*d/2-f);if(o[l-1]=c=vt(vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=yi(e,c.tickCoord,()=>d,u,f);m&&(f=c.tickCoord-e*(d/2+a),o[l-1]=vt(vt({},c),{},{isShow:!0}))}}for(var p=s?l-1:l,g=function(x){var w=o[x],b,j=()=>(b===void 0&&(b=r(w,x)),b);if(x===0){var S=e*(w.coordinate-e*j()/2-u);o[x]=w=vt(vt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=vt(vt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=yi(e,w.tickCoord,j,u,f);E&&(u=w.tickCoord+e*(j()/2+a),o[x]=vt(vt({},w),{},{isShow:!0}))}},v=0;v<p;v++)g(v);return o}function Ih(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:c,angle:d}=e;if(!a||!a.length||!n)return[];if(de(u)||El.isSsr){var h;return(h=KB(a,de(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",g=c&&p==="width"?ei(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,b)=>{var j=typeof f=="function"?f(w.value,b):w.value;return p==="width"?VB(ei(j,{fontSize:t,letterSpacing:r}),g,d):ei(j,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?ft(a[1].coordinate-a[0].coordinate):1,x=WB(s,y,p);return u==="equidistantPreserveStart"?YB(y,x,v,a,o):u==="equidistantPreserveEnd"?XB(y,x,v,a,o):(u==="preserveStart"||u==="preserveStartEnd"?m=t$(y,x,v,a,o,u==="preserveStartEnd"):m=e$(y,x,v,a,o),m.filter(w=>w.isShow))}var r$=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+s,f=o+u+l+(r?n:0);return Math.round(f)}return 0},n$=["axisLine","width","height","className","hide","ticks","axisType"];function a$(e,t){if(e==null)return{};var r,n,a=i$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zn.apply(null,arguments)}function Xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(r),!0).forEach(function(n){s$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s$(e,t,r){return(t=o$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ze.axis};function c$(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Ye(Ye(Ye({},u),$t(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!o||s==="bottom"&&o);f=Ye(Ye({},f),{},{x1:t,y1:r+c*a,x2:t+n,y2:r+c*a})}else{var d=+(s==="left"&&!o||s==="right"&&o);f=Ye(Ye({},f),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return N.createElement("line",zn({},f,{className:ye("recharts-cartesian-axis-line",Rn(l,"className"))}))}function u$(e,t,r,n,a,s,o,l,u){var f,c,d,h,m,p,g=l?-1:1,v=e.tickSize||o,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=c=e.coordinate,h=r+ +!l*a,d=h-g*v,p=d-g*u,m=y;break;case"left":d=h=e.coordinate,c=t+ +!l*n,f=c-g*v,m=f-g*u,p=y;break;case"right":d=h=e.coordinate,c=t+ +l*n,f=c+g*v,m=f+g*u,p=y;break;default:f=c=e.coordinate,h=r+ +l*a,d=h+g*v,p=d+g*u,m=y;break}return{line:{x1:f,y1:d,x2:c,y2:h},tick:{x:m,y:p}}}function d$(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function f$(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function h$(e){var{option:t,tickProps:r,value:n}=e,a,s=ye(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))a=N.cloneElement(t,Ye(Ye({},r),{},{className:s}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ye(o,t==null?void 0:t.className)),a=N.createElement(ql,zn({},r,{className:o}),n)}return a}var m$=N.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:c,mirror:d,x:h,y:m,width:p,height:g,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:b,events:j,axisType:S}=e,E=Ih(Ye(Ye({},b),{},{ticks:r}),x,w),T=d$(c,d),O=f$(c,d),A=$t(b),_=Mn(n),P={};typeof a=="object"&&(P=a);var I=Ye(Ye({},A),{},{fill:"none"},P),k=E.map($=>Ye({entry:$},u$($,h,m,p,g,c,v,d,y))),R=k.map($=>{var{entry:G,line:D}=$;return N.createElement(ht,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},a&&N.createElement("line",zn({},I,D,{className:ye("recharts-cartesian-axis-tick-line",Rn(a,"className"))})))}),M=k.map(($,G)=>{var{entry:D,tick:z}=$,C=Ye(Ye(Ye(Ye({textAnchor:T,verticalAnchor:O},A),{},{stroke:"none",fill:s},_),z),{},{index:G,payload:D,visibleTicksCount:E.length,tickFormatter:o,padding:u},f);return N.createElement(ht,zn({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},al(j,D,G)),n&&N.createElement(h$,{option:n,tickProps:C,value:"".concat(typeof o=="function"?o(D.value,G):D.value).concat(l||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},M.length>0&&N.createElement(kt,{zIndex:Ze.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},M)),R.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},R))}),p$=N.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:u}=e,f=a$(e,n$),[c,d]=N.useState(""),[h,m]=N.useState(""),p=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return r$({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=N.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),b=w.fontSize,j=w.letterSpacing;(b!==c||j!==h)&&(d(b),m(j))}}},[c,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:N.createElement(kt,{zIndex:e.zIndex},N.createElement(ht,{className:ye("recharts-cartesian-axis",s)},N.createElement(c$,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:$t(e)}),N.createElement(m$,{ref:g,axisType:u,events:f,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(m7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(_7,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ch=N.forwardRef((e,t)=>{var r=mt(e,Tr);return N.createElement(p$,zn({},r,{ref:t}))});Ch.displayName="CartesianAxis";var g$=["x1","y1","x2","y2","key"],v$=["offset"],y$=["xAxisId","yAxisId"],x$=["xAxisId","yAxisId"];function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){b$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b$(e,t,r){return(t=w$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(null,arguments)}function Ao(e,t){if(e==null)return{};var r,n,a=N$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _$=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return N.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Iw(e){var{option:t,lineItemProps:r}=e,n;if(N.isValidElement(t))n=N.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:u,key:f}=r,c=Ao(r,g$),d=(a=$t(c))!==null&&a!==void 0?a:{},{offset:h}=d,m=Ao(d,v$);n=N.createElement("line",wn({},m,{x1:s,y1:o,x2:l,y2:u,fill:"none",key:f}))}return n}function E$(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Ao(e,y$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(c),index:c});return N.createElement(Iw,{key:"line-".concat(c),option:n,lineItemProps:d})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function O$(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Ao(e,x$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(c),index:c});return N.createElement(Iw,{option:n,lineItemProps:d,key:"line-".concat(c)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function S$(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%t.length;return N.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function T$(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%r.length;return N.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var P$=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return u1(Ih(yt(yt(yt({},Tr),r),{},{ticks:d1(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},A$=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return u1(Ih(yt(yt(yt({},Tr),r),{},{ticks:d1(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},k$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ze.grid};function Ju(e){var t=N1(),r=_1(),n=j1(),a=yt(yt({},mt(e,k$)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:u,width:f,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:m}=a,p=bt(),g=fe(O=>Zp(O,"xAxis",s,p)),v=fe(O=>Zp(O,"yAxis",o,p));if(!yr(f)||!yr(c)||!de(l)||!de(u))return null;var y=a.verticalCoordinatesGenerator||P$,x=a.horizontalCoordinatesGenerator||A$,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,S=x({yAxis:v?yt(yt({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??f,height:r??c,offset:n},j?!0:d);no(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!b||!b.length)&&typeof y=="function"){var E=m&&m.length,T=y({xAxis:g?yt(yt({},g),{},{ticks:E?m:g.ticks}):void 0,width:t??f,height:r??c,offset:n},E?!0:d);no(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(b=T)}return N.createElement(kt,{zIndex:a.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(_$,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),N.createElement(S$,wn({},a,{horizontalPoints:w})),N.createElement(T$,wn({},a,{verticalPoints:b})),N.createElement(E$,wn({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),N.createElement(O$,wn({},a,{offset:n,verticalPoints:b,xAxis:g,yAxis:v}))))}Ju.displayName="CartesianGrid";var I$={},Cw=At({name:"errorBars",initialState:I$,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:cW,replaceErrorBar:uW,removeErrorBar:dW}=Cw.actions,C$=Cw.reducer,M$=["children"];function D$(e,t){if(e==null)return{};var r,n,a=R$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},B$=N.createContext(L$);function Mw(e){var{children:t}=e,r=D$(e,M$);return N.createElement(B$.Provider,{value:r},t)}function Mh(e,t){var r,n,a=fe(f=>Gr(f,e)),s=fe(f=>Vr(f,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:lt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Dw(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Ah(),{needClipX:s,needClipY:o,needClip:l}=Mh(t,r);if(!l||!a)return null;var{x:u,y:f,width:c,height:d}=a;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:s?u:u-c/2,y:o?f:f-d/2,width:s?c:c*2,height:o?d:d*2}))}var Rw=(e,t,r,n)=>on(e,"xAxis",t,n),Lw=(e,t,r,n)=>sn(e,"xAxis",t,n),Bw=(e,t,r,n)=>on(e,"yAxis",r,n),$w=(e,t,r,n)=>sn(e,"yAxis",r,n),$$=Q([be,Rw,Bw,Lw,$w],(e,t,r,n,a)=>un(e,"xAxis")?la(t,n,!1):la(r,a,!1)),F$=(e,t,r,n,a)=>a;function z$(e){return e.type==="line"}var U$=Q([Bl,F$],(e,t)=>e.filter(z$).find(r=>r.id===t)),H$=Q([be,Rw,Bw,Lw,$w,U$,$$,Pf],(e,t,r,n,a,s,o,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:c}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=u==null?void 0:u.slice(f,c+1),m!=null)return fF({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:o,displayedData:m})}});function q$(e){var t=Mn(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var G$=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function V$(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ac(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(G$.has(n)){if(e[n]==null&&t[n]==null)continue;if(!uN(e[n],t[n]))return!1}else if(!V$(e[n],t[n]))return!1;return!0}var W$=["id"],K$=["type","layout","connectNulls","needClip","shape"],Y$=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){X$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X$(e,t,r){return(t=Z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(e,t){if(e==null)return{};var r,n,a=J$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function J$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eF=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Oa(r,t),payload:e}]},tF=N.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Oa(o,t),hide:l,type:f,color:n,unit:u,graphicalItemId:c}};return N.createElement(Th,{tooltipEntrySettings:d})}),Fw=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rF(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var nF=(e,t,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return Fw(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>s){l=[...r.slice(0,u),s-f];break}var c=l.length%2===0?[0,o]:[o];return[...rF(r,a),...l,...c].map(d=>"".concat(d,"px")).join(", ")};function aF(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,u=Dh(n,W$),f=$t(u);return N.createElement(oB,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:o,clipPathId:t})}function iF(e){var{showLabels:t,children:r,points:n}=e,a=N.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return mr(mr({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return N.createElement(fw,{value:t?a:void 0},r)}function Jg(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:u,needClip:f,shape:c}=s,d=Dh(s,K$),h=mr(mr({},_t(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??s.strokeDasharray});return N.createElement(N.Fragment,null,(n==null?void 0:n.length)>1&&N.createElement(_h,xi({shapeType:"curve",option:c},h,{pathRef:r})),N.createElement(aF,{points:n,clipPathId:t,props:s}))}function sF(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function oF(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:c,animationEasing:d,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=Ii(o,"recharts-line-"),w=N.useRef(x),[b,j]=N.useState(!1),S=!b,E=N.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),T=N.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),O=sF(n.current),A=N.useRef(0);w.current!==x&&(A.current=s.current,w.current=x);var _=A.current;return N.createElement(iF,{points:o,showLabels:S},r.children,N.createElement(ki,{animationId:x,begin:f,duration:c,isActive:u,easing:d,onAnimationEnd:E,onAnimationStart:T,key:x},P=>{var I=Ie(_,O+_,P),k=Math.min(I,O),R;if(u)if(l){var M="".concat(l).split(/[,\s]+/gim).map(D=>parseFloat(D));R=nF(k,O,M)}else R=Fw(O,k);else R=l==null?void 0:String(l);if(P>0&&O>0&&(a.current=o,s.current=Math.max(s.current,k)),y){var $=y.length/o.length,G=P===1?o:o.map((D,z)=>{var C=Math.floor(z*$);if(y[C]){var L=y[C];return mr(mr({},D),{},{x:Ie(L.x,D.x,P),y:Ie(L.y,D.y,P)})}return h?mr(mr({},D),{},{x:Ie(m*2,D.x,P),y:Ie(p/2,D.y,P)}):mr(mr({},D),{},{x:D.x,y:D.y})});return a.current=G,N.createElement(Jg,{props:r,points:G,clipPathId:t,pathRef:n,strokeDasharray:R})}return N.createElement(Jg,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:R})}),N.createElement(yh,{label:r.label}))}function lF(e){var{clipPathId:t,props:r}=e,n=N.useRef(null),a=N.useRef(0),s=N.useRef(null);return N.createElement(oF,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var cF=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ee(e.payload,t)}};class uF extends N.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:f,height:c,id:d,needClip:h,zIndex:m}=this.props;if(t)return null;var p=ye("recharts-line",a),g=d,{r:v,strokeWidth:y}=q$(r),x=ww(r),w=v*2+y,b=h?"url(#clipPath-".concat(x?"":"dots-").concat(g,")"):void 0;return N.createElement(kt,{zIndex:m},N.createElement(ht,{className:p},h&&N.createElement("defs",null,N.createElement(Dw,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&N.createElement("clipPath",{id:"clipPath-dots-".concat(g)},N.createElement("rect",{x:u-w/2,y:l-w/2,width:f+w,height:c+w}))),N.createElement(Mw,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:cF,errorBarOffset:0},N.createElement(lF,{props:this.props,clipPathId:g}))),N.createElement(SB,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var zw={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ze.line,type:"linear"};function dF(e){var t=mt(e,zw),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:u,hide:f,isAnimationActive:c,label:d,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=Dh(t,Y$),{needClip:y}=Mh(m,p),x=Ah(),w=Sa(),b=bt(),j=fe(A=>H$(A,m,p,b,g));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:S,width:E,x:T,y:O}=x;return N.createElement(uF,xi({},v,{id:g,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:c,hide:f,label:d,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:w,height:S,width:E,left:T,top:O,needClip:y}))}function fF(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((f,c)=>{var d=Ee(f,o);if(t==="horizontal"){var h=c0({axis:r,ticks:a,bandSize:l,entry:f,index:c}),m=Me(d)?null:n.scale(d);return{x:h,y:m,value:d,payload:f}}var p=Me(d)?null:r.scale(d),g=c0({axis:n,ticks:s,bandSize:l,entry:f,index:c});return p==null||g==null?null:{x:p,y:g,value:d,payload:f}}).filter(Boolean)}function hF(e){var t=mt(e,zw),r=bt();return N.createElement(Ph,{id:t.id,type:"line"},n=>N.createElement(N.Fragment,null,N.createElement(Nw,{legendPayload:eF(t)}),N.createElement(tF,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),N.createElement(Ew,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),N.createElement(dF,xi({},t,{id:n}))))}var Uw=N.memo(hF,ac);Uw.displayName="Line";function Gn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Ow}function Vn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Ow}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(null,arguments)}function ko(e){return N.createElement(_h,ed({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var mF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Me(n);return s?t(n,a):(s||dN(),r)}},pF=(e,t,r)=>r,gF=(e,t)=>t,Vi=Q([Bl,gF],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),vF=Q([Vi],e=>e==null?void 0:e.maxBarSize),yF=(e,t,r,n)=>n,xF=Q([be,Bl,Gn,Vn,pF],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),bF=(e,t,r)=>{var n=be(e),a=Gn(e,t),s=Vn(e,t);if(!(a==null||s==null))return n==="horizontal"?qu(e,"yAxis",s,r):qu(e,"xAxis",a,r)},wF=(e,t)=>{var r=be(e),n=Gn(e,t),a=Vn(e,t);if(!(n==null||a==null))return r==="horizontal"?Xp(e,"xAxis",n):Xp(e,"yAxis",a)},jF=Q([xF,gR,wF],TB),NF=(e,t,r)=>{var n,a,s=Vi(e,t);if(s!=null){var o=Gn(e,t),l=Vn(e,t);if(!(o==null||l==null)){var u=be(e),f=Hb(e),{maxBarSize:c}=s,d=Me(c)?f:c,h,m;return u==="horizontal"?(h=on(e,"xAxis",o,r),m=sn(e,"xAxis",o,r)):(h=on(e,"yAxis",l,r),m=sn(e,"yAxis",l,r)),(n=(a=la(h,m,!0))!==null&&a!==void 0?a:d)!==null&&n!==void 0?n:0}}},Hw=(e,t,r)=>{var n=be(e),a=Gn(e,t),s=Vn(e,t);if(!(a==null||s==null)){var o,l;return n==="horizontal"?(o=on(e,"xAxis",a,r),l=sn(e,"xAxis",a,r)):(o=on(e,"yAxis",s,r),l=sn(e,"yAxis",s,r)),la(o,l)}},_F=Q([jF,Hb,pR,qb,NF,Hw,vF],CB),EF=(e,t,r)=>{var n=Gn(e,t);if(n!=null)return on(e,"xAxis",n,r)},OF=(e,t,r)=>{var n=Vn(e,t);if(n!=null)return on(e,"yAxis",n,r)},SF=(e,t,r)=>{var n=Gn(e,t);if(n!=null)return sn(e,"xAxis",n,r)},TF=(e,t,r)=>{var n=Vn(e,t);if(n!=null)return sn(e,"yAxis",n,r)},PF=Q([_F,Vi],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),AF=Q([bF,Vi],MB),kF=Q([nt,ef,EF,OF,SF,TF,PF,be,nR,Hw,AF,Vi,yF],(e,t,r,n,a,s,o,l,u,f,c,d,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=u;if(!(d==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||f==null)){var{data:v}=d,y;if(v!=null&&v.length>0?y=v:y=m==null?void 0:m.slice(p,g+1),y!=null)return sz({layout:l,barSettings:d,pos:o,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:c,displayedData:y,offset:e,cells:h,dataStartIndex:p})}}),IF=["index"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(null,arguments)}function CF(e,t){if(e==null)return{};var r,n,a=MF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qw=N.createContext(void 0),DF=e=>{var t=N.useContext(qw);if(t!=null)return t.stackId;if(e!=null)return b5(e)},RF=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),LF=e=>{var t=N.useContext(qw);if(t!=null){var{stackId:r}=t;return"url(#".concat(RF(r,e),")")}},BF=e=>{var{index:t}=e,r=CF(e,IF),n=LF(t);return N.createElement(ht,td({className:"recharts-bar-stack-layer",clipPath:n},r))},$F=["onMouseEnter","onMouseLeave","onClick"],FF=["value","background","tooltipPosition"],zF=["id"],UF=["onMouseEnter","onClick","onMouseLeave"];function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dr.apply(null,arguments)}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return(t=qF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=GF(e,"string");return typeof t=="symbol"?t:t+""}function GF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(e,t){if(e==null)return{};var r,n,a=VF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WF=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Oa(r,t),payload:e}]},KF=N.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:f}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Oa(s,t),hide:o,type:u,color:a,unit:l,graphicalItemId:f}};return N.createElement(Th,{tooltipEntrySettings:c})});function YF(e){var t=fe(ln),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=s,f=Io(s,$F),c=Eh(o,n,s.id),d=Oh(l),h=Sh(u,n,s.id);if(!a||r==null)return null;var m=Mn(a);return N.createElement(kt,{zIndex:DB(a,Ze.barBackground)},r.map((p,g)=>{var{value:v,background:y,tooltipPosition:x}=p,w=Io(p,FF);if(!y)return null;var b=c(p,g),j=d(p,g),S=h(p,g),E=jt(jt(jt(jt(jt({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),m),al(f,p,g)),{},{onMouseEnter:b,onMouseLeave:j,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return N.createElement(ko,Dr({key:"background-bar-".concat(g)},E))}))}function XF(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return jt(jt({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return N.createElement(fw,{value:t?a:void 0},r)}function ZF(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=fe(ln),u=fe(dh),f=r&&String(s)===l&&(u==null||o===u),c=f?r:t;return f?N.createElement(kt,{zIndex:Ze.activeBar},N.createElement(ko,Dr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))):N.createElement(ko,Dr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))}function QF(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return N.createElement(ko,Dr({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function JF(e){var t,{data:r,props:n}=e,a=(t=$t(n))!==null&&t!==void 0?t:{},{id:s}=a,o=Io(a,zF),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,m=Io(n,UF),p=Eh(c,u,s),g=Oh(h),v=Sh(d,u,s);return r?N.createElement(N.Fragment,null,r.map((y,x)=>N.createElement(BF,Dr({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},al(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),f?N.createElement(ZF,{shape:l,activeBar:f,baseProps:o,entry:y,index:x,dataKey:u}):N.createElement(QF,{shape:l,baseProps:o,entry:y,index:x,dataKey:u})))):null}function ez(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:c}=t,d=r.current,h=Ii(t,"recharts-bar-"),[m,p]=N.useState(!1),g=!m,v=N.useCallback(()=>{typeof f=="function"&&f(),p(!1)},[f]),y=N.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return N.createElement(XF,{showLabels:g,rects:n},N.createElement(ki,{animationId:h,begin:o,duration:l,isActive:s,easing:u,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((b,j)=>{var S=d&&d[j];if(S)return jt(jt({},b),{},{x:Ie(S.x,b.x,x),y:Ie(S.y,b.y,x),width:Ie(S.width,b.width,x),height:Ie(S.height,b.height,x)});if(a==="horizontal"){var E=Ie(0,b.height,x),T=Ie(b.stackedBarStart,b.y,x);return jt(jt({},b),{},{y:T,height:E})}var O=Ie(0,b.width,x),A=Ie(b.stackedBarStart,b.x,x);return jt(jt({},b),{},{width:O,x:A})});return x>0&&(r.current=w??null),w==null?null:N.createElement(ht,null,N.createElement(JF,{props:t,data:w}))}),N.createElement(yh,{label:t.label}),t.children)}function tz(e){var t=N.useRef(null);return N.createElement(ez,{previousRectanglesRef:t,props:e})}var Gw=0,rz=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ee(e,t)}};class nz extends N.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:u,id:f}=this.props;if(t||r==null)return null;var c=ye("recharts-bar",a),d=f;return N.createElement(ht,{className:c,id:f},l&&N.createElement("defs",null,N.createElement(Dw,{clipPathId:d,xAxisId:s,yAxisId:o})),N.createElement(ht,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(d,")"):void 0},N.createElement(YF,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),N.createElement(tz,this.props)))}}var az={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Gw,xAxisId:0,yAxisId:0,zIndex:Ze.bar};function iz(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c}=e,{needClip:d}=Mh(t,r),h=Sa(),m=bt(),p=Nh(e.children,ha),g=fe(x=>kF(x,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,N.createElement(Mw,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:rz,errorBarOffset:v},N.createElement(nz,Dr({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c})))}function sz(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:p,dataStartIndex:g}=e,v=t==="horizontal"?l:o,y=c?v.scale.domain():null,x=w5({numericAxis:v}),w=v.scale(x);return d.map((b,j)=>{var S,E,T,O,A,_;if(c){var P=c[j+g];if(P==null)return null;S=p5(P,y)}else S=Ee(b,r),Array.isArray(S)||(S=[x,S]);var I=mF(n,Gw)(S[1],j);if(t==="horizontal"){var k,[R,M]=[l.scale(S[0]),l.scale(S[1])];E=u0({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:b,index:j}),T=(k=M??R)!==null&&k!==void 0?k:void 0,O=a.size;var $=R-M;if(A=lr($)?0:$,_={x:E,y:h.top,width:O,height:h.height},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var G=ft(A||I)*(Math.abs(I)-Math.abs(A));T-=G,A+=G}}else{var[D,z]=[o.scale(S[0]),o.scale(S[1])];if(E=D,T=u0({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:b,index:j}),O=z-D,A=a.size,_={x:h.left,y:T,width:h.width,height:A},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var C=ft(O||I)*(Math.abs(I)-Math.abs(O));O+=C}}if(E==null||T==null||O==null||A==null)return null;var L=jt(jt({},b),{},{stackedBarStart:w,x:E,y:T,width:O,height:A,value:c?S:S[1],payload:b,background:_,tooltipPosition:{x:E+O/2,y:T+A/2},parentViewBox:p},m&&m[j]&&m[j].props);return L}).filter(Boolean)}function oz(e){var t=mt(e,az),r=DF(t.stackId),n=bt();return N.createElement(Ph,{id:t.id,type:"bar"},a=>N.createElement(N.Fragment,null,N.createElement(Nw,{legendPayload:WF(t)}),N.createElement(KF,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),N.createElement(Ew,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),N.createElement(kt,{zIndex:t.zIndex},N.createElement(iz,Dr({},t,{id:a})))))}var Vw=N.memo(oz,ac);Vw.displayName="Bar";var lz=["domain","range"],cz=["domain","range"];function tv(e,t){if(e==null)return{};var r,n,a=uz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rv(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Ww(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=tv(e,lz),{domain:s,range:o}=t,l=tv(t,cz);return!rv(r,s)||!rv(n,o)?!1:ac(a,l)}var dz=["dangerouslySetInnerHTML","ticks","scale"],fz=["id","scale"];function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}function nv(e,t){if(e==null)return{};var r,n,a=hz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mz(e){var t=De(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(fB(e)):r.current!==e&&t(hB({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(mB(r.current)),r.current=null)},[t]),null}var pz=e=>{var{xAxisId:t,className:r}=e,n=fe(ef),a=bt(),s="xAxis",o=fe(y=>j2(y,s,t,a)),l=fe(y=>y2(y,t)),u=fe(y=>hL(y,t)),f=fe(y=>Jb(y,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=nv(e,dz),{id:p,scale:g}=f,v=nv(f,fz);return N.createElement(Ch,rd({},m,v,{x:u.x,y:u.y,width:l.width,height:l.height,className:ye("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},gz={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:Tr.axisLine,height:ot.height,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:Tr.tickLine,tickSize:Tr.tickSize,type:ot.type,xAxisId:0},vz=e=>{var t=mt(e,gz);return N.createElement(N.Fragment,null,N.createElement(mz,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(pz,t))},nd=N.memo(vz,Ww);nd.displayName="XAxis";var yz=["dangerouslySetInnerHTML","ticks","scale"],xz=["id","scale"];function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(null,arguments)}function av(e,t){if(e==null)return{};var r,n,a=bz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wz(e){var t=De(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(pB(e)):r.current!==e&&t(gB({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(vB(r.current)),r.current=null)},[t]),null}var jz=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=N.useRef(null),o=N.useRef(null),l=fe(ef),u=bt(),f=De(),c="yAxis",d=fe(S=>x2(S,t)),h=fe(S=>pL(S,t)),m=fe(S=>j2(S,c,t,u)),p=fe(S=>e2(S,t));if(N.useLayoutEffect(()=>{if(!(n!=="auto"||!d||vh(a)||N.isValidElement(a)||p==null)){var S=s.current;if(S){var E=S.getCalculatedWidth();Math.round(d.width)!==Math.round(E)&&f(yB({id:t,width:E}))}}},[m,d,f,a,t,n,p]),d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v,scale:y}=e,x=av(e,yz),{id:w,scale:b}=p,j=av(p,xz);return N.createElement(Ch,ad({},x,j,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:ye("recharts-".concat(c," ").concat(c),r),viewBox:l,ticks:m,axisType:c}))},Nz={allowDataOverflow:lt.allowDataOverflow,allowDecimals:lt.allowDecimals,allowDuplicatedCategory:lt.allowDuplicatedCategory,angle:lt.angle,axisLine:Tr.axisLine,hide:!1,includeHidden:lt.includeHidden,interval:lt.interval,minTickGap:lt.minTickGap,mirror:lt.mirror,orientation:lt.orientation,padding:lt.padding,reversed:lt.reversed,scale:lt.scale,tick:lt.tick,tickCount:lt.tickCount,tickLine:Tr.tickLine,tickSize:Tr.tickSize,type:lt.type,width:lt.width,yAxisId:0},_z=e=>{var t=mt(e,Nz);return N.createElement(N.Fragment,null,N.createElement(wz,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(jz,t))},id=N.memo(_z,Ww);id.displayName="YAxis";var Ez=(e,t)=>t,Rh=Q([Ez,be,Zb,it,B2,Wr,k6,nt],B6),Lh=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Kw=Yt("mouseClick"),Yw=Ti();Yw.startListening({actionCreator:Kw,effect:(e,t)=>{var r=e.payload,n=Rh(t.getState(),Lh(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(PL({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sd=Yt("mouseMove"),Xw=Ti(),ws=null;Xw.startListening({actionCreator:sd,effect:(e,t)=>{var r=e.payload;ws!==null&&cancelAnimationFrame(ws);var n=Lh(r);ws=requestAnimationFrame(()=>{var a=t.getState(),s=ih(a,a.tooltip.settings.shared);if(s==="axis"){var o=Rh(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(A2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(P2())}ws=null})}});function Oz(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var iv={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Zw=At({name:"rootProps",initialState:iv,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:iv.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Sz=Zw.reducer,{updateOptions:Tz}=Zw.actions,Qw=At({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Pz}=Qw.actions,Az=Qw.reducer,Jw=Yt("keyDown"),ej=Yt("focus"),Bh=Ti();Bh.startListening({actionCreator:Jw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=sh(a,Ra(r),zi(r),qi(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Wr(r);if(s==="Enter"){var f=Eo(r,"axis","hover",String(a.index));t.dispatch(Vu({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var c=xL(r),d=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*d;if(!(u==null||m>=u.length||m<0)){var p=Eo(r,"axis","hover",String(m));t.dispatch(Vu({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});Bh.startListening({actionCreator:ej,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=Eo(r,"axis","hover",String(s));t.dispatch(Vu({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Vt=Yt("externalEvent"),tj=Ti(),Bc=new Map;tj.startListening({actionCreator:Vt,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Bc.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:p6(l),activeDataKey:dh(l),activeIndex:ln(l),activeLabel:z2(l),activeTooltipIndex:ln(l),isTooltipActive:g6(l)};r(u,n)}finally{Bc.delete(a)}});Bc.set(a,o)}}});var kz=Q([Ma],e=>e.tooltipItemPayloads),Iz=Q([kz,Hi,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,r);return o}}}),rj=Yt("touchMove"),nj=Ti();nj.startListening({actionCreator:rj,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=ih(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var o=Rh(n,Lh({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(A2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(h1),d=(l=f.getAttribute(m1))!==null&&l!==void 0?l:void 0,h=Da(n).find(g=>g.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,p=Iz(n,c,d);t.dispatch(T2({activeDataKey:m,activeIndex:c,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var Cz=cy({brush:RB,cartesianAxis:xB,chartData:m8,errorBars:C$,graphicalItems:E9,layout:c5,legend:d3,options:c8,polarAxis:z7,polarOptions:Az,referenceElements:HB,rootProps:Sz,tooltip:AL,zIndex:Q6}),Mz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return MC({reducer:Cz,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([Yw.middleware,Xw.middleware,Bh.middleware,tj.middleware,nj.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(Xx({type:"raf"}))},devTools:{serialize:{replacer:Oz},name:"recharts-".concat(r)}})};function aj(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=N.useRef(null);if(a)return r;s.current==null&&(s.current=Mz(t,n));var o=qd;return N.createElement(fN,{context:o,store:s.current},r)}function Dz(e){var{layout:t,margin:r}=e,n=De(),a=bt();return N.useEffect(()=>{a||(n(s5(t)),n(i5(r)))},[n,a,t,r]),null}var ij=N.memo(Dz,ac);function sj(e){var t=De();return N.useEffect(()=>{t(Tz(e))},[t,e]),null}function sv(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),a=De();return N.useLayoutEffect(()=>(n.current&&a(X6({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Z6({zIndex:t,isPanorama:r}))}),[a,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function ov(e){var{children:t,isPanorama:r}=e,n=fe(F6);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return N.createElement(N.Fragment,null,a.map(o=>N.createElement(sv,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>N.createElement(sv,{key:o,zIndex:o,isPanorama:r})))}var Rz=["children"];function Lz(e,t){if(e==null)return{};var r,n,a=Bz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}var $z={width:"100%",height:"100%",display:"block"},Fz=N.forwardRef((e,t)=>{var r=N1(),n=_1(),a=D1();if(!yr(r)||!yr(n))return null;var{children:s,otherAttributes:o,title:l,desc:u}=e,f,c;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=a?0:void 0,typeof o.role=="string"?c=o.role:c=a?"application":void 0),N.createElement(zy,Co({},o,{title:l,desc:u,role:c,tabIndex:f,width:r,height:n,style:$z,ref:t}),s)}),zz=e=>{var{children:t}=e,r=fe(xl);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return N.createElement(zy,{width:n,height:a,x:o,y:s},t)},lv=N.forwardRef((e,t)=>{var{children:r}=e,n=Lz(e,Rz),a=bt();return a?N.createElement(zz,null,N.createElement(ov,{isPanorama:!0},r)):N.createElement(Fz,Co({ref:t},n),N.createElement(ov,{isPanorama:!1},r))});function Uz(){var e=De(),[t,r]=N.useState(null),n=fe(S5);return N.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Be(s)&&s!==n&&e(l5(s))}},[t,e,n]),r}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){qz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qz(e,t,r){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}var Wz=()=>(N8(),null);function Mo(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kz=N.forwardRef((e,t)=>{var r,n,a=N.useRef(null),[s,o]=N.useState({containerWidth:Mo((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Mo((n=e.style)===null||n===void 0?void 0:n.height)}),l=N.useCallback((f,c)=>{o(d=>{var h=Math.round(f),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),u=N.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=f.getBoundingClientRect();l(c,d);var h=p=>{var{width:g,height:v}=p[0].contentRect;l(g,v)},m=new ResizeObserver(h);m.observe(f),a.current=m}},[t,l]);return N.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[l]),N.createElement(N.Fragment,null,N.createElement(wl,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",Un({ref:u},e)))}),Yz=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=N.useState({containerWidth:Mo(r),containerHeight:Mo(n)}),o=N.useCallback((u,f)=>{s(c=>{var d=Math.round(u),h=Math.round(f);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),l=N.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:c}=u.getBoundingClientRect();o(f,c)}},[t,o]);return N.createElement(N.Fragment,null,N.createElement(wl,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",Un({ref:l},e)))}),Xz=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(wl,{width:r,height:n}),N.createElement("div",Un({ref:t},e)))}),Zz=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return Pr(r)||Pr(n)?N.createElement(Yz,Un({},e,{ref:t})):N.createElement(Xz,Un({},e,{ref:t}))});function Qz(e){return e===!0?Kz:Zz}var Jz=N.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,b=N.useRef(null),j=De(),[S,E]=N.useState(null),[T,O]=N.useState(null),A=Uz(),_=tf(),P=(_==null?void 0:_.width)>0?_.width:y,I=(_==null?void 0:_.height)>0?_.height:a,k=N.useCallback(H=>{A(H),typeof t=="function"&&t(H),E(H),O(H),H!=null&&(b.current=H)},[A,t,E,O]),R=N.useCallback(H=>{j(Kw(H)),j(Vt({handler:s,reactEvent:H}))},[j,s]),M=N.useCallback(H=>{j(sd(H)),j(Vt({handler:f,reactEvent:H}))},[j,f]),$=N.useCallback(H=>{j(P2()),j(Vt({handler:c,reactEvent:H}))},[j,c]),G=N.useCallback(H=>{j(sd(H)),j(Vt({handler:d,reactEvent:H}))},[j,d]),D=N.useCallback(()=>{j(ej())},[j]),z=N.useCallback(H=>{j(Jw(H.key))},[j]),C=N.useCallback(H=>{j(Vt({handler:o,reactEvent:H}))},[j,o]),L=N.useCallback(H=>{j(Vt({handler:l,reactEvent:H}))},[j,l]),U=N.useCallback(H=>{j(Vt({handler:u,reactEvent:H}))},[j,u]),K=N.useCallback(H=>{j(Vt({handler:h,reactEvent:H}))},[j,h]),V=N.useCallback(H=>{j(Vt({handler:g,reactEvent:H}))},[j,g]),F=N.useCallback(H=>{w&&j(rj(H)),j(Vt({handler:p,reactEvent:H}))},[j,w,p]),q=N.useCallback(H=>{j(Vt({handler:m,reactEvent:H}))},[j,m]),X=Qz(x);return N.createElement(K2.Provider,{value:S},N.createElement(zk.Provider,{value:T},N.createElement(X,{width:P??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:ye("recharts-wrapper",n),style:Hz({position:"relative",cursor:"default",width:P,height:I},v),onClick:R,onContextMenu:C,onDoubleClick:L,onFocus:D,onKeyDown:z,onMouseDown:U,onMouseEnter:M,onMouseLeave:$,onMouseMove:G,onMouseUp:K,onTouchEnd:q,onTouchMove:F,onTouchStart:V,ref:k},N.createElement(Wz,null),r)))}),eU=["width","height","responsive","children","className","style","compact","title","desc"];function tU(e,t){if(e==null)return{};var r,n,a=rU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oj=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:u,title:f,desc:c}=e,d=tU(e,eU),h=$t(d);return u?N.createElement(N.Fragment,null,N.createElement(wl,{width:r,height:n}),N.createElement(lv,{otherAttributes:h,title:f,desc:c},s)):N.createElement(Jz,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(lv,{otherAttributes:h,title:f,desc:c,ref:t},N.createElement(GB,null,s)))});function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(null,arguments)}var nU={top:5,right:5,bottom:5,left:5},aU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nU,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},lj=N.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,aU),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,c={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return N.createElement(aj,{preloadedState:{options:c},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},N.createElement(Tw,{chartData:f.data}),N.createElement(ij,{layout:a.layout,margin:a.margin}),N.createElement(sj,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(oj,od({},a,{ref:r})))}),iU=["axis"],sU=N.forwardRef((e,t)=>N.createElement(lj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iU,tooltipPayloadSearcher:gh,categoricalChartProps:e,ref:t})),oU=["axis","item"],lU=N.forwardRef((e,t)=>N.createElement(lj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oU,tooltipPayloadSearcher:gh,categoricalChartProps:e,ref:t}));function cU(e){var t=De();return N.useEffect(()=>{t(Pz(e))},[t,e]),null}var uU=["layout"];function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(null,arguments)}function dU(e,t){if(e==null)return{};var r,n,a=fU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hU={top:5,right:5,bottom:5,left:5},cj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hU,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mU=N.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,cj),{layout:s}=a,o=dU(a,uU),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c}=t,d={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c,eventEmitter:void 0};return N.createElement(aj,{preloadedState:{options:d},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},N.createElement(Tw,{chartData:a.data}),N.createElement(ij,{layout:s,margin:a.margin}),N.createElement(sj,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(cU,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(oj,ld({},o,{ref:r})))});function uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uv(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return(t=gU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=vU(e,"string");return typeof t=="symbol"?t:t+""}function vU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yU=["item"],xU=dv(dv({},cj),{},{layout:"centric",startAngle:0,endAngle:360}),fv=N.forwardRef((e,t)=>{var r=mt(e,xU);return N.createElement(mU,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yU,tooltipPayloadSearcher:gh,categoricalChartProps:r,ref:t})});const hv=()=>{var S,E,T;const[e,t]=N.useState([]),[r,n]=N.useState(null),[a,s]=N.useState(!0),[o,l]=N.useState(null),[u,f]=N.useState([]),[c,d]=N.useState(null),[h,m]=N.useState(!1),[p,g]=N.useState({role:"all",action:"all",search:"",start_date:"",end_date:""});N.useEffect(()=>{v(),y()},[p]);const v=async()=>{try{const O=new URLSearchParams;Object.entries(p).forEach(([_,P])=>{P&&O.append(_,P)});const A=await oe.get(`/activity-logs?${O}`);t(A.data.data||[])}catch(O){console.error("Failed to fetch activity logs:",O)}finally{s(!1)}},y=async()=>{try{const O=await oe.get("/activity-logs/statistics");n(O.data)}catch(O){console.error("Failed to fetch statistics:",O)}},x=async O=>{var A;try{s(!0);const P=(await oe.get(`/activity-logs?user_id=${O}`)).data.data||[];f(P);const I={total:P.length,today:P.filter(k=>{const R=new Date().toDateString();return new Date(k.created_at).toDateString()===R}).length,byAction:P.reduce((k,R)=>(k[R.action]=(k[R.action]||0)+1,k),{}),lastActivity:(A=P[0])==null?void 0:A.created_at,mostCommonAction:null};Object.keys(I.byAction).length>0&&(I.mostCommonAction=Object.entries(I.byAction).sort((k,R)=>R[1]-k[1])[0][0]),d(I),m(!0)}catch(_){console.error("Failed to fetch user report:",_)}finally{s(!1)}},w=()=>{m(!1),l(null),f([]),d(null)},b=O=>{switch(O){case"create":return"bg-green-100 text-green-700";case"update":return"bg-blue-100 text-blue-700";case"delete":return"bg-red-100 text-red-700";case"view":return"bg-gray-100 text-gray-700";case"login":return"bg-purple-100 text-purple-700";case"logout":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},j=O=>{switch(O||"unknown"){case"admin":return"bg-red-100 text-red-700";case"project_manager":return"bg-blue-100 text-blue-700";case"developer":return"bg-green-100 text-green-700";case"client":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return a?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-[32px] font-bold text-gray-900 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Activity Logs"}),i.jsx("p",{className:"text-[15px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"Track all user activities and system events"})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Total Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:i.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.total_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-green-600 font-semibold",children:"â†‘ 12%"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"vs last month"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Today's Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.today_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-blue-600 font-semibold",children:"â€¢"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Last 24 hours"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Active Users"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((S=r.by_role)==null?void 0:S.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-purple-600 font-semibold",children:"ðŸ‘¥"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"User roles"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Action Types"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((E=r.by_action)==null?void 0:E.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-orange-600 font-semibold",children:"âš¡"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Event types"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by Action Type"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Overview"})]}),i.jsx(us,{width:"100%",height:300,children:i.jsxs(lU,{data:r.by_action||[],children:[i.jsx(Ju,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(nd,{dataKey:"action",tick:{fill:"#666"}}),i.jsx(id,{tick:{fill:"#666"}}),i.jsx(xs,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),i.jsx(Vw,{dataKey:"count",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by User Role"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:"Distribution"})]}),i.jsx(us,{width:"100%",height:300,children:i.jsxs(fv,{children:[i.jsx(Qu,{data:r.by_role||[],dataKey:"count",nameKey:"role",cx:"50%",cy:"50%",outerRadius:100,label:O=>`${(O.role||"unknown").replace("_"," ")}: ${O.count||0}`,children:(r.by_role||[]).map((O,A)=>i.jsx(ha,{fill:["#59569D","#7B78B3","#A19FD1","#C7C5E4","#DDDCEE"][A%5]},`cell-${A}`))}),i.jsx(xs,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsx("h3",{className:"text-[16px] font-bold text-gray-900 mb-4",style:{fontFamily:"Inter, sans-serif"},children:"Filters & Search"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("input",{type:"text",placeholder:"Search activities...",value:p.search,onChange:O=>g({...p,search:O.target.value}),className:"w-full px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})}),i.jsxs("select",{value:p.role,onChange:O=>g({...p,role:O.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"project_manager",children:"Project Manager"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"client",children:"Client"})]}),i.jsxs("select",{value:p.action,onChange:O=>g({...p,action:O.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Actions"}),i.jsx("option",{value:"create",children:"Create"}),i.jsx("option",{value:"update",children:"Update"}),i.jsx("option",{value:"delete",children:"Delete"}),i.jsx("option",{value:"view",children:"View"}),i.jsx("option",{value:"login",children:"Login"}),i.jsx("option",{value:"logout",children:"Logout"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx("input",{type:"date",value:p.start_date,onChange:O=>g({...p,start_date:O.target.value}),className:"px-3 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Recent Activities"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"User"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Role"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Action"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Description"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"IP Address"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Time"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length>0?e.map((O,A)=>{var _,P,I,k,R,M;return i.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-[14px]",style:{fontFamily:"Inter, sans-serif"},children:((P=(_=O.user)==null?void 0:_.name)==null?void 0:P.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-[14px] text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:((I=O.user)==null?void 0:I.name)||"Unknown User"}),i.jsx("p",{className:"text-[12px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:((k=O.user)==null?void 0:k.email)||"-"})]}),i.jsx("button",{onClick:()=>{l(O.user),x(O.user_id)},className:"px-3 py-1.5 text-[12px] font-medium text-blue-600 hover:bg-blue-50 rounded-[6px] transition-colors",style:{fontFamily:"Inter, sans-serif"},title:"View user report",children:"View Report"})]})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${j(O.user_role||((R=O.user)==null?void 0:R.role))}`,style:{fontFamily:"Inter, sans-serif"},children:(O.user_role||((M=O.user)==null?void 0:M.role)||"unknown").replace("_"," ")})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${b(O.action)}`,style:{fontFamily:"Inter, sans-serif"},children:O.action})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[14px] text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:O.description}),O.event_type&&i.jsx("p",{className:"text-[12px] text-gray-400 mt-1",style:{fontFamily:"Inter, sans-serif"},children:O.event_type})]}),i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-mono text-gray-600",children:O.ip_address||"-"}),O.user_agent&&i.jsx("p",{className:"text-[11px] text-gray-400 mt-1 truncate max-w-xs",title:O.user_agent,children:O.user_agent.split(" ")[0]})]})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[13px] text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:new Date(O.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-[11px] text-gray-400",style:{fontFamily:"Inter, sans-serif"},children:new Date(O.created_at).toLocaleDateString("en-US",{year:"numeric"})})]})]},O.id)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:"6",className:"py-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Activity Logs Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters"})]})})})]})})]}),h&&o&&c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:((T=o.name)==null?void 0:T.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:o.name}),i.jsx("p",{className:"text-gray-300",children:o.email})]})]}),i.jsx("button",{onClick:w,className:"text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg p-2 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 p-6 bg-gray-50",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Activities"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.total})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Today"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.today})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Most Common"}),i.jsx("p",{className:"text-lg font-bold text-gray-800 capitalize",children:c.mostCommonAction||"-"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Activity"}),i.jsx("p",{className:"text-xs font-medium text-gray-800",children:c.lastActivity?new Date(c.lastActivity).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Action Breakdown"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx(us,{width:"100%",height:200,children:i.jsxs(fv,{children:[i.jsx(Qu,{data:Object.entries(c.byAction).map(([O,A])=>({name:O,value:A})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:O=>`${O.name}: ${O.value}`,labelLine:!1,children:Object.keys(c.byAction).map((O,A)=>{const _={create:"#10B981",update:"#3B82F6",delete:"#EF4444",view:"#6B7280",login:"#8B5CF6",logout:"#F97316"};return i.jsx(ha,{fill:_[O]||"#F25292"},`cell-${A}`)})}),i.jsx(xs,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})}),i.jsx("div",{className:"flex flex-wrap gap-2 content-center",children:Object.entries(c.byAction).map(([O,A])=>i.jsxs("div",{className:`px-3 py-1.5 rounded-lg ${b(O)} flex items-center gap-2`,children:[i.jsx("span",{className:"font-medium capitalize",children:O}),i.jsx("span",{className:"bg-white bg-opacity-50 px-2 py-0.5 rounded text-xs font-bold",children:A})]},O))})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Activity Timeline (Last 7 Days)"}),i.jsx(us,{width:"100%",height:250,children:i.jsxs(sU,{data:(()=>{const O=[];for(let A=6;A>=0;A--){const _=new Date;_.setDate(_.getDate()-A);const P=_.toLocaleDateString("en-US",{month:"short",day:"numeric"}),I=u.filter(k=>new Date(k.created_at).toDateString()===_.toDateString()).length;O.push({date:P,activities:I})}return O})(),children:[i.jsx(Ju,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(nd,{dataKey:"date",tick:{fill:"#666",fontSize:12}}),i.jsx(id,{tick:{fill:"#666",fontSize:12}}),i.jsx(xs,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{stroke:"#8B5CF6",strokeWidth:2}}),i.jsx(Uw,{type:"monotone",dataKey:"activities",stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#F25292",r:5},activeDot:{r:7,fill:"#F25292"}})]})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Recent Activities"}),i.jsx("div",{className:"space-y-3",children:u.slice(0,20).map((O,A)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-medium ${b(O.action)}`,children:O.action})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:O.description}),O.event_type&&i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:O.event_type})]}),i.jsxs("div",{className:"flex-shrink-0 text-right",children:[i.jsx("p",{className:"text-xs text-gray-600",children:new Date(O.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-xs text-gray-400 font-mono",children:O.ip_address})]})]},O.id))})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:w,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})})]})};/*!
 * FilePond 4.32.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const bU=e=>e instanceof HTMLElement,wU=(e,t=[],r=[])=>{const n={...e},a=[],s=[],o=()=>({...n}),l=()=>{const p=[...a];return a.length=0,p},u=()=>{const p=[...s];s.length=0,p.forEach(({type:g,data:v})=>{f(g,v)})},f=(p,g,v)=>{if(v&&!document.hidden){s.push({type:p,data:g});return}m[p]&&m[p](g),a.push({type:p,data:g})},c=(p,...g)=>h[p]?h[p](...g):null,d={getState:o,processActionQueue:l,processDispatchQueue:u,dispatch:f,query:c};let h={};t.forEach(p=>{h={...p(n),...h}});let m={};return r.forEach(p=>{m={...p(f,c,n),...m}}),d},jU=(e,t,r)=>{if(typeof r=="function"){e[t]=r;return}Object.defineProperty(e,t,{...r})},qe=(e,t)=>{for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])},nn=e=>{const t={};return qe(e,r=>{jU(t,r,e[r])}),t},rt=(e,t,r=null)=>{if(r===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},NU="http://www.w3.org/2000/svg",_U=["svg","path"],mv=e=>_U.includes(e),Do=(e,t,r={})=>{typeof t=="object"&&(r=t,t=null);const n=mv(e)?document.createElementNS(NU,e):document.createElement(e);return t&&(mv(e)?rt(n,"class",t):n.className=t),qe(r,(a,s)=>{rt(n,a,s)}),n},EU=e=>(t,r)=>{typeof r<"u"&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)},OU=(e,t)=>(r,n)=>(typeof n<"u"?t.splice(n,0,r):t.push(r),r),SU=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),TU=typeof window<"u"&&typeof window.document<"u",uj=()=>TU,PU=uj()?Do("svg"):{},AU="children"in PU?e=>e.children.length:e=>e.childNodes.length,dj=(e,t,r,n)=>{const a=r[0]||e.left,s=r[1]||e.top,o=a+e.width,l=s+e.height*(n[1]||1),u={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:a,top:s,right:o,bottom:l}};return t.filter(f=>!f.isRectIgnored()).map(f=>f.rect).forEach(f=>{pv(u.inner,{...f.inner}),pv(u.outer,{...f.outer})}),gv(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,gv(u.outer),u},pv=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},gv=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},jn=e=>typeof e=="number",kU=(e,t,r,n=.001)=>Math.abs(e-t)<n&&Math.abs(r)<n,IU=({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let n=null,a=null,s=0,o=!1;const f=nn({interpolate:(c,d)=>{if(o)return;if(!(jn(n)&&jn(a))){o=!0,s=0;return}const h=-(a-n)*e;s+=h/r,a+=s,s*=t,kU(a,n,s)||d?(a=n,s=0,o=!0,f.onupdate(a),f.oncomplete(a)):f.onupdate(a)},target:{set:c=>{if(jn(c)&&!jn(a)&&(a=c),n===null&&(n=c,a=c),n=c,a===n||typeof n>"u"){o=!0,s=0,f.onupdate(a),f.oncomplete(a);return}o=!1},get:()=>n},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return f},CU=e=>e<.5?2*e*e:-1+(4-2*e)*e,MU=({duration:e=500,easing:t=CU,delay:r=0}={})=>{let n=null,a,s,o=!0,l=!1,u=null;const c=nn({interpolate:(d,h)=>{o||u===null||(n===null&&(n=d),!(d-n<r)&&(a=d-n-r,a>=e||h?(a=1,s=l?0:1,c.onupdate(s*u),c.oncomplete(s*u),o=!0):(s=a/e,c.onupdate((a>=0?t(l?1-s:s):0)*u))))},target:{get:()=>l?0:u,set:d=>{if(u===null){u=d,c.onupdate(d),c.oncomplete(d);return}d<u?(u=1,l=!0):(l=!1,u=d),o=!1,n=null}},resting:{get:()=>o},onupdate:d=>{},oncomplete:d=>{}});return c},vv={spring:IU,tween:MU},DU=(e,t,r)=>{const n=e[t]&&typeof e[t][r]=="object"?e[t][r]:e[t]||e,a=typeof n=="string"?n:n.type,s=typeof n=="object"?{...n}:{};return vv[a]?vv[a](s):null},$h=(e,t,r,n=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(a=>{e.forEach(s=>{let o=s,l=()=>r[s],u=f=>r[s]=f;typeof s=="object"&&(o=s.key,l=s.getter||l,u=s.setter||u),!(a[o]&&!n)&&(a[o]={get:l,set:u})})})},RU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n})=>{const a={...t},s=[];return qe(e,(o,l)=>{const u=DU(l);if(!u)return;u.onupdate=c=>{t[o]=c},u.target=a[o],$h([{key:o,setter:c=>{u.target!==c&&(u.target=c)},getter:()=>t[o]}],[r,n],t,!0),s.push(u)}),{write:o=>{let l=document.hidden,u=!0;return s.forEach(f=>{f.resting||(u=!1),f.interpolate(o,l)}),u},destroy:()=>{}}},LU=e=>(t,r)=>{e.addEventListener(t,r)},BU=e=>(t,r)=>{e.removeEventListener(t,r)},$U=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,viewState:a,view:s})=>{const o=[],l=LU(s.element),u=BU(s.element);return n.on=(f,c)=>{o.push({type:f,fn:c}),l(f,c)},n.off=(f,c)=>{o.splice(o.findIndex(d=>d.type===f&&d.fn===c),1),u(f,c)},{write:()=>!0,destroy:()=>{o.forEach(f=>{u(f.type,f.fn)})}}},FU=({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{$h(e,r,t)},wt=e=>e!=null,zU={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},UU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,view:a})=>{const s={...t},o={};$h(e,[r,n],t);const l=()=>[t.translateX||0,t.translateY||0],u=()=>[t.scaleX||0,t.scaleY||0],f=()=>a.rect?dj(a.rect,a.childViews,l(),u()):null;return r.rect={get:f},n.rect={get:f},e.forEach(c=>{t[c]=typeof s[c]>"u"?zU[c]:s[c]}),{write:()=>{if(HU(o,t))return qU(a.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},HU=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},qU=(e,{opacity:t,perspective:r,translateX:n,translateY:a,scaleX:s,scaleY:o,rotateX:l,rotateY:u,rotateZ:f,originX:c,originY:d,width:h,height:m})=>{let p="",g="";(wt(c)||wt(d))&&(g+=`transform-origin: ${c||0}px ${d||0}px;`),wt(r)&&(p+=`perspective(${r}px) `),(wt(n)||wt(a))&&(p+=`translate3d(${n||0}px, ${a||0}px, 0) `),(wt(s)||wt(o))&&(p+=`scale3d(${wt(s)?s:1}, ${wt(o)?o:1}, 1) `),wt(f)&&(p+=`rotateZ(${f}rad) `),wt(l)&&(p+=`rotateX(${l}rad) `),wt(u)&&(p+=`rotateY(${u}rad) `),p.length&&(g+=`transform:${p};`),wt(t)&&(g+=`opacity:${t};`,t===0&&(g+="visibility:hidden;"),t<1&&(g+="pointer-events:none;")),wt(m)&&(g+=`height:${m}px;`),wt(h)&&(g+=`width:${h}px;`);const v=e.elementCurrentStyle||"";(g.length!==v.length||g!==v)&&(e.style.cssText=g,e.elementCurrentStyle=g)},GU={styles:UU,listeners:$U,animations:RU,apis:FU},yv=(e={},t={},r={})=>(t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),et=({tag:e="div",name:t=null,attributes:r={},read:n=()=>{},write:a=()=>{},create:s=()=>{},destroy:o=()=>{},filterFrameActionsForChild:l=(m,p)=>p,didCreateView:u=()=>{},didWriteView:f=()=>{},ignoreRect:c=!1,ignoreRectUpdate:d=!1,mixins:h=[]}={})=>(m,p={})=>{const g=Do(e,`filepond--${t}`,r),v=window.getComputedStyle(g,null),y=yv();let x=null,w=!1;const b=[],j=[],S={},E={},T=[a],O=[n],A=[o],_=()=>g,P=()=>b.concat(),I=()=>S,k=F=>(q,X)=>q(F,X),R=()=>x||(x=dj(y,b,[0,0],[1,1]),x),M=()=>v,$=()=>{x=null,b.forEach(X=>X._read()),!(d&&y.width&&y.height)&&yv(y,g,v);const q={root:K,props:p,rect:y};O.forEach(X=>X(q))},G=(F,q,X)=>{let H=q.length===0;return T.forEach(Z=>{Z({props:p,root:K,actions:q,timestamp:F,shouldOptimize:X})===!1&&(H=!1)}),j.forEach(Z=>{Z.write(F)===!1&&(H=!1)}),b.filter(Z=>!!Z.element.parentNode).forEach(Z=>{Z._write(F,l(Z,q),X)||(H=!1)}),b.forEach((Z,ne)=>{Z.element.parentNode||(K.appendChild(Z.element,ne),Z._read(),Z._write(F,l(Z,q),X),H=!1)}),w=H,f({props:p,root:K,actions:q,timestamp:F}),H},D=()=>{j.forEach(F=>F.destroy()),A.forEach(F=>{F({root:K,props:p})}),b.forEach(F=>F._destroy())},z={element:{get:_},style:{get:M},childViews:{get:P}},C={...z,rect:{get:R},ref:{get:I},is:F=>t===F,appendChild:EU(g),createChildView:k(m),linkView:F=>(b.push(F),F),unlinkView:F=>{b.splice(b.indexOf(F),1)},appendChildView:OU(g,b),removeChildView:SU(g,b),registerWriter:F=>T.push(F),registerReader:F=>O.push(F),registerDestroyer:F=>A.push(F),invalidateLayout:()=>g.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},L={element:{get:_},childViews:{get:P},rect:{get:R},resting:{get:()=>w},isRectIgnored:()=>c,_read:$,_write:G,_destroy:D},U={...z,rect:{get:()=>y}};Object.keys(h).sort((F,q)=>F==="styles"?1:q==="styles"?-1:0).forEach(F=>{const q=GU[F]({mixinConfig:h[F],viewProps:p,viewState:E,viewInternalAPI:C,viewExternalAPI:L,view:nn(U)});q&&j.push(q)});const K=nn(C);s({root:K,props:p});const V=AU(g);return b.forEach((F,q)=>{K.appendChild(F.element,V+q)}),u(K),nn(L)},VU=(e,t,r=60)=>{const n="__framePainter";if(window[n]){window[n].readers.push(e),window[n].writers.push(t);return}window[n]={readers:[e],writers:[t]};const a=window[n],s=1e3/r;let o=null,l=null,u=null,f=null;const c=()=>{document.hidden?(u=()=>window.setTimeout(()=>d(performance.now()),s),f=()=>window.clearTimeout(l)):(u=()=>window.requestAnimationFrame(d),f=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{f&&f(),c(),d(performance.now())});const d=h=>{l=u(d),o||(o=h);const m=h-o;m<=s||(o=h-m%s,a.readers.forEach(p=>p()),a.writers.forEach(p=>p(h)))};return c(),d(performance.now()),{pause:()=>{f(l)}}},St=(e,t)=>({root:r,props:n,actions:a=[],timestamp:s,shouldOptimize:o})=>{a.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:r,props:n,action:l.data,timestamp:s,shouldOptimize:o})),t&&t({root:r,props:n,actions:a,timestamp:s,shouldOptimize:o})},xv=(e,t)=>t.parentNode.insertBefore(e,t),bv=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),ic=e=>Array.isArray(e),Rr=e=>e==null,WU=e=>e.trim(),sc=e=>""+e,KU=(e,t=",")=>Rr(e)?[]:ic(e)?e:sc(e).split(t).map(WU).filter(r=>r.length),fj=e=>typeof e=="boolean",hj=e=>fj(e)?e:e==="true",Ot=e=>typeof e=="string",mj=e=>jn(e)?e:Ot(e)?sc(e).replace(/[a-z]+/gi,""):0,Ls=e=>parseInt(mj(e),10),wv=e=>parseFloat(mj(e)),La=e=>jn(e)&&isFinite(e)&&Math.floor(e)===e,jv=(e,t=1e3)=>{if(La(e))return e;let r=sc(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),Ls(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),Ls(r)*t):Ls(r)},Nn=e=>typeof e=="function",YU=e=>{let t=self,r=e.split("."),n=null;for(;n=r.shift();)if(t=t[n],!t)return null;return t},Nv={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},XU=e=>{const t={};return t.url=Ot(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},qe(Nv,r=>{t[r]=ZU(r,e[r],Nv[r],t.timeout,t.headers)}),t.process=e.process||Ot(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},ZU=(e,t,r,n,a)=>{if(t===null)return null;if(typeof t=="function")return t;const s={url:r==="GET"||r==="PATCH"?`?${e}=`:"",method:r,headers:a,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(Ot(t))return s.url=t,s;if(Object.assign(s,t),Ot(s.headers)){const o=s.headers.split(/:(.+)/);s.headers={header:o[0],value:o[1]}}return s.withCredentials=hj(s.withCredentials),s},QU=e=>XU(e),JU=e=>e===null,dt=e=>typeof e=="object"&&e!==null,eH=e=>dt(e)&&Ot(e.url)&&dt(e.process)&&dt(e.revert)&&dt(e.restore)&&dt(e.fetch),cd=e=>ic(e)?"array":JU(e)?"null":La(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":eH(e)?"api":typeof e,tH=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),rH={array:KU,boolean:hj,int:e=>cd(e)==="bytes"?jv(e):Ls(e),number:wv,float:wv,bytes:jv,string:e=>Nn(e)?e:sc(e),function:e=>YU(e),serverapi:QU,object:e=>{try{return JSON.parse(tH(e))}catch{return null}}},nH=(e,t)=>rH[t](e),pj=(e,t,r)=>{if(e===t)return e;let n=cd(e);if(n!==r){const a=nH(e,r);if(n=cd(a),a===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=a}return e},aH=(e,t)=>{let r=e;return{enumerable:!0,get:()=>r,set:n=>{r=pj(n,e,t)}}},iH=e=>{const t={};return qe(e,r=>{const n=e[r];t[r]=aH(n[0],n[1])}),nn(t)},sH=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:iH(e)}),oc=(e,t="-")=>e.split(/(?=[A-Z])/).map(r=>r.toLowerCase()).join(t),oH=(e,t)=>{const r={};return qe(t,n=>{r[n]={get:()=>e.getState().options[n],set:a=>{e.dispatch(`SET_${oc(n,"_").toUpperCase()}`,{value:a})}}}),r},lH=e=>(t,r,n)=>{const a={};return qe(e,s=>{const o=oc(s,"_").toUpperCase();a[`SET_${o}`]=l=>{try{n.options[s]=l.value}catch{}t(`DID_SET_${o}`,{value:n.options[s]})}}),a},cH=e=>t=>{const r={};return qe(e,n=>{r[`GET_${oc(n,"_").toUpperCase()}`]=a=>t.options[n]}),r},Kt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Fh=()=>Math.random().toString(36).substring(2,11),zh=(e,t)=>e.splice(t,1),uH=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},lc=()=>{const e=[],t=(n,a)=>{zh(e,e.findIndex(s=>s.event===n&&(s.cb===a||!a)))},r=(n,a,s)=>{e.filter(o=>o.event===n).map(o=>o.cb).forEach(o=>uH(()=>o(...a),s))};return{fireSync:(n,...a)=>{r(n,a,!0)},fire:(n,...a)=>{r(n,a,!1)},on:(n,a)=>{e.push({event:n,cb:a})},onOnce:(n,a)=>{e.push({event:n,cb:(...s)=>{t(n,a),a(...s)}})},off:t}},gj=(e,t,r)=>{Object.getOwnPropertyNames(e).filter(n=>!r.includes(n)).forEach(n=>Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n)))},dH=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Tt=e=>{const t={};return gj(e,t,dH),t},fH=e=>{e.forEach((t,r)=>{t.released&&zh(e,r)})},ve={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},ct={INPUT:1,LIMBO:2,LOCAL:3},vj=e=>/[^0-9]+/.exec(e),yj=()=>vj(1.1.toLocaleString())[0],hH=()=>{const e=yj(),t=1e3.toLocaleString();return t!=="1000"?vj(t)[0]:e==="."?",":"."},ae={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Uh=[],tr=(e,t,r)=>new Promise((n,a)=>{const s=Uh.filter(l=>l.key===e).map(l=>l.cb);if(s.length===0){n(t);return}const o=s.shift();s.reduce((l,u)=>l.then(f=>u(f,r)),o(t,r)).then(l=>n(l)).catch(l=>a(l))}),Wn=(e,t,r)=>Uh.filter(n=>n.key===e).map(n=>n.cb(t,r)),mH=(e,t)=>Uh.push({key:e,cb:t}),pH=e=>Object.assign(ta,e),Ro=()=>({...ta}),gH=e=>{qe(e,(t,r)=>{ta[t]&&(ta[t][0]=pj(r,ta[t][0],ta[t][1]))})},ta={id:[null,ae.STRING],name:["filepond",ae.STRING],disabled:[!1,ae.BOOLEAN],className:[null,ae.STRING],required:[!1,ae.BOOLEAN],captureMethod:[null,ae.STRING],allowSyncAcceptAttribute:[!0,ae.BOOLEAN],allowDrop:[!0,ae.BOOLEAN],allowBrowse:[!0,ae.BOOLEAN],allowPaste:[!0,ae.BOOLEAN],allowMultiple:[!1,ae.BOOLEAN],allowReplace:[!0,ae.BOOLEAN],allowRevert:[!0,ae.BOOLEAN],allowRemove:[!0,ae.BOOLEAN],allowProcess:[!0,ae.BOOLEAN],allowReorder:[!1,ae.BOOLEAN],allowDirectoriesOnly:[!1,ae.BOOLEAN],storeAsFile:[!1,ae.BOOLEAN],forceRevert:[!1,ae.BOOLEAN],maxFiles:[null,ae.INT],checkValidity:[!1,ae.BOOLEAN],itemInsertLocationFreedom:[!0,ae.BOOLEAN],itemInsertLocation:["before",ae.STRING],itemInsertInterval:[75,ae.INT],dropOnPage:[!1,ae.BOOLEAN],dropOnElement:[!0,ae.BOOLEAN],dropValidation:[!1,ae.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ae.ARRAY],instantUpload:[!0,ae.BOOLEAN],maxParallelUploads:[2,ae.INT],allowMinimumUploadDuration:[!0,ae.BOOLEAN],chunkUploads:[!1,ae.BOOLEAN],chunkForce:[!1,ae.BOOLEAN],chunkSize:[5e6,ae.INT],chunkRetryDelays:[[500,1e3,3e3],ae.ARRAY],server:[null,ae.SERVER_API],fileSizeBase:[1e3,ae.INT],labelFileSizeBytes:["bytes",ae.STRING],labelFileSizeKilobytes:["KB",ae.STRING],labelFileSizeMegabytes:["MB",ae.STRING],labelFileSizeGigabytes:["GB",ae.STRING],labelDecimalSeparator:[yj(),ae.STRING],labelThousandsSeparator:[hH(),ae.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ae.STRING],labelInvalidField:["Field contains invalid files",ae.STRING],labelFileWaitingForSize:["Waiting for size",ae.STRING],labelFileSizeNotAvailable:["Size not available",ae.STRING],labelFileCountSingular:["file in list",ae.STRING],labelFileCountPlural:["files in list",ae.STRING],labelFileLoading:["Loading",ae.STRING],labelFileAdded:["Added",ae.STRING],labelFileLoadError:["Error during load",ae.STRING],labelFileRemoved:["Removed",ae.STRING],labelFileRemoveError:["Error during remove",ae.STRING],labelFileProcessing:["Uploading",ae.STRING],labelFileProcessingComplete:["Upload complete",ae.STRING],labelFileProcessingAborted:["Upload cancelled",ae.STRING],labelFileProcessingError:["Error during upload",ae.STRING],labelFileProcessingRevertError:["Error during revert",ae.STRING],labelTapToCancel:["tap to cancel",ae.STRING],labelTapToRetry:["tap to retry",ae.STRING],labelTapToUndo:["tap to undo",ae.STRING],labelButtonRemoveItem:["Remove",ae.STRING],labelButtonAbortItemLoad:["Abort",ae.STRING],labelButtonRetryItemLoad:["Retry",ae.STRING],labelButtonAbortItemProcessing:["Cancel",ae.STRING],labelButtonUndoItemProcessing:["Undo",ae.STRING],labelButtonRetryItemProcessing:["Retry",ae.STRING],labelButtonProcessItem:["Upload",ae.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ae.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ae.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ae.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ae.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ae.STRING],oninit:[null,ae.FUNCTION],onwarning:[null,ae.FUNCTION],onerror:[null,ae.FUNCTION],onactivatefile:[null,ae.FUNCTION],oninitfile:[null,ae.FUNCTION],onaddfilestart:[null,ae.FUNCTION],onaddfileprogress:[null,ae.FUNCTION],onaddfile:[null,ae.FUNCTION],onprocessfilestart:[null,ae.FUNCTION],onprocessfileprogress:[null,ae.FUNCTION],onprocessfileabort:[null,ae.FUNCTION],onprocessfilerevert:[null,ae.FUNCTION],onprocessfile:[null,ae.FUNCTION],onprocessfiles:[null,ae.FUNCTION],onremovefile:[null,ae.FUNCTION],onpreparefile:[null,ae.FUNCTION],onupdatefiles:[null,ae.FUNCTION],onreorderfiles:[null,ae.FUNCTION],beforeDropFile:[null,ae.FUNCTION],beforeAddFile:[null,ae.FUNCTION],beforeRemoveFile:[null,ae.FUNCTION],beforePrepareFile:[null,ae.FUNCTION],stylePanelLayout:[null,ae.STRING],stylePanelAspectRatio:[null,ae.STRING],styleItemPanelAspectRatio:[null,ae.STRING],styleButtonRemoveItemPosition:["left",ae.STRING],styleButtonProcessItemPosition:["right",ae.STRING],styleLoadIndicatorPosition:["right",ae.STRING],styleProgressIndicatorPosition:["right",ae.STRING],styleButtonRemoveItemAlign:[!1,ae.BOOLEAN],files:[[],ae.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ae.ARRAY]},_n=(e,t)=>Rr(t)?e[0]||null:La(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(r=>r.id===t)||null),xj=e=>{if(Rr(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ir=e=>e.filter(t=>!t.archived),vH={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let js=null;const yH=()=>{if(js===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,js=t.files.length===1}catch{js=!1}return js},xH=[ve.LOAD_ERROR,ve.PROCESSING_ERROR,ve.PROCESSING_REVERT_ERROR],bH=[ve.LOADING,ve.PROCESSING,ve.PROCESSING_QUEUED,ve.INIT],wH=[ve.PROCESSING_COMPLETE],jH=e=>xH.includes(e.status),NH=e=>bH.includes(e.status),_H=e=>wH.includes(e.status),_v=e=>dt(e.options.server)&&(dt(e.options.server.process)||Nn(e.options.server.process)),EH=e=>({GET_STATUS:()=>{const t=ir(e.items),{EMPTY:r,ERROR:n,BUSY:a,IDLE:s,READY:o}=vH;return t.length===0?r:t.some(jH)?n:t.some(NH)?a:t.some(_H)?o:s},GET_ITEM:t=>_n(e.items,t),GET_ACTIVE_ITEM:t=>_n(ir(e.items),t),GET_ACTIVE_ITEMS:()=>ir(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const r=_n(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=_n(e.items,t);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:xj(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>ir(e.items).filter(r=>r.status===t),GET_TOTAL_ITEMS:()=>ir(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&yH()&&!_v(e),IS_ASYNC:()=>_v(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),OH=e=>{const t=ir(e.items).length;if(!e.options.allowMultiple)return t===0;const r=e.options.maxFiles;return r===null||t<r},bj=(e,t,r)=>Math.max(Math.min(r,e),t),SH=(e,t,r)=>e.splice(t,0,r),TH=(e,t,r)=>Rr(t)?null:typeof r>"u"?(e.push(t),t):(r=bj(r,0,e.length),SH(e,r,t),t),ud=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Wi=e=>`${e}`.split("/").pop().split("?").shift(),cc=e=>e.split(".").pop(),PH=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Ya=(e,t="")=>(t+e).slice(-t.length),wj=(e=new Date)=>`${e.getFullYear()}-${Ya(e.getMonth()+1,"00")}-${Ya(e.getDate(),"00")}_${Ya(e.getHours(),"00")}-${Ya(e.getMinutes(),"00")}-${Ya(e.getSeconds(),"00")}`,ma=(e,t,r=null,n=null)=>{const a=typeof r=="string"?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return a.lastModifiedDate=new Date,e._relativePath&&(a._relativePath=e._relativePath),Ot(t)||(t=wj()),t&&n===null&&cc(t)?a.name=t:(n=n||PH(a.type),a.name=t+(n?"."+n:"")),a},AH=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,jj=(e,t)=>{const r=AH();if(r){const n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},kH=(e,t)=>{const r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return jj(r,t)},Nj=e=>(/^data:(.+);/.exec(e)||[])[1]||null,IH=e=>e.split(",")[1].replace(/\s/g,""),CH=e=>atob(IH(e)),MH=e=>{const t=Nj(e),r=CH(e);return kH(r,t)},DH=(e,t,r)=>ma(MH(e),t,null,r),RH=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(r=>r.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(r=>r.length);return t.length?decodeURI(t[t.length-1]):null},LH=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},BH=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Hh=e=>{const t={source:null,name:null,size:null},r=e.split(`
`);for(let n of r){const a=RH(n);if(a){t.name=a;continue}const s=LH(n);if(s){t.size=s;continue}const o=BH(n);if(o){t.source=o;continue}}return t},$H=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=()=>t.progress,n=()=>{t.request&&t.request.abort&&t.request.abort()},a=()=>{const l=t.source;o.fire("init",l),l instanceof File?o.fire("load",l):l instanceof Blob?o.fire("load",ma(l,l.name)):ud(l)?o.fire("load",DH(l)):s(l)},s=l=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(l,u=>{t.duration=Date.now()-t.timestamp,t.complete=!0,u instanceof Blob&&(u=ma(u,u.name||Wi(l))),o.fire("load",u instanceof Blob?u:u?u.body:null)},u=>{o.fire("error",typeof u=="string"?{type:"error",code:0,body:u}:u)},(u,f,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!u){t.progress=null;return}t.progress=f/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},u=>{const f=Hh(typeof u=="string"?u:u.headers);o.fire("meta",{size:t.size||f.size,filename:f.name,source:f.source})})},o={...lc(),setSource:l=>t.source=l,getProgress:r,abort:n,load:a};return o},Ev=e=>/GET|HEAD/.test(e),Pn=(e,t,r)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{a=!0,o.abort()}};let a=!1,s=!1;r={method:"POST",headers:{},withCredentials:!1,...r},t=encodeURI(t),Ev(r.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,l=Ev(r.method)?o:o.upload;return l.onprogress=u=>{a||n.onprogress(u.lengthComputable,u.loaded,u.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||s||(s=!0,n.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?n.onload(o):n.onerror(o)},o.onerror=()=>n.onerror(o),o.onabort=()=>{a=!0,n.onabort()},o.ontimeout=()=>n.ontimeout(o),o.open(r.method,t,!0),La(r.timeout)&&(o.timeout=r.timeout),Object.keys(r.headers).forEach(u=>{const f=unescape(encodeURIComponent(r.headers[u]));o.setRequestHeader(u,f)}),r.responseType&&(o.responseType=r.responseType),r.withCredentials&&(o.withCredentials=!0),o.send(e),n},Ve=(e,t,r,n)=>({type:e,code:t,body:r,headers:n}),An=e=>t=>{e(Ve("error",0,"Timeout",t.getAllResponseHeaders()))},Ov=e=>/\?/.test(e),ti=(...e)=>{let t="";return e.forEach(r=>{t+=Ov(t)&&Ov(r)?r.replace(/\?/,"&"):r}),t},$c=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return null;const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o,l,u,f)=>{const c=Pn(a,ti(e,t.url),{...t,responseType:"blob"});return c.onload=d=>{const h=d.getAllResponseHeaders(),m=Hh(h).name||Wi(a);s(Ve("load",d.status,t.method==="HEAD"?null:ma(r(d.response),m),h))},c.onerror=d=>{o(Ve("error",d.status,n(d.response)||d.statusText,d.getAllResponseHeaders()))},c.onheaders=d=>{f(Ve("headers",d.status,null,d.getAllResponseHeaders()))},c.ontimeout=An(o),c.onprogress=l,c.onabort=u,c}},qt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},FH=(e,t,r,n,a,s,o,l,u,f,c)=>{const d=[],{chunkTransferId:h,chunkServer:m,chunkSize:p,chunkRetryDelays:g}=c,v={serverId:h,aborted:!1},y=t.ondata||(k=>k),x=t.onload||((k,R)=>R==="HEAD"?k.getResponseHeader("Upload-Offset"):k.response),w=t.onerror||(k=>null),b=k=>{const R=new FormData;dt(a)&&R.append(r,JSON.stringify(a));const M=typeof t.headers=="function"?t.headers(n,a):{...t.headers,"Upload-Length":n.size},$={...t,headers:M},G=Pn(y(R),ti(e,t.url),$);G.onload=D=>k(x(D,$.method)),G.onerror=D=>o(Ve("error",D.status,w(D.response)||D.statusText,D.getAllResponseHeaders())),G.ontimeout=An(o)},j=k=>{const R=ti(e,m.url,v.serverId),$={headers:typeof t.headers=="function"?t.headers(v.serverId):{...t.headers},method:"HEAD"},G=Pn(null,R,$);G.onload=D=>k(x(D,$.method)),G.onerror=D=>o(Ve("error",D.status,w(D.response)||D.statusText,D.getAllResponseHeaders())),G.ontimeout=An(o)},S=Math.floor(n.size/p);for(let k=0;k<=S;k++){const R=k*p,M=n.slice(R,R+p,"application/offset+octet-stream");d[k]={index:k,size:M.size,offset:R,data:M,file:n,progress:0,retries:[...g],status:qt.QUEUED,error:null,request:null,timeout:null}}const E=()=>s(v.serverId),T=k=>k.status===qt.QUEUED||k.status===qt.ERROR,O=k=>{if(v.aborted)return;if(k=k||d.find(T),!k){d.every(C=>C.status===qt.COMPLETE)&&E();return}k.status=qt.PROCESSING,k.progress=null;const R=m.ondata||(C=>C),M=m.onerror||(C=>null),$=m.onload||(()=>{}),G=ti(e,m.url,v.serverId),D=typeof m.headers=="function"?m.headers(k):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":k.offset,"Upload-Length":n.size,"Upload-Name":n.name},z=k.request=Pn(R(k.data),G,{...m,headers:D});z.onload=C=>{$(C,k.index,d.length),k.status=qt.COMPLETE,k.request=null,P()},z.onprogress=(C,L,U)=>{k.progress=C?L:null,_()},z.onerror=C=>{k.status=qt.ERROR,k.request=null,k.error=M(C.response)||C.statusText,A(k)||o(Ve("error",C.status,M(C.response)||C.statusText,C.getAllResponseHeaders()))},z.ontimeout=C=>{k.status=qt.ERROR,k.request=null,A(k)||An(o)(C)},z.onabort=()=>{k.status=qt.QUEUED,k.request=null,u()}},A=k=>k.retries.length===0?!1:(k.status=qt.WAITING,clearTimeout(k.timeout),k.timeout=setTimeout(()=>{O(k)},k.retries.shift()),!0),_=()=>{const k=d.reduce((M,$)=>M===null||$.progress===null?null:M+$.progress,0);if(k===null)return l(!1,0,0);const R=d.reduce((M,$)=>M+$.size,0);l(!0,k,R)},P=()=>{d.filter(R=>R.status===qt.PROCESSING).length>=1||O()},I=()=>{d.forEach(k=>{clearTimeout(k.timeout),k.request&&k.request.abort()})};return v.serverId?j(k=>{v.aborted||(d.filter(R=>R.offset<k).forEach(R=>{R.status=qt.COMPLETE,R.progress=R.size}),P())}):b(k=>{v.aborted||(f(k),v.serverId=k,P())}),{abort:()=>{v.aborted=!0,I()}}},zH=(e,t,r,n)=>(a,s,o,l,u,f,c)=>{if(!a)return;const d=n.chunkUploads,h=d&&a.size>n.chunkSize,m=d&&(h||n.chunkForce);if(a instanceof Blob&&m)return FH(e,t,r,a,s,o,l,u,f,c,n);const p=t.ondata||(j=>j),g=t.onload||(j=>j),v=t.onerror||(j=>null),y=typeof t.headers=="function"?t.headers(a,s)||{}:{...t.headers},x={...t,headers:y};var w=new FormData;dt(s)&&w.append(r,JSON.stringify(s)),(a instanceof Blob?[{name:null,file:a}]:a).forEach(j=>{w.append(r,j.file,j.name===null?j.file.name:`${j.name}${j.file.name}`)});const b=Pn(p(w),ti(e,t.url),x);return b.onload=j=>{o(Ve("load",j.status,g(j.response),j.getAllResponseHeaders()))},b.onerror=j=>{l(Ve("error",j.status,v(j.response)||j.statusText,j.getAllResponseHeaders()))},b.ontimeout=An(l),b.onprogress=u,b.onabort=f,b},UH=(e="",t,r,n)=>typeof t=="function"?(...a)=>t(r,...a,n):!t||!Ot(t.url)?null:zH(e,t,r,n),Xa=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return(a,s)=>s();const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o)=>{const l=Pn(a,e+t.url,t);return l.onload=u=>{s(Ve("load",u.status,r(u.response),u.getAllResponseHeaders()))},l.onerror=u=>{o(Ve("error",u.status,n(u.response)||u.statusText,u.getAllResponseHeaders()))},l.ontimeout=An(o),l}},_j=(e=0,t=1)=>e+Math.random()*(t-e),HH=(e,t=1e3,r=0,n=25,a=250)=>{let s=null;const o=Date.now(),l=()=>{let u=Date.now()-o,f=_j(n,a);u+f>t&&(f=u+f-t);let c=u/t;if(c>=1||document.hidden){e(1);return}e(c),s=setTimeout(l,f)};return t>0&&l(),{clear:()=>{clearTimeout(s)}}},qH=(e,t)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,a=(c,d)=>{const h=()=>{r.duration===0||r.progress===null||f.fire("progress",f.getProgress())},m=()=>{r.complete=!0,f.fire("load-perceived",r.response.body)};f.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=HH(p=>{r.perceivedProgress=p,r.perceivedDuration=Date.now()-r.timestamp,h(),r.response&&r.perceivedProgress===1&&!r.complete&&m()},n?_j(750,1500):0),r.request=e(c,d,p=>{r.response=dt(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,f.fire("load",r.response.body),(!n||n&&r.perceivedProgress===1)&&m()},p=>{r.perceivedPerformanceUpdater.clear(),f.fire("error",dt(p)?p:{type:"error",code:0,body:`${p}`})},(p,g,v)=>{r.duration=Date.now()-r.timestamp,r.progress=p?g/v:null,h()},()=>{r.perceivedPerformanceUpdater.clear(),f.fire("abort",r.response?r.response.body:null)},p=>{f.fire("transfer",p)})},s=()=>{r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},o=()=>{s(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},l=n?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,u=n?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,f={...lc(),process:a,abort:s,getProgress:l,getDuration:u,reset:o};return f},Ej=e=>e.substring(0,e.lastIndexOf("."))||e,GH=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||ud(e)?t[0]=e.name||wj():ud(e)?(t[1]=e.length,t[2]=Nj(e)):Ot(e)&&(t[0]=Wi(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},kn=e=>!!(e instanceof File||e instanceof Blob&&e.name),Oj=e=>{if(!dt(e))return e;const t=ic(e)?[]:{};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t[r]=n&&dt(n)?Oj(n):n}return t},VH=(e=null,t=null,r=null)=>{const n=Fh(),a={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ve.PROCESSING_COMPLETE:ve.INIT,activeLoader:null,activeProcessor:null};let s=null;const o={},l=T=>a.status=T,u=(T,...O)=>{a.released||a.frozen||S.fire(T,...O)},f=()=>cc(a.file.name),c=()=>a.file.type,d=()=>a.file.size,h=()=>a.file,m=(T,O,A)=>{if(a.source=T,S.fireSync("init"),a.file){S.fireSync("load-skip");return}a.file=GH(T),O.on("init",()=>{u("load-init")}),O.on("meta",_=>{a.file.size=_.size,a.file.filename=_.filename,_.source&&(e=ct.LIMBO,a.serverFileReference=_.source,a.status=ve.PROCESSING_COMPLETE),u("load-meta")}),O.on("progress",_=>{l(ve.LOADING),u("load-progress",_)}),O.on("error",_=>{l(ve.LOAD_ERROR),u("load-request-error",_)}),O.on("abort",()=>{l(ve.INIT),u("load-abort")}),O.on("load",_=>{a.activeLoader=null;const P=k=>{a.file=kn(k)?k:a.file,e===ct.LIMBO&&a.serverFileReference?l(ve.PROCESSING_COMPLETE):l(ve.IDLE),u("load")},I=k=>{a.file=_,u("load-meta"),l(ve.LOAD_ERROR),u("load-file-error",k)};if(a.serverFileReference){P(_);return}A(_,P,I)}),O.setSource(T),a.activeLoader=O,O.load()},p=()=>{a.activeLoader&&a.activeLoader.load()},g=()=>{if(a.activeLoader){a.activeLoader.abort();return}l(ve.INIT),u("load-abort")},v=(T,O)=>{if(a.processingAborted){a.processingAborted=!1;return}if(l(ve.PROCESSING),s=null,!(a.file instanceof Blob)){S.on("load",()=>{v(T,O)});return}T.on("load",P=>{a.transferId=null,a.serverFileReference=P}),T.on("transfer",P=>{a.transferId=P}),T.on("load-perceived",P=>{a.activeProcessor=null,a.transferId=null,a.serverFileReference=P,l(ve.PROCESSING_COMPLETE),u("process-complete",P)}),T.on("start",()=>{u("process-start")}),T.on("error",P=>{a.activeProcessor=null,l(ve.PROCESSING_ERROR),u("process-error",P)}),T.on("abort",P=>{a.activeProcessor=null,a.serverFileReference=P,l(ve.IDLE),u("process-abort"),s&&s()}),T.on("progress",P=>{u("process-progress",P)});const A=P=>{a.archived||T.process(P,{...o})},_=console.error;O(a.file,A,_),a.activeProcessor=T},y=()=>{a.processingAborted=!1,l(ve.PROCESSING_QUEUED)},x=()=>new Promise(T=>{if(!a.activeProcessor){a.processingAborted=!0,l(ve.IDLE),u("process-abort"),T();return}s=()=>{T()},a.activeProcessor.abort()}),w=(T,O)=>new Promise((A,_)=>{const P=a.serverFileReference!==null?a.serverFileReference:a.transferId;if(P===null){A();return}T(P,()=>{a.serverFileReference=null,a.transferId=null,A()},I=>{if(!O){A();return}l(ve.PROCESSING_REVERT_ERROR),u("process-revert-error"),_(I)}),l(ve.IDLE),u("process-revert")}),b=(T,O,A)=>{const _=T.split("."),P=_[0],I=_.pop();let k=o;_.forEach(R=>k=k[R]),JSON.stringify(k[I])!==JSON.stringify(O)&&(k[I]=O,u("metadata-update",{key:P,value:o[P],silent:A}))},S={id:{get:()=>n},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>a.serverFileReference},transferId:{get:()=>a.transferId},status:{get:()=>a.status},filename:{get:()=>a.file.name},filenameWithoutExtension:{get:()=>Ej(a.file.name)},fileExtension:{get:f},fileType:{get:c},fileSize:{get:d},file:{get:h},relativePath:{get:()=>a.file._relativePath},source:{get:()=>a.source},getMetadata:T=>Oj(T?o[T]:o),setMetadata:(T,O,A)=>{if(dt(T)){const _=T;return Object.keys(_).forEach(P=>{b(P,_[P],O)}),T}return b(T,O,A),O},extend:(T,O)=>E[T]=O,abortLoad:g,retryLoad:p,requestProcessing:y,abortProcessing:x,load:m,process:v,revert:w,...lc(),freeze:()=>a.frozen=!0,release:()=>a.released=!0,released:{get:()=>a.released},archive:()=>a.archived=!0,archived:{get:()=>a.archived},setFile:T=>a.file=T},E=nn(S);return E},WH=(e,t)=>Rr(t)?0:Ot(t)?e.findIndex(r=>r.id===t):-1,Sv=(e,t)=>{const r=WH(e,t);if(!(r<0))return e[r]||null},Tv=(e,t,r,n,a,s)=>{const o=Pn(null,e,{method:"GET",responseType:"blob"});return o.onload=l=>{const u=l.getAllResponseHeaders(),f=Hh(u).name||Wi(e);t(Ve("load",l.status,ma(l.response,f),u))},o.onerror=l=>{r(Ve("error",l.status,l.statusText,l.getAllResponseHeaders()))},o.onheaders=l=>{s(Ve("headers",l.status,null,l.getAllResponseHeaders()))},o.ontimeout=An(r),o.onprogress=n,o.onabort=a,o},Pv=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),KH=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Pv(location.href)!==Pv(e),Ns=e=>(...t)=>Nn(e)?e(...t):e,YH=e=>!kn(e.file),Fc=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:ir(t.items)})},0)},Av=(e,...t)=>new Promise(r=>{if(!e)return r(!0);const n=e(...t);if(n==null)return r(!0);if(typeof n=="boolean")return r(n);typeof n.then=="function"&&n.then(r)}),zc=(e,t)=>{e.items.sort((r,n)=>t(Tt(r),Tt(n)))},Gt=(e,t)=>({query:r,success:n=()=>{},failure:a=()=>{},...s}={})=>{const o=_n(e.items,r);if(!o){a({error:Ve("error",0,"Item not found"),file:null});return}t(o,n,a,s||{})},XH=(e,t,r)=>({ABORT_ALL:()=>{ir(r.items).forEach(n=>{n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:({value:n=[]})=>{const a=n.map(o=>({source:o.source?o.source:o,options:o.options}));let s=ir(r.items);s.forEach(o=>{a.find(l=>l.source===o.source||l.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),s=ir(r.items),a.forEach((o,l)=>{s.find(u=>u.source===o.source||u.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Kt.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:n,action:a,change:s})=>{s.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(()=>{const o=Sv(r.items,n);if(!t("IS_ASYNC")){tr("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:a,change:s}).then(c=>{const d=t("GET_BEFORE_PREPARE_FILE");d&&(c=d(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:o,success:h=>{e("DID_PREPARE_OUTPUT",{id:n,file:h})}},!0)});return}o.origin===ct.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:n})},32)},u=c=>{o.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(c?l:()=>{}).catch(()=>{})},f=c=>{o.abortProcessing().then(c?l:()=>{})};if(o.status===ve.PROCESSING_COMPLETE)return u(r.options.instantUpload);if(o.status===ve.PROCESSING)return f(r.options.instantUpload);r.options.instantUpload&&l()},0))},MOVE_ITEM:({query:n,index:a})=>{const s=_n(r.items,n);if(!s)return;const o=r.items.indexOf(s);a=bj(a,0,r.items.length-1),o!==a&&r.items.splice(a,0,r.items.splice(o,1)[0])},SORT:({compare:n})=>{zc(r,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:n,index:a,interactionMethod:s,success:o=()=>{},failure:l=()=>{}})=>{let u=a;if(a===-1||typeof a>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");u=m==="before"?0:p}const f=t("GET_IGNORED_FILES"),c=m=>kn(m)?!f.includes(m.name.toLowerCase()):!Rr(m),h=n.filter(c).map(m=>new Promise((p,g)=>{e("ADD_ITEM",{interactionMethod:s,source:m.source||m,success:p,failure:g,index:u++,options:m.options||{}})}));Promise.all(h).then(o).catch(l)},ADD_ITEM:({source:n,index:a=-1,interactionMethod:s,success:o=()=>{},failure:l=()=>{},options:u={}})=>{if(Rr(n)){l({error:Ve("error",0,"No source"),file:null});return}if(kn(n)&&r.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!OH(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const x=Ve("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:n,error:x}),l({error:x,file:null});return}const y=ir(r.items)[0];if(y.status===ve.PROCESSING_COMPLETE||y.status===ve.PROCESSING_REVERT_ERROR){const x=t("GET_FORCE_REVERT");if(y.revert(Xa(r.options.server.url,r.options.server.revert),x).then(()=>{x&&e("ADD_ITEM",{source:n,index:a,interactionMethod:s,success:o,failure:l,options:u})}).catch(()=>{}),x)return}e("REMOVE_ITEM",{query:y.id})}const f=u.type==="local"?ct.LOCAL:u.type==="limbo"?ct.LIMBO:ct.INPUT,c=VH(f,f===ct.INPUT?null:n,u.file);Object.keys(u.metadata||{}).forEach(y=>{c.setMetadata(y,u.metadata[y])}),Wn("DID_CREATE_ITEM",c,{query:t,dispatch:e});const d=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(a=d==="before"?-1:r.items.length),TH(r.items,c,a),Nn(d)&&n&&zc(r,d);const h=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),c.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:y})}),c.on("load-request-error",y=>{const x=Ns(r.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:y,status:{main:x,sub:`${y.code} (${y.body})`}}),l({error:y,file:Tt(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:y,status:{main:x,sub:r.options.labelTapToRetry}})}),c.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:h,error:y.status,status:y.status}),l({error:y.status,file:Tt(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),c.on("load-skip",()=>{c.on("metadata-update",y=>{kn(c.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:y})}),e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}})}),c.on("load",()=>{const y=x=>{if(!x){e("REMOVE_ITEM",{query:h});return}c.on("metadata-update",w=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:w})}),tr("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(w=>{const b=t("GET_BEFORE_PREPARE_FILE");b&&(w=b(c,w));const j=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}}),Fc(e,r)};if(w){e("REQUEST_PREPARE_OUTPUT",{query:h,item:c,success:S=>{e("DID_PREPARE_OUTPUT",{id:h,file:S}),j()}},!0);return}j()})};tr("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Av(t("GET_BEFORE_ADD_FILE"),Tt(c)).then(y)}).catch(x=>{if(!x||!x.error||!x.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:x.error,status:x.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),c.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:y})}),c.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:y,status:{main:Ns(r.options.labelFileProcessingError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:y,status:{main:Ns(r.options.labelFileProcessingRevertError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:h,value:y})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:a,interactionMethod:s}),Fc(e,r);const{url:m,load:p,restore:g,fetch:v}=r.options.server||{};c.load(n,$H(f===ct.INPUT?Ot(n)&&KH(n)&&v?$c(m,v):Tv:f===ct.LIMBO?$c(m,g):$c(m,p)),(y,x,w)=>{tr("LOAD_FILE",y,{query:t}).then(x).catch(w)})},REQUEST_PREPARE_OUTPUT:({item:n,success:a,failure:s=()=>{}})=>{const o={error:Ve("error",0,"Item not found"),file:null};if(n.archived)return s(o);tr("PREPARE_OUTPUT",n.file,{query:t,item:n}).then(l=>{tr("COMPLETE_PREPARE_OUTPUT",l,{query:t,item:n}).then(u=>{if(n.archived)return s(o);a(u)})})},COMPLETE_LOAD_ITEM:({item:n,data:a})=>{const{success:s,source:o}=a,l=t("GET_ITEM_INSERT_LOCATION");if(Nn(l)&&o&&zc(r,l),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===ct.INPUT?null:o}),s(Tt(n)),n.origin===ct.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===ct.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||o});return}t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id})},RETRY_ITEM_LOAD:Gt(r,n=>{n.retryLoad()}),REQUEST_ITEM_PREPARE:Gt(r,(n,a,s)=>{e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:o=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:o}),a({file:n,output:o})},failure:s},!0)}),REQUEST_ITEM_PROCESSING:Gt(r,(n,a,s)=>{if(!(n.status===ve.IDLE||n.status===ve.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:a,failure:s}),u=()=>document.hidden?l():setTimeout(l,32);n.status===ve.PROCESSING_COMPLETE||n.status===ve.PROCESSING_REVERT_ERROR?n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(u).catch(()=>{}):n.status===ve.PROCESSING&&n.abortProcessing().then(u);return}n.status!==ve.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:a,failure:s},!0))}),PROCESS_ITEM:Gt(r,(n,a,s)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ve.PROCESSING).length===o){r.processingQueue.push({id:n.id,success:a,failure:s});return}if(n.status===ve.PROCESSING)return;const u=()=>{const c=r.processingQueue.shift();if(!c)return;const{id:d,success:h,failure:m}=c,p=_n(r.items,d);if(!p||p.archived){u();return}e("PROCESS_ITEM",{query:d,success:h,failure:m},!0)};n.onOnce("process-complete",()=>{a(Tt(n)),u();const c=r.options.server;if(r.options.instantUpload&&n.origin===ct.LOCAL&&Nn(c.remove)){const m=()=>{};n.origin=ct.LIMBO,r.options.server.remove(n.source,m,m)}t("GET_ITEMS_BY_STATUS",ve.PROCESSING_COMPLETE).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",c=>{s({error:c,file:Tt(n)}),u()});const f=r.options;n.process(qH(UH(f.server.url,f.server.process,f.name,{chunkTransferId:n.transferId,chunkServer:f.server.patch,chunkUploads:f.chunkUploads,chunkForce:f.chunkForce,chunkSize:f.chunkSize,chunkRetryDelays:f.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,d,h)=>{tr("PREPARE_OUTPUT",c,{query:t,item:n}).then(m=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:m}),d(m)}).catch(h)})}),RETRY_ITEM_PROCESSING:Gt(r,n=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:Gt(r,n=>{Av(t("GET_BEFORE_REMOVE_FILE"),Tt(n)).then(a=>{a&&e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:Gt(r,n=>{n.release()}),REMOVE_ITEM:Gt(r,(n,a,s,o)=>{const l=()=>{const f=n.id;Sv(r.items,f).archive(),e("DID_REMOVE_ITEM",{error:null,id:f,item:n}),Fc(e,r),a(Tt(n))},u=r.options.server;n.origin===ct.LOCAL&&u&&Nn(u.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:n.id}),u.remove(n.source,()=>l(),f=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:Ve("error",0,f,null),status:{main:Ns(r.options.labelFileRemoveError)(f),sub:r.options.labelTapToRetry}})})):((o.revert&&n.origin!==ct.LOCAL&&n.serverId!==null||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:Gt(r,n=>{n.abortLoad()}),ABORT_ITEM_PROCESSING:Gt(r,n=>{if(n.serverId){e("REVERT_ITEM_PROCESSING",{id:n.id});return}n.abortProcessing().then(()=>{r.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Gt(r,n=>{if(!r.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:n});return}const a=l=>{l&&e("REVERT_ITEM_PROCESSING",{query:n})},s=t("GET_BEFORE_REMOVE_FILE");if(!s)return a(!0);const o=s(Tt(n));if(o==null)return a(!0);if(typeof o=="boolean")return a(o);typeof o.then=="function"&&o.then(a)}),REVERT_ITEM_PROCESSING:Gt(r,n=>{n.revert(Xa(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(r.options.instantUpload||YH(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(()=>{})}),SET_OPTIONS:({options:n})=>{const a=Object.keys(n),s=ZH.filter(l=>a.includes(l));[...s,...Object.keys(n).filter(l=>!s.includes(l))].forEach(l=>{e(`SET_${oc(l,"_").toUpperCase()}`,{value:n[l]})})}}),ZH=["server"],qh=e=>e,Lr=e=>document.createElement(e),We=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},kv=(e,t,r,n)=>{const a=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}},QH=(e,t,r,n,a,s)=>{const o=kv(e,t,r,a),l=kv(e,t,r,n);return["M",o.x,o.y,"A",r,r,0,s,0,l.x,l.y].join(" ")},JH=(e,t,r,n,a)=>{let s=1;return a>n&&a-n<=.5&&(s=0),n>a&&n-a>=.5&&(s=0),QH(e,t,r,Math.min(.9999,n)*360,Math.min(.9999,a)*360,s)},eq=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=Do("svg");e.ref.path=Do("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},tq=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const r=parseInt(rt(e.ref.path,"stroke-width"),10),n=e.rect.element.width*.5;let a=0,s=0;t.spin?(a=0,s=.5):(a=0,s=t.progress);const o=JH(n,n,n-r,a,s);rt(e.ref.path,"d",o),rt(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Iv=et({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:eq,write:tq,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),rq=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},nq=({root:e,props:t})=>{const{isDisabled:r}=t,n=e.query("GET_DISABLED")||t.opacity===0;n&&!r?(t.isDisabled=!0,rt(e.element,"disabled","disabled")):!n&&r&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Sj=et({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:rq,write:nq}),Tj=(e,t=".",r=1e3,n={})=>{const{labelBytes:a="bytes",labelKilobytes:s="KB",labelMegabytes:o="MB",labelGigabytes:l="GB"}=n;e=Math.round(Math.abs(e));const u=r,f=r*r,c=r*r*r;return e<u?`${e} ${a}`:e<f?`${Math.floor(e/u)} ${s}`:e<c?`${Cv(e/f,1,t)} ${o}`:`${Cv(e/c,2,t)} ${l}`},Cv=(e,t,r)=>e.toFixed(t).split(".").filter(n=>n!=="0").join(r),aq=({root:e,props:t})=>{const r=Lr("span");r.className="filepond--file-info-main",rt(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const n=Lr("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,We(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),We(r,qh(e.query("GET_ITEM_NAME",t.id)))},dd=({root:e,props:t})=>{We(e.ref.fileSize,Tj(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),We(e.ref.fileName,qh(e.query("GET_ITEM_NAME",t.id)))},Mv=({root:e,props:t})=>{if(La(e.query("GET_ITEM_SIZE",t.id))){dd({root:e,props:t});return}We(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},iq=et({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:St({DID_LOAD_ITEM:dd,DID_UPDATE_ITEM_META:dd,DID_THROW_ITEM_LOAD_ERROR:Mv,DID_THROW_ITEM_INVALID:Mv}),didCreateView:e=>{Wn("CREATE_VIEW",{...e,view:e})},create:aq,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Pj=e=>Math.round(e*100),sq=({root:e})=>{const t=Lr("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const r=Lr("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Aj({root:e,action:{progress:null}})},Aj=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Pj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},oq=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Pj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},lq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},cq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},uq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Dv=({root:e})=>{We(e.ref.main,""),We(e.ref.sub,"")},Za=({root:e,action:t})=>{We(e.ref.main,t.status.main),We(e.ref.sub,t.status.sub)},dq=et({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:St({DID_LOAD_ITEM:Dv,DID_REVERT_ITEM_PROCESSING:Dv,DID_REQUEST_ITEM_PROCESSING:lq,DID_ABORT_ITEM_PROCESSING:cq,DID_COMPLETE_ITEM_PROCESSING:uq,DID_UPDATE_ITEM_PROCESS_PROGRESS:oq,DID_UPDATE_ITEM_LOAD_PROGRESS:Aj,DID_THROW_ITEM_LOAD_ERROR:Za,DID_THROW_ITEM_INVALID:Za,DID_THROW_ITEM_PROCESSING_ERROR:Za,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Za,DID_THROW_ITEM_REMOVE_ERROR:Za}),didCreateView:e=>{Wn("CREATE_VIEW",{...e,view:e})},create:sq,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),fd={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},hd=[];qe(fd,e=>{hd.push(e)});const Ct=e=>{if(md(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},fq=e=>e.ref.buttonAbortItemLoad.rect.element.width,_s=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),hq=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),mq=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),pq=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),md=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),gq={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:mq},processProgressIndicator:{opacity:0,align:pq},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Rv={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct}},Uc={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ra={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:md},info:{translateX:Ct},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:md},buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{opacity:1,translateX:Ct}},DID_LOAD_ITEM:Rv,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Ct},status:{translateX:Ct}},DID_START_ITEM_PROCESSING:Uc,DID_REQUEST_ITEM_PROCESSING:Uc,DID_UPDATE_ITEM_PROCESS_PROGRESS:Uc,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Ct}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ct},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Rv},vq=et({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),yq=({root:e,props:t})=>{const r=Object.keys(fd).reduce((p,g)=>(p[g]={...fd[g]},p),{}),{id:n}=t,a=e.query("GET_ALLOW_REVERT"),s=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),u=e.query("IS_ASYNC"),f=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;u?o&&!a?c=p=>!/RevertItemProcessing/.test(p):!o&&a?c=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!o&&!a&&(c=p=>!/Process/.test(p)):c=p=>!/Process/.test(p);const d=c?hd.filter(c):hd.concat();if(l&&a&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),u&&!a){const p=ra.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=hq,p.info.translateY=_s,p.status.translateY=_s,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{ra[p].status.translateY=_s}),ra.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=fq),f&&a){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=ra.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Ct,p.status.translateY=_s,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(r.RemoveItem.disabled=!0),qe(r,(p,g)=>{const v=e.createChildView(Sj,{label:e.query(g.label),icon:e.query(g.icon),opacity:0});d.includes(p)&&e.appendChildView(v),g.disabled&&(v.element.setAttribute("disabled","disabled"),v.element.setAttribute("hidden","hidden")),v.element.dataset.align=e.query(`GET_STYLE_${g.align}`),v.element.classList.add(g.className),v.on("click",y=>{y.stopPropagation(),!g.disabled&&e.dispatch(g.action,{query:n})}),e.ref[`button${p}`]=v}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(vq)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(iq,{id:n})),e.ref.status=e.appendChildView(e.createChildView(dq,{id:n}));const h=e.appendChildView(e.createChildView(Iv,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const m=e.appendChildView(e.createChildView(Iv,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},xq=({root:e,actions:t,props:r})=>{bq({root:e,actions:t,props:r});let n=t.concat().filter(a=>/^DID_/.test(a.type)).reverse().find(a=>ra[a.type]);if(n){e.ref.activeStyles=[];const a=ra[n.type];qe(gq,(s,o)=>{const l=e.ref[s];qe(o,(u,f)=>{const c=a[s]&&typeof a[s][u]<"u"?a[s][u]:f;e.ref.activeStyles.push({control:l,key:u,value:c})})})}e.ref.activeStyles.forEach(({control:a,key:s,value:o})=>{a[s]=typeof o=="function"?o(e):o})},bq=St({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),wq=et({create:yq,write:xq,didCreateView:e=>{Wn("CREATE_VIEW",{...e,view:e})},name:"file"}),jq=({root:e,props:t})=>{e.ref.fileName=Lr("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(wq,{id:t.id})),e.ref.data=!1},Nq=({root:e,props:t})=>{We(e.ref.fileName,qh(e.query("GET_ITEM_NAME",t.id)))},_q=et({create:jq,ignoreRect:!0,write:St({DID_LOAD_ITEM:Nq}),didCreateView:e=>{Wn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Lv={type:"spring",damping:.6,mass:7},Eq=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Lv},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Lv},styles:["translateY"]}}].forEach(r=>{Oq(e,r,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Oq=(e,t,r)=>{const n=et({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins,ignoreRectUpdate:!0}),a=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(a)},Sq=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=fj(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const r=e.ref.top.rect.element,n=e.ref.bottom.rect.element,a=Math.max(r.height+n.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(a-r.height-n.height)/100,e.ref.bottom.translateY=a-n.height},kj=et({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Sq,create:Eq,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Tq=e=>{const t=e.map(n=>n.id);let r;return{setIndex:n=>{r=n},getIndex:()=>r,getItemIndex:n=>t.indexOf(n.id)}},Bv={type:"spring",stiffness:.75,damping:.45,mass:10},$v="spring",Fv={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Pq=({root:e,props:t})=>{if(e.ref.handleClick=n=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(_q,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(kj,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const r=n=>{if(!n.isPrimary)return;let a=!1;const s={x:n.pageX,y:n.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:n.offsetX,y:n.offsetY};const o=Tq(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const l=d=>{if(!d.isPrimary)return;d.stopPropagation(),d.preventDefault(),t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!a&&(a=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},u=d=>{d.isPrimary&&(t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},c())},f=()=>{c()},c=()=>{document.removeEventListener("pointercancel",f),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",u),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),a&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",f),document.addEventListener("pointermove",l),document.addEventListener("pointerup",u)};e.element.addEventListener("pointerdown",r)},Aq=St({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),kq=St({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:r,shouldOptimize:n})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let a=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Fv[o.type]);a&&a.type!==r.currentState&&(r.currentState=a.type,e.element.dataset.filepondItemState=Fv[r.currentState]||"");const s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?n||(e.height=e.rect.element.width*s):(Aq({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Iq=et({create:Pq,write:kq,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:$v,scaleY:$v,translateX:Bv,translateY:Bv,opacity:{type:"tween",duration:150}}}});var Gh=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Vh=(e,t,r)=>{if(!r)return;const n=e.rect.element.width,a=t.length;let s=null;if(a===0||r.top<t[0].rect.element.top)return-1;const l=t[0].rect.element,u=l.marginLeft+l.marginRight,f=l.width+u,c=Gh(n,f);if(c===1){for(let m=0;m<a;m++){const p=t[m],g=p.rect.outer.top+p.rect.element.height*.5;if(r.top<g)return m}return a}const d=l.marginTop+l.marginBottom,h=l.height+d;for(let m=0;m<a;m++){const p=m%c,g=Math.floor(m/c),v=p*f,y=g*h,x=y-l.marginTop,w=v+f,b=y+h+l.marginBottom;if(r.top<b&&r.top>x){if(r.left<w)return m;m!==a-1?s=m:s=null}}return s!==null?s:a},Es={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)}},Cq=({root:e})=>{rt(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Mq=({root:e,action:t})=>{const{id:r,index:n,interactionMethod:a}=t;e.ref.addIndex=n;const s=Date.now();let o=s,l=1;if(a!==Kt.NONE){l=0;const u=e.query("GET_ITEM_INSERT_INTERVAL"),f=s-e.ref.lastItemSpanwDate;o=f<u?s+(u-f):s}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Iq,{spawnDate:o,id:r,opacity:l,interactionMethod:a}),n)},zv=(e,t,r,n=0,a=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(e.opacity===0&&Dq(e,t,r,n,a),e.scaleX=1,e.scaleY=1,e.opacity=1))},Dq=(e,t,r,n,a)=>{e.interactionMethod===Kt.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===Kt.DROP?(e.translateX=null,e.translateX=t-n*20,e.translateY=null,e.translateY=r-a*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Kt.BROWSE?(e.translateY=null,e.translateY=r-30):e.interactionMethod===Kt.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Rq=({root:e,action:t})=>{const{id:r}=t,n=e.childViews.find(a=>a.id===r);n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},Hc=e=>e.rect.element.height+e.rect.element.marginBottom+e.rect.element.marginTop,Lq=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Bq=({root:e,action:t})=>{const{id:r,dragState:n}=t,a=e.query("GET_ITEM",{id:r}),s=e.childViews.find(v=>v.id===r),o=e.childViews.length,l=n.getItemIndex(a);if(!s)return;const u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},f=Hc(s),c=Lq(s);let d=Math.floor(e.rect.outer.width/c);d>o&&(d=o);const h=Math.floor(o/d+1);Es.setHeight=f*h,Es.setWidth=c*d;var m={y:Math.floor(u.y/f),x:Math.floor(u.x/c),getGridIndex:function(){return u.y>Es.getHeight||u.y<0||u.x>Es.getWidth||u.x<0?l:this.y*d+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),x=e.childViews.filter(_=>_.rect.element.height),w=y.map(_=>x.find(P=>P.id===_.id)),b=w.findIndex(_=>_===s),j=Hc(s),S=w.length;let E=S,T=0,O=0,A=0;for(let _=0;_<S;_++)if(T=Hc(w[_]),A=O,O=A+T,u.y<O){if(b>_){if(u.y<A+j){E=_;break}continue}E=_;break}return E}};const p=d>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:s,index:p});const g=n.getIndex();if(g===void 0||g!==p){if(n.setIndex(p),g===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:p})}},$q=St({DID_ADD_ITEM:Mq,DID_REMOVE_ITEM:Rq,DID_DRAG_ITEM:Bq}),Fq=({root:e,props:t,actions:r,shouldOptimize:n})=>{$q({root:e,props:t,actions:r});const{dragCoordinates:a}=t,s=e.rect.element.width,o=e.childViews.filter(w=>w.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(w=>o.find(b=>b.id===w.id)).filter(w=>w),u=a?Vh(e,l,a):null,f=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,d=0,h=0;if(l.length===0)return;const m=l[0].rect.element,p=m.marginTop+m.marginBottom,g=m.marginLeft+m.marginRight,v=m.width+g,y=m.height+p,x=Gh(s,v);if(x===1){let w=0,b=0;l.forEach((j,S)=>{if(u){let O=S-u;O===-2?b=-p*.25:O===-1?b=-p*.75:O===0?b=p*.75:O===1?b=p*.25:b=0}n&&(j.translateX=null,j.translateY=null),j.markedForRemoval||zv(j,0,w+b);let T=(j.rect.element.height+p)*(j.markedForRemoval?j.opacity:1);w+=T})}else{let w=0,b=0;l.forEach((j,S)=>{S===u&&(c=1),S===f&&(h+=1),j.markedForRemoval&&j.opacity<.5&&(d-=1);const E=S+h+c+d,T=E%x,O=Math.floor(E/x),A=T*v,_=O*y,P=Math.sign(A-w),I=Math.sign(_-b);w=A,b=_,!j.markedForRemoval&&(n&&(j.translateX=null,j.translateY=null),zv(j,A,_,P,I))})}},zq=(e,t)=>t.filter(r=>r.data&&r.data.id?e.id===r.data.id:!0),Uq=et({create:Cq,write:Fq,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:zq,mixins:{apis:["dragCoordinates"]}}),Hq=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Uq)),t.dragCoordinates=null,t.overflowing=!1},qq=({root:e,props:t,action:r})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Gq=({props:e})=>{e.dragCoordinates=null},Vq=St({DID_DRAG:qq,DID_END_DRAG:Gq}),Wq=({root:e,props:t,actions:r})=>{if(Vq({root:e,props:t,actions:r}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const n=Math.round(t.overflow);n!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=n)}},Kq=et({create:Hq,write:Wq,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),sr=(e,t,r,n="")=>{r?rt(e,t,n):e.removeAttribute(t)},Yq=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Lr("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}},Xq=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,rt(e.element,"name",e.query("GET_NAME")),rt(e.element,"aria-controls",`filepond--assistant-${t.id}`),rt(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Ij({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Cj({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Mj({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),pd({root:e}),Dj({root:e,action:{value:e.query("GET_REQUIRED")}}),Rj({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=r=>{if(!e.element.value)return;const n=Array.from(e.element.files).map(a=>(a._relativePath=a.webkitRelativePath,a));setTimeout(()=>{t.onload(n),Yq(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Ij=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&sr(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Cj=({root:e,action:t})=>{sr(e.element,"multiple",t.value)},Mj=({root:e,action:t})=>{sr(e.element,"webkitdirectory",t.value)},pd=({root:e})=>{const t=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),n=t||!r;sr(e.element,"disabled",n)},Dj=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&sr(e.element,"required",!0):sr(e.element,"required",!1)},Rj=({root:e,action:t})=>{sr(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Uv=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){sr(t,"required",!1),sr(t,"name",!1);const r=e.query("GET_ACTIVE_ITEMS");let n=!1;for(let a=0;a<r.length;a++)r[a].status===ve.LOAD_ERROR&&(n=!0);e.element.setCustomValidity(n?e.query("GET_LABEL_INVALID_FIELD"):"")}else sr(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&sr(t,"required",!0)},Zq=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Qq=et({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Xq,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:St({DID_LOAD_ITEM:Uv,DID_REMOVE_ITEM:Uv,DID_THROW_ITEM_INVALID:Zq,DID_SET_DISABLED:pd,DID_SET_ALLOW_BROWSE:pd,DID_SET_ALLOW_DIRECTORIES_ONLY:Mj,DID_SET_ALLOW_MULTIPLE:Cj,DID_SET_ACCEPTED_FILE_TYPES:Ij,DID_SET_CAPTURE_METHOD:Rj,DID_SET_REQUIRED:Dj})}),Hv={ENTER:13,SPACE:32},Jq=({root:e,props:t})=>{const r=Lr("label");rt(r,"for",`filepond--browser-${t.id}`),rt(r,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=n=>{(n.keyCode===Hv.ENTER||n.keyCode===Hv.SPACE)&&(n.preventDefault(),e.ref.label.click())},e.ref.handleClick=n=>{n.target===r||r.contains(n.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Lj(r,t.caption),e.appendChild(r),e.ref.label=r},Lj=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&rt(r,"tabindex","0"),t},eG=et({name:"drop-label",ignoreRect:!0,create:Jq,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:St({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Lj(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),tG=et({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),rG=({root:e})=>{const t=e.rect.element.width*.5,r=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(tG,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))},nG=({root:e,action:t})=>{if(!e.ref.blob){rG({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},aG=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},iG=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},sG=({root:e,props:t,actions:r})=>{oG({root:e,props:t,actions:r});const{blob:n}=e.ref;r.length===0&&n&&n.opacity===0&&(e.removeChildView(n),e.ref.blob=null)},oG=St({DID_DRAG:nG,DID_DROP:iG,DID_END_DRAG:aG}),lG=et({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:sG}),Bj=(e,t)=>{try{const r=new DataTransfer;t.forEach(n=>{n instanceof File?r.items.add(n):r.items.add(new File([n],n.name,{type:n.type}))}),e.files=r.files}catch{return!1}return!0},cG=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},uc=(e,t)=>e.ref.fields[t],Wh=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},qv=({root:e})=>Wh(e),uG=({root:e,action:t})=>{const a=!(e.query("GET_ITEM",t.id).origin===ct.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),s=Lr("input");s.type=a?"file":"hidden",s.name=e.query("GET_NAME"),e.ref.fields[t.id]=s,Wh(e)},dG=({root:e,action:t})=>{const r=uc(e,t.id);if(!r||(t.serverFileReference!==null&&(r.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const n=e.query("GET_ITEM",t.id);Bj(r,[n.file])},fG=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const r=uc(e,t.id);r&&Bj(r,[t.file])},0)},hG=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},mG=({root:e,action:t})=>{const r=uc(e,t.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[t.id])},pG=({root:e,action:t})=>{const r=uc(e,t.id);r&&(t.value===null?r.removeAttribute("value"):r.type!="file"&&(r.value=t.value),Wh(e))},gG=St({DID_SET_DISABLED:hG,DID_ADD_ITEM:uG,DID_LOAD_ITEM:dG,DID_REMOVE_ITEM:mG,DID_DEFINE_VALUE:pG,DID_PREPARE_OUTPUT:fG,DID_REORDER_ITEMS:qv,DID_SORT_ITEMS:qv}),vG=et({tag:"fieldset",name:"data",create:cG,write:gG,ignoreRect:!0}),yG=e=>"getRootNode"in e?e.getRootNode():document,xG=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],bG=["css","csv","html","txt"],wG={zip:"zip|compressed",epub:"application/epub+zip"},$j=(e="")=>(e=e.toLowerCase(),xG.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):bG.includes(e)?"text/"+e:wG[e]||""),Kh=e=>new Promise((t,r)=>{const n=PG(e);if(n.length&&!jG(e))return t(n);NG(e).then(t)}),jG=e=>e.files?e.files.length>0:!1,NG=e=>new Promise((t,r)=>{const n=(e.items?Array.from(e.items):[]).filter(a=>_G(a)).map(a=>EG(a));if(!n.length){t(e.files?Array.from(e.files):[]);return}Promise.all(n).then(a=>{const s=[];a.forEach(o=>{s.push.apply(s,o)}),t(s.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),_G=e=>{if(Fj(e)){const t=Yh(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},EG=e=>new Promise((t,r)=>{if(TG(e)){OG(Yh(e)).then(t).catch(r);return}t([e.getAsFile()])}),OG=e=>new Promise((t,r)=>{const n=[];let a=0,s=0;const o=()=>{s===0&&a===0&&t(n)},l=u=>{a++;const f=u.createReader(),c=()=>{f.readEntries(d=>{if(d.length===0){a--,o();return}d.forEach(h=>{h.isDirectory?l(h):(s++,h.file(m=>{const p=SG(m);h.fullPath&&(p._relativePath=h.fullPath),n.push(p),s--,o()}))}),c()},r)};c()};l(e)}),SG=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,r=e.name,n=$j(cc(e.name));return n.length&&(e=e.slice(0,e.size,n),e.name=r,e.lastModifiedDate=t),e},TG=e=>Fj(e)&&(Yh(e)||{}).isDirectory,Fj=e=>"webkitGetAsEntry"in e,Yh=e=>e.webkitGetAsEntry(),PG=e=>{let t=[];try{if(t=kG(e),t.length)return t;t=AG(e)}catch{}return t},AG=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},kG=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const r=t.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},Lo=[],In=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),IG=(e,t,r)=>{const n=CG(t),a={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return a.destroy=n.addListener(a),a},CG=e=>{const t=Lo.find(n=>n.element===e);if(t)return t;const r=MG(e);return Lo.push(r),r},MG=e=>{const t=[],r={dragenter:RG,dragover:LG,dragleave:$G,drop:BG},n={};qe(r,(s,o)=>{n[s]=o(e,t),e.addEventListener(s,n[s],!1)});const a={element:e,addListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1),t.length===0&&(Lo.splice(Lo.indexOf(a),1),qe(r,o=>{e.removeEventListener(o,n[o],!1)}))})};return a},DG=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Xh=(e,t)=>{const r=yG(t),n=DG(r,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let zj=null;const Os=(e,t)=>{try{e.dropEffect=t}catch{}},RG=(e,t)=>r=>{r.preventDefault(),zj=r.target,t.forEach(n=>{const{element:a,onenter:s}=n;Xh(r,a)&&(n.state="enter",s(In(r)))})},LG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Kh(n).then(a=>{let s=!1;t.some(o=>{const{filterElement:l,element:u,onenter:f,onexit:c,ondrag:d,allowdrop:h}=o;Os(n,"copy");const m=h(a);if(!m){Os(n,"none");return}if(Xh(r,u)){if(s=!0,o.state===null){o.state="enter",f(In(r));return}if(o.state="over",l&&!m){Os(n,"none");return}d(In(r))}else l&&!s&&Os(n,"none"),o.state&&(o.state=null,c(In(r)))})})},BG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Kh(n).then(a=>{t.forEach(s=>{const{filterElement:o,element:l,ondrop:u,onexit:f,allowdrop:c}=s;if(s.state=null,!(o&&!Xh(r,l))){if(!c(a))return f(In(r));u(In(r),a)}})})},$G=(e,t)=>r=>{zj===r.target&&t.forEach(n=>{const{onexit:a}=n;n.state=null,a(In(r))})},FG=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:a,filterItems:s=c=>c}=r,o=IG(e,n?document.documentElement:e,a);let l="",u="";o.allowdrop=c=>t(s(c)),o.ondrop=(c,d)=>{const h=s(d);if(!t(h)){f.ondragend(c);return}u="drag-drop",f.onload(h,c)},o.ondrag=c=>{f.ondrag(c)},o.onenter=c=>{u="drag-over",f.ondragstart(c)},o.onexit=c=>{u="drag-exit",f.ondragend(c)};const f={updateHopperState:()=>{l!==u&&(e.dataset.hopperState=u,l=u)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return f};let gd=!1;const ia=[],Uj=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let n=!1,a=t;for(;a!==document.body;){if(a.classList.contains("filepond--root")){n=!0;break}a=a.parentNode}if(!n)return}Kh(e.clipboardData).then(n=>{n.length&&ia.forEach(a=>a(n))})},zG=e=>{ia.includes(e)||(ia.push(e),!gd&&(gd=!0,document.addEventListener("paste",Uj)))},UG=e=>{zh(ia,ia.indexOf(e)),ia.length===0&&(document.removeEventListener("paste",Uj),gd=!1)},HG=()=>{const e=r=>{t.onload(r)},t={destroy:()=>{UG(e)},onload:()=>{}};return zG(e),t},qG=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,rt(e.element,"role","alert"),rt(e.element,"aria-live","polite"),rt(e.element,"aria-relevant","additions")};let Gv=null,Vv=null;const qc=[],dc=(e,t)=>{e.element.textContent=t},GG=e=>{e.element.textContent=""},Hj=(e,t,r)=>{const n=e.query("GET_TOTAL_ITEMS");dc(e,`${r} ${t}, ${n} ${n===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Vv),Vv=setTimeout(()=>{GG(e)},1500)},qj=e=>e.element.parentNode.contains(document.activeElement),VG=({root:e,action:t})=>{if(!qj(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);qc.push(r.filename),clearTimeout(Gv),Gv=setTimeout(()=>{Hj(e,qc.join(", "),e.query("GET_LABEL_FILE_ADDED")),qc.length=0},750)},WG=({root:e,action:t})=>{if(!qj(e))return;const r=t.item;Hj(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},KG=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");dc(e,`${n} ${a}`)},Wv=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");dc(e,`${n} ${a}`)},Ss=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename;dc(e,`${t.status.main} ${n} ${t.status.sub}`)},YG=et({create:qG,ignoreRect:!0,ignoreRectUpdate:!0,write:St({DID_LOAD_ITEM:VG,DID_REMOVE_ITEM:WG,DID_COMPLETE_ITEM_PROCESSING:KG,DID_ABORT_ITEM_PROCESSING:Wv,DID_REVERT_ITEM_PROCESSING:Wv,DID_THROW_ITEM_REMOVE_ERROR:Ss,DID_THROW_ITEM_LOAD_ERROR:Ss,DID_THROW_ITEM_INVALID:Ss,DID_THROW_ITEM_PROCESSING_ERROR:Ss}),tag:"span",name:"assistant"}),Gj=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),r=>r.charAt(1).toUpperCase()),Vj=(e,t=16,r=!0)=>{let n=Date.now(),a=null;return(...s)=>{clearTimeout(a);const o=Date.now()-n,l=()=>{n=Date.now(),e(...s)};o<t?r||(a=setTimeout(l,t-o)):l()}},XG=1e6,Bo=e=>e.preventDefault(),ZG=({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter(u=>u.length).forEach(u=>{e.element.classList.add(u)}),e.ref.label=e.appendChildView(e.createChildView(eG,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Kq,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(kj,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(YG,{...t})),e.ref.data=e.appendChildView(e.createChildView(vG,{...t})),e.ref.measure=Lr("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(u=>!Rr(u.value)).map(({name:u,value:f})=>{e.element.dataset[u]=f}),e.ref.widthPrevious=null,e.ref.widthUpdated=Vj(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const a=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!a&&(e.element.addEventListener("touchmove",Bo,{passive:!1}),e.element.addEventListener("gesturestart",Bo));const o=e.query("GET_CREDITS");if(o.length===2){const u=document.createElement("a");u.className="filepond--credits",u.href=o[0],u.tabIndex=-1,u.target="_blank",u.rel="noopener noreferrer nofollow",u.textContent=o[1],e.element.appendChild(u),e.ref.credits=u}},QG=({root:e,props:t,actions:r})=>{if(nV({root:e,props:t,actions:r}),r.filter(S=>/^DID_SET_STYLE_/.test(S.type)).filter(S=>!Rr(S.data.value)).map(({type:S,data:E})=>{const T=Gj(S.substring(8).toLowerCase(),"_");e.element.dataset[T]=E.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=tV(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:a,label:s,list:o,panel:l}=e.ref;a&&a.updateHopperState();const u=e.query("GET_PANEL_ASPECT_RATIO"),f=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),d=f?e.query("GET_MAX_FILES")||XG:1,h=c===d,m=r.find(S=>S.type==="DID_ADD_ITEM");if(h&&m){const S=m.data.interactionMethod;s.opacity=0,f?s.translateY=-40:S===Kt.API?s.translateX=40:S===Kt.BROWSE?s.translateY=40:s.translateY=30}else h||(s.opacity=1,s.translateX=0,s.translateY=0);const p=JG(e),g=eV(e),v=s.rect.element.height,y=!f||h?0:v,x=h?o.rect.element.marginTop:0,w=c===0?0:o.rect.element.marginBottom,b=y+x+g.visual+w,j=y+x+g.bounds+w;if(o.translateY=Math.max(0,y-o.rect.element.marginTop)-p.top,u){const S=e.rect.element.width,E=S*u;u!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=u,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(S);const O=2;if(T.length>O*2){const _=T.length,P=_-10;let I=0;for(let k=_;k>=P;k--)if(T[k]===T[k-2]&&I++,I>=O)return}l.scalable=!1,l.height=E;const A=E-y-(w-p.bottom)-(h?x:0);g.visual>A?o.overflow=A:o.overflow=null,e.height=E}else if(n.fixedHeight){l.scalable=!1;const S=n.fixedHeight-y-(w-p.bottom)-(h?x:0);g.visual>S?o.overflow=S:o.overflow=null}else if(n.cappedHeight){const S=b>=n.cappedHeight,E=Math.min(n.cappedHeight,b);l.scalable=!0,l.height=S?E:E-p.top-p.bottom;const T=E-y-(w-p.bottom)-(h?x:0);b>n.cappedHeight&&g.visual>T?o.overflow=T:o.overflow=null,e.height=Math.min(n.cappedHeight,j-p.top-p.bottom)}else{const S=c>0?p.top+p.bottom:0;l.scalable=!0,l.height=Math.max(v,b-S),e.height=Math.max(v,j-S)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},JG=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},eV=e=>{let t=0,r=0;const n=e.ref.list,a=n.childViews[0],s=a.childViews.filter(x=>x.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(x=>s.find(w=>w.id===x.id)).filter(x=>x);if(o.length===0)return{visual:t,bounds:r};const l=a.rect.element.width,u=Vh(a,o,n.dragCoordinates),f=o[0].rect.element,c=f.marginTop+f.marginBottom,d=f.marginLeft+f.marginRight,h=f.width+d,m=f.height+c,p=typeof u<"u"&&u>=0?1:0,g=o.find(x=>x.markedForRemoval&&x.opacity<.45)?-1:0,v=o.length+p+g,y=Gh(l,h);return y===1?o.forEach(x=>{const w=x.rect.element.height+c;r+=w,t+=w*x.opacity}):(r=Math.ceil(v/y)*m,t=r),{visual:t,bounds:r}},tV=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Zh=(e,t)=>{const r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),a=e.query("GET_TOTAL_ITEMS");let s=e.query("GET_MAX_FILES");const o=t.length;return!n&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):(s=n?s:1,!n&&r?!1:La(s)&&a+o>s?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):!1)},rV=(e,t,r)=>{const n=e.childViews[0];return Vh(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Kv=e=>{const t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){const a=FG(e.element,s=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?s.every(u=>Wn("ALLOW_HOPPER_ITEM",u,{query:e.query}).every(f=>f===!0)&&o(u)):!0},{filterItems:s=>{const o=e.query("GET_IGNORED_FILES");return s.filter(l=>kn(l)?!o.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});a.onload=(s,o)=>{const u=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),f=e.query("GET_ACTIVE_ITEMS").map(c=>u.find(d=>d.id===c.id)).filter(c=>c);tr("ADD_ITEMS",s,{dispatch:e.dispatch}).then(c=>{if(Zh(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:rV(e.ref.list,f,o),interactionMethod:Kt.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},a.ondragstart=s=>{e.dispatch("DID_START_DRAG",{position:s})},a.ondrag=Vj(s=>{e.dispatch("DID_DRAG",{position:s})}),a.ondragend=s=>{e.dispatch("DID_END_DRAG",{position:s})},e.ref.hopper=a,e.ref.drip=e.appendChildView(e.createChildView(lG))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Yv=(e,t)=>{const r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),a=r&&!n;a&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Qq,{...t,onload:s=>{tr("ADD_ITEMS",s,{dispatch:e.dispatch}).then(o=>{if(Zh(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Kt.BROWSE})})}}),0):!a&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Xv=e=>{const t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=HG(),e.ref.paster.onload=a=>{tr("ADD_ITEMS",a,{dispatch:e.dispatch}).then(s=>{if(Zh(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Kt.PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},nV=St({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Yv(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Kv(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Xv(e)},DID_SET_DISABLED:({root:e,props:t})=>{Kv(e),Xv(e),Yv(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),aV=et({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:ZG,write:QG,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Bo),e.element.removeEventListener("gesturestart",Bo)},mixins:{styles:["height"]}}),iV=(e={})=>{let t=null;const r=Ro(),n=wU(sH(r),[EH,cH(r)],[XH,lH(r)]);n.dispatch("SET_OPTIONS",{options:e});const a=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",a);let s=null,o=!1,l=!1,u=null,f=null;const c=()=>{o||(o=!0),clearTimeout(s),s=setTimeout(()=>{o=!1,u=null,f=null,l&&(l=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const d=aV(n,{id:Fh()});let h=!1,m=!1;const p={_read:()=>{o&&(f=window.innerWidth,u||(u=f),!l&&f!==u&&(n.dispatch("DID_START_RESIZE"),l=!0)),m&&h&&(h=d.element.offsetParent===null),!h&&(d._read(),m=d.rect.element.hidden)},_write:M=>{const $=n.processActionQueue().filter(G=>!/^SET_/.test(G.type));h&&!$.length||(x($),h=d._write(M,$,l),fH(n.query("GET_ITEMS")),h&&n.processDispatchQueue())}},g=M=>$=>{const G={type:M};if(!$)return G;if($.hasOwnProperty("error")&&(G.error=$.error?{...$.error}:null),$.status&&(G.status={...$.status}),$.file&&(G.output=$.file),$.source)G.file=$.source;else if($.item||$.id){const D=$.item?$.item:n.query("GET_ITEM",$.id);G.file=D?Tt(D):null}return $.items&&(G.items=$.items.map(Tt)),/progress/.test(M)&&(G.progress=$.progress),$.hasOwnProperty("origin")&&$.hasOwnProperty("target")&&(G.origin=$.origin,G.target=$.target),G},v={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},y=M=>{const $={pond:R,...M};delete $.type,d.element.dispatchEvent(new CustomEvent(`FilePond:${M.type}`,{detail:$,bubbles:!0,cancelable:!0,composed:!0}));const G=[];M.hasOwnProperty("error")&&G.push(M.error),M.hasOwnProperty("file")&&G.push(M.file);const D=["type","error","file"];Object.keys(M).filter(C=>!D.includes(C)).forEach(C=>G.push(M[C])),R.fire(M.type,...G);const z=n.query(`GET_ON${M.type.toUpperCase()}`);z&&z(...G)},x=M=>{M.length&&M.filter($=>v[$.type]).forEach($=>{const G=v[$.type];(Array.isArray(G)?G:[G]).forEach(D=>{$.type==="DID_INIT_ITEM"?y(D($.data)):setTimeout(()=>{y(D($.data))},0)})})},w=M=>n.dispatch("SET_OPTIONS",{options:M}),b=M=>n.query("GET_ACTIVE_ITEM",M),j=M=>new Promise(($,G)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:M,success:D=>{$(D)},failure:D=>{G(D)}})}),S=(M,$={})=>new Promise((G,D)=>{O([{source:M,options:$}],{index:$.index}).then(z=>G(z&&z[0])).catch(D)}),E=M=>M.file&&M.id,T=(M,$)=>(typeof M=="object"&&!E(M)&&!$&&($=M,M=void 0),n.dispatch("REMOVE_ITEM",{...$,query:M}),n.query("GET_ACTIVE_ITEM",M)===null),O=(...M)=>new Promise(($,G)=>{const D=[],z={};if(ic(M[0]))D.push.apply(D,M[0]),Object.assign(z,M[1]||{});else{const C=M[M.length-1];typeof C=="object"&&!(C instanceof Blob)&&Object.assign(z,M.pop()),D.push(...M)}n.dispatch("ADD_ITEMS",{items:D,index:z.index,interactionMethod:Kt.API,success:$,failure:G})}),A=()=>n.query("GET_ACTIVE_ITEMS"),_=M=>new Promise(($,G)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:M,success:D=>{$(D)},failure:D=>{G(D)}})}),P=(...M)=>{const $=Array.isArray(M[0])?M[0]:M,G=$.length?$:A();return Promise.all(G.map(j))},I=(...M)=>{const $=Array.isArray(M[0])?M[0]:M;if(!$.length){const G=A().filter(D=>!(D.status===ve.IDLE&&D.origin===ct.LOCAL)&&D.status!==ve.PROCESSING&&D.status!==ve.PROCESSING_COMPLETE&&D.status!==ve.PROCESSING_REVERT_ERROR);return Promise.all(G.map(_))}return Promise.all($.map(_))},k=(...M)=>{const $=Array.isArray(M[0])?M[0]:M;let G;typeof $[$.length-1]=="object"?G=$.pop():Array.isArray(M[0])&&(G=M[1]);const D=A();return $.length?$.map(C=>jn(C)?D[C]?D[C].id:null:C).filter(C=>C).map(C=>T(C,G)):Promise.all(D.map(C=>T(C,G)))},R={...lc(),...p,...oH(n,r),setOptions:w,addFile:S,addFiles:O,getFile:b,processFile:_,prepareFile:j,removeFile:T,moveFile:(M,$)=>n.dispatch("MOVE_ITEM",{query:M,index:$}),getFiles:A,processFiles:I,removeFiles:k,prepareFiles:P,sort:M=>n.dispatch("SORT",{compare:M}),browse:()=>{var M=d.element.querySelector("input[type=file]");M&&M.click()},destroy:()=>{R.fire("destroy",d.element),n.dispatch("ABORT_ALL"),d._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",a),n.dispatch("DID_DESTROY")},insertBefore:M=>xv(d.element,M),insertAfter:M=>bv(d.element,M),appendTo:M=>M.appendChild(d.element),replaceElement:M=>{xv(d.element,M),M.parentNode.removeChild(M),t=M},restoreElement:()=>{t&&(bv(t,d.element),d.element.parentNode.removeChild(d.element),t=null)},isAttachedTo:M=>d.element===M||t===M,element:{get:()=>d.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),nn(R)},Wj=(e={})=>{const t={};return qe(Ro(),(n,a)=>{t[n]=a[0]}),iV({...t,...e})},sV=e=>e.charAt(0).toLowerCase()+e.slice(1),oV=e=>Gj(e.replace(/^data-/,"")),Kj=(e,t)=>{qe(t,(r,n)=>{qe(e,(a,s)=>{const o=new RegExp(r);if(!o.test(a)||(delete e[a],n===!1))return;if(Ot(n)){e[n]=s;return}const u=n.group;dt(n)&&!e[u]&&(e[u]={}),e[u][sV(a.replace(o,""))]=s}),n.mapping&&Kj(e[n.group],n.mapping)})},lV=(e,t={})=>{const r=[];qe(e.attributes,a=>{r.push(e.attributes[a])});const n=r.filter(a=>a.name).reduce((a,s)=>{const o=rt(e,s.name);return a[oV(s.name)]=o===s.name?!0:o,a},{});return Kj(n,t),n},cV=(e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Wn("SET_ATTRIBUTE_TO_OPTION_MAP",r);const n={...t},a=lV(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,r);Object.keys(a).forEach(o=>{dt(a[o])?(dt(n[o])||(n[o]={}),Object.assign(n[o],a[o])):n[o]=a[o]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const s=Wj(n);return e.files&&Array.from(e.files).forEach(o=>{s.addFile(o)}),s.replaceElement(e),s},uV=(...e)=>bU(e[0])?cV(...e):Wj(...e),dV=["fire","_read","_write"],Zv=e=>{const t={};return gj(e,t,dV),t},fV=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(r,n)=>t[n]),hV=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:(a,s)=>{},post:(a,s,o)=>{const l=Fh();n.onmessage=u=>{u.data.id===l&&s(u.data.message)},n.postMessage({id:l,message:a},o)},terminate:()=>{n.terminate(),URL.revokeObjectURL(r)}}},mV=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=a=>{r(a)},n.src=e}),Yj=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},pV=e=>Yj(e,e.name),Qv=[],gV=e=>{if(Qv.includes(e))return;Qv.push(e);const t=e({addFilter:mH,utils:{Type:ae,forin:qe,isString:Ot,isFile:kn,toNaturalFileSize:Tj,replaceInString:fV,getExtensionFromFilename:cc,getFilenameWithoutExtension:Ej,guesstimateMimeType:$j,getFileFromBlob:ma,getFilenameFromURL:Wi,createRoute:St,createWorker:hV,createView:et,createItemAPI:Tt,loadImage:mV,copyFile:pV,renameFile:Yj,createBlob:jj,applyFilterChain:tr,text:We,getNumericAspectRatioFromString:xj},views:{fileActionButton:Sj}});pH(t.options)},vV=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",yV=()=>"Promise"in window,xV=()=>"slice"in Blob.prototype,bV=()=>"URL"in window&&"createObjectURL"in window.URL,wV=()=>"visibilityState"in document,jV=()=>"performance"in window,NV=()=>"supports"in(window.CSS||{}),_V=()=>/MSIE|Trident/.test(window.navigator.userAgent),vd=(()=>{const e=uj()&&!vV()&&wV()&&yV()&&xV()&&bV()&&jV()&&(NV()||_V());return()=>e})(),Yr={apps:[]},EV="filepond",Kn=()=>{};let Jv={},Bs=Kn,Gc=Kn,ey=Kn,ty=Kn,yd=Kn,ry=Kn,ny=Kn;if(vd()){VU(()=>{Yr.apps.forEach(r=>r._read())},r=>{Yr.apps.forEach(n=>n._write(r))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:vd,create:Bs,destroy:Gc,parse:ey,find:ty,registerPlugin:yd,setOptions:ny}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>qe(Ro(),(r,n)=>{Jv[r]=n[1]});Jv={},t(),Bs=(...r)=>{const n=uV(...r);return n.on("destroy",Gc),Yr.apps.push(n),Zv(n)},Gc=r=>{const n=Yr.apps.findIndex(a=>a.isAttachedTo(r));return n>=0?(Yr.apps.splice(n,1)[0].restoreElement(),!0):!1},ey=r=>Array.from(r.querySelectorAll(`.${EV}`)).filter(s=>!Yr.apps.find(o=>o.isAttachedTo(s))).map(s=>Bs(s)),ty=r=>{const n=Yr.apps.find(a=>a.isAttachedTo(r));return n?Zv(n):null},yd=(...r)=>{r.forEach(gV),t()},ry=()=>{const r={};return qe(Ro(),(n,a)=>{r[n]=a[0]}),r},ny=r=>(dt(r)&&(Yr.apps.forEach(n=>{n.setOptions(r)}),gH(r)),ry())}/*!
 * react-filepond v7.1.3
 * A handy FilePond adapter component for React
 * 
 * Copyright (c) 2024 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const OV=vd(),SV=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];class ay extends tN.Component{constructor(t){super(t),this.allowFilesSync=!0}componentDidMount(){if(this._input=this._element.querySelector('input[type="file"]'),this._inputClone=this._input.cloneNode(),!OV)return;const t=Object.assign({},this.props);if(t.onupdatefiles){const r=t.onupdatefiles;t.onupdatefiles=n=>{this.allowFilesSync=!1,r(n)}}this._pond=Bs(this._input,t),Object.keys(this._pond).filter(r=>!SV.includes(r)).forEach(r=>{this[r]=this._pond[r]})}componentWillUnmount(){if(!this._pond)return;const t=document.createElement("div");t.append(this._pond.element),t.id="foo",this._pond.destroy(),this._pond=void 0,this._element.append(this._inputClone)}shouldComponentUpdate(){return this.allowFilesSync?!0:(this.allowFilesSync=!0,!1)}componentDidUpdate(){if(!this._pond)return;const t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}render(){const{id:t,name:r,className:n,allowMultiple:a,required:s,captureMethod:o,acceptedFileTypes:l}=this.props;return N.createElement("div",{className:"filepond--wrapper",ref:u=>this._element=u},N.createElement("input",{type:"file",name:r,id:t,accept:l,multiple:a,required:s,className:n,capture:o}))}}/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Xj=({addFilter:e,utils:t})=>{const{Type:r,isString:n,replaceInString:a,guesstimateMimeType:s,getExtensionFromFilename:o,getFilenameFromURL:l}=t,u=(m,p)=>{const g=(/^[^/]+/.exec(m)||[]).pop(),v=p.slice(0,-2);return g===v},f=(m,p)=>m.some(g=>/\*$/.test(g)?u(p,g):g===p),c=m=>{let p="";if(n(m)){const g=l(m),v=o(g);v&&(p=s(v))}else p=m.type;return p},d=(m,p,g)=>{if(p.length===0)return!0;const v=c(m);return g?new Promise((y,x)=>{g(m,v).then(w=>{f(p,w)?y():x()}).catch(x)}):f(p,v)},h=m=>p=>m[p]===null?!1:m[p]||p;return e("SET_ATTRIBUTE_TO_OPTION_MAP",m=>Object.assign(m,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(m,{query:p})=>p("GET_ALLOW_FILE_TYPE_VALIDATION")?d(m,p("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(m,{query:p})=>new Promise((g,v)=>{if(!p("GET_ALLOW_FILE_TYPE_VALIDATION")){g(m);return}const y=p("GET_ACCEPTED_FILE_TYPES"),x=p("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),w=d(m,y,x),b=()=>{const j=y.map(h(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(E=>E!==!1),S=j.filter((E,T)=>j.indexOf(E)===T);v({status:{main:p("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:S.join(", "),allButLastType:S.slice(0,-1).join(", "),lastType:S[S.length-1]})}})};if(typeof w=="boolean")return w?g(m):b();w.then(()=>{g(m)}).catch(b)})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}},TV=typeof window<"u"&&typeof window.document<"u";TV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Xj}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Zj=({addFilter:e,utils:t})=>{const{Type:r,replaceInString:n,toNaturalFileSize:a}=t;return e("ALLOW_HOPPER_ITEM",(s,{query:o})=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const l=o("GET_MAX_FILE_SIZE");if(l!==null&&s.size>l)return!1;const u=o("GET_MIN_FILE_SIZE");return!(u!==null&&s.size<u)}),e("LOAD_FILE",(s,{query:o})=>new Promise((l,u)=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return l(s);const f=o("GET_FILE_VALIDATE_SIZE_FILTER");if(f&&!f(s))return l(s);const c=o("GET_MAX_FILE_SIZE");if(c!==null&&s.size>c){u({status:{main:o("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(c,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const d=o("GET_MIN_FILE_SIZE");if(d!==null&&s.size<d){u({status:{main:o("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(d,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const h=o("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&o("GET_ACTIVE_ITEMS").reduce((p,g)=>p+g.fileSize,0)>h){u({status:{main:o("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(h,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}l(s)})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}},PV=typeof window<"u"&&typeof window.document<"u";PV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Zj}));yd(Xj,Zj);const AV=()=>{const e="",t="rgb(242, 82, 146)",r="rgb(99, 102, 241)",[n,a]=N.useState([]),[s,o]=N.useState(null),[l,u]=N.useState(!0),[f,c]=N.useState(!1),[d,h]=N.useState(!1),[m,p]=N.useState(null),[g,v]=N.useState("grid"),[y,x]=N.useState(""),[w,b]=N.useState(null),j=wr(),{user:S}=$e(),[E,T]=N.useState({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""});N.useEffect(()=>{O(),A()},[]);const O=async()=>{try{const D=await oe.get("/employees");a(D.data)}catch(D){console.error("Failed to fetch employees:",D)}finally{u(!1)}},A=async()=>{try{const D=await oe.get("/employees/statistics");o(D.data)}catch(D){console.error("Failed to fetch statistics:",D)}},_=async D=>{var z,C;if(D.preventDefault(),!E.name||!E.email){$("Please fill in all required fields","error");return}try{const L=new FormData;if(Object.keys(E).forEach(U=>{E[U]&&L.append(U,E[U])}),m)await oe.post(`/employees/${m.id}`,L,{headers:{"Content-Type":"multipart/form-data"},params:{_method:"PUT"}}),$("Employee updated successfully!");else{const U=await oe.post("/employees",L,{headers:{"Content-Type":"multipart/form-data"}});$(`Employee created! Password: ${U.data.password} (Also sent to email)`,"success",1e4)}M(),O(),A()}catch(L){$(((C=(z=L.response)==null?void 0:z.data)==null?void 0:C.message)||"Failed to save employee","error")}},P=async D=>{if(window.confirm(`Are you sure you want to delete ${D.user.name}?`))try{await oe.delete(`/employees/${D.id}`),$("Employee deleted successfully!"),O(),A()}catch{$("Failed to delete employee","error")}},I=()=>{p(null),T({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""}),c(!0)},k=D=>{p(D),T({name:D.user.name,email:D.user.email,role:D.user.role,profile_image:null,date_of_birth:D.date_of_birth||"",joining_date:D.joining_date||"",designation:D.designation||"",salary:D.salary||"",address:D.address||"",phone:D.phone||"",emergency_contact:D.emergency_contact||"",cv:null,notes:D.notes||""}),c(!0)},R=D=>{var V,F;const z=((V=D==null?void 0:D.user)==null?void 0:V.role)||"",C=z==="project_manager"?"project-manager":z,L=(F=D==null?void 0:D.user)==null?void 0:F.id,U=S==null?void 0:S.role;L&&j(`${U==="admin"?"/admin":U==="project_manager"?"/manager":U==="developer"?"/developer":U==="client"?"/client":""}/users/${C}/${L}`)},M=()=>{c(!1),h(!1),p(null)},$=(D,z="success",C=3e3)=>{b({message:D,type:z}),setTimeout(()=>b(null),C)},G=n.filter(D=>{var z;return D.user.name.toLowerCase().includes(y.toLowerCase())||D.user.email.toLowerCase().includes(y.toLowerCase())||((z=D.designation)==null?void 0:z.toLowerCase().includes(y.toLowerCase()))});return l?i.jsx(Je,{}):i.jsxs("div",{className:"space-y-5",children:[w&&i.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-[8px] shadow-lg ${w.type==="error"?"bg-red-500":"bg-green-500"} text-white`,children:w.message}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Team Members"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your team members and their roles"})]}),i.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg text-white text-sm font-medium transition-all shadow-md hover:shadow-lg",style:{background:t},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Employee"]})]}),s&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:r},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Total Employees"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.total_employees})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:t},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Developers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.developers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:t},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Project Managers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.project_managers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:r},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Avg Performance"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[Math.round(s.avg_performance),"%"]})]})]})})]}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-sm border border-gray-100 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 w-fit",children:[i.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-all ${g==="grid"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Grid View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>v("table"),className:`p-2 rounded-lg transition-all ${g==="table"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Table View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),i.jsx("div",{className:"flex-1 md:flex md:justify-end",style:{maxWidth:"320px"},children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search employees...",value:y,onChange:D=>x(D.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent"})]})})]})}),g==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map((D,z)=>{const L={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsx("div",{className:"bg-white rounded-[16px] shadow-md hover:shadow-xl transition-all border border-gray-100 overflow-hidden",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-20 h-20 rounded-full object-cover border-4 border-gray-100 mb-3"}):i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-3 border-4 border-gray-100",style:{background:r},children:D.user.name.charAt(0).toUpperCase()}),i.jsx("h3",{className:"text-base font-bold text-gray-800 mb-1",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:D.designation||D.user.email}),i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${L}`,children:D.user.role.replace("_"," ").toUpperCase()})]}),D.notes&&i.jsx("p",{className:"text-xs text-gray-600 text-center mb-4 line-clamp-2 px-2",children:D.notes}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Projects"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_projects||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tasks"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_tasks||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Performance"}),i.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>R(D),className:"flex-1 px-3 py-2 text-xs font-medium rounded-lg transition-all",style:{background:r,color:"white"},children:"View Profile"}),i.jsx("button",{onClick:()=>k(D),className:"p-2 rounded-lg transition-colors border",style:{color:r,borderColor:r},title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>P(D),className:"p-2 rounded-lg transition-colors border",style:{color:t,borderColor:t},title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},D.id)})}),g==="table"&&i.jsx("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Employee"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Role"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Designation"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Performance"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Joined"}),i.jsx("th",{className:"text-right py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:G.map((D,z)=>{const L={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"py-3 px-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm",style:{background:r},children:D.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500",children:D.user.email})]})]})}),i.jsx("td",{className:"py-3 px-5",children:i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${L}`,children:D.user.role.replace("_"," ")})}),i.jsx("td",{className:"py-3 px-5 text-sm text-gray-700",children:D.designation||"-"}),i.jsx("td",{className:"py-3 px-5",children:i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})}),i.jsx("td",{className:"py-3 px-5 text-xs text-gray-600",children:D.joining_date?new Date(D.joining_date).toLocaleDateString():"-"}),i.jsx("td",{className:"py-3 px-5 text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:()=>R(D),className:"px-3 py-2 text-xs font-semibold rounded-lg transition-colors text-white",style:{background:r},children:"Profile"}),i.jsx("button",{onClick:()=>k(D),className:"px-3 py-2 text-xs font-semibold rounded-lg transition-colors border",style:{color:r,borderColor:r},children:"Edit"}),i.jsx("button",{onClick:()=>P(D),className:"px-3 py-2 text-xs font-semibold rounded-lg transition-colors border",style:{color:t,borderColor:t},children:"Delete"})]})})]},D.id)})})]})})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700",style:{background:"#59569D",color:"#fff"},children:i.jsx("h2",{className:"text-2xl font-bold text-white",children:m?"Edit Employee":"Add New Employee"})}),i.jsx("style",{dangerouslySetInnerHTML:{__html:`
              .employees-modal-scroll::-webkit-scrollbar {
                width: 6px;
              }
              .employees-modal-scroll::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb:hover {
                background: #555;
              }
            `}}),i.jsxs("form",{onSubmit:_,className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] employees-modal-scroll",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),i.jsx(ay,{files:E.profile_image?[E.profile_image]:[],onupdatefiles:D=>{var z;T({...E,profile_image:((z=D[0])==null?void 0:z.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["image/jpeg","image/png","image/jpg","image/gif"],maxFileSize:"2MB",labelIdle:'Drag & Drop profile image or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects JPEG, PNG, JPG, or GIF",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 2MB",credits:!1,stylePanelLayout:"compact circle",imagePreviewHeight:170,imageCropAspectRatio:"1:1",imageResizeTargetWidth:200,imageResizeTargetHeight:200,stylePanelAspectRatio:"1:1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:E.name,onChange:D=>T({...E,name:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:E.email,onChange:D=>T({...E,email:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),i.jsxs("select",{value:E.role,onChange:D=>T({...E,role:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"project_manager",children:"Project Manager"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),i.jsx("input",{type:"text",value:E.designation,onChange:D=>T({...E,designation:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",value:E.date_of_birth,onChange:D=>T({...E,date_of_birth:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),i.jsx("input",{type:"date",value:E.joining_date,onChange:D=>T({...E,joining_date:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),i.jsx("input",{type:"number",value:E.salary,onChange:D=>T({...E,salary:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:E.phone,onChange:D=>T({...E,phone:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),i.jsx("input",{type:"text",value:E.emergency_contact,onChange:D=>T({...E,emergency_contact:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Upload"}),i.jsx(ay,{files:E.cv?[E.cv]:[],onupdatefiles:D=>{var z;T({...E,cv:((z=D[0])==null?void 0:z.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],maxFileSize:"5MB",labelIdle:'Drag & Drop your CV or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects PDF, DOC, or DOCX",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 5MB",credits:!1,stylePanelLayout:"compact"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:E.address,onChange:D=>T({...E,address:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:E.notes,onChange:D=>T({...E,notes:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:M,className:"flex-1 px-6 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-2.5 rounded-lg text-white font-medium transition-colors",style:{background:"#59569D"},children:m?"Update":"Create"})]})]})]})}),d&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-4",children:[m.profile_image?i.jsx("img",{src:`${e}/storage/${m.profile_image}`,alt:m.user.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:m.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:m.user.name}),i.jsx("p",{className:"text-gray-300",children:m.user.email})]})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-240px)]",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Role"}),i.jsx("p",{className:"font-medium text-gray-800 capitalize",children:m.user.role.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Designation"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.designation||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.date_of_birth?new Date(m.date_of_birth).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Joining Date"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.joining_date?new Date(m.joining_date).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phone"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.phone||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.emergency_contact||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salary"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.salary?`$${m.salary}`:"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Promotion"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.last_promotion_date?new Date(m.last_promotion_date).toLocaleDateString():"-"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Address"}),i.jsx("p",{className:"font-medium text-gray-800",children:m.address||"-"})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Performance Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Completed Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:m.tasks_completed})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Rejected Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:m.tasks_rejected})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Client Satisfaction"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:m.client_satisfaction_points})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Performance Score"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[m.performance_score,"%"]})]})]})]}),m.notes&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Notes"}),i.jsx("p",{className:"text-gray-700",children:m.notes})]})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:M,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})}),G.length===0&&i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"#59569D20"},children:i.jsx("svg",{className:"w-8 h-8",style:{color:"#59569D"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Employees Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Start by adding your first employee"})]})]})};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IV=bi("circle",kV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Vc=bi("message-circle",CV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],iy=bi("paperclip",MV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RV=bi("plus",DV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BV=bi("send",LV);function Ts(){const{user:e}=$e(),[t]=y_(),[r,n]=N.useState([]),[a,s]=N.useState(null),[o,l]=N.useState(!0),[u,f]=N.useState([]),[c,d]=N.useState(""),[h,m]=N.useState(!0),[p,g]=N.useState(!1),[v,y]=N.useState([]),[x,w]=N.useState([]),[b,j]=N.useState([]),[S,E]=N.useState(""),[T,O]=N.useState("direct"),[A,_]=N.useState(""),[P,I]=N.useState(!1),[k,R]=N.useState(""),[M,$]=N.useState([]),G=N.useRef(null),D=N.useRef(null),z=N.useRef(null);N.useEffect(()=>{L(),K(),V(),F(!0),z.current=setInterval(()=>{a&&!a.is_virtual&&U(a.id)},2e3);const B=setInterval(()=>{F(!0)},3e4);return()=>{clearInterval(z.current),clearInterval(B),F(!1)}},[]),N.useEffect(()=>{const B=t.get("userId");if(B&&r.length>0&&!a){const re=r.find(W=>{var Y;return W.type==="direct"&&((Y=W.users)==null?void 0:Y.some(J=>J.id==B))});re&&s(re)}},[t,r]),N.useEffect(()=>{a&&U(a.id)},[a]),N.useEffect(()=>{C()},[u]);const C=()=>{var B;(B=G.current)==null||B.scrollIntoView({behavior:"smooth"})},L=async()=>{try{const[B,re]=await Promise.all([oe.get("/chat/rooms").catch(se=>{var xe;return console.error("Rooms fetch error:",(xe=se.response)==null?void 0:xe.data),{data:{rooms:[],groupChatMessages:{}}}}),oe.get("/chat/team-members").catch(se=>{var xe;return console.error("Team members fetch error:",(xe=se.response)==null?void 0:xe.data),{data:[]}})]);console.log("Raw API Response:",B.data);const W=B.data;let Y=(Array.isArray(W)?W:W.rooms||[]).map(se=>({...se,is_virtual:!1}));const J=W.groupChatMessages||{},ie=Array.isArray(re.data)?re.data:[],te=(se,xe)=>{if(!se)return!0;const ze=se,je=xe;return ze==="developer"?je==="developer"||je==="project_manager"||je==="admin":ze==="project_manager"?!0:ze==="client"?je==="project_manager"||je==="admin":!0};Y=Y.filter(se=>{if((se==null?void 0:se.type)!=="direct"||!Array.isArray(se==null?void 0:se.users))return!0;const xe=se.users.find(ze=>(ze==null?void 0:ze.id)!==(e==null?void 0:e.id))||se.users[0];return te(e==null?void 0:e.role,xe==null?void 0:xe.role)}),console.log("Existing Rooms:",Y),console.log("Group Chat Messages:",J);const me=new Set(Y.filter(se=>(se==null?void 0:se.type)==="direct"&&(se==null?void 0:se.users)).flatMap(se=>se.users.filter(xe=>(xe==null?void 0:xe.id)!==(e==null?void 0:e.id)).map(xe=>xe==null?void 0:xe.id)).filter(Boolean)),le=ie.filter(se=>(se==null?void 0:se.id)&&!me.has(se.id)).filter(se=>te(e==null?void 0:e.role,se==null?void 0:se.role)).map(se=>{const ze=(J[se.id]||[])[0]||null;return console.log(`Virtual room for ${se.name}:`,ze),{id:`virtual-${se.id}`,type:"direct",display_name:se.name||"Unknown User",users:[se],unread_count:0,last_message:ze,is_virtual:!0,virtual_user:se}});n([...Y,...le]),m(!1)}catch(B){console.error("Failed to load rooms:",B),n([]),m(!1)}},U=async B=>{try{if(String(B).startsWith("virtual-")){f([]);return}const re=await oe.get(`/chat/rooms/${B}/messages`);f(re.data.messages);try{await oe.post(`/chat/rooms/${B}/mark-read`)}catch(W){console.error("Mark-read failed:",W)}n(W=>W.map(Y=>Y.id===B?{...Y,unread_count:0}:Y)),await L()}catch(re){console.error("Failed to load messages:",re),String(B).startsWith("virtual-")&&f([])}},K=async()=>{try{const B=await oe.get("/chat/team-members");y(B.data)}catch(B){console.error("Failed to load team members:",B)}},V=async()=>{try{const B=await oe.get("/chat/online-users");w(B.data.map(re=>re.id))}catch(B){console.error("Failed to load online users:",B)}},F=async B=>{try{await oe.post("/chat/online-status",{is_online:B})}catch(re){console.error("Failed to update online status:",re)}},q=B=>{const re=B.target.value;d(re);const W=re.lastIndexOf("@");if(W!==-1){const Y=re.substring(W+1);if(re.substring(0,W),(W===0||re[W-1]===" ")&&Y.indexOf(" ")===-1){R(Y);const te=((a==null?void 0:a.users)||[]).filter(me=>me.id!==(e==null?void 0:e.id)&&me.name.toLowerCase().includes(Y.toLowerCase()));$(te),I(te.length>0)}}else I(!1),$([])},X=B=>{const re=c.lastIndexOf("@"),W=c.substring(0,re),Y=c.substring(re+k.length+1);d(`${W}@${B.name} ${Y}`),I(!1),R("")},H=(B,re=!1)=>B.split(/(@\w+)/).map((Y,J)=>{if(Y.startsWith("@")){const ie=Y.substring(1),te=v.find(me=>me.name.includes(ie)||me.name.split(" ")[0]===ie);if(te)return i.jsxs("span",{className:"font-bold",children:["@",te.name.split(" ")[0]]},J)}return Y}),Z=async B=>{if(B.preventDefault(),!(!c.trim()||!a))try{let re=a.id;if(a.is_virtual&&a.virtual_user){const J=await oe.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});re=J.data.id,s(J.data)}const W=new FormData;W.append("message",c),W.append("type","text");const Y=await oe.post(`/chat/rooms/${re}/messages`,W);f(J=>[...J,Y.data]),d(""),L()}catch(re){console.error("Failed to send message:",re)}},ne=async B=>{const re=B.target.files[0];if(!(!re||!a))try{let W=a.id;if(a.is_virtual&&a.virtual_user){const te=await oe.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});W=te.data.id,s(te.data)}const Y=new FormData;Y.append("file",re),Y.append("message",re.name);const J=re.type.startsWith("image/");Y.append("type",J?"image":"file");const ie=await oe.post(`/chat/rooms/${W}/messages`,Y,{headers:{"Content-Type":"multipart/form-data"}});f(te=>[...te,ie.data]),L()}catch(W){console.error("Failed to upload file:",W)}},ee=async()=>{if(b.length!==0)try{const B=await oe.post("/chat/rooms",{type:T,name:T==="group"?S:null,user_ids:b});n(re=>[B.data,...re]),s(B.data),g(!1),j([]),E(""),O("direct")}catch(B){console.error("Failed to create chat:",B)}},he=v.filter(B=>B.name.toLowerCase().includes(A.toLowerCase())||B.email.toLowerCase().includes(A.toLowerCase())),ce=B=>x.includes(B),ge=B=>{const re=new Date(B),Y=new Date-re;return Y<6e4?"Just now":Y<36e5?`${Math.floor(Y/6e4)}m ago`:Y<864e5?re.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):re.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i.jsxs("div",{className:"flex h-[calc(100vh-4rem)] bg-white relative",style:{fontFamily:"Inter, sans-serif"},children:[o&&a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 lg:hidden",onClick:()=>l(!1)}),i.jsxs("div",{className:`${o?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:relative z-20 w-80 lg:w-80 bg-white border-r border-gray-100 flex flex-col transition-transform duration-300 h-full`,children:[i.jsxs("div",{className:"px-5 py-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Messages"}),i.jsx("button",{onClick:()=>g(!0),className:"w-9 h-9 rounded-xl flex items-center justify-center transition-colors",style:{backgroundColor:"rgba(89, 86, 157, 0.1)",color:"rgb(89, 86, 157)"},onMouseEnter:B=>B.target.style.backgroundColor="rgba(89, 86, 157, 0.15)",onMouseLeave:B=>B.target.style.backgroundColor="rgba(89, 86, 157, 0.1)",title:"New Chat",children:i.jsx(RV,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border-0 rounded-lg text-sm placeholder-gray-400 focus:outline-none focus:bg-white transition-all",onFocus:B=>{B.target.style.boxShadow="0 0 0 2px rgba(89, 86, 157, 0.1)"},onBlur:B=>{B.target.style.boxShadow="none"}})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:h?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-t-transparent",style:{borderColor:"rgba(89, 86, 157, 0.3)",borderTopColor:"rgb(89, 86, 157)"}})}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-3",style:{backgroundColor:"rgba(89, 86, 157, 0.1)"},children:i.jsx(Vc,{className:"w-8 h-8",style:{color:"rgb(89, 86, 157)"}})}),i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"No conversations yet"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Start a new chat to begin messaging"})]}):i.jsx("div",{className:"py-2",children:r.map(B=>{var re,W,Y,J;return i.jsxs("button",{onClick:async()=>{if(B.is_virtual)try{const ie=await oe.post("/chat/rooms",{type:"direct",user_ids:[B.virtual_user.id]});s(ie.data),await L()}catch(ie){console.error("Failed to create chat room:",ie)}else{s(B);try{await oe.post(`/chat/rooms/${B.id}/mark-read`)}catch(ie){console.error("Mark-read on open failed:",ie)}n(ie=>ie.map(te=>te.id===B.id?{...te,unread_count:0}:te)),await L()}l(!1)},className:"w-full px-5 py-3 flex items-start gap-3 transition-all hover:bg-gray-50",style:(a==null?void 0:a.id)===B.id?{backgroundColor:"rgba(89, 86, 157, 0.1)"}:{},children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-sm",style:{background:"linear-gradient(135deg, rgb(89, 86, 157) 0%, rgb(242, 82, 146) 100%)"},children:((W=(re=B.display_name)==null?void 0:re.charAt(0))==null?void 0:W.toUpperCase())||"?"}),!B.is_virtual&&ce((J=(Y=B.users)==null?void 0:Y[0])==null?void 0:J.id)&&i.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"})]}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:B.display_name}),B.last_message&&i.jsx("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:ge(B.last_message.created_at)})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:`text-xs truncate flex-1 ${B.unread_count>0?"text-gray-900 font-medium":"text-gray-500"}`,children:B.last_message?i.jsxs(i.Fragment,{children:[B.type==="group"&&B.last_message.user&&i.jsxs("span",{className:"font-semibold",children:[B.last_message.user.id===(e==null?void 0:e.id)?"You":B.last_message.user.name.split(" ")[0],":"]})," ",B.last_message.type==="image"?"ðŸ“· Photo":B.last_message.type==="file"?"ðŸ“Ž File":B.last_message.message]}):i.jsx("span",{className:"italic text-gray-400",children:"Start a conversation..."})}),B.unread_count>0&&(a==null?void 0:a.id)!==B.id&&i.jsx("span",{className:"px-2 py-0.5 text-white text-xs rounded-full font-bold min-w-[20px] text-center flex-shrink-0",style:{backgroundColor:"rgb(89, 86, 157)"},children:B.unread_count>99?"99+":B.unread_count})]})]})]},B.id)})})})]}),a?i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.type==="direct"&&a.users?i.jsx(i.Fragment,{children:(()=>{var re,W,Y;const B=a.users.find(J=>J.id!==(e==null?void 0:e.id))||a.users[0];return i.jsxs(i.Fragment,{children:[B!=null&&B.profile_image?i.jsx("img",{src:`/storage/${B.profile_image}`,alt:B.name,className:"w-11 h-11 rounded-full object-cover flex-shrink-0 shadow-sm"}):i.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white font-bold flex-shrink-0 shadow-sm",children:((W=(re=B==null?void 0:B.name)==null?void 0:re.charAt(0))==null?void 0:W.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-base font-bold text-gray-900 truncate",children:(B==null?void 0:B.name)||a.display_name}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:((Y=B==null?void 0:B.role)==null?void 0:Y.replace("_"," "))||"User"})]})]})})()}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-11 h-11 rounded-full flex items-center justify-center shadow-sm",style:{background:"linear-gradient(135deg, rgb(89, 86, 157) 0%, rgb(242, 82, 146) 100%)"},children:i.jsx(Vc,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-base font-bold text-gray-900 truncate",children:a.display_name}),a.type==="group"&&a.users&&i.jsxs("p",{className:"text-xs text-gray-500",children:[a.users.length," members"]})]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-3 bg-gray-50",children:[u.map(B=>{var W;const re=B.user_id===(e==null?void 0:e.id);return i.jsx("div",{className:`flex ${re?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-md lg:max-w-lg ${re?"order-2":"order-1"}`,children:[!re&&i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1 px-1",children:(W=B.user)==null?void 0:W.name}),i.jsx("div",{className:"px-4 py-2.5 text-sm rounded-2xl shadow-sm",style:re?{backgroundColor:"rgb(89, 86, 157)",color:"white",borderBottomRightRadius:"4px"}:{backgroundColor:"white",color:"#111827",borderBottomLeftRadius:"4px"},children:B.type==="image"?i.jsx("img",{src:`/storage/${B.file_path}`,alt:"Shared image",className:"rounded-lg max-w-full"}):B.type==="file"?i.jsxs("a",{href:`/storage/${B.file_path}`,download:!0,className:"flex items-center space-x-2 hover:underline text-xs",children:[i.jsx(iy,{className:"w-4 h-4"}),i.jsx("span",{children:B.message})]}):i.jsx("p",{className:`whitespace-pre-wrap break-words ${re?"text-white":""}`,children:H(B.message,re)})}),i.jsx("p",{className:`text-xs text-gray-400 mt-1 px-1 ${re?"text-right":""}`,children:ge(B.created_at)})]})},B.id)}),i.jsx("div",{ref:G})]}),i.jsx("form",{onSubmit:Z,className:"px-6 py-4 bg-white border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3 relative",children:[i.jsx("input",{type:"file",ref:D,onChange:ne,className:"hidden"}),i.jsx("button",{type:"button",onClick:()=>{var B;return(B=D.current)==null?void 0:B.click()},className:"p-2 rounded-xl transition-colors flex-shrink-0",style:{color:"rgb(89, 86, 157)"},onMouseEnter:B=>B.target.style.backgroundColor="rgba(89, 86, 157, 0.1)",onMouseLeave:B=>B.target.style.backgroundColor="transparent",title:"Attach file",children:i.jsx(iy,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{type:"text",value:c,onChange:q,placeholder:"Type a message...",className:"w-full px-5 py-3 text-sm bg-gray-50 border-0 rounded-2xl focus:outline-none focus:bg-white transition-all",onFocus:B=>{B.target.style.boxShadow="0 0 0 2px rgba(89, 86, 157, 0.1)"},onBlur:B=>{B.target.style.boxShadow="none"}}),P&&M.length>0&&i.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 max-h-48 overflow-y-auto",children:[i.jsx("div",{className:"px-4 py-2 text-white text-xs font-bold rounded-t-2xl",style:{backgroundColor:"rgb(89, 86, 157)"},children:"Group Members"}),M.map((B,re)=>{var W,Y;return i.jsxs("button",{type:"button",onClick:()=>X(B),className:"w-full px-4 py-3 text-left flex items-center gap-3 transition-colors border-b border-gray-50 last:border-b-0",onMouseEnter:J=>J.currentTarget.style.backgroundColor="rgba(89, 86, 157, 0.1)",onMouseLeave:J=>J.currentTarget.style.backgroundColor="white",children:[i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",style:{background:"linear-gradient(135deg, rgb(89, 86, 157) 0%, rgb(242, 82, 146) 100%)"},children:(Y=(W=B.name)==null?void 0:W.charAt(0))==null?void 0:Y.toUpperCase()}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:B.name.split(" ")[0]})}),i.jsxs("div",{className:"px-2 py-1 rounded-lg text-xs font-bold truncate max-w-[80px]",style:{backgroundColor:"rgba(89, 86, 157, 0.1)",color:"rgb(89, 86, 157)"},children:["@",B.name.split(" ")[0]]})]},B.id)})]})]}),i.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-3 text-white rounded-2xl transition-all disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0",style:{backgroundColor:"rgb(89, 86, 157)"},onMouseEnter:B=>B.target.style.boxShadow="0 10px 25px rgba(89, 86, 157, 0.3)",onMouseLeave:B=>B.target.style.boxShadow="none",title:"Send message",children:i.jsx(BV,{className:"w-5 h-5"})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(89, 86, 157, 0.1)"},children:i.jsx(Vc,{className:"w-10 h-10",style:{color:"rgb(89, 86, 157)"}})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Select a conversation"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Choose a chat from the list to start messaging"})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"New Chat"}),i.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(nN,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-5",children:[i.jsxs("label",{className:"flex items-center gap-3 mb-3 cursor-pointer p-3 rounded-xl hover:bg-gray-50 transition-colors",children:[i.jsx("input",{type:"radio",value:"direct",checked:T==="direct",onChange:B=>{O(B.target.value),j([])},className:"w-4 h-4 focus:ring-2",style:{accentColor:"rgb(89, 86, 157)"}}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Direct Message"})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-xl hover:bg-gray-50 transition-colors",children:[i.jsx("input",{type:"radio",value:"group",checked:T==="group",onChange:B=>O(B.target.value),className:"w-4 h-4 focus:ring-2",style:{accentColor:"rgb(89, 86, 157)"}}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Group Chat"})]})]}),T==="group"&&i.jsx("input",{type:"text",value:S,onChange:B=>E(B.target.value),placeholder:"Group name",className:"w-full px-4 py-3 text-sm bg-gray-50 border-0 rounded-xl mb-4 focus:outline-none focus:bg-white transition-all placeholder-gray-400",onFocus:B=>{B.target.style.boxShadow="0 0 0 2px rgba(89, 86, 157, 0.1)"},onBlur:B=>{B.target.style.boxShadow="none"}}),i.jsx("div",{className:"mb-5",children:i.jsx("input",{type:"text",value:A,onChange:B=>_(B.target.value),placeholder:"Search team members...",className:"w-full px-4 py-3 text-sm bg-gray-50 border-0 rounded-xl focus:outline-none focus:bg-white transition-all placeholder-gray-400",onFocus:B=>{B.target.style.boxShadow="0 0 0 2px rgba(89, 86, 157, 0.1)"},onBlur:B=>{B.target.style.boxShadow="none"}})}),i.jsx("div",{className:"max-h-64 overflow-y-auto mb-5 border border-gray-100 rounded-xl",children:he.map(B=>{var re,W;return i.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer border-b border-gray-50 last:border-b-0 transition-colors",onMouseEnter:Y=>Y.currentTarget.style.backgroundColor="rgba(89, 86, 157, 0.1)",onMouseLeave:Y=>Y.currentTarget.style.backgroundColor="white",children:[i.jsx("input",{type:T==="direct"?"radio":"checkbox",checked:b.includes(B.id),onChange:Y=>{j(T==="direct"?Y.target.checked?[B.id]:[]:J=>Y.target.checked?[...J,B.id]:J.filter(ie=>ie!==B.id))},className:"w-4 h-4 focus:ring-2",style:{accentColor:"rgb(89, 86, 157)"}}),i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",style:{background:"linear-gradient(135deg, rgb(89, 86, 157) 0%, rgb(242, 82, 146) 100%)"},children:((W=(re=B.name)==null?void 0:re.charAt(0))==null?void 0:W.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:B.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:B.email})]}),ce(B.id)&&i.jsx(IV,{className:"w-2.5 h-2.5 text-green-500 fill-current flex-shrink-0"})]},B.id)})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>g(!1),className:"px-5 py-2.5 text-sm font-semibold text-gray-700 rounded-xl hover:bg-gray-100 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ee,disabled:b.length===0||T==="group"&&!S,className:"px-5 py-2.5 text-sm font-semibold text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgb(89, 86, 157)"},onMouseEnter:B=>B.target.style.boxShadow="0 10px 25px rgba(89, 86, 157, 0.3)",onMouseLeave:B=>B.target.style.boxShadow="none",children:"Create Chat"})]})]})]})})]})}const Wc="#7c3aed",hn="#6366f1",Ps=()=>{var T,O,A;const{user:e,logout:t}=$e(),[r,n]=N.useState(!1),[a,s]=N.useState("profile"),[o,l]=N.useState({profile:!0,password:!1,preferences:!1,users:!1}),[u,f]=N.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[c,d]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,m]=N.useState([{id:1,name:"John Doe",email:"john@example.com",role:"admin",status:"active"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"project_manager",status:"active"}]),[p,g]=N.useState(null),[v,y]=N.useState(!1),x=_=>{l(P=>({...P,[_]:!P[_]}))},w=async()=>{n(!0);try{console.log("Saving profile:",u)}catch(_){console.error("Failed to save profile:",_)}finally{n(!1)}},b=async()=>{if(c.newPassword!==c.confirmPassword){alert("Passwords do not match");return}n(!0);try{console.log("Changing password"),d({currentPassword:"",newPassword:"",confirmPassword:""})}catch(_){console.error("Failed to change password:",_)}finally{n(!1)}},j=async()=>{n(!0);try{console.log("Saving user:",p),y(!1),g(null)}catch(_){console.error("Failed to save user:",_)}finally{n(!1)}},S=async()=>{try{n(!0),await t()}catch(_){console.error("Logout failed:",_)}finally{n(!1)}},E=({section:_,title:P})=>i.jsxs("button",{onClick:()=>x(_),className:"w-full flex items-center justify-between px-6 py-4 border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:P})}),i.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${o[_]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]});return i.jsxs("div",{className:"space-y-4",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your account and system preferences"})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden",children:[i.jsx(E,{section:"profile",title:"Profile Settings"}),o.profile&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-6 py-6 space-y-6 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-start gap-6 pb-6 border-b border-gray-100",children:[i.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white text-3xl font-bold flex-shrink-0",style:{background:`linear-gradient(135deg, ${Wc}, ${hn})`},children:(O=(T=e==null?void 0:e.name)==null?void 0:T.charAt(0))==null?void 0:O.toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:e==null?void 0:e.email}),i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold capitalize",children:(A=e==null?void 0:e.role)==null?void 0:A.replace("_"," ")}),i.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:"Active"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:u.name,onChange:_=>f({...u,name:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Enter full name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:u.email,onChange:_=>f({...u,email:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Enter email"})]})]})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3",children:[i.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors text-sm",disabled:r,children:"Cancel"}),i.jsx("button",{onClick:w,className:"px-6 py-2 rounded-lg font-medium text-white transition-all disabled:opacity-50 text-sm",style:{background:hn},disabled:r,children:r?"Saving...":"Save Profile"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden",children:[i.jsx(E,{section:"password",title:"Change Password"}),o.password&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-6 py-6 border-b border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),i.jsx("input",{type:"password",value:c.currentPassword,onChange:_=>d({...c,currentPassword:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Enter current password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),i.jsx("input",{type:"password",value:c.newPassword,onChange:_=>d({...c,newPassword:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Enter new password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),i.jsx("input",{type:"password",value:c.confirmPassword,onChange:_=>d({...c,confirmPassword:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Confirm new password"})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:i.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"ðŸ’¡ Password must be at least 8 characters long and contain uppercase, lowercase, and numbers."})})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3",children:[i.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors text-sm",disabled:r,children:"Cancel"}),i.jsx("button",{onClick:b,className:"px-6 py-2 rounded-lg font-medium text-white transition-all disabled:opacity-50 text-sm",style:{background:hn},disabled:r,children:r?"Updating...":"Update Password"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden",children:[i.jsx(E,{section:"preferences",title:"Notification Preferences"}),o.preferences&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-6 py-6 space-y-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Receive updates about projects and tasks"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-12 h-7 bg-gray-300 rounded-full peer transition-all",style:{background:hn},children:i.jsx("div",{className:"absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full transition-transform",style:{transform:"translateX(24px)"}})})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Task Reminders"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Get reminded about upcoming deadlines"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-12 h-7 bg-gray-300 rounded-full peer transition-all",style:{background:hn},children:i.jsx("div",{className:"absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full transition-transform",style:{transform:"translateX(24px)"}})})]})]})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3",children:[i.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors text-sm",children:"Cancel"}),i.jsx("button",{className:"px-6 py-2 rounded-lg font-medium text-white transition-all text-sm",style:{background:hn},children:"Save Preferences"})]})]})]}),(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden",children:[i.jsx(E,{section:"users",title:"User Management"}),o.users&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"px-6 py-6",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 uppercase",children:"Name"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 uppercase",children:"Email"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-600 uppercase",children:"Role"}),i.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-600 uppercase",children:"Status"}),i.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(_=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsx("div",{children:i.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:_.name})})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("p",{className:"text-sm text-gray-600",children:_.email})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:"inline-block px-2.5 py-1 bg-purple-100 text-purple-700 rounded text-xs font-semibold capitalize",children:_.role.replace("_"," ")})}),i.jsx("td",{className:"py-4 px-4 text-center",children:i.jsx("span",{className:"inline-block px-2.5 py-1 bg-green-100 text-green-700 rounded text-xs font-semibold",children:_.status})}),i.jsx("td",{className:"py-4 px-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>{g(_),y(!0)},className:"p-2 rounded-lg transition-colors hover:bg-purple-50",style:{color:Wc},title:"Edit user",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{className:"p-2 rounded-lg transition-colors hover:bg-red-50 text-red-600",title:"Delete user",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},_.id))})]})})})})]}),i.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-red-200 bg-red-50",children:i.jsx("h2",{className:"text-lg font-bold text-red-600",children:"Danger Zone"})}),i.jsxs("div",{className:"px-6 py-6 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-colors",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Sign Out"}),i.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Sign out from your account"})]}),i.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg font-medium text-white transition-all text-sm",style:{background:"#ef4444"},children:"Sign Out"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50 hover:bg-red-100 transition-colors",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Delete Account"}),i.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Permanently delete your account and all data"})]}),i.jsx("button",{className:"px-4 py-2 rounded-lg font-medium text-white transition-all text-sm",style:{background:"#ef4444"},children:"Delete"})]})]})]}),v&&p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",style:{background:Wc},children:[i.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit User"}),i.jsx("p",{className:"text-purple-100 text-xs mt-1",children:"Update user information and password"})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:p.name,onChange:_=>g({...p,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:p.email,onChange:_=>g({...p,email:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Role"}),i.jsxs("select",{value:p.role,onChange:_=>g({...p,role:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"project_manager",children:"Project Manager"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"client",children:"Client"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:p.status,onChange:_=>g({...p,status:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"suspended",children:"Suspended"})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:i.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Leave password fields empty to keep the current password"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"New Password (Optional)"}),i.jsx("input",{type:"password",placeholder:"Leave empty to keep current password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3 border-t border-gray-200",children:[i.jsx("button",{onClick:()=>{y(!1),g(null)},className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors text-sm",children:"Cancel"}),i.jsx("button",{onClick:j,className:"px-4 py-2 rounded-lg font-medium text-white transition-all text-sm",style:{background:hn},disabled:r,children:r?"Saving...":"Save User"})]})]})}),i.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              max-height: 0;
            }
            to {
              opacity: 1;
              max-height: 1000px;
            }
          }
        `})]})},As=({children:e})=>{const{user:t,loading:r}=$e();return r?i.jsx(Je,{}):t?e:i.jsx(er,{to:"/login",replace:!0})},ks=({allowed:e,children:t})=>{const{user:r,loading:n}=$e();if(n)return i.jsx(Je,{});if(!r)return i.jsx(er,{to:"/login",replace:!0});if(!(Array.isArray(e)?e:[e]).includes(r.role)){const s=o=>{switch(o){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return"/admin"}};return i.jsx(er,{to:`${s(r.role)}/dashboard`,replace:!0})}return t},$V=()=>{const{user:e,loading:t}=$e();if(t)return i.jsx(Je,{});const n=e?(a=>{switch(a){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}})(e.role):"";return i.jsxs(a_,{children:[i.jsx(pe,{path:"/login",element:e?i.jsx(er,{to:`${n}/dashboard`,replace:!0}):i.jsx(L_,{})}),i.jsx(pe,{index:!0,element:e?i.jsx(er,{to:`${n}/dashboard`,replace:!0}):i.jsx(er,{to:"/login",replace:!0})}),i.jsxs(pe,{path:"/admin/*",element:i.jsx(As,{children:i.jsx(ks,{allowed:["admin"],children:i.jsx(A_,{})})}),children:[i.jsx(pe,{index:!0,element:i.jsx(er,{to:"/admin/dashboard",replace:!0})}),i.jsx(pe,{path:"dashboard",element:i.jsx(B_,{})}),i.jsx(pe,{path:"projects",element:i.jsx(Xi,{})}),i.jsx(pe,{path:"projects/:projectId",element:i.jsx(Zi,{})}),i.jsx(pe,{path:"projects/:projectId/tasks",element:i.jsx(es,{})}),i.jsx(pe,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(ts,{})}),i.jsx(pe,{path:"users/:userId/analytics",element:i.jsx(Qi,{})}),i.jsx(pe,{path:"users/:userType/:userId",element:i.jsx(Ji,{})}),i.jsx(pe,{path:"tasks",element:i.jsx(G_,{})}),i.jsx(pe,{path:"calendar",element:i.jsx(rs,{})}),i.jsx(pe,{path:"clients",element:i.jsx(Ak,{})}),i.jsx(pe,{path:"employees",element:i.jsx(AV,{})}),i.jsx(pe,{path:"activity-logs",element:i.jsx(hv,{})}),i.jsx(pe,{path:"chat",element:i.jsx(Ts,{})}),i.jsx(pe,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(pe,{path:"/manager/*",element:i.jsx(As,{children:i.jsx(ks,{allowed:["project_manager"],children:i.jsx(I_,{})})}),children:[i.jsx(pe,{index:!0,element:i.jsx(er,{to:"/manager/dashboard",replace:!0})}),i.jsx(pe,{path:"dashboard",element:i.jsx($_,{})}),i.jsx(pe,{path:"projects",element:i.jsx(Xi,{})}),i.jsx(pe,{path:"projects/:projectId",element:i.jsx(Zi,{})}),i.jsx(pe,{path:"projects/:projectId/tasks",element:i.jsx(es,{})}),i.jsx(pe,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(ts,{})}),i.jsx(pe,{path:"users/:userId/analytics",element:i.jsx(Qi,{})}),i.jsx(pe,{path:"users/:userType/:userId",element:i.jsx(Ji,{})}),i.jsx(pe,{path:"tasks",element:i.jsx(V_,{})}),i.jsx(pe,{path:"calendar",element:i.jsx(rs,{})}),i.jsx(pe,{path:"activity-logs",element:i.jsx(hv,{})}),i.jsx(pe,{path:"chat",element:i.jsx(Ts,{})}),i.jsx(pe,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(pe,{path:"/developer/*",element:i.jsx(As,{children:i.jsx(ks,{allowed:["developer"],children:i.jsx(M_,{})})}),children:[i.jsx(pe,{index:!0,element:i.jsx(er,{to:"/developer/dashboard",replace:!0})}),i.jsx(pe,{path:"dashboard",element:i.jsx(F_,{})}),i.jsx(pe,{path:"projects",element:i.jsx(Xi,{})}),i.jsx(pe,{path:"projects/:projectId",element:i.jsx(Zi,{})}),i.jsx(pe,{path:"projects/:projectId/tasks",element:i.jsx(es,{})}),i.jsx(pe,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(ts,{})}),i.jsx(pe,{path:"users/:userId/analytics",element:i.jsx(Qi,{})}),i.jsx(pe,{path:"users/:userType/:userId",element:i.jsx(Ji,{})}),i.jsx(pe,{path:"tasks",element:i.jsx(W_,{})}),i.jsx(pe,{path:"calendar",element:i.jsx(rs,{})}),i.jsx(pe,{path:"chat",element:i.jsx(Ts,{})}),i.jsx(pe,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsxs(pe,{path:"/client/*",element:i.jsx(As,{children:i.jsx(ks,{allowed:["client"],children:i.jsx(R_,{})})}),children:[i.jsx(pe,{index:!0,element:i.jsx(er,{to:"/client/dashboard",replace:!0})}),i.jsx(pe,{path:"dashboard",element:i.jsx(z_,{})}),i.jsx(pe,{path:"projects",element:i.jsx(Xi,{})}),i.jsx(pe,{path:"projects/:projectId",element:i.jsx(Zi,{})}),i.jsx(pe,{path:"projects/:projectId/tasks",element:i.jsx(es,{})}),i.jsx(pe,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(ts,{})}),i.jsx(pe,{path:"users/:userId/analytics",element:i.jsx(Qi,{})}),i.jsx(pe,{path:"users/:userType/:userId",element:i.jsx(Ji,{})}),i.jsx(pe,{path:"tasks",element:i.jsx(K_,{})}),i.jsx(pe,{path:"calendar",element:i.jsx(rs,{})}),i.jsx(pe,{path:"chat",element:i.jsx(Ts,{})}),i.jsx(pe,{path:"settings",element:i.jsx(Ps,{})})]}),i.jsx(pe,{path:"*",element:i.jsx(er,{to:e?`${n}/dashboard`:"/login",replace:!0})})]})};function FV(){return i.jsx(h_,{children:i.jsx(w_,{children:i.jsx($V,{})})})}function fW(){return i.jsx(FV,{})}export{fW as default};
