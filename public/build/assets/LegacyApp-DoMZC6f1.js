var Wj=Object.defineProperty;var Kj=(e,t,r)=>t in e?Wj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dc=(e,t,r)=>Kj(e,typeof t!="symbol"?t+"":t,r);import{r as _,R as ey,a as ty,j as i,c as Mt,g as Mr,b as vd,d as Yj}from"./app-ZLc9mWkq.js";import{c as ye,s as Xj,a as gi,X as Zj}from"./x-CcDrCSUx.js";import{D as Qj,C as Jj,P as e_,i as ry,a as t_,c as ny,b as r_,d as Vc,e as n_,s as a_,f as i_,g as s_}from"./dnd.esm-_CTpwheG.js";/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}var Xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xr||(Xr={}));const Wh="popstate";function o_(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Wc("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ms(a)}return c_(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l_(){return Math.random().toString(36).substr(2,8)}function Kh(e,t){return{usr:e.state,key:e.key,idx:t}}function Wc(e,t,r,n){return r===void 0&&(r=null),Qa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?da(t):t,{state:r,key:t&&t.key||n||l_()})}function Ms(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function da(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function c_(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Xr.Pop,u=null,f=c();f==null&&(f=0,o.replaceState(Qa({},o.state,{idx:f}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Xr.Pop;let v=c(),y=v==null?null:v-f;f=v,u&&u({action:l,location:g.location,delta:y})}function h(v,y){l=Xr.Push;let x=Wc(g.location,v,y);f=c()+1;let w=Kh(x,f),b=g.createHref(x);try{o.pushState(w,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}s&&u&&u({action:l,location:g.location,delta:1})}function m(v,y){l=Xr.Replace;let x=Wc(g.location,v,y);f=c();let w=Kh(x,f),b=g.createHref(x);o.replaceState(w,"",b),s&&u&&u({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:Ms(v);return x=x.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Wh,d),u=v,()=>{a.removeEventListener(Wh,d),u=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var Yh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yh||(Yh={}));function u_(e,t,r){return r===void 0&&(r="/"),d_(e,t,r)}function d_(e,t,r,n){let a=typeof t=="string"?da(t):t,s=ra(a.pathname||"/",r);if(s==null)return null;let o=ay(e);f_(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=__(s);l=w_(o[u],f)}return l}function ay(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=Qr([n,u.relativePath]),c=r.concat(u);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),ay(s.children,t,c,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:x_(f,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of iy(s.path))a(s,o,u)}),t}function iy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=iy(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function f_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h_=/^:[\w-]+$/,m_=3,p_=2,g_=1,v_=10,y_=-2,Xh=e=>e==="*";function x_(e,t){let r=e.split("/"),n=r.length;return r.some(Xh)&&(n+=y_),t&&(n+=p_),r.filter(a=>!Xh(a)).reduce((a,s)=>a+(h_.test(s)?m_:s===""?g_:v_),n)}function b_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function w_(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},c),h=u.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Qr([s,d.pathname]),pathnameBase:S_(Qr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Qr([s,d.pathnameBase]))}return o}function Kc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=j_(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return m&&!p?f[h]=void 0:f[h]=(p||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function j_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function __(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E_=e=>N_.test(e);function O_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?da(e):e,s;if(r)if(E_(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=Zh(r.substring(1),"/"):s=Zh(r,t)}else s=t;return{pathname:s,search:P_(n),hash:A_(a)}}function Zh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xd(e,t){let r=T_(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=da(e):(a=Qa({},e),Be(!a.pathname||!a.pathname.includes("?"),fc("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),fc("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),fc("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let u=O_(a,l),f=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||c)&&(u.pathname+="/"),u}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),S_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sy=["post","put","patch","delete"];new Set(sy);const k_=["get",...sy];new Set(k_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ja.apply(this,arguments)}const Mo=_.createContext(null),oy=_.createContext(null),Rr=_.createContext(null),Ro=_.createContext(null),vr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=_.createContext(null);function C_(e,t){let{relative:r}=t===void 0?{}:t;fa()||Be(!1);let{basename:n,navigator:a}=_.useContext(Rr),{hash:s,pathname:o,search:l}=Lo(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Qr([n,o])),a.createHref({pathname:u,search:l,hash:s})}function fa(){return _.useContext(Ro)!=null}function Yt(){return fa()||Be(!1),_.useContext(Ro).location}function cy(e){_.useContext(Rr).static||_.useLayoutEffect(e)}function yr(){let{isDataRoute:e}=_.useContext(vr);return e?K_():D_()}function D_(){fa()||Be(!1);let e=_.useContext(Mo),{basename:t,future:r,navigator:n}=_.useContext(Rr),{matches:a}=_.useContext(vr),{pathname:s}=Yt(),o=JSON.stringify(xd(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return cy(()=>{l.current=!0}),_.useCallback(function(f,c){if(c===void 0&&(c={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let d=bd(f,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,s,e])}const M_=_.createContext(null);function R_(e){let t=_.useContext(vr).outlet;return t&&_.createElement(M_.Provider,{value:e},t)}function vi(){let{matches:e}=_.useContext(vr),t=e[e.length-1];return t?t.params:{}}function Lo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Rr),{matches:a}=_.useContext(vr),{pathname:s}=Yt(),o=JSON.stringify(xd(a,n.v7_relativeSplatPath));return _.useMemo(()=>bd(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function L_(e,t){return B_(e,t)}function B_(e,t,r,n){fa()||Be(!1);let{navigator:a}=_.useContext(Rr),{matches:s}=_.useContext(vr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Yt(),c;if(t){var d;let v=typeof t=="string"?da(t):t;u==="/"||(d=v.pathname)!=null&&d.startsWith(u)||Be(!1),c=v}else c=f;let h=c.pathname||"/",m=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=u_(e,{pathname:m}),g=H_(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Qr([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Qr([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?_.createElement(Ro.Provider,{value:{location:Ja({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xr.Pop}},g):g}function $_(){let e=W_(),t=I_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const F_=_.createElement($_,null);class z_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(vr.Provider,{value:this.props.routeContext},_.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U_(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(Mo);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(vr.Provider,{value:t},n)}function H_(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||Be(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=c),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||F_,u&&(f<0&&h===0?(Y_("route-fallback"),p=!0,v=null):f===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=g:p?w=v:d.route.Component?w=_.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,_.createElement(U_,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(z_,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var uy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uy||{}),dy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dy||{});function q_(e){let t=_.useContext(Mo);return t||Be(!1),t}function G_(e){let t=_.useContext(oy);return t||Be(!1),t}function V_(e){let t=_.useContext(vr);return t||Be(!1),t}function fy(e){let t=V_(),r=t.matches[t.matches.length-1];return r.route.id||Be(!1),r.route.id}function W_(){var e;let t=_.useContext(ly),r=G_(),n=fy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function K_(){let{router:e}=q_(uy.UseNavigateStable),t=fy(dy.UseNavigateStable),r=_.useRef(!1);return cy(()=>{r.current=!0}),_.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ja({fromRouteId:t},s)))},[e,t])}const Qh={};function Y_(e,t,r){Qh[e]||(Qh[e]=!0)}function X_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qt(e){let{to:t,replace:r,state:n,relative:a}=e;fa()||Be(!1);let{future:s,static:o}=_.useContext(Rr),{matches:l}=_.useContext(vr),{pathname:u}=Yt(),f=yr(),c=bd(t,xd(l,s.v7_relativeSplatPath),u,a==="path"),d=JSON.stringify(c);return _.useEffect(()=>f(JSON.parse(d),{replace:r,state:n,relative:a}),[f,d,a,r,n]),null}function Bo(e){return R_(e.context)}function me(e){Be(!1)}function Z_(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Xr.Pop,navigator:s,static:o=!1,future:l}=e;fa()&&Be(!1);let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:s,static:o,future:Ja({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof n=="string"&&(n=da(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,g=_.useMemo(()=>{let v=ra(c,u);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:p},navigationType:a}},[u,c,d,h,m,p,a]);return g==null?null:_.createElement(Rr.Provider,{value:f},_.createElement(Ro.Provider,{children:r,value:g}))}function Q_(e){let{children:t,location:r}=e;return L_(Yc(t),r)}new Promise(()=>{});function Yc(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let s=[...t,a];if(n.type===_.Fragment){r.push.apply(r,Yc(n.props.children,s));return}n.type!==me&&Be(!1),!n.props.index||!n.props.children||Be(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yc(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(this,arguments)}function hy(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function J_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eN(e,t){return e.button===0&&(!t||t==="_self")&&!J_(e)}function Xc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function tN(e,t){let r=Xc(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const rN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],aN="6";try{window.__reactRouterVersion=aN}catch{}const iN=_.createContext({isTransitioning:!1}),sN="startTransition",Jh=ey[sN];function oN(e){let{basename:t,children:r,future:n,window:a}=e,s=_.useRef();s.current==null&&(s.current=o_({window:a,v5Compat:!0}));let o=s.current,[l,u]=_.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},c=_.useCallback(d=>{f&&Jh?Jh(()=>u(d)):u(d)},[u,f]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.useEffect(()=>X_(n),[n]),_.createElement(Z_,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const lN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ls=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:f,preventScrollReset:c,viewTransition:d}=t,h=hy(t,rN),{basename:m}=_.useContext(Rr),p,g=!1;if(typeof f=="string"&&cN.test(f)&&(p=f,lN))try{let w=new URL(window.location.href),b=f.startsWith("//")?new URL(w.protocol+f):new URL(f),j=ra(b.pathname,m);b.origin===w.origin&&j!=null?f=j+b.search+b.hash:g=!0}catch{}let v=C_(f,{relative:a}),y=dN(f,{replace:o,state:l,target:u,preventScrollReset:c,relative:a,viewTransition:d});function x(w){n&&n(w),w.defaultPrevented||y(w)}return _.createElement("a",Rs({},h,{href:p||v,onClick:g||s?n:x,ref:r,target:u}))}),ha=_.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:c}=t,d=hy(t,nN),h=Lo(u,{relative:d.relative}),m=Yt(),p=_.useContext(oy),{navigator:g,basename:v}=_.useContext(Rr),y=p!=null&&hN(h)&&f===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&v&&(b=ra(b,v)||b);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=w===x||!o&&w.startsWith(x)&&w.charAt(j)==="/",N=b!=null&&(b===x||!o&&b.startsWith(x)&&b.charAt(x.length)==="/"),S={isActive:T,isPending:N,isTransitioning:y},E=T?n:void 0,P;typeof s=="function"?P=s(S):P=[s,T?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(S):l;return _.createElement(Ls,Rs({},d,{"aria-current":E,className:P,ref:r,style:O,to:u,viewTransition:f}),typeof c=="function"?c(S):c)});var Zc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zc||(Zc={}));var em;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(em||(em={}));function uN(e){let t=_.useContext(Mo);return t||Be(!1),t}function dN(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,u=yr(),f=Yt(),c=Lo(e,{relative:o});return _.useCallback(d=>{if(eN(d,r)){d.preventDefault();let h=n!==void 0?n:Ms(f)===Ms(c);u(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,c,n,a,r,e,s,o,l])}function fN(e){let t=_.useRef(Xc(e)),r=_.useRef(!1),n=Yt(),a=_.useMemo(()=>tN(n.search,r.current?null:t.current),[n.search]),s=yr(),o=_.useCallback((l,u)=>{const f=Xc(typeof l=="function"?l(a):l);r.current=!0,s("?"+f,u)},[s,a]);return[a,o]}function hN(e,t){t===void 0&&(t={});let r=_.useContext(iN);r==null&&Be(!1);let{basename:n}=uN(Zc.useViewTransitionState),a=Lo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=ra(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ra(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Kc(a.pathname,o)!=null||Kc(a.pathname,s)!=null}const my="",mN="/api",se=ty.create({baseURL:my+mN,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),tm=async()=>{try{await ty.get(`${my}/sanctum/csrf-cookie`,{withCredentials:!0})}catch(e){throw console.error("Failed to fetch CSRF cookie:",e),e}},py=_.createContext(null),pN=({children:e})=>{const[t,r]=_.useState(null),[n,a]=_.useState(!0),s=async()=>{var c;try{const d=await se.get("/me");r(d.data)}catch(d){((c=d.response)==null?void 0:c.status)!==401&&console.error("Error fetching user:",d),r(null)}finally{a(!1)}},o=async c=>{var d,h;try{await tm();const m=await se.post("/login",c);return r(m.data),{success:!0,user:m.data}}catch(m){return console.error("Login error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Login failed. Please try again."}}},l=async c=>{var d,h;try{await tm();const m=await se.post("/register",c);return r(m.data),{success:!0}}catch(m){return console.error("Registration error:",m),{success:!1,error:((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Registration failed. Please try again."}}},u=async()=>{try{await se.post("/logout")}catch(c){console.error("Logout error:",c)}finally{r(null)}};_.useEffect(()=>{s()},[]);const f={user:t,loading:n,login:o,register:l,logout:u,fetchUser:s};return i.jsx(py.Provider,{value:f,children:e})},Fe=()=>{const e=_.useContext(py);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},rt=()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),ma=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),yi=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),pa=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),ga=({className:e="w-6 h-6"})=>i.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),gy=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),gN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),vN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),yN=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),$o=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),Fo=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),xN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/admin/dashboard",icon:ma,label:"Dashboard"},{path:"/admin/projects",icon:yi,label:"Projects"},{path:"/admin/tasks",icon:pa,label:"Tasks"},{path:"/admin/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/admin/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/admin/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Employees"},{path:"/admin/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/admin/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/admin/settings",icon:ga,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx($o,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(Fo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ha,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"A"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Admin User"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]})})]})},xi=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",bN=e=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"",jn=e=>e?new Date(e)<new Date:!1,hc=({variant:e="primary",onClick:t,disabled:r=!1,type:n="button",className:a="",children:s})=>{const o="px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary text-white hover:bg-opacity-90 focus:ring-primary",secondary:"border-2 border-primary text-primary hover:bg-primary hover:text-white focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return i.jsx("button",{type:n,onClick:t,disabled:r,className:ye(o,l[e],a),children:s})},wN=({open:e,onClose:t})=>{const{logout:r}=Fe(),n=async()=>{await r(),t()},a=[{path:"/dashboard",icon:ma,label:"Dashboard"},{path:"/projects",icon:yi,label:"Projects"},{path:"/tasks",icon:pa,label:"Tasks"},{path:"/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/clients",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),label:"Clients"},{path:"/employees",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),label:"Employees"},{path:"/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/settings",icon:ga,label:"Settings"}];return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),i.jsxs("aside",{className:ye("fixed top-0 left-0 h-full w-80 bg-primary text-white z-50 transform transition-transform duration-300 md:hidden",e?"translate-x-0":"-translate-x-full"),children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-accent",children:[i.jsx("h1",{className:"text-xl font-bold",children:"SohojSync"}),i.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-accent transition-colors","aria-label":"Close menu",children:i.jsx(yN,{className:"w-6 h-6"})})]}),i.jsxs("nav",{className:"py-4",children:[a.map(s=>i.jsxs(ha,{to:s.path,onClick:t,className:({isActive:o})=>ye("flex items-center px-6 py-4 text-white hover:bg-accent transition-colors",o&&"bg-accent"),children:[i.jsx(s.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:s.label})]},s.path)),i.jsxs("button",{onClick:n,className:"flex items-center w-full px-6 py-4 text-white hover:bg-accent transition-colors mt-4 border-t border-accent",children:[i.jsx(gy,{className:"w-6 h-6"}),i.jsx("span",{className:"ml-4 font-medium",children:"Logout"})]})]})]})]})},jN=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState([]),[a,s]=_.useState(0),[o,l]=_.useState(!1),u=_.useRef(null);_.useEffect(()=>{f();const g=setInterval(f,3e4);return()=>clearInterval(g)},[]),_.useEffect(()=>{e&&c()},[e]),_.useEffect(()=>{const g=v=>{u.current&&!u.current.contains(v.target)&&t(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=async()=>{try{const g=await se.get("/notifications/unread-count");s(g.data.count)}catch(g){console.error("Failed to fetch unread count:",g)}},c=async()=>{l(!0);try{const g=await se.get("/notifications");n(g.data.data||g.data)}catch(g){console.error("Failed to fetch notifications:",g)}finally{l(!1)}},d=async g=>{try{await se.patch(`/notifications/${g}/mark-read`),n(r.map(v=>v.id===g?{...v,is_read:!0,read_at:new Date}:v)),s(Math.max(0,a-1))}catch(v){console.error("Failed to mark notification as read:",v)}},h=async()=>{try{await se.patch("/notifications/mark-all-read"),n(r.map(g=>({...g,is_read:!0,read_at:new Date}))),s(0)}catch(g){console.error("Failed to mark all as read:",g)}},m=g=>{switch(g){case"project_assigned":return i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})});case"deadline_reminder":return i.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});case"project_created":return i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})});default:return i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}},p=g=>{const v=new Date(g),x=Math.floor((new Date-v)/1e3);return x<60?"Just now":x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:x<604800?`${Math.floor(x/86400)}d ago`:v.toLocaleDateString()};return i.jsxs("div",{className:"relative",ref:u,children:[i.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 hover:bg-gray-200 rounded-lg transition-colors group",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),a>0&&i.jsx("span",{className:"absolute top-0.5 right-0.5 w-4 h-4 rounded-full text-white text-xs flex items-center justify-center font-semibold",style:{background:"#F25292"},children:a>9?"9+":a})]}),e&&i.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Notifications"}),a>0&&i.jsx("button",{onClick:h,className:"text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Mark all as read"})]}),i.jsxs("div",{className:"max-h-96 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                .max-h-96::-webkit-scrollbar {
                  width: 6px;
                }
                .max-h-96::-webkit-scrollbar-track {
                  background: #f1f1f1;
                }
                .max-h-96::-webkit-scrollbar-thumb {
                  background: #888;
                  border-radius: 10px;
                }
                .max-h-96::-webkit-scrollbar-thumb:hover {
                  background: #555;
                }
              `}),o?i.jsx("div",{className:"p-8 text-center text-gray-500",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto"})}):r.length>0?r.map(g=>i.jsx("div",{onClick:()=>!g.is_read&&d(g.id),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${g.is_read?"":"bg-purple-50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${g.is_read?"bg-gray-100":"bg-white"}`,children:m(g.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-0.5",children:g.title}),i.jsx("p",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:g.message}),i.jsx("span",{className:"text-xs text-gray-400",children:p(g.created_at)})]}),!g.is_read&&i.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full flex-shrink-0 mt-1"})]})},g.id)):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),i.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]})]})]})]})},zo=({pageTitle:e})=>{var o;const{user:t,logout:r}=Fe(),[n,a]=_.useState(!1),s=async()=>{await r()};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-4 md:px-6 bg-white",style:{borderBottomColor:"#e3e8ef",fontFamily:"Inter, sans-serif",boxShadow:"0 1px 3px rgba(0,0,0,0.04)"},children:[i.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 hover:bg-gray-100 rounded-[8px] transition-colors","aria-label":"Open menu",children:i.jsx(vN,{className:"w-5 h-5 text-gray-700"})}),i.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-lg",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search for something...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-[8px] text-[14px] text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:bg-white transition-all",style:{fontFamily:"Inter, sans-serif"}})]})}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[i.jsx(jN,{}),i.jsxs("div",{className:"hidden sm:flex items-center gap-3 pl-3 border-l",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-semibold text-gray-900 text-right",style:{fontFamily:"Inter, sans-serif"},children:t==null?void 0:t.name}),i.jsx("p",{className:"text-[11px] text-right capitalize text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:(o=t==null?void 0:t.role)==null?void 0:o.replace("_"," ")})]}),i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white text-[13px] font-semibold cursor-pointer shadow-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:bN((t==null?void 0:t.name)||"")})]}),i.jsxs("button",{onClick:s,className:"hidden md:flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-[8px] text-gray-700 text-[14px] font-medium transition-colors",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(gy,{className:"w-4 h-4"}),"Logout"]})]})]}),i.jsx(wN,{open:n,onClose:()=>a(!1)})]})},Uo=()=>{const e=[{path:"/dashboard",icon:ma,label:"Home"},{path:"/tasks",icon:pa,label:"Tasks"},{path:"/projects",icon:gN,label:"Projects"},{path:"/settings",icon:ga,label:"Settings"}];return i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:i.jsx("div",{className:"flex items-center justify-around h-16",children:e.map(t=>i.jsxs(ha,{to:t.path,className:({isActive:r})=>ye("flex flex-col items-center justify-center flex-1 h-full transition-colors",r?"text-primary":"text-gray-500"),children:[i.jsx(t.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"text-xs mt-1",children:t.label})]},t.path))})})},_N=()=>{const e=Yt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(xN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(zo,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Bo,{})})]}),i.jsx(Uo,{})]})},NN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/manager/dashboard",icon:ma,label:"Dashboard"},{path:"/manager/projects",icon:yi,label:"Projects"},{path:"/manager/tasks",icon:pa,label:"Tasks"},{path:"/manager/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/manager/activity-logs",icon:()=>i.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),label:"Activity Logs"},{path:"/manager/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/manager/settings",icon:ga,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx($o,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(Fo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ha,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"M"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Manager"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"manager@example.com"})]})]})})]})},EN=()=>{const e=Yt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(NN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(zo,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Bo,{})})]}),i.jsx(Uo,{})]})},ON=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/developer/dashboard",icon:ma,label:"Dashboard"},{path:"/developer/projects",icon:yi,label:"Projects"},{path:"/developer/tasks",icon:pa,label:"Tasks"},{path:"/developer/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/developer/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/developer/settings",icon:ga,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx($o,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(Fo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ha,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"D"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Developer"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"dev@example.com"})]})]})})]})},TN=()=>{const e=Yt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(ON,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(zo,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Bo,{})})]}),i.jsx(Uo,{})]})},SN=()=>{var s,o;const{user:e}=Fe(),[t,r]=_.useState(()=>{const l=localStorage.getItem("sidebarCollapsed");return l?JSON.parse(l):!1});_.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(t))},[t]);const n=()=>{r(!t)},a=[{path:"/client/dashboard",icon:ma,label:"Dashboard"},{path:"/client/projects",icon:yi,label:"Projects"},{path:"/client/tasks",icon:pa,label:"Tasks"},{path:"/client/calendar",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),label:"Calendar"},{path:"/client/chat",icon:()=>i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),label:"Chat"},{path:"/client/settings",icon:ga,label:"Settings"}];return i.jsxs("aside",{className:ye("hidden md:flex flex-col border-r transition-all duration-300 bg-white",t?"w-20":"w-64"),style:{borderRightColor:"#e5e7eb"},children:[i.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",style:{borderColor:"#e5e7eb"},children:[!t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"SohojSync"})]}),t&&i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mx-auto",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),!t&&i.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Collapse sidebar",children:i.jsx($o,{className:"w-4 h-4 text-gray-500"})})]}),t&&i.jsx("button",{onClick:n,className:"mx-3 mb-3 p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Expand sidebar",children:i.jsx(Fo,{className:"w-4 h-4 text-gray-500 mx-auto"})}),i.jsx("nav",{className:"flex-1 px-3 space-y-3 mt-8",children:a.map(l=>i.jsx(ha,{to:l.path,className:({isActive:u})=>ye("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm",u?"text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),style:({isActive:u})=>u?{background:"#59569D"}:{},children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),!t&&i.jsx("span",{className:"font-medium",children:l.label})]})},l.path))}),!t&&i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{background:"#59569D"},children:((o=(s=e==null?void 0:e.name)==null?void 0:s[0])==null?void 0:o.toUpperCase())||"C"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-800 truncate",children:(e==null?void 0:e.name)||"Client"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"client@example.com"})]})]})})]})},PN=()=>{const e=Yt(),t=()=>{const r=e.pathname;return r==="/dashboard"?"Dashboard":r==="/projects"?"Projects":r==="/tasks"?"Tasks":r==="/settings"?"Settings":"SohojSync"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-900",children:[i.jsx(SN,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(zo,{pageTitle:t()}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20 md:pb-8 bg-gray-100",children:i.jsx(Bo,{})})]}),i.jsx(Uo,{})]})},rm=({label:e,type:t="text",name:r,value:n,onChange:a,error:s,placeholder:o,required:l=!1,className:u=""})=>i.jsxs("div",{className:ye("mb-5",u),children:[e&&i.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-2",children:[e,l&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{type:t,id:r,name:r,value:n,onChange:a,placeholder:o,required:l,style:{...s?{}:{"--tw-ring-color":"#b56e84"}},className:ye("w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all",s?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-[#b56e84]")}),s&&i.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]}),Ne=({children:e,className:t="",onClick:r})=>{const n="bg-white rounded-lg shadow-sm p-6",a=r?"cursor-pointer hover:shadow-md transition-shadow":"";return i.jsx("div",{className:ye(n,a,t),onClick:r,children:e})},AN=()=>{yr();const{login:e}=Fe(),[t,r]=_.useState({email:"",password:"",remember:!1}),[n,a]=_.useState({}),[s,o]=_.useState(!1),l=c=>{r({email:c,password:"password",remember:!1}),a({})},u=c=>{const{name:d,value:h,type:m,checked:p}=c.target;r(g=>({...g,[d]:m==="checkbox"?p:h})),n[d]&&a(g=>({...g,[d]:""}))},f=async c=>{c.preventDefault(),a({}),o(!0);const d=await e(t);if(o(!1),d.success){const h=d.user;let m="/admin";h.role==="project_manager"?m="/manager":h.role==="developer"?m="/developer":h.role==="client"&&(m="/client"),window.location.href=`${m}/dashboard`}else a({general:d.error})};return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-background",children:i.jsx("div",{className:"w-full max-w-md relative z-10",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[i.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 rounded-xl blur-md opacity-30 group-hover:opacity-50 transition-opacity duration-300",style:{background:"#59569d"}}),i.jsx("div",{className:"relative w-12 h-12 rounded-xl flex items-center justify-center transform transition-all duration-300 group-hover:scale-105",style:{background:"#59569d"},children:i.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",style:{color:"#59569d"},children:"SohojSync"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back!"})]})]}),n.general&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm animate-shake",children:n.general}),i.jsxs("form",{onSubmit:f,children:[i.jsx(rm,{label:"Email",type:"email",name:"email",value:t.email,onChange:u,placeholder:"your@email.com",required:!0,error:n.email}),i.jsx(rm,{label:"Password",type:"password",name:"password",value:t.password,onChange:u,placeholder:"",required:!0,error:n.password}),i.jsxs("div",{className:"mb-6 flex items-center",children:[i.jsx("input",{type:"checkbox",id:"remember",name:"remember",checked:t.remember,onChange:u,className:"w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:ring-offset-0 transition-all",style:{accentColor:"#59569d"}}),i.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me"})]}),i.jsxs("button",{type:"submit",disabled:s,className:"relative w-full text-white font-semibold py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl overflow-hidden group",style:{background:"linear-gradient(135deg, #59569d, #8b86d4)"},children:[i.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),i.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[s&&i.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s?"Signing in...":"Sign In"]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Demo Credentials"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Click to fill"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l("admin@sync.sohojware.dev"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="admin@sync.sohojware.dev"?"#59569d":"#e5e7eb",backgroundColor:t.email==="admin@sync.sohojware.dev"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Admin Manager"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"admin@sync.sohojware.dev"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("raj.khan@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="raj.khan@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="raj.khan@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Raja Khan (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"raj.khan@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("priya.singh@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="priya.singh@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="priya.singh@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Priya Singh (PM)"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"priya.singh@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("ahmed@company.com"),className:"w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="ahmed@company.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="ahmed@company.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Ahmed Hassan"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"ahmed@company.com"})]})]})}),i.jsx("button",{type:"button",onClick:()=>l("contact@techinnovations.com"),className:"col-span-2 w-full relative p-3 text-left bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border transition-all duration-200 transform hover:scale-[1.01] active:scale-95 text-sm",style:{borderColor:t.email==="contact@techinnovations.com"?"#59569d":"#e5e7eb",backgroundColor:t.email==="contact@techinnovations.com"?"#f8f6ff":""},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight",children:"Client Contact"}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-tight",children:"contact@techinnovations.com"})]})]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3 italic",children:["All passwords: ",i.jsx("span",{className:"font-semibold text-gray-700",children:"password"})]})]})]})})})},IN=()=>{const{user:e}=Fe(),[t,r]=_.useState(!0),[n,a]=_.useState({totalUsers:0,totalProjects:0,totalTasks:0,completedTasks:0,totalClients:0,dueTasks:0,dueProjects:0,todayDeliveryProjects:0,todayDeliveryTasks:0}),[s,o]=_.useState([]),[l,u]=_.useState([]),[f,c]=_.useState([]),[d,h]=_.useState({tasks:[],projects:[]}),[m,p]=_.useState({tasks:[],projects:[]});_.useEffect(()=>{(async()=>{try{r(!0);const[b,j,T]=await Promise.all([se.get("/projects"),se.get("/tasks"),se.get("/clients").catch(()=>({data:[]}))]),N=Array.isArray(b.data)?b.data:b.data.data||b.data.projects||[],S=Array.isArray(j.data)?j.data:j.data.data||j.data.tasks||[],E=Array.isArray(T.data)?T.data:T.data.data||T.data.clients||[],P=new Date;P.setHours(0,0,0,0);const O=new Date(P);O.setHours(23,59,59,999);const I=S.filter(R=>R.status==="done"||R.status==="completed"||!R.due_date&&!R.deadline?!1:new Date(R.due_date||R.deadline)<P),k=N.filter(R=>R.status==="completed"||!R.deadline?!1:new Date(R.deadline)<P),A=S.filter(R=>{if(!R.due_date&&!R.deadline)return!1;const D=new Date(R.due_date||R.deadline);return D>=P&&D<=O}),M=N.filter(R=>{if(!R.deadline)return!1;const D=new Date(R.deadline);return D>=P&&D<=O});o(N),u(S),c(E),h({tasks:I,projects:k}),p({tasks:A,projects:M}),a({totalUsers:E.length+N.length,totalProjects:N.length,totalTasks:S.length,completedTasks:S.filter(R=>R.status==="done"||R.status==="completed").length,totalClients:E.length,dueTasks:I.length,dueProjects:k.length,todayDeliveryProjects:M.length,todayDeliveryTasks:A.length})}catch(b){console.error("Error fetching dashboard data:",b)}finally{r(!1)}})()},[]);const g=["Oct","Nov","Dec","Jan","Feb","Mar"],v=g.map(()=>Math.floor(Math.random()*n.totalProjects)+1),y=g.map(()=>Math.floor(Math.random()*n.totalTasks)+1),x=[{title:"Total Projects",value:n.totalProjects,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),color:"#59569d"},{title:"Active Tasks",value:n.totalTasks-n.completedTasks,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),color:"#4facfe"},{title:"Due Today",value:n.todayDeliveryProjects+n.todayDeliveryTasks,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),color:"#f25292"},{title:"Total Clients",value:n.totalClients,icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),color:"#10b981"}];return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):i.jsxs("div",{className:"space-y-6 bg-white min-h-screen p-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((w,b)=>i.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${w.color}15`},children:i.jsx("div",{style:{color:w.color},children:w.icon})}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:w.value}),i.jsx("p",{className:"text-sm text-gray-500",children:w.title})]},b))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Projects vs. Tasks Trend"}),i.jsxs("select",{className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 text-gray-600",children:[i.jsx("option",{children:"Show by months"}),i.jsx("option",{children:"Show by weeks"}),i.jsx("option",{children:"Show by days"})]})]}),i.jsx("div",{className:"h-64 flex items-end justify-around gap-4",children:g.map((w,b)=>{const j=Math.max(...v,...y);return i.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[i.jsxs("div",{className:"w-full flex gap-1",children:[i.jsx("div",{className:"flex-1 rounded-t-lg transition-all hover:opacity-80",style:{backgroundColor:"#59569d",height:`${v[b]/j*200}px`,minHeight:"20px"}}),i.jsx("div",{className:"flex-1 rounded-t-lg transition-all hover:opacity-80",style:{backgroundColor:"#4facfe",height:`${y[b]/j*200}px`,minHeight:"20px"}})]}),i.jsx("span",{className:"text-xs text-gray-500",children:w})]},b)})}),i.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#59569d"}}),i.jsx("span",{className:"text-sm text-gray-600",children:"Projects"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#4facfe"}}),i.jsx("span",{className:"text-sm text-gray-600",children:"Tasks"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Task Status"}),i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"relative w-40 h-40",children:n.totalTasks>0?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10b981",strokeWidth:"12",strokeDasharray:`${n.completedTasks/n.totalTasks*251} 251`,strokeLinecap:"round"}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#f25292",strokeWidth:"12",strokeDasharray:`${(n.totalTasks-n.completedTasks)/n.totalTasks*251} 251`,strokeDashoffset:`-${n.completedTasks/n.totalTasks*251}`,strokeLinecap:"round"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400",children:"No data"})})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"}}),i.jsx("span",{className:"text-sm text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round(n.completedTasks/n.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f25292"}}),i.jsx("span",{className:"text-sm text-gray-600",children:"Pending"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round((n.totalTasks-n.completedTasks)/n.totalTasks*100)||0,"%"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Due Items"}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),i.jsxs("div",{className:"space-y-4",children:[d.projects.length>0&&d.projects.slice(0,3).map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-red-50 text-lg",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 block",children:w.name||w.title}),i.jsxs("span",{className:"text-xs text-red-600",children:["Overdue: ",new Date(w.deadline).toLocaleDateString()]})]})]}),i.jsx("span",{className:"text-xs font-semibold text-red-600",children:n.dueProjects})]},w.id)),d.tasks.length>0&&d.tasks.slice(0,3).map(w=>i.jsx("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-orange-50 text-lg",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 block truncate max-w-[150px]",children:w.title}),i.jsxs("span",{className:"text-xs text-orange-600",children:["Due: ",new Date(w.due_date||w.deadline).toLocaleDateString()]})]})]})},w.id)),d.projects.length===0&&d.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:" All caught up!"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Due Today"}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),i.jsxs("div",{className:"space-y-4",children:[m.projects.length>0&&m.projects.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-purple-50 text-lg",children:""}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.name||w.title})]}),i.jsx("span",{className:"text-xs font-semibold text-purple-600",children:"Project"})]},w.id)),m.tasks.length>0&&m.tasks.map(w=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-blue-50 text-lg",children:""}),i.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-[150px]",children:w.title})]}),i.jsx("span",{className:"text-xs font-semibold text-blue-600",children:"Task"})]},w.id)),m.projects.length===0&&m.tasks.length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No deliveries today"})]})]}),i.jsxs("div",{className:"rounded-xl p-6 text-white relative overflow-hidden",style:{background:"linear-gradient(135deg, #59569d 0%, #7c6fb8 100%)"},children:[i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-4xl font-bold mb-2 text-white",children:n.totalProjects}),i.jsx("p",{className:"text-sm opacity-90 mb-6 text-white",children:"Active Projects"}),i.jsx("svg",{className:"w-full h-16",viewBox:"0 0 200 50",children:i.jsx("path",{d:"M 5 40 Q 30 10, 50 25 T 90 20 T 130 30 T 170 15 T 195 20",fill:"none",stroke:"white",strokeWidth:"2",opacity:"0.6"})}),i.jsxs("div",{className:"flex items-center justify-between text-xs opacity-75 mt-2",children:[i.jsx("span",{children:"Mon"}),i.jsx("span",{children:"Tue"}),i.jsx("span",{children:"Wed"}),i.jsx("span",{children:"Thu"}),i.jsx("span",{children:"Fri"})]})]}),i.jsx("div",{className:"absolute top-4 right-4 text-2xl opacity-20",children:""})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-6 border border-purple-100 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:i.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Tasks"})]}),i.jsx("a",{href:"/admin/tasks",className:"px-4 py-2 bg-white rounded-lg text-sm font-semibold text-purple-600 hover:bg-purple-50 transition-all shadow-sm",children:"View All"})]}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.length>0?l.slice(0,6).map(w=>{const b=w.due_date||w.deadline,j=b&&new Date(b)<new Date&&w.status!=="done"&&w.status!=="completed",T=b&&new Date(b).toDateString()===new Date().toDateString();return i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-all border border-gray-100",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"text-base font-semibold text-gray-900",children:w.title}),j&&i.jsx("span",{className:"px-2.5 py-0.5 bg-red-500 text-white text-xs rounded-full font-bold",children:"OVERDUE"}),T&&!j&&i.jsx("span",{className:"px-2.5 py-0.5 bg-orange-500 text-white text-xs rounded-full font-bold",children:"TODAY"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[w.project&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),w.project.name||w.project.title]}),b&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(b).toLocaleDateString()]})]})]}),i.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${w.status==="done"||w.status==="completed"?"bg-green-100 text-green-700":w.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:w.status==="done"||w.status==="completed"?" Done":w.status==="in_progress"?" Active":" Open"})]})},w.id)}):i.jsxs("div",{className:"text-center py-16 bg-white rounded-xl",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsxs("svg",{className:"w-10 h-10 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No tasks yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create your first task to get started"})]})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-2xl p-6 border border-pink-100 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Clients"})]}),i.jsx("a",{href:"/admin/clients",className:"px-4 py-2 bg-white rounded-lg text-sm font-semibold text-pink-600 hover:bg-pink-50 transition-all shadow-sm",children:"View All"})]}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.length>0?f.slice(0,6).map(w=>{var b,j,T,N,S,E;return i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-all border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-lg font-bold shadow-md",style:{background:"linear-gradient(135deg, #f25292 0%, #59569d 100%)"},children:(w.name||w.company_name||((b=w.user)==null?void 0:b.name)||"C").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-0.5",children:w.name||w.company_name||((j=w.user)==null?void 0:j.name)||"Unknown Client"}),(w.email||((T=w.user)==null?void 0:T.email))&&i.jsxs("p",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),w.email||((N=w.user)==null?void 0:N.email)]}),(w.phone||((S=w.user)==null?void 0:S.phone))&&i.jsxs("p",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),w.phone||((E=w.user)==null?void 0:E.phone)]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-pink-100 to-purple-100 text-pink-700 text-xs font-bold rounded-lg",children:"Active"})})]})},w.id)}):i.jsxs("div",{className:"text-center py-16 bg-white rounded-xl",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-pink-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No clients yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add your first client to get started"})]})})]})]})]})},Ho=({title:e,subtitle:t,actions:r})=>i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:e}),t&&i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),r&&i.jsx("div",{className:"flex gap-3",children:r})]}),kN=()=>{const{user:e}=Fe(),[t,r]=_.useState({myProjects:0,totalTasks:0,assignedToMe:0,teamTasks:0}),[n,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(!0);_.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([se.get("/projects"),se.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(y=>{var x;return y.project_manager_id===(e==null?void 0:e.id)||((x=y.project_manager)==null?void 0:x.id)===(e==null?void 0:e.id)}),g=m.filter(y=>{var x,w,b;return((x=y.project)==null?void 0:x.project_manager_id)===(e==null?void 0:e.id)||((b=(w=y.project)==null?void 0:w.project_manager)==null?void 0:b.id)===(e==null?void 0:e.id)});a(p),o(g);const v=m.filter(y=>y.assigned_to===(e==null?void 0:e.id));r({myProjects:p.length,totalTasks:g.length,assignedToMe:v.length,teamTasks:g.filter(y=>y.status==="open"||y.status==="in_progress").length})}catch(c){console.error("Failed to fetch manager data:",c)}finally{u(!1)}};return l?i.jsx(rt,{}):i.jsxs("div",{children:[i.jsx(Ho,{title:`Manager Dashboard - Welcome ${e==null?void 0:e.name}!`,subtitle:"Manage your team's projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.totalTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Assigned to Me"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.assignedToMe})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Team Open Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.teamTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Projects"}),i.jsx("div",{className:"space-y-3",children:n.length>0?n.map(c=>i.jsxs(Ne,{children:[i.jsx("h4",{className:"font-semibold text-lg mb-2",children:c.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3",children:[i.jsxs("span",{children:["Created ",new Date(c.created_at).toLocaleDateString()]}),i.jsx("button",{className:"text-primary hover:underline",children:"Manage"})]})]},c.id)):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects yet. Start creating!"})})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Team Tasks"}),i.jsx("a",{href:"/manager/tasks",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-3",children:s.length>0?s.slice(0,5).map(c=>{var d;return i.jsxs(Ne,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:c.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:c.status==="done"?"Done":"Open"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:(d=c.project)==null?void 0:d.title}),c.assigned_to===(e==null?void 0:e.id)&&i.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:" Assigned to you"})]},c.id)}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks available"})})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-accent to-blue-500 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Manager Tools"}),i.jsx("p",{className:"mb-4",children:"Coordinate your team's work effectively"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Create Project"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Assign Tasks"}),i.jsx("button",{className:"px-4 py-2 bg-white text-accent rounded-lg font-medium hover:bg-opacity-90",children:"Team Reports"})]})]})})]})},CN=()=>{const{user:e}=Fe(),t=d=>{if(!d)return d;const h=document.createElement("textarea");return h.innerHTML=d,h.value},[r,n]=_.useState({myTasks:0,completedTasks:0,pendingTasks:0,overdueTask:0,myProjects:0}),[a,s]=_.useState([]),[o,l]=_.useState([]),[u,f]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{try{const[d,h]=await Promise.all([se.get("/projects"),se.get("/tasks")]),m=Array.isArray(d.data)?d.data:d.data.data||[],p=Array.isArray(h.data)?h.data:h.data.data||[],g=m.filter(w=>(Array.isArray(w.members)?w.members:[]).some(j=>j.user_id===(e==null?void 0:e.id)||j.id===(e==null?void 0:e.id)));l(g),s(p);const v=p.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,y=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length,x=p.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())&&w.due_date&&jn(w.due_date)).length;n({myTasks:p.length,completedTasks:v,pendingTasks:y,overdueTask:x,myProjects:g.length})}catch(d){console.error("Failed to fetch developer data:",d)}finally{f(!1)}};return u?i.jsx(rt,{}):i.jsxs("div",{children:[i.jsx(Ho,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Your developer dashboard - track your projects and tasks"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:r.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:r.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:r.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueTask})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/developer/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),o.length>0?i.jsx("div",{className:"space-y-3",children:o.map(d=>{var h;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:d.title||d.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",dangerouslySetInnerHTML:{__html:d.description?t(d.description).substring(0,100):"No description"}}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:((h=d.status)==null?void 0:h.replace("_"," "))||"Planning"}),d.project_manager&&i.jsxs("span",{children:["PM: ",d.project_manager.name]})]})]}),i.jsx("a",{href:`/developer/projects/${d.id}`,className:"text-primary font-medium hover:underline whitespace-nowrap ml-4",children:"View"})]})},d.id)})}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you yet."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Assigned Tasks"}),a.length>0?i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(d=>{var h;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:d.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${["done","completed"].includes(String(d.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(d.status).toLowerCase())?"Done":"Pending"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((h=d.project)==null?void 0:h.title)||"No project"}),d.description&&i.jsx("div",{className:"text-sm text-gray-700 mb-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t(d.description)}}),d.due_date&&i.jsxs("p",{className:`text-xs ${jn(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())?"text-red-600 font-medium":"text-gray-500"}`,children:["Due ",xi(d.due_date),jn(d.due_date)&&!["done","completed"].includes(String(d.status).toLowerCase())&&" (Overdue!)"]})]})})},d.id)}),a.length>5&&i.jsxs("a",{href:"/developer/tasks",className:"text-primary font-medium hover:underline",children:["View all ",a.length," tasks "]})]}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks assigned yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Development Tip"}),i.jsx("p",{className:"text-blue-50",children:"Stay organized by checking your tasks regularly. Coordinate with your team to ensure smooth project delivery!"})]})})]})},DN=()=>{const{user:e}=Fe(),[t,r]=_.useState({myProjects:0,myTasks:0,completedTasks:0,pendingTasks:0}),[n,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(!0);_.useEffect(()=>{f()},[]);const f=async()=>{try{const[c,d]=await Promise.all([se.get("/projects"),se.get("/tasks")]),h=Array.isArray(c.data)?c.data:c.data.data||[],m=Array.isArray(d.data)?d.data:d.data.data||[],p=h.filter(w=>{var b;return w.client_id===(e==null?void 0:e.id)||((b=w.client)==null?void 0:b.id)===(e==null?void 0:e.id)});o(p);const g=new Set(p.map(w=>w.id)),v=m.filter(w=>{var b;return g.has((b=w.project)==null?void 0:b.id)});a(v);const y=v.filter(w=>["done","completed"].includes(String(w.status).toLowerCase())).length,x=v.filter(w=>["open","in_progress"].includes(String(w.status).toLowerCase())).length;r({myProjects:p.length,myTasks:v.length,completedTasks:y,pendingTasks:x})}catch(c){console.error("Failed to fetch client data:",c)}finally{u(!1)}};return l?i.jsx(rt,{}):i.jsxs("div",{children:[i.jsx(Ho,{title:`Welcome ${e==null?void 0:e.name}!`,subtitle:"Track your projects and their progress"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"My Projects"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:t.myProjects})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"All Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-accent",children:t.myTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent bg-opacity-10 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Progress"}),i.jsx("p",{className:"text-3xl font-bold text-orange-500",children:t.pendingTasks})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"My Projects"}),i.jsx("a",{href:"/client/projects",className:"text-primary hover:underline text-sm font-medium",children:"View All"})]}),s.length>0?i.jsx("div",{className:"space-y-3",children:s.map(c=>{var p,g;const d=n.filter(v=>{var y;return((y=v.project)==null?void 0:y.id)===c.id}),h=d.filter(v=>["done","completed"].includes(String(v.status).toLowerCase())).length,m=d.length>0?Math.round(h/d.length*100):0;return i.jsxs(Ne,{className:"hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:c.title||c.name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["PM: ",((p=c.project_manager)==null?void 0:p.name)||"Unassigned"]})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:((g=c.status)==null?void 0:g.replace("_"," ").toUpperCase())||"PLANNING"})]}),d.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[m,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full transition-all",style:{width:`${m}%`}})}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[h," of ",d.length," tasks done"]})]})]}),i.jsx("a",{href:`/client/projects/${c.id}`,className:"text-primary font-medium text-sm hover:underline",children:"View Project "})]},c.id)})}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No projects assigned to you."})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Tasks Overview"}),n.length>0?i.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(c=>{var d;return i.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:c.title})}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:(d=c.project)==null?void 0:d.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${["done","completed"].includes(String(c.status).toLowerCase())?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["done","completed"].includes(String(c.status).toLowerCase())?" Done":" In Progress"}),c.assigned_to&&i.jsx("span",{className:"text-xs text-gray-500",children:"Assigned to developer"})]})]})})},c.id)}),n.length>5&&i.jsxs("a",{href:"/client/tasks",className:"text-primary font-medium text-sm hover:underline",children:["View all ",n.length," tasks "]})]}):i.jsx(Ne,{className:"text-center py-8 bg-highlight",children:i.jsx("p",{className:"text-gray-600",children:"No tasks yet."})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs(Ne,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Project Insights"}),i.jsx("p",{className:"text-blue-50",children:"Monitor your project progress through task completion. Stay in touch with your project manager for updates and timelines."})]})})]})},MN=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},vy=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState(new Date),[l,u]=_.useState("week"),[f,c]=_.useState(!1),[d,h]=_.useState(null),[m,p]=_.useState({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),g=MN((e==null?void 0:e.role)||"admin");_.useEffect(()=>{v(),console.log("AdminTasksCalendar mounted")},[]);const v=async()=>{try{let O=(await se.get("/tasks")).data;O.data&&Array.isArray(O.data)?O=O.data:Array.isArray(O)||(O=[]),console.log("Calendar tasks loaded:",O),r(O)}catch(P){console.error("Failed to fetch tasks:",P)}finally{a(!1)}},y=P=>({"Website Translation":{bg:"bg-purple-500",text:"text-white"},"Website Development":{bg:"bg-blue-500",text:"text-white"},"Blog Post Writing":{bg:"bg-green-500",text:"text-white"},"Employee Training":{bg:"bg-yellow-500",text:"text-white"},Marketing:{bg:"bg-pink-500",text:"text-white"},"Executive meeting":{bg:"bg-indigo-500",text:"text-white"}})[P]||{bg:"bg-gray-500",text:"text-white"},x=()=>{const P=[],O=new Date(s),I=O.getDate()-O.getDay();for(let k=0;k<7;k++){const A=new Date(O.setDate(I+k));P.push(new Date(A))}return P},w=()=>{const P=x(),O=[];return t.forEach((I,k)=>{if(I.due_date){const A=new Date(I.due_date);P.forEach((M,R)=>{if(A.getDate()===M.getDate()&&A.getMonth()===M.getMonth()&&A.getFullYear()===M.getFullYear()){const D=String(9+k%8).padStart(2,"0"),q=["Website Translation","Website Development","Blog Post Writing","Employee Training","Marketing","Executive meeting"],F={...I,time:I.time||`${D}:00`,category:I.category||q[k%q.length],dayIndex:R,displayDate:M};O.push(F)}})}}),console.log("Week Tasks:",O),O},b=async()=>{if(!m.title||!m.time){alert("Please fill in all fields");return}try{const P={title:m.title,description:m.description,due_date:d==null?void 0:d.toISOString().split("T")[0],status:"open",priority:"medium"};await se.post("/tasks",P),p({title:"",description:"",time:"09:00",category:"Website Translation",duration:"1"}),c(!1),h(null),v()}catch(P){console.error("Failed to create task:",P),alert("Error creating task")}},j=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],N=Array.from({length:24},(P,O)=>O),S=x(),E=w();return n?i.jsx(rt,{}):i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Calendar"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your tasks, events, and meetings"})]}),i.jsxs("button",{onClick:()=>{h(new Date),c(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Event"]})]})}),i.jsxs("div",{className:"bg-white rounded-xl p-4 border flex items-center justify-between",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>o(new Date(s.setDate(s.getDate()-7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("button",{onClick:()=>o(new Date),className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 border border-gray-300 hover:bg-gray-50 transition-colors",children:"today"}),i.jsx("button",{onClick:()=>o(new Date(s.setDate(s.getDate()+7))),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[j[s.getMonth()]," ",s.getFullYear()]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>u("month"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="month"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="month"?{background:"rgb(89, 86, 157)"}:{},children:"month"}),i.jsx("button",{onClick:()=>u("week"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="week"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="week"?{background:"rgb(89, 86, 157)"}:{},children:"week"}),i.jsx("button",{onClick:()=>u("day"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l==="day"?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:l==="day"?{background:"rgb(89, 86, 157)"}:{},children:"day"})]})]}),l==="week"&&i.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"grid grid-cols-8 gap-0 border-b",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"p-3 font-semibold text-gray-700 text-sm"}),S.map((P,O)=>i.jsxs("div",{className:"p-3 text-center border-l",style:{borderColor:"#e9ecef"},children:[i.jsx("div",{className:"text-xs font-medium text-gray-600",children:T[P.getDay()]}),i.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P.getDate()})]},O))]}),i.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"70vh"},children:i.jsxs("div",{className:"grid grid-cols-8 gap-0",children:[i.jsx("div",{className:"border-r",style:{borderColor:"#e9ecef"},children:N.map(P=>i.jsxs("div",{className:"h-20 p-2 text-xs text-gray-500 font-medium border-b text-right pr-3",style:{borderColor:"#e9ecef"},children:[String(P).padStart(2,"0"),":00"]},P))}),S.map((P,O)=>i.jsxs("div",{className:"border-l relative",style:{borderColor:"#e9ecef"},onClick:()=>{h(new Date(P)),c(!0)},children:[N.map(I=>i.jsx("div",{className:"h-20 border-b cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"#e9ecef"}},`${O}-${I}`)),E.filter(I=>I.dayIndex===O).map((I,k)=>{var q,F;const A=y(I.category||"Website Translation"),M=parseInt(((q=I.time)==null?void 0:q.split(":")[0])||"09"),R=parseInt(((F=I.time)==null?void 0:F.split(":")[1])||"00"),D=(M+R/60)/24*100;return i.jsxs("a",{href:`${g}/tasks/${I.id}`,className:`absolute left-0 right-0 mx-1 px-2 py-1 rounded text-xs font-medium text-white truncate hover:opacity-80 transition-opacity ${A.bg}`,style:{top:`calc(${D}% + 2px)`,height:"40px",zIndex:k+1},title:`${I.time||"09:00"} ${I.title}`,children:[i.jsx("div",{className:"text-xs font-bold",children:I.time||"09:00"}),i.jsx("div",{className:"truncate",children:I.title})]},`${I.id}-${k}`)})]},O))]})})]}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md border",style:{borderColor:"#e9ecef"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d?`Add event for ${d.toDateString()}`:"Add Event"}),i.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),i.jsx("input",{type:"text",value:m.title,onChange:P=>p({...m,title:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",placeholder:"e.g., Write email announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),i.jsx("input",{type:"time",value:m.time,onChange:P=>p({...m,time:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),i.jsx("input",{type:"number",min:"0.5",step:"0.5",value:m.duration,onChange:P=>p({...m,duration:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:m.category,onChange:P=>p({...m,category:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",children:[i.jsx("option",{children:"Website Translation"}),i.jsx("option",{children:"Website Development"}),i.jsx("option",{children:"Blog Post Writing"}),i.jsx("option",{children:"Employee Training"}),i.jsx("option",{children:"Marketing"}),i.jsx("option",{children:"Executive meeting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{value:m.description,onChange:P=>p({...m,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 resize-none",rows:"3",placeholder:"Add details..."})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"Create Event"})]})]})]})})]})},RN=e=>{switch(e){case"admin":return"/admin";case"project_manager":case"project-manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},LN=(e="")=>e.split(" ").filter(Boolean).slice(0,2).map(t=>{var r;return((r=t[0])==null?void 0:r.toUpperCase())||""}).join(""),BN=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState("all"),[l,u]=_.useState(""),[f,c]=_.useState(1),[d,h]=_.useState("table"),m=12,p=RN((e==null?void 0:e.role)||"admin");_.useEffect(()=>{g()},[]);const g=async()=>{var N;try{const S=await se.get("/tasks");console.log("Tasks API Response:",S.data);let E=S.data;E.data&&Array.isArray(E.data)?E=E.data:Array.isArray(E)||(E=[]),console.log("Parsed Tasks:",E),r(E)}catch(S){console.error("Failed to fetch tasks:",S),console.error("Error details:",((N=S.response)==null?void 0:N.data)||S.message)}finally{a(!1)}},v=t.filter(N=>{var P,O;const S=s==="all"||N.status===s,E=((P=N.title)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((O=N.description)==null?void 0:O.toLowerCase().includes(l.toLowerCase()));return S&&E});if(n)return i.jsx(rt,{});if(d==="calendar")return i.jsx(vy,{});const y=Math.max(1,Math.ceil(v.length/m)),x=Math.min(f,y),w=(x-1)*m,b=v.slice(w,w+m),j=N=>{var R,D,q,F;const S=[];if(Array.isArray(N.task_assignments)&&N.task_assignments.length>0&&N.task_assignments.forEach($=>{const C=$.user||$;S.push({id:C.id,name:C.name||C.full_name||C.username||"Developer",role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})}),S.length===0&&N.assignee&&S.push(N.assignee),S.length===0){const $=Array.isArray((R=N.project)==null?void 0:R.members)?N.project.members:[],C=Array.isArray((D=N.project)==null?void 0:D.developers)?N.project.developers:[],L=Array.isArray((q=N.project)==null?void 0:q.users)?N.project.users:[],z=[...$,...C,...L].filter(W=>{var B;return(W.role||((B=W.pivot)==null?void 0:B.role))==="developer"});z.length>0?S.push(...z):S.push(...$,...L)}const E=S.map($=>({id:$.id||$.user_id,name:$.name||$.full_name||$.username||"Developer",avatar:$.avatar||$.profile_image||null,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})).filter($=>$.id||$.name).reduce(($,C)=>$.some(z=>z.id&&C.id&&z.id===C.id&&z.role===C.role)?$:[...$,C],[]),P=((F=N.project)==null?void 0:F.project_manager)||N.project_manager,O=P?[{id:P.id,name:P.name||P.full_name||P.username||"Project Manager",avatar:P.avatar||P.profile_image||null,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}]:[],I=Math.max(0,E.length-2),k=E.slice(0,2),A=[...k,...O],M=[...k,...O].map($=>$.name).filter(Boolean).join(", ");return{avatars:A,extraDevelopers:I,labelText:M}},T=N=>{const S=(N||"").toLowerCase();return S==="done"||S==="completed"?"text-green-700 bg-green-50 border-green-200":S==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":S==="open"||S==="pending"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-gray-50 border-gray-200"};return i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage all tasks"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>h("table"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="table"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="table"?{background:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2V3m-6 4h12m-12 6h12m-12 6h12"})})}),i.jsx("button",{onClick:()=>h("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${d==="calendar"?"text-white":"text-gray-700 hover:bg-gray-50"}`,style:d==="calendar"?{background:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),i.jsxs("button",{className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:N=>{u(N.target.value),c(1)},className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(N=>{const S=s===N,E=N==="all"?"All":N.replace("_"," "),P=N==="all"?t.length:t.filter(O=>O.status===N).length;return i.jsxs("button",{onClick:()=>{o(N),c(1)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:S?{background:"rgb(89, 86, 157)"}:{},children:[E.charAt(0).toUpperCase()+E.slice(1)," (",P,")"]},N)})})]})}),v.length>0?i.jsxs("div",{className:"bg-white rounded-xl border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(N=>{var k;const S=N.due_date?xi(N.due_date):"Not set",E=N.due_date&&jn(N.due_date)&&N.status!=="done",P=((k=N.workflow_status)==null?void 0:k.name)||N.workflow_status||"Not set",{avatars:O,extraDevelopers:I}=j(N);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:N.title})]}),N.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:N.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${T(N.status)}`,children:N.status?N.status.replace("_"," "):"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:P}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:E?"text-red-600":"text-gray-700",children:S})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:O.length>0?i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"flex -space-x-2",children:[O.map((A,M)=>i.jsx("a",{href:`${p}/users/${A.role}/${A.id}`,title:`${A.name} - ${A.roleLabel}`,className:"w-8 h-8 rounded-full text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer overflow-hidden flex-shrink-0",style:A.avatar?{backgroundImage:`url(${A.avatar})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:`linear-gradient(135deg, ${A.from}, ${A.to})`},children:!A.avatar&&LN(A.name)},`${A.role}-${A.id||M}`)),I>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white flex-shrink-0",children:["+",I]})]})}):"Not assigned"})]},N.id)})})]})}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Showing ",v.length===0?0:w+1,"",Math.min(w+m,v.length)," of ",v.length," tasks"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>c(N=>Math.max(1,N-1)),disabled:x===1,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===1?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Previous page",children:" Prev"}),i.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:y},(N,S)=>S+1).map(N=>i.jsx("button",{onClick:()=>c(N),className:`w-8 h-8 rounded-lg text-xs font-semibold transition-all ${x===N?"bg-blue-600 text-white border border-blue-600":"text-gray-700 hover:bg-gray-100 border border-gray-200 hover:border-gray-300"}`,children:N},N))}),i.jsx("button",{onClick:()=>c(N=>Math.min(y,N+1)),disabled:x===y,className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${x===y?"text-gray-300 border-gray-200 cursor-not-allowed bg-gray-50":"text-gray-700 hover:bg-blue-50 border-gray-300 hover:border-blue-300"}`,title:"Next page",children:"Next "})]})]})]}):i.jsxs("div",{className:"bg-white border rounded-xl p-8 text-center",style:{borderColor:"#e5e7eb"},children:[i.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("h3",{className:"text-base font-semibold mb-1 text-gray-700",children:s==="all"?"No Tasks Yet":`No ${s.replace("_"," ")} tasks`}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s==="all"?"Create your first task to get started":`You don't have any ${s.replace("_"," ")} tasks`}),i.jsx("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"+ Create Task"})]})]})},$N=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("all"),[o,l]=_.useState("");_.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await se.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(rt,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Manage tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${jn(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",xi(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})},FN=()=>{const{user:e}=Fe(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[s,o]=_.useState("all"),[l,u]=_.useState("");_.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await se.get("/tasks"),h=Array.isArray(d.data)?d.data:d.data.data||[];r(h)}catch(d){console.error("Failed to fetch tasks:",d)}finally{a(!1)}},c=t.filter(d=>{var p,g;const h=s==="all"||d.status===s,m=((p=d.title)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=d.description)==null?void 0:g.toLowerCase().includes(l.toLowerCase()));return h&&m});return n?i.jsx(rt,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"My Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Tasks assigned to you"})]})})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:d=>u(d.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(d=>i.jsx("button",{onClick:()=>o(d),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${s===d?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:s===d?{background:"#59569D"}:{},children:d==="all"?`All (${t.length})`:d.replace("_"," ").charAt(0).toUpperCase()+d.slice(1)},d))})]})}),i.jsx("div",{className:"space-y-2",children:c.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks assigned to you"})}):c.map(d=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:d.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:d.description||"No description"}}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.status==="done"?"bg-green-100 text-green-700":d.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status}),d.due_date&&i.jsxs("span",{className:`text-xs ${jn(d.due_date)&&d.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",xi(d.due_date)]}),d.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",d.project.name||d.project.title]})]})]})})},d.id))})]})},zN=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("all"),[o,l]=_.useState("");_.useEffect(()=>{u()},[]);const u=async()=>{try{const c=await se.get("/tasks"),d=Array.isArray(c.data)?c.data:c.data.data||[];t(d)}catch(c){console.error("Failed to fetch tasks:",c)}finally{n(!1)}},f=e.filter(c=>{var m,p;const d=a==="all"||c.status===a,h=((m=c.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase()))||((p=c.description)==null?void 0:p.toLowerCase().includes(o.toLowerCase()));return d&&h});return r?i.jsx(rt,{}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Tasks"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Track tasks in your projects"})]}),i.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-1.5",style:{background:"#59569D"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center justify-between",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",value:o,onChange:c=>l(c.target.value),className:"w-full pl-8 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"}}),i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-2.5 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsx("div",{className:"flex items-center gap-2",children:["all","open","in_progress","done"].map(c=>i.jsx("button",{onClick:()=>s(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===c?"text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:a===c?{background:"#59569D"}:{},children:c==="all"?`All (${e.length})`:c.replace("_"," ").charAt(0).toUpperCase()+c.slice(1)},c))})]})}),i.jsx("div",{className:"space-y-2",children:f.length===0?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",style:{borderColor:"#e5e7eb"},children:i.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})}):f.map(c=>i.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:c.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:c.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.status==="done"?"bg-green-100 text-green-700":c.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:c.status}),c.due_date&&i.jsxs("span",{className:`text-xs ${jn(c.due_date)&&c.status!=="done"?"text-red-600":"text-gray-500"}`,children:["Due: ",xi(c.due_date)]}),c.project&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Project: ",c.project.name||c.project.title]})]})]})})},c.id))})]})};function UN(){this.__data__=[],this.size=0}var HN=UN;function qN(e,t){return e===t||e!==e&&t!==t}var yy=qN,GN=yy;function VN(e,t){for(var r=e.length;r--;)if(GN(e[r][0],t))return r;return-1}var qo=VN,WN=qo,KN=Array.prototype,YN=KN.splice;function XN(e){var t=this.__data__,r=WN(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():YN.call(t,r,1),--this.size,!0}var ZN=XN,QN=qo;function JN(e){var t=this.__data__,r=QN(t,e);return r<0?void 0:t[r][1]}var eE=JN,tE=qo;function rE(e){return tE(this.__data__,e)>-1}var nE=rE,aE=qo;function iE(e,t){var r=this.__data__,n=aE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sE=iE,oE=HN,lE=ZN,cE=eE,uE=nE,dE=sE;function va(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}va.prototype.clear=oE;va.prototype.delete=lE;va.prototype.get=cE;va.prototype.has=uE;va.prototype.set=dE;var Go=va,fE=Go;function hE(){this.__data__=new fE,this.size=0}var mE=hE;function pE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var gE=pE;function vE(e){return this.__data__.get(e)}var yE=vE;function xE(e){return this.__data__.has(e)}var bE=xE,wE=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,xy=wE,jE=xy,_E=typeof self=="object"&&self&&self.Object===Object&&self,NE=jE||_E||Function("return this")(),Lr=NE,EE=Lr,OE=EE.Symbol,wd=OE,nm=wd,by=Object.prototype,TE=by.hasOwnProperty,SE=by.toString,Ma=nm?nm.toStringTag:void 0;function PE(e){var t=TE.call(e,Ma),r=e[Ma];try{e[Ma]=void 0;var n=!0}catch{}var a=SE.call(e);return n&&(t?e[Ma]=r:delete e[Ma]),a}var AE=PE,IE=Object.prototype,kE=IE.toString;function CE(e){return kE.call(e)}var DE=CE,am=wd,ME=AE,RE=DE,LE="[object Null]",BE="[object Undefined]",im=am?am.toStringTag:void 0;function $E(e){return e==null?e===void 0?BE:LE:im&&im in Object(e)?ME(e):RE(e)}var Vo=$E;function FE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wy=FE,zE=Vo,UE=wy,HE="[object AsyncFunction]",qE="[object Function]",GE="[object GeneratorFunction]",VE="[object Proxy]";function WE(e){if(!UE(e))return!1;var t=zE(e);return t==qE||t==GE||t==HE||t==VE}var jy=WE,KE=Lr,YE=KE["__core-js_shared__"],XE=YE,mc=XE,sm=function(){var e=/[^.]+$/.exec(mc&&mc.keys&&mc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZE(e){return!!sm&&sm in e}var QE=ZE,JE=Function.prototype,eO=JE.toString;function tO(e){if(e!=null){try{return eO.call(e)}catch{}try{return e+""}catch{}}return""}var _y=tO,rO=jy,nO=QE,aO=wy,iO=_y,sO=/[\\^$.*+?()[\]{}|]/g,oO=/^\[object .+?Constructor\]$/,lO=Function.prototype,cO=Object.prototype,uO=lO.toString,dO=cO.hasOwnProperty,fO=RegExp("^"+uO.call(dO).replace(sO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hO(e){if(!aO(e)||nO(e))return!1;var t=rO(e)?fO:oO;return t.test(iO(e))}var mO=hO;function pO(e,t){return e==null?void 0:e[t]}var gO=pO,vO=mO,yO=gO;function xO(e,t){var r=yO(e,t);return vO(r)?r:void 0}var ya=xO,bO=ya,wO=Lr,jO=bO(wO,"Map"),jd=jO,_O=ya,NO=_O(Object,"create"),Wo=NO,om=Wo;function EO(){this.__data__=om?om(null):{},this.size=0}var OO=EO;function TO(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SO=TO,PO=Wo,AO="__lodash_hash_undefined__",IO=Object.prototype,kO=IO.hasOwnProperty;function CO(e){var t=this.__data__;if(PO){var r=t[e];return r===AO?void 0:r}return kO.call(t,e)?t[e]:void 0}var DO=CO,MO=Wo,RO=Object.prototype,LO=RO.hasOwnProperty;function BO(e){var t=this.__data__;return MO?t[e]!==void 0:LO.call(t,e)}var $O=BO,FO=Wo,zO="__lodash_hash_undefined__";function UO(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=FO&&t===void 0?zO:t,this}var HO=UO,qO=OO,GO=SO,VO=DO,WO=$O,KO=HO;function xa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xa.prototype.clear=qO;xa.prototype.delete=GO;xa.prototype.get=VO;xa.prototype.has=WO;xa.prototype.set=KO;var YO=xa,lm=YO,XO=Go,ZO=jd;function QO(){this.size=0,this.__data__={hash:new lm,map:new(ZO||XO),string:new lm}}var JO=QO;function eT(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var tT=eT,rT=tT;function nT(e,t){var r=e.__data__;return rT(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ko=nT,aT=Ko;function iT(e){var t=aT(this,e).delete(e);return this.size-=t?1:0,t}var sT=iT,oT=Ko;function lT(e){return oT(this,e).get(e)}var cT=lT,uT=Ko;function dT(e){return uT(this,e).has(e)}var fT=dT,hT=Ko;function mT(e,t){var r=hT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var pT=mT,gT=JO,vT=sT,yT=cT,xT=fT,bT=pT;function ba(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ba.prototype.clear=gT;ba.prototype.delete=vT;ba.prototype.get=yT;ba.prototype.has=xT;ba.prototype.set=bT;var Ny=ba,wT=Go,jT=jd,_T=Ny,NT=200;function ET(e,t){var r=this.__data__;if(r instanceof wT){var n=r.__data__;if(!jT||n.length<NT-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _T(n)}return r.set(e,t),this.size=r.size,this}var OT=ET,TT=Go,ST=mE,PT=gE,AT=yE,IT=bE,kT=OT;function wa(e){var t=this.__data__=new TT(e);this.size=t.size}wa.prototype.clear=ST;wa.prototype.delete=PT;wa.prototype.get=AT;wa.prototype.has=IT;wa.prototype.set=kT;var CT=wa,DT="__lodash_hash_undefined__";function MT(e){return this.__data__.set(e,DT),this}var RT=MT;function LT(e){return this.__data__.has(e)}var BT=LT,$T=Ny,FT=RT,zT=BT;function Bs(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $T;++t<r;)this.add(e[t])}Bs.prototype.add=Bs.prototype.push=FT;Bs.prototype.has=zT;var UT=Bs;function HT(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var qT=HT;function GT(e,t){return e.has(t)}var VT=GT,WT=UT,KT=qT,YT=VT,XT=1,ZT=2;function QT(e,t,r,n,a,s){var o=r&XT,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var f=s.get(e),c=s.get(t);if(f&&c)return f==t&&c==e;var d=-1,h=!0,m=r&ZT?new WT:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var p=e[d],g=t[d];if(n)var v=o?n(g,p,d,t,e,s):n(p,g,d,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!KT(t,function(y,x){if(!YT(m,x)&&(p===y||a(p,y,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Ey=QT,JT=Lr,eS=JT.Uint8Array,tS=eS;function rS(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nS=rS;function aS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var iS=aS,cm=wd,um=tS,sS=yy,oS=Ey,lS=nS,cS=iS,uS=1,dS=2,fS="[object Boolean]",hS="[object Date]",mS="[object Error]",pS="[object Map]",gS="[object Number]",vS="[object RegExp]",yS="[object Set]",xS="[object String]",bS="[object Symbol]",wS="[object ArrayBuffer]",jS="[object DataView]",dm=cm?cm.prototype:void 0,pc=dm?dm.valueOf:void 0;function _S(e,t,r,n,a,s,o){switch(r){case jS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wS:return!(e.byteLength!=t.byteLength||!s(new um(e),new um(t)));case fS:case hS:case gS:return sS(+e,+t);case mS:return e.name==t.name&&e.message==t.message;case vS:case xS:return e==t+"";case pS:var l=lS;case yS:var u=n&uS;if(l||(l=cS),e.size!=t.size&&!u)return!1;var f=o.get(e);if(f)return f==t;n|=dS,o.set(e,t);var c=oS(l(e),l(t),n,a,s,o);return o.delete(e),c;case bS:if(pc)return pc.call(e)==pc.call(t)}return!1}var NS=_S;function ES(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var OS=ES,TS=Array.isArray,_d=TS,SS=OS,PS=_d;function AS(e,t,r){var n=t(e);return PS(e)?n:SS(n,r(e))}var IS=AS;function kS(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var CS=kS;function DS(){return[]}var MS=DS,RS=CS,LS=MS,BS=Object.prototype,$S=BS.propertyIsEnumerable,fm=Object.getOwnPropertySymbols,FS=fm?function(e){return e==null?[]:(e=Object(e),RS(fm(e),function(t){return $S.call(e,t)}))}:LS,zS=FS;function US(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var HS=US;function qS(e){return e!=null&&typeof e=="object"}var Yo=qS,GS=Vo,VS=Yo,WS="[object Arguments]";function KS(e){return VS(e)&&GS(e)==WS}var YS=KS,hm=YS,XS=Yo,Oy=Object.prototype,ZS=Oy.hasOwnProperty,QS=Oy.propertyIsEnumerable,JS=hm(function(){return arguments}())?hm:function(e){return XS(e)&&ZS.call(e,"callee")&&!QS.call(e,"callee")},eP=JS,$s={exports:{}};function tP(){return!1}var rP=tP;$s.exports;(function(e,t){var r=Lr,n=rP,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;e.exports=f})($s,$s.exports);var Ty=$s.exports,nP=9007199254740991,aP=/^(?:0|[1-9]\d*)$/;function iP(e,t){var r=typeof e;return t=t??nP,!!t&&(r=="number"||r!="symbol"&&aP.test(e))&&e>-1&&e%1==0&&e<t}var sP=iP,oP=9007199254740991;function lP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oP}var Sy=lP,cP=Vo,uP=Sy,dP=Yo,fP="[object Arguments]",hP="[object Array]",mP="[object Boolean]",pP="[object Date]",gP="[object Error]",vP="[object Function]",yP="[object Map]",xP="[object Number]",bP="[object Object]",wP="[object RegExp]",jP="[object Set]",_P="[object String]",NP="[object WeakMap]",EP="[object ArrayBuffer]",OP="[object DataView]",TP="[object Float32Array]",SP="[object Float64Array]",PP="[object Int8Array]",AP="[object Int16Array]",IP="[object Int32Array]",kP="[object Uint8Array]",CP="[object Uint8ClampedArray]",DP="[object Uint16Array]",MP="[object Uint32Array]",Ae={};Ae[TP]=Ae[SP]=Ae[PP]=Ae[AP]=Ae[IP]=Ae[kP]=Ae[CP]=Ae[DP]=Ae[MP]=!0;Ae[fP]=Ae[hP]=Ae[EP]=Ae[mP]=Ae[OP]=Ae[pP]=Ae[gP]=Ae[vP]=Ae[yP]=Ae[xP]=Ae[bP]=Ae[wP]=Ae[jP]=Ae[_P]=Ae[NP]=!1;function RP(e){return dP(e)&&uP(e.length)&&!!Ae[cP(e)]}var LP=RP;function BP(e){return function(t){return e(t)}}var $P=BP,Fs={exports:{}};Fs.exports;(function(e,t){var r=xy,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Fs,Fs.exports);var FP=Fs.exports,zP=LP,UP=$P,mm=FP,pm=mm&&mm.isTypedArray,HP=pm?UP(pm):zP,Py=HP,qP=HS,GP=eP,VP=_d,WP=Ty,KP=sP,YP=Py,XP=Object.prototype,ZP=XP.hasOwnProperty;function QP(e,t){var r=VP(e),n=!r&&GP(e),a=!r&&!n&&WP(e),s=!r&&!n&&!a&&YP(e),o=r||n||a||s,l=o?qP(e.length,String):[],u=l.length;for(var f in e)(t||ZP.call(e,f))&&!(o&&(f=="length"||a&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||KP(f,u)))&&l.push(f);return l}var JP=QP,eA=Object.prototype;function tA(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||eA;return e===r}var rA=tA;function nA(e,t){return function(r){return e(t(r))}}var aA=nA,iA=aA,sA=iA(Object.keys,Object),oA=sA,lA=rA,cA=oA,uA=Object.prototype,dA=uA.hasOwnProperty;function fA(e){if(!lA(e))return cA(e);var t=[];for(var r in Object(e))dA.call(e,r)&&r!="constructor"&&t.push(r);return t}var hA=fA,mA=jy,pA=Sy;function gA(e){return e!=null&&pA(e.length)&&!mA(e)}var vA=gA,yA=JP,xA=hA,bA=vA;function wA(e){return bA(e)?yA(e):xA(e)}var jA=wA,_A=IS,NA=zS,EA=jA;function OA(e){return _A(e,EA,NA)}var TA=OA,gm=TA,SA=1,PA=Object.prototype,AA=PA.hasOwnProperty;function IA(e,t,r,n,a,s){var o=r&SA,l=gm(e),u=l.length,f=gm(t),c=f.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var h=l[d];if(!(o?h in t:AA.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++d<u;){h=l[d];var y=e[h],x=t[h];if(n)var w=o?n(x,y,h,t,e,s):n(y,x,h,e,t,s);if(!(w===void 0?y===x||a(y,x,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var b=e.constructor,j=t.constructor;b!=j&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var kA=IA,CA=ya,DA=Lr,MA=CA(DA,"DataView"),RA=MA,LA=ya,BA=Lr,$A=LA(BA,"Promise"),FA=$A,zA=ya,UA=Lr,HA=zA(UA,"Set"),qA=HA,GA=ya,VA=Lr,WA=GA(VA,"WeakMap"),KA=WA,Qc=RA,Jc=jd,eu=FA,tu=qA,ru=KA,Ay=Vo,ja=_y,vm="[object Map]",YA="[object Object]",ym="[object Promise]",xm="[object Set]",bm="[object WeakMap]",wm="[object DataView]",XA=ja(Qc),ZA=ja(Jc),QA=ja(eu),JA=ja(tu),e5=ja(ru),dn=Ay;(Qc&&dn(new Qc(new ArrayBuffer(1)))!=wm||Jc&&dn(new Jc)!=vm||eu&&dn(eu.resolve())!=ym||tu&&dn(new tu)!=xm||ru&&dn(new ru)!=bm)&&(dn=function(e){var t=Ay(e),r=t==YA?e.constructor:void 0,n=r?ja(r):"";if(n)switch(n){case XA:return wm;case ZA:return vm;case QA:return ym;case JA:return xm;case e5:return bm}return t});var t5=dn,gc=CT,r5=Ey,n5=NS,a5=kA,jm=t5,_m=_d,Nm=Ty,i5=Py,s5=1,Em="[object Arguments]",Om="[object Array]",qi="[object Object]",o5=Object.prototype,Tm=o5.hasOwnProperty;function l5(e,t,r,n,a,s){var o=_m(e),l=_m(t),u=o?Om:jm(e),f=l?Om:jm(t);u=u==Em?qi:u,f=f==Em?qi:f;var c=u==qi,d=f==qi,h=u==f;if(h&&Nm(e)){if(!Nm(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new gc),o||i5(e)?r5(e,t,r,n,a,s):n5(e,t,u,r,n,a,s);if(!(r&s5)){var m=c&&Tm.call(e,"__wrapped__"),p=d&&Tm.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new gc),a(g,v,r,n,s)}}return h?(s||(s=new gc),a5(e,t,r,n,a,s)):!1}var c5=l5,u5=c5,Sm=Yo;function Iy(e,t,r,n,a){return e===t?!0:e==null||t==null||!Sm(e)&&!Sm(t)?e!==e&&t!==t:u5(e,t,r,n,Iy,a)}var d5=Iy,f5=d5;function h5(e,t){return f5(e,t)}var m5=h5,ky={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:Mt,function(){return function(r){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=109)}([function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(17),o=a(18),l=a(19),u=a(45),f=a(46),c=a(47),d=a(48),h=a(49),m=a(12),p=a(32),g=a(33),v=a(31),y=a(1),x={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:d.default,Scroll:u.default,Block:c.default,Inline:f.default,Text:h.default,Attributor:{Attribute:m.default,Class:p.default,Style:g.default,Store:v.default}};n.default=x},function(r,n,a){var s=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)x.hasOwnProperty(w)&&(y[w]=x[w])};return function(y,x){v(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(v){s(y,v);function y(x){var w=this;return x="[Parchment] "+x,w=v.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return y}(Error);n.ParchmentError=o;var l={},u={},f={},c={};n.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function h(v,y){var x=p(v);if(x==null)throw new o("Unable to create "+v+" blot");var w=x,b=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:w.create(y);return new w(b,y)}n.create=h;function m(v,y){return y===void 0&&(y=!1),v==null?null:v[n.DATA_KEY]!=null?v[n.DATA_KEY].blot:y?m(v.parentNode,y):null}n.find=m;function p(v,y){y===void 0&&(y=d.ANY);var x;if(typeof v=="string")x=c[v]||l[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)x=c.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?x=c.block:v&d.LEVEL&d.INLINE&&(x=c.inline);else if(v instanceof HTMLElement){var w=(v.getAttribute("class")||"").split(/\s+/);for(var b in w)if(x=u[w[b]],x)break;x=x||f[v.tagName]}return x==null?null:y&d.LEVEL&x.scope&&y&d.TYPE&x.scope?x:null}n.query=p;function g(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(v.length>1)return v.map(function(b){return g(b)});var x=v[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(c[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(u[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(b){return b.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(b){(f[b]==null||x.className==null)&&(f[b]=x)})}return x}n.register=g},function(r,n,a){var s=a(51),o=a(11),l=a(3),u=a(20),f="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,h){var m={};return d.length===0?this:(m.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,h){if(d<=0)return this;var m={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},c.prototype.push=function(d){var h=this.ops.length,m=this.ops[h-1];if(d=l(!0,{},d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(d),this;if(o(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var h=[],m=[];return this.forEach(function(p){var g=d(p)?h:m;g.push(p)}),[h,m]},c.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},c.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+u.length(h):h.delete?d-h.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,h){return d+u.length(h)},0)},c.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var m=[],p=u.iterator(this.ops),g=0;g<h&&p.hasNext();){var v;g<d?v=p.next(d-g):(v=p.next(h-g),m.push(v)),g+=u.length(v)}return new c(m)},c.prototype.compose=function(d){var h=u.iterator(this.ops),m=u.iterator(d.ops),p=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var v=g.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),p.push(h.next());g.retain-v>0&&m.next(g.retain-v)}for(var y=new c(p);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")y.push(m.next());else if(h.peekType()==="delete")y.push(h.next());else{var x=Math.min(h.peekLength(),m.peekLength()),w=h.next(x),b=m.next(x);if(typeof b.retain=="number"){var j={};typeof w.retain=="number"?j.retain=x:j.insert=w.insert;var T=u.attributes.compose(w.attributes,b.attributes,typeof w.retain=="number");if(T&&(j.attributes=T),y.push(j),!m.hasNext()&&o(y.ops[y.ops.length-1],j)){var N=new c(h.rest());return y.concat(N).chop()}}else typeof b.delete=="number"&&typeof w.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(d){var h=new c(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},c.prototype.diff=function(d,h){if(this.ops===d.ops)return new c;var m=[this,d].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:f;var b=x===d?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),p=new c,g=s(m[0],m[1],h),v=u.iterator(this.ops),y=u.iterator(d.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var b=0;switch(x[0]){case s.INSERT:b=Math.min(y.peekLength(),w),p.push(y.next(b));break;case s.DELETE:b=Math.min(w,v.peekLength()),v.next(b),p.delete(b);break;case s.EQUAL:b=Math.min(v.peekLength(),y.peekLength(),w);var j=v.next(b),T=y.next(b);o(j.insert,T.insert)?p.retain(b,u.attributes.diff(j.attributes,T.attributes)):p.push(T).delete(b);break}w-=b}}),p.chop()},c.prototype.eachLine=function(d,h){h=h||`
`;for(var m=u.iterator(this.ops),p=new c,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var v=m.peek(),y=u.length(v)-m.peekLength(),x=typeof v.insert=="string"?v.insert.indexOf(h,y)-y:-1;if(x<0)p.push(m.next());else if(x>0)p.push(m.next(x));else{if(d(p,m.next(1).attributes||{},g)===!1)return;g+=1,p=new c}}p.length()>0&&d(p,{},g)},c.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var m=u.iterator(this.ops),p=u.iterator(d.ops),g=new c;m.hasNext()||p.hasNext();)if(m.peekType()==="insert"&&(h||p.peekType()!=="insert"))g.retain(u.length(m.next()));else if(p.peekType()==="insert")g.push(p.next());else{var v=Math.min(m.peekLength(),p.peekLength()),y=m.next(v),x=p.next(v);if(y.delete)continue;x.delete?g.push(x):g.retain(v,u.attributes.transform(y.attributes,x.attributes,h))}return g.chop()},c.prototype.transformPosition=function(d,h){h=!!h;for(var m=u.iterator(this.ops),p=0;m.hasNext()&&p<=d;){var g=m.peekLength(),v=m.peekType();if(m.next(),v==="delete"){d-=Math.min(g,d-p);continue}else v==="insert"&&(p<d||!h)&&(d+=g);p+=g}return d},r.exports=c},function(r,n){var a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(m){return typeof Array.isArray=="function"?Array.isArray(m):s.call(m)==="[object Array]"},f=function(m){if(!m||s.call(m)!=="[object Object]")return!1;var p=a.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!p&&!g)return!1;var v;for(v in m);return typeof v>"u"||a.call(m,v)},c=function(m,p){o&&p.name==="__proto__"?o(m,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):m[p.name]=p.newValue},d=function(m,p){if(p==="__proto__")if(a.call(m,p)){if(l)return l(m,p).value}else return;return m[p]};r.exports=function h(){var m,p,g,v,y,x,w=arguments[0],b=1,j=arguments.length,T=!1;for(typeof w=="boolean"&&(T=w,w=arguments[1]||{},b=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});b<j;++b)if(m=arguments[b],m!=null)for(p in m)g=d(w,p),v=d(m,p),w!==v&&(T&&v&&(f(v)||(y=u(v)))?(y?(y=!1,x=g&&u(g)?g:[]):x=g&&f(g)?g:{},c(w,{name:p,newValue:h(T,x,v)})):typeof v<"u"&&c(w,{name:p,newValue:v}));return w}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var s=function(){function O(I,k){for(var A=0;A<k.length;A++){var M=k[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),o=function O(I,k,A){I===null&&(I=Function.prototype);var M=Object.getOwnPropertyDescriptor(I,k);if(M===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:O(R,k,A)}else{if("value"in M)return M.value;var D=M.get;return D===void 0?void 0:D.call(A)}},l=a(3),u=w(l),f=a(2),c=w(f),d=a(0),h=w(d),m=a(16),p=w(m),g=a(6),v=w(g),y=a(7),x=w(y);function w(O){return O&&O.__esModule?O:{default:O}}function b(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function j(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function T(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var N=1,S=function(O){T(I,O);function I(){return b(this,I),j(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,M){var R=h.default.query(A,h.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,M)}},{key:"formatAt",value:function(A,M,R,D){this.format(R,D)}},{key:"insertAt",value:function(A,M,R){if(typeof M=="string"&&M.endsWith(`
`)){var D=h.default.create(E.blotName);this.parent.insertBefore(D,A===0?this:this.next),D.insertAt(0,M.slice(0,-1))}else o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,A,M,R)}}]),I}(h.default.Embed);S.scope=h.default.Scope.BLOCK_BLOT;var E=function(O){T(I,O);function I(k){b(this,I);var A=j(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k));return A.cache={},A}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(A,M){return M.length()===0?A:A.insert(M.value(),P(M))},new c.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(A,M){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,A,M),this.cache={}}},{key:"formatAt",value:function(A,M,R,D){M<=0||(h.default.query(R,h.default.Scope.BLOCK)?A+M===this.length()&&this.format(R,D):o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,A,Math.min(M,this.length()-A-1),R,D),this.cache={})}},{key:"insertAt",value:function(A,M,R){if(R!=null)return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,A,M,R);if(M.length!==0){var D=M.split(`
`),q=D.shift();q.length>0&&(A<this.length()-1||this.children.tail==null?o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),q):this.children.tail.insertAt(this.children.tail.length(),q),this.cache={});var F=this;D.reduce(function($,C){return F=F.split($,!0),F.insertAt(0,C),C.length},A+q.length)}}},{key:"insertBefore",value:function(A,M){var R=this.children.head;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,A,M),R instanceof p.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(A,M){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,A,M),this.cache={}}},{key:"optimize",value:function(A){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(A===0||A>=this.length()-N)){var R=this.clone();return A===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var D=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,A,M);return this.cache={},D}}}]),I}(h.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[v.default,h.default.Embed,x.default];function P(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(I=(0,u.default)(I,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?I:P(O.parent,I)}n.bubbleFormats=P,n.BlockEmbed=S,n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F($,C){var L=[],z=!0,W=!1,V=void 0;try{for(var B=$[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(C&&L.length===C));z=!0);}catch(Z){W=!0,V=Z}finally{try{!z&&B.return&&B.return()}finally{if(W)throw V}}return L}return function($,C){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return F($,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F($,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty($,z.key,z)}}return function($,C,L){return C&&F($.prototype,C),L&&F($,L),$}}();a(50);var u=a(2),f=P(u),c=a(14),d=P(c),h=a(8),m=P(h),p=a(9),g=P(p),v=a(0),y=P(v),x=a(15),w=P(x),b=a(3),j=P(b),T=a(10),N=P(T),S=a(34),E=P(S);function P(F){return F&&F.__esModule?F:{default:F}}function O(F,$,C){return $ in F?Object.defineProperty(F,$,{value:C,enumerable:!0,configurable:!0,writable:!0}):F[$]=C,F}function I(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")}var k=(0,N.default)("quill"),A=function(){l(F,null,[{key:"debug",value:function(C){C===!0&&(C="log"),N.default.level(C)}},{key:"find",value:function(C){return C.__quill||y.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&k.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var V=C.attrName||C.blotName;typeof V=="string"?this.register("formats/"+V,C,L):Object.keys(C).forEach(function(B){z.register(B,C[B],L)})}else this.imports[C]!=null&&!W&&k.warn("Overwriting "+C+" with",L),this.imports[C]=L,(C.startsWith("blots/")||C.startsWith("formats/"))&&L.blotName!=="abstract"?y.default.register(L):C.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function F($){var C=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,F),this.options=M($,L),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",$);this.options.debug&&F.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(V){V===m.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(V,B){var H=C.selection.lastRange,Z=H&&H.length===0?H.index:void 0;R.call(C,function(){return C.editor.update(null,B,Z)},V)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(F,[{key:"addContainer",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var z=C;C=document.createElement("div"),C.classList.add(z)}return this.container.insertBefore(C,L),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,L,z){var W=this,V=D(C,L,z),B=o(V,4);return C=B[0],L=B[1],z=B[3],R.call(this,function(){return W.editor.deleteText(C,L)},z,C,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return R.call(this,function(){var V=z.getSelection(!0),B=new f.default;if(V==null)return B;if(y.default.query(C,y.default.Scope.BLOCK))B=z.editor.formatLine(V.index,V.length,O({},C,L));else{if(V.length===0)return z.selection.format(C,L),B;B=z.editor.formatText(V.index,V.length,O({},C,L))}return z.setSelection(V,m.default.sources.SILENT),B},W)}},{key:"formatLine",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,L,z,W,V),U=o(Z,4);return C=U[0],L=U[1],H=U[2],V=U[3],R.call(this,function(){return B.editor.formatLine(C,L,H)},V,C,0)}},{key:"formatText",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,L,z,W,V),U=o(Z,4);return C=U[0],L=U[1],H=U[2],V=U[3],R.call(this,function(){return B.editor.formatText(C,L,H)},V,C,0)}},{key:"getBounds",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof C=="number"?z=this.selection.getBounds(C,L):z=this.selection.getBounds(C.index,C.length);var W=this.container.getBoundingClientRect();return{bottom:z.bottom-W.top,height:z.height,left:z.left-W.left,right:z.right-W.left,top:z.top-W.top,width:z.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,z=D(C,L),W=o(z,2);return C=W[0],L=W[1],this.editor.getContents(C,L)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,L):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,L)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,z=D(C,L),W=o(z,2);return C=W[0],L=W[1],this.editor.getText(C,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,L,z){var W=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return R.call(this,function(){return W.editor.insertEmbed(C,L,z)},V,C)}},{key:"insertText",value:function(C,L,z,W,V){var B=this,H=void 0,Z=D(C,0,z,W,V),U=o(Z,4);return C=U[0],H=U[2],V=U[3],R.call(this,function(){return B.editor.insertText(C,L,H)},V,C,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,L,z){this.clipboard.dangerouslyPasteHTML(C,L,z)}},{key:"removeFormat",value:function(C,L,z){var W=this,V=D(C,L,z),B=o(V,4);return C=B[0],L=B[1],z=B[3],R.call(this,function(){return W.editor.removeFormat(C,L)},z,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return R.call(this,function(){C=new f.default(C);var W=L.getLength(),V=L.editor.deleteText(0,W),B=L.editor.applyDelta(C),H=B.ops[B.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),B.delete(1));var Z=V.compose(B);return Z},z)}},{key:"setSelection",value:function(C,L,z){if(C==null)this.selection.setRange(null,L||F.sources.API);else{var W=D(C,L,z),V=o(W,4);C=V[0],L=V[1],z=V[3],this.selection.setRange(new x.Range(C,L),z),z!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,z=new f.default().insert(C);return this.setContents(z,L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,L=this.scroll.update(C);return this.selection.update(C),L}},{key:"updateContents",value:function(C){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return R.call(this,function(){return C=new f.default(C),L.editor.applyDelta(C,z)},z,!0)}}]),F}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=m.default.events,A.sources=m.default.sources,A.version="1.3.7",A.imports={delta:f.default,parchment:y.default,"core/module":g.default,"core/theme":E.default};function M(F,$){if($=(0,j.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===A.DEFAULTS.theme)$.theme=E.default;else if($.theme=A.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var C=(0,j.default)(!0,{},$.theme.DEFAULTS);[C,$].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(V){W.modules[V]===!0&&(W.modules[V]={})})});var L=Object.keys(C.modules).concat(Object.keys($.modules)),z=L.reduce(function(W,V){var B=A.import("modules/"+V);return B==null?k.error("Cannot load "+V+" module. Are you sure you registered it?"):W[V]=B.DEFAULTS||{},W},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,j.default)(!0,{},A.DEFAULTS,{modules:z},C,$),["bounds","container","scrollingContainer"].forEach(function(W){typeof $[W]=="string"&&($[W]=document.querySelector($[W]))}),$.modules=Object.keys($.modules).reduce(function(W,V){return $.modules[V]&&(W[V]=$.modules[V]),W},{}),$}function R(F,$,C,L){if(this.options.strict&&!this.isEnabled()&&$===m.default.sources.USER)return new f.default;var z=C==null?null:this.getSelection(),W=this.editor.delta,V=F();if(z!=null&&(C===!0&&(C=z.index),L==null?z=q(z,V,$):L!==0&&(z=q(z,C,L,$)),this.setSelection(z,m.default.sources.SILENT)),V.length()>0){var B,H=[m.default.events.TEXT_CHANGE,V,W,$];if((B=this.emitter).emit.apply(B,[m.default.events.EDITOR_CHANGE].concat(H)),$!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,H)}}return V}function D(F,$,C,L,z){var W={};return typeof F.index=="number"&&typeof F.length=="number"?typeof $!="number"?(z=L,L=C,C=$,$=F.length,F=F.index):($=F.length,F=F.index):typeof $!="number"&&(z=L,L=C,C=$,$=0),(typeof C>"u"?"undefined":s(C))==="object"?(W=C,z=L):typeof C=="string"&&(L!=null?W[C]=L:z=C),z=z||m.default.sources.API,[F,$,W,z]}function q(F,$,C,L){if(F==null)return null;var z=void 0,W=void 0;if($ instanceof f.default){var V=[F.index,F.index+F.length].map(function(U){return $.transformPosition(U,L!==m.default.sources.USER)}),B=o(V,2);z=B[0],W=B[1]}else{var H=[F.index,F.index+F.length].map(function(U){return U<$||U===$&&L===m.default.sources.USER?U:C>=0?U+C:Math.max($,U+C)}),Z=o(H,2);z=Z[0],W=Z[1]}return new x.Range(z,W-z)}n.expandConfig=M,n.overload=D,n.default=A},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(7),u=d(l),f=a(0),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function m(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){p(y,v);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"formatAt",value:function(w,b,j,T){if(y.compare(this.statics.blotName,j)<0&&c.default.query(j,c.default.Scope.BLOT)){var N=this.isolate(w,b);T&&N.wrap(j,T)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,b,j,T)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(w,b){var j=y.order.indexOf(w),T=y.order.indexOf(b);return j>=0||T>=0?j-T:w===b?0:w<b?-1:1}}]),y}(c.default.Inline);g.allowedChildren=[g,c.default.Embed,u.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function x(w,b){for(var j=0;j<b.length;j++){var T=b[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,b,j){return b&&x(w.prototype,b),j&&x(w,j),w}}(),o=function x(w,b,j){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,b);if(T===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:x(N,b,j)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(j)}},l=a(54),u=d(l),f=a(10),c=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function m(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function p(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,b=Array(w),j=0;j<w;j++)b[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var N;(N=T.__quill.emitter).handleDOM.apply(N,b)}})})});var y=function(x){p(w,x);function w(){h(this,w);var b=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return b.listeners={},b.on("error",g.error),b}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var T=arguments.length,N=Array(T>1?T-1:0),S=1;S<T;S++)N[S-1]=arguments[S];(this.listeners[j.type]||[]).forEach(function(E){var P=E.node,O=E.handler;(j.target===P||P.contains(j.target))&&O.apply(void 0,[j].concat(N))})}},{key:"listenDOM",value:function(j,T,N){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:T,handler:N})}}]),w}(u.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,l),this.quill=u,this.options=f};o.DEFAULTS={},n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function l(f){if(s.indexOf(f)<=s.indexOf(o)){for(var c,d=arguments.length,h=Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];(c=console)[f].apply(c,h)}}function u(f){return s.reduce(function(c,d){return c[d]=l.bind(console,d,f),c},{})}l.level=u.level=function(f){o=f},n.default=u},function(r,n,a){var s=Array.prototype.slice,o=a(52),l=a(53),u=r.exports=function(h,m,p){return p||(p={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?p.strict?h===m:h==m:d(h,m,p)};function f(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,m,p){var g,v;if(f(h)||f(m)||h.prototype!==m.prototype)return!1;if(l(h))return l(m)?(h=s.call(h),m=s.call(m),u(h,m,p)):!1;if(c(h)){if(!c(m)||h.length!==m.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==m[g])return!1;return!0}try{var y=o(h),x=o(m)}catch{return!1}if(y.length!=x.length)return!1;for(y.sort(),x.sort(),g=y.length-1;g>=0;g--)if(y[g]!=x[g])return!1;for(g=y.length-1;g>=0;g--)if(v=y[g],!u(h[v],m[v],p))return!1;return typeof h==typeof m}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u,f,c){c===void 0&&(c={}),this.attrName=u,this.keyName=f;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return l.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},l.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},l.prototype.canAdd=function(u,f){var c=s.query(u,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},l.prototype.remove=function(u){u.removeAttribute(this.keyName)},l.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var s=function(){function S(E,P){var O=[],I=!0,k=!1,A=void 0;try{for(var M=E[Symbol.iterator](),R;!(I=(R=M.next()).done)&&(O.push(R.value),!(P&&O.length===P));I=!0);}catch(D){k=!0,A=D}finally{try{!I&&M.return&&M.return()}finally{if(k)throw A}}return O}return function(E,P){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(E,P){for(var O=0;O<P.length;O++){var I=P[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,P,O){return P&&S(E.prototype,P),O&&S(E,O),E}}(),l=function S(E,P,O){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,P);if(I===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,P,O)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(O)}},u=a(2),f=x(u),c=a(0),d=x(c),h=a(4),m=x(h),p=a(6),g=x(p),v=a(7),y=x(v);function x(S){return S&&S.__esModule?S:{default:S}}function w(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function b(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function j(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var T=function(S){j(E,S);function E(){return w(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(g.default);T.blotName="code",T.tagName="CODE";var N=function(S){j(E,S);function E(){return w(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var O=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(k,A){return k.insert(A).insert(`
`,O.formats())},new f.default)}},{key:"format",value:function(O,I){if(!(O===this.statics.blotName&&I)){var k=this.descendant(y.default,this.length()-1),A=s(k,1),M=A[0];M!=null&&M.deleteAt(M.length()-1,1),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,O,I)}}},{key:"formatAt",value:function(O,I,k,A){if(I!==0&&!(d.default.query(k,d.default.Scope.BLOCK)==null||k===this.statics.blotName&&A===this.statics.formats(this.domNode))){var M=this.newlineIndex(O);if(!(M<0||M>=O+I)){var R=this.newlineIndex(O,!0)+1,D=M-R+1,q=this.isolate(R,D),F=q.next;q.format(k,A),F instanceof E&&F.formatAt(0,O-R+I-D,k,A)}}}},{key:"insertAt",value:function(O,I,k){if(k==null){var A=this.descendant(y.default,O),M=s(A,2),R=M[0],D=M[1];R.insertAt(D,I)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var k=this.domNode.textContent.slice(O).indexOf(`
`);return k>-1?O+k:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(O),I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var k=d.default.find(I);k==null?I.parentNode.removeChild(I):k instanceof d.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(O){var I=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),E}(m.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",n.Code=T,n.default=N},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F($,C){var L=[],z=!0,W=!1,V=void 0;try{for(var B=$[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(C&&L.length===C));z=!0);}catch(Z){W=!0,V=Z}finally{try{!z&&B.return&&B.return()}finally{if(W)throw V}}return L}return function($,C){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return F($,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F($,C){for(var L=0;L<C.length;L++){var z=C[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty($,z.key,z)}}return function($,C,L){return C&&F($.prototype,C),L&&F($,L),$}}(),u=a(2),f=I(u),c=a(20),d=I(c),h=a(0),m=I(h),p=a(13),g=I(p),v=a(24),y=I(v),x=a(4),w=I(x),b=a(16),j=I(b),T=a(21),N=I(T),S=a(11),E=I(S),P=a(3),O=I(P);function I(F){return F&&F.__esModule?F:{default:F}}function k(F,$,C){return $ in F?Object.defineProperty(F,$,{value:C,enumerable:!0,configurable:!0,writable:!0}):F[$]=C,F}function A(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,R=function(){function F($){A(this,F),this.scroll=$,this.delta=this.getDelta()}return l(F,[{key:"applyDelta",value:function(C){var L=this,z=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),C=q(C),C.reduce(function(V,B){var H=B.retain||B.delete||B.insert.length||1,Z=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var U=B.insert;U.endsWith(`
`)&&z&&(z=!1,U=U.slice(0,-1)),V>=W&&!U.endsWith(`
`)&&(z=!0),L.scroll.insertAt(V,U);var Q=L.scroll.line(V),ne=o(Q,2),te=ne[0],he=ne[1],ce=(0,O.default)({},(0,x.bubbleFormats)(te));if(te instanceof w.default){var ge=te.descendant(m.default.Leaf,he),Y=o(ge,1),K=Y[0];ce=(0,O.default)(ce,(0,x.bubbleFormats)(K))}Z=d.default.attributes.diff(ce,Z)||{}}else if(s(B.insert)==="object"){var G=Object.keys(B.insert)[0];if(G==null)return V;L.scroll.insertAt(V,G,B.insert[G])}W+=H}return Object.keys(Z).forEach(function(X){L.scroll.formatAt(V,H,X,Z[X])}),V+H},0),C.reduce(function(V,B){return typeof B.delete=="number"?(L.scroll.deleteAt(V,B.delete),V):V+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,L){return this.scroll.deleteAt(C,L),this.update(new f.default().retain(C).delete(L))}},{key:"formatLine",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(V){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[V])){var B=z.scroll.lines(C,Math.max(L,1)),H=L;B.forEach(function(Z){var U=Z.length();if(!(Z instanceof g.default))Z.format(V,W[V]);else{var Q=C-Z.offset(z.scroll),ne=Z.newlineIndex(Q+H)-Q+1;Z.formatAt(Q,ne,V,W[V])}H-=U})}}),this.scroll.optimize(),this.update(new f.default().retain(C).retain(L,(0,N.default)(W)))}},{key:"formatText",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(V){z.scroll.formatAt(C,L,V,W[V])}),this.update(new f.default().retain(C).retain(L,(0,N.default)(W)))}},{key:"getContents",value:function(C,L){return this.delta.slice(C,C+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,L){return C.concat(L.delta())},new f.default)}},{key:"getFormat",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],W=[];L===0?this.scroll.path(C).forEach(function(B){var H=o(B,1),Z=H[0];Z instanceof w.default?z.push(Z):Z instanceof m.default.Leaf&&W.push(Z)}):(z=this.scroll.lines(C,L),W=this.scroll.descendants(m.default.Leaf,C,L));var V=[z,W].map(function(B){if(B.length===0)return{};for(var H=(0,x.bubbleFormats)(B.shift());Object.keys(H).length>0;){var Z=B.shift();if(Z==null)return H;H=D((0,x.bubbleFormats)(Z),H)}return H});return O.default.apply(O.default,V)}},{key:"getText",value:function(C,L){return this.getContents(C,L).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(C,L,z){return this.scroll.insertAt(C,L,z),this.update(new f.default().retain(C).insert(k({},L,z)))}},{key:"insertText",value:function(C,L){var z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,L),Object.keys(W).forEach(function(V){z.scroll.formatAt(C,L.length,V,W[V])}),this.update(new f.default().retain(C).insert(L,(0,N.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==w.default.blotName||C.children.length>1?!1:C.children.head instanceof j.default}},{key:"removeFormat",value:function(C,L){var z=this.getText(C,L),W=this.scroll.line(C+L),V=o(W,2),B=V[0],H=V[1],Z=0,U=new f.default;B!=null&&(B instanceof g.default?Z=B.newlineIndex(H)-H+1:Z=B.length()-H,U=B.delta().slice(H,H+Z-1).insert(`
`));var Q=this.getContents(C,L+Z),ne=Q.diff(new f.default().insert(z).concat(U)),te=new f.default().retain(C).concat(ne);return this.applyDelta(te)}},{key:"update",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(M)&&m.default.find(L[0].target)){var V=m.default.find(L[0].target),B=(0,x.bubbleFormats)(V),H=V.offset(this.scroll),Z=L[0].oldValue.replace(y.default.CONTENTS,""),U=new f.default().insert(Z),Q=new f.default().insert(V.value()),ne=new f.default().retain(H).concat(U.diff(Q,z));C=ne.reduce(function(te,he){return he.insert?te.insert(he.insert,B):te.push(he)},new f.default),this.delta=W.compose(C)}else this.delta=this.getDelta(),(!C||!(0,E.default)(W.compose(C),this.delta))&&(C=W.diff(this.delta,z));return C}}]),F}();function D(F,$){return Object.keys($).reduce(function(C,L){return F[L]==null||($[L]===F[L]?C[L]=$[L]:Array.isArray($[L])?$[L].indexOf(F[L])<0&&(C[L]=$[L].concat([F[L]])):C[L]=[$[L],F[L]]),C},{})}function q(F){return F.reduce(function($,C){if(C.insert===1){var L=(0,N.default)(C.attributes);return delete L.image,$.insert({image:C.attributes.image},L)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,N.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var z=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(z,C.attributes)}return $.push(C)},new f.default)}n.default=R},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var s=function(){function S(E,P){var O=[],I=!0,k=!1,A=void 0;try{for(var M=E[Symbol.iterator](),R;!(I=(R=M.next()).done)&&(O.push(R.value),!(P&&O.length===P));I=!0);}catch(D){k=!0,A=D}finally{try{!I&&M.return&&M.return()}finally{if(k)throw A}}return O}return function(E,P){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(E,P){for(var O=0;O<P.length;O++){var I=P[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,P,O){return P&&S(E.prototype,P),O&&S(E,O),E}}(),l=a(0),u=y(l),f=a(21),c=y(f),d=a(11),h=y(d),m=a(8),p=y(m),g=a(10),v=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function x(S){if(Array.isArray(S)){for(var E=0,P=Array(S.length);E<S.length;E++)P[E]=S[E];return P}else return Array.from(S)}function w(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}var b=(0,v.default)("quill:selection"),j=function S(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,S),this.index=E,this.length=P},T=function(){function S(E,P){var O=this;w(this,S),this.emitter=P,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(I,k){I===p.default.events.TEXT_CHANGE&&k.length()>0&&O.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var I=O.getNativeRange();I!=null&&I.start.node!==O.cursor.textNode&&O.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(I,k){if(k.range){var A=k.range,M=A.startNode,R=A.startOffset,D=A.endNode,q=A.endOffset;O.setNativeRange(M,R,D,q)}}),this.update(p.default.sources.SILENT)}return o(S,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var O=P.cursor.restore();if(!O)return;setTimeout(function(){P.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||u.default.query(P,u.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var k=u.default.find(I.start.node,!1);if(k==null)return;if(k instanceof u.default.Leaf){var A=k.split(I.start.offset);k.parent.insertBefore(this.cursor,A)}else k.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(P,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();P=Math.min(P,I-1),O=Math.min(P+O,I-1)-P;var k=void 0,A=this.scroll.leaf(P),M=s(A,2),R=M[0],D=M[1];if(R==null)return null;var q=R.position(D,!0),F=s(q,2);k=F[0],D=F[1];var $=document.createRange();if(O>0){$.setStart(k,D);var C=this.scroll.leaf(P+O),L=s(C,2);if(R=L[0],D=L[1],R==null)return null;var z=R.position(D,!0),W=s(z,2);return k=W[0],D=W[1],$.setEnd(k,D),$.getBoundingClientRect()}else{var V="left",B=void 0;return k instanceof Text?(D<k.data.length?($.setStart(k,D),$.setEnd(k,D+1)):($.setStart(k,D-1),$.setEnd(k,D),V="right"),B=$.getBoundingClientRect()):(B=R.domNode.getBoundingClientRect(),D>0&&(V="right")),{bottom:B.top+B.height,height:B.height,left:B[V],right:B[V],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var O=P.getRangeAt(0);if(O==null)return null;var I=this.normalizeNative(O);return b.info("getNativeRange",I),I}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var O=this.normalizedToRange(P);return[O,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var O=this,I=[[P.start.node,P.start.offset]];P.native.collapsed||I.push([P.end.node,P.end.offset]);var k=I.map(function(R){var D=s(R,2),q=D[0],F=D[1],$=u.default.find(q,!0),C=$.offset(O.scroll);return F===0?C:$ instanceof u.default.Container?C+$.length():C+$.index(q,F)}),A=Math.min(Math.max.apply(Math,x(k)),this.scroll.length()-1),M=Math.min.apply(Math,[A].concat(x(k)));return new j(M,A-M)}},{key:"normalizeNative",value:function(P){if(!N(this.root,P.startContainer)||!P.collapsed&&!N(this.root,P.endContainer))return null;var O={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[O.start,O.end].forEach(function(I){for(var k=I.node,A=I.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>A)k=k.childNodes[A],A=0;else if(k.childNodes.length===A)k=k.lastChild,A=k instanceof Text?k.data.length:k.childNodes.length+1;else break;I.node=k,I.offset=A}),O}},{key:"rangeToNative",value:function(P){var O=this,I=P.collapsed?[P.index]:[P.index,P.index+P.length],k=[],A=this.scroll.length();return I.forEach(function(M,R){M=Math.min(A-1,M);var D=void 0,q=O.scroll.leaf(M),F=s(q,2),$=F[0],C=F[1],L=$.position(C,R!==0),z=s(L,2);D=z[0],C=z[1],k.push(D,C)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(P){var O=this.lastRange;if(O!=null){var I=this.getBounds(O.index,O.length);if(I!=null){var k=this.scroll.length()-1,A=this.scroll.line(Math.min(O.index,k)),M=s(A,1),R=M[0],D=R;if(O.length>0){var q=this.scroll.line(Math.min(O.index+O.length,k)),F=s(q,1);D=F[0]}if(!(R==null||D==null)){var $=P.getBoundingClientRect();I.top<$.top?P.scrollTop-=$.top-I.top:I.bottom>$.bottom&&(P.scrollTop+=I.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(P,O){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",P,O,I,k),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||I.parentNode==null))){var M=document.getSelection();if(M!=null)if(P!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||A||P!==R.startContainer||O!==R.startOffset||I!==R.endContainer||k!==R.endOffset){P.tagName=="BR"&&(O=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),I.tagName=="BR"&&(k=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var D=document.createRange();D.setStart(P,O),D.setEnd(I,k),M.removeAllRanges(),M.addRange(D)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof O=="string"&&(I=O,O=!1),b.info("setRange",P),P!=null){var k=this.rangeToNative(P);this.setNativeRange.apply(this,x(k).concat([O]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,O=this.lastRange,I=this.getRange(),k=s(I,2),A=k[0],M=k[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(O,this.lastRange)){var R;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(O),P];if((R=this.emitter).emit.apply(R,[p.default.events.EDITOR_CHANGE].concat(D)),P!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,D)}}}}]),S}();function N(S,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),S.contains(E)}n.Range=j,n.default=T},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(0),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(y,x){y.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,y,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(u.default.Embed);m.blotName="break",m.tagName="BR",n.default=m},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),u=a(1),f=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.build(),p}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=c(p);m.insertBefore(g,m.children.head||void 0)}catch(v){if(v instanceof u.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(m,p){if(m===0&&p===this.length())return this.remove();this.children.forEachAt(m,p,function(g,v,y){g.deleteAt(v,y)})},h.prototype.descendant=function(m,p){var g=this.children.find(p),v=g[0],y=g[1];return m.blotName==null&&m(v)||m.blotName!=null&&v instanceof m?[v,y]:v instanceof h?v.descendant(m,y):[null,-1]},h.prototype.descendants=function(m,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var v=[],y=g;return this.children.forEachAt(p,g,function(x,w,b){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&v.push(x),x instanceof h&&(v=v.concat(x.descendants(m,w,y))),y-=b}),v},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(m,p,g,v){this.children.forEachAt(m,p,function(y,x,w){y.formatAt(x,w,g,v)})},h.prototype.insertAt=function(m,p,g){var v=this.children.find(m),y=v[0],x=v[1];if(y)y.insertAt(x,p,g);else{var w=g==null?u.create("text",p):u.create(p,g);this.appendChild(w)}},h.prototype.insertBefore=function(m,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new u.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,p)},h.prototype.length=function(){return this.children.reduce(function(m,p){return m+p.length()},0)},h.prototype.moveChildren=function(m,p){this.children.forEach(function(g){m.insertBefore(g,p)})},h.prototype.optimize=function(m){if(d.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var p=u.create(this.statics.defaultChild);this.appendChild(p),p.optimize(m)}else this.remove()},h.prototype.path=function(m,p){p===void 0&&(p=!1);var g=this.children.find(m,p),v=g[0],y=g[1],x=[[this,m]];return v instanceof h?x.concat(v.path(y,p)):(v!=null&&x.push([v,y]),x)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),d.prototype.replace.call(this,m)},h.prototype.split=function(m,p){if(p===void 0&&(p=!1),!p){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(v,y,x){v=v.split(y,p),g.appendChild(v)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,p){var g=this,v=[],y=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(v.push.apply(v,x.addedNodes),y.push.apply(y,x.removedNodes))}),y.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=u.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),v.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=u.find(x.nextSibling));var b=c(x);(b.next!=w||b.next==null)&&(b.parent!=null&&b.parent.removeChild(g),g.insertBefore(b,w||void 0))})},h}(l.default);function c(d){var h=u.find(d);if(h==null)try{h=u.create(d)}catch{h=u.create(u.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){h.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),u=a(17),f=a(1),c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.attributes=new l.default(p.domNode),p}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,p){var g=f.query(m);g instanceof o.default?this.attributes.attribute(g,p):p&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==p)&&this.replaceWith(m,p)},h.prototype.formats=function(){var m=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(m[this.statics.blotName]=p),m},h.prototype.replaceWith=function(m,p){var g=d.prototype.replaceWith.call(this,m,p);return this.attributes.copy(g),g},h.prototype.update=function(m,p){var g=this;d.prototype.update.call(this,m,p),m.some(function(v){return v.target===g.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,p){var g=d.prototype.wrap.call(this,m,p);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(u.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(d,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(m+=1),[this.parent.domNode,m]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=a(11),o=a(3),l={attributes:{compose:function(f,c,d){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var h=o(!0,{},c);d||(h=Object.keys(h).reduce(function(p,g){return h[g]!=null&&(p[g]=h[g]),p},{}));for(var m in f)f[m]!==void 0&&c[m]===void 0&&(h[m]=f[m]);return Object.keys(h).length>0?h:void 0},diff:function(f,c){typeof f!="object"&&(f={}),typeof c!="object"&&(c={});var d=Object.keys(f).concat(Object.keys(c)).reduce(function(h,m){return s(f[m],c[m])||(h[m]=c[m]===void 0?null:c[m]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(f,c,d){if(typeof f!="object")return c;if(typeof c=="object"){if(!d)return c;var h=Object.keys(c).reduce(function(m,p){return f[p]===void 0&&(m[p]=c[p]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var c=this.ops[this.index];if(c){var d=this.offset,h=l.length(c);if(f>=h-d?(f=h-d,this.index+=1,this.offset=0):this.offset+=f,typeof c.delete=="number")return{delete:f};var m={};return c.attributes&&(m.attributes=c.attributes),typeof c.retain=="number"?m.retain=f:typeof c.insert=="string"?m.insert=c.insert.substr(d,f):m.insert=c.insert,m}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,c=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=f,this.index=c,[d].concat(h)}else return[]},r.exports=l},function(r,n){var a=function(){function s(g,v){return v!=null&&g instanceof v}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(g,v,y,x,w){typeof v=="object"&&(y=v.depth,x=v.prototype,w=v.includeNonEnumerable,v=v.circular);var b=[],j=[],T=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof y>"u"&&(y=1/0);function N(S,E){if(S===null)return null;if(E===0)return S;var P,O;if(typeof S!="object")return S;if(s(S,o))P=new o;else if(s(S,l))P=new l;else if(s(S,u))P=new u(function($,C){S.then(function(L){$(N(L,E-1))},function(L){C(N(L,E-1))})});else if(f.__isArray(S))P=[];else if(f.__isRegExp(S))P=new RegExp(S.source,p(S)),S.lastIndex&&(P.lastIndex=S.lastIndex);else if(f.__isDate(S))P=new Date(S.getTime());else{if(T&&Buffer.isBuffer(S))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(S.length):P=new Buffer(S.length),S.copy(P),P;s(S,Error)?P=Object.create(S):typeof x>"u"?(O=Object.getPrototypeOf(S),P=Object.create(O)):(P=Object.create(x),O=x)}if(v){var I=b.indexOf(S);if(I!=-1)return j[I];b.push(S),j.push(P)}s(S,o)&&S.forEach(function($,C){var L=N(C,E-1),z=N($,E-1);P.set(L,z)}),s(S,l)&&S.forEach(function($){var C=N($,E-1);P.add(C)});for(var k in S){var A;O&&(A=Object.getOwnPropertyDescriptor(O,k)),!(A&&A.set==null)&&(P[k]=N(S[k],E-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(S),k=0;k<M.length;k++){var R=M[k],D=Object.getOwnPropertyDescriptor(S,R);D&&!D.enumerable&&!w||(P[R]=N(S[R],E-1),D.enumerable||Object.defineProperty(P,R,{enumerable:!1}))}if(w)for(var q=Object.getOwnPropertyNames(S),k=0;k<q.length;k++){var F=q[k],D=Object.getOwnPropertyDescriptor(S,F);D&&D.enumerable||(P[F]=N(S[F],E-1),Object.defineProperty(P,F,{enumerable:!1}))}return P}return N(g,y)}f.clonePrototype=function(v){if(v===null)return null;var y=function(){};return y.prototype=v,new y};function c(g){return Object.prototype.toString.call(g)}f.__objToStr=c;function d(g){return typeof g=="object"&&c(g)==="[object Date]"}f.__isDate=d;function h(g){return typeof g=="object"&&c(g)==="[object Array]"}f.__isArray=h;function m(g){return typeof g=="object"&&c(g)==="[object RegExp]"}f.__isRegExp=m;function p(g){var v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),v}return f.__getRegExpFlags=p,f}();typeof r=="object"&&r.exports&&(r.exports=a)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function P(O,I){var k=[],A=!0,M=!1,R=void 0;try{for(var D=O[Symbol.iterator](),q;!(A=(q=D.next()).done)&&(k.push(q.value),!(I&&k.length===I));A=!0);}catch(F){M=!0,R=F}finally{try{!A&&D.return&&D.return()}finally{if(M)throw R}}return k}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return P(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&P(O.prototype,I),k&&P(O,k),O}}(),l=function P(O,I,k){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,I);if(A===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:P(M,I,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},u=a(0),f=b(u),c=a(8),d=b(c),h=a(4),m=b(h),p=a(16),g=b(p),v=a(13),y=b(v),x=a(25),w=b(x);function b(P){return P&&P.__esModule?P:{default:P}}function j(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function T(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function N(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}function S(P){return P instanceof m.default||P instanceof h.BlockEmbed}var E=function(P){N(O,P);function O(I,k){j(this,O);var A=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I));return A.emitter=k.emitter,Array.isArray(k.whitelist)&&(A.whitelist=k.whitelist.reduce(function(M,R){return M[R]=!0,M},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return o(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,A){var M=this.line(k),R=s(M,2),D=R[0],q=R[1],F=this.line(k+A),$=s(F,1),C=$[0];if(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,k,A),C!=null&&D!==C&&q>0){if(D instanceof h.BlockEmbed||C instanceof h.BlockEmbed){this.optimize();return}if(D instanceof y.default){var L=D.newlineIndex(D.length(),!0);if(L>-1&&(D=D.split(L+1),D===C)){this.optimize();return}}else if(C instanceof y.default){var z=C.newlineIndex(0);z>-1&&C.split(z+1)}var W=C.children.head instanceof g.default?null:C.children.head;D.moveChildren(C,W),D.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,A,M,R){this.whitelist!=null&&!this.whitelist[M]||(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,k,A,M,R),this.optimize())}},{key:"insertAt",value:function(k,A,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[A])){if(k>=this.length())if(M==null||f.default.query(A,f.default.Scope.BLOCK)==null){var R=f.default.create(this.statics.defaultChild);this.appendChild(R),M==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),R.insertAt(0,A,M)}else{var D=f.default.create(A,M);this.appendChild(D)}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,k,A,M);this.optimize()}}},{key:"insertBefore",value:function(k,A){if(k.statics.scope===f.default.Scope.INLINE_BLOT){var M=f.default.create(this.statics.defaultChild);M.appendChild(k),k=M}l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,k,A)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(S,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function R(D,q,F){var $=[],C=F;return D.children.forEachAt(q,F,function(L,z,W){S(L)?$.push(L):L instanceof f.default.Container&&($=$.concat(R(L,z,C))),C-=W}),$};return M(this,k,A)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,k,A),k.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,k,A))}},{key:"path",value:function(k){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var A=d.default.sources.USER;typeof k=="string"&&(A=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,A,k),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,A,k)}}}]),O}(f.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[m.default,h.BlockEmbed,w.default],n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B(H,Z){var U=[],Q=!0,ne=!1,te=void 0;try{for(var he=H[Symbol.iterator](),ce;!(Q=(ce=he.next()).done)&&(U.push(ce.value),!(Z&&U.length===Z));Q=!0);}catch(ge){ne=!0,te=ge}finally{try{!Q&&he.return&&he.return()}finally{if(ne)throw te}}return U}return function(H,Z){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return B(H,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function B(H,Z){for(var U=0;U<Z.length;U++){var Q=Z[U];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(H,Q.key,Q)}}return function(H,Z,U){return Z&&B(H.prototype,Z),U&&B(H,U),H}}(),u=a(21),f=P(u),c=a(11),d=P(c),h=a(3),m=P(h),p=a(2),g=P(p),v=a(20),y=P(v),x=a(0),w=P(x),b=a(5),j=P(b),T=a(10),N=P(T),S=a(9),E=P(S);function P(B){return B&&B.__esModule?B:{default:B}}function O(B,H,Z){return H in B?Object.defineProperty(B,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[H]=Z,B}function I(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}function k(B,H){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:B}function A(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(B,H):B.__proto__=H)}var M=(0,N.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(B){A(H,B),l(H,null,[{key:"match",value:function(U,Q){return Q=V(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!Q[ne]!==U[ne]&&Q[ne]!==null})?!1:Q.key===(U.which||U.keyCode)}}]);function H(Z,U){I(this,H);var Q=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Z,U));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(ne){ne==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||Q.options.bindings[ne]&&Q.addBinding(Q.options.bindings[ne])}),Q.addBinding({key:H.keys.ENTER,shiftKey:null},L),Q.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},F),Q.addBinding({key:H.keys.DELETE},{collapsed:!0},$)):(Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),Q.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),Q.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},C),Q.addBinding({key:H.keys.DELETE},{collapsed:!1},C),Q.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),Q.listen(),Q}return l(H,[{key:"addBinding",value:function(U){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=V(U);if(te==null||te.key==null)return M.warn("Attempted to add invalid keyboard binding",te);typeof Q=="function"&&(Q={handler:Q}),typeof ne=="function"&&(ne={handler:ne}),te=(0,m.default)(te,Q,ne),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var U=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var ne=Q.which||Q.keyCode,te=(U.bindings[ne]||[]).filter(function(Ke){return H.match(Q,Ke)});if(te.length!==0){var he=U.quill.getSelection();if(!(he==null||!U.quill.hasFocus())){var ce=U.quill.getLine(he.index),ge=o(ce,2),Y=ge[0],K=ge[1],G=U.quill.getLeaf(he.index),X=o(G,2),J=X[0],ae=X[1],re=he.length===0?[J,ae]:U.quill.getLeaf(he.index+he.length),le=o(re,2),oe=le[0],ve=le[1],pe=J instanceof w.default.Text?J.value().slice(0,ae):"",je=oe instanceof w.default.Text?oe.value().slice(ve):"",be={collapsed:he.length===0,empty:he.length===0&&Y.length()<=1,format:U.quill.getFormat(he),offset:K,prefix:pe,suffix:je},un=te.some(function(Ke){if(Ke.collapsed!=null&&Ke.collapsed!==be.collapsed||Ke.empty!=null&&Ke.empty!==be.empty||Ke.offset!=null&&Ke.offset!==be.offset)return!1;if(Array.isArray(Ke.format)){if(Ke.format.every(function(Gr){return be.format[Gr]==null}))return!1}else if(s(Ke.format)==="object"&&!Object.keys(Ke.format).every(function(Gr){return Ke.format[Gr]===!0?be.format[Gr]!=null:Ke.format[Gr]===!1?be.format[Gr]==null:(0,d.default)(Ke.format[Gr],be.format[Gr])}))return!1;return Ke.prefix!=null&&!Ke.prefix.test(be.prefix)||Ke.suffix!=null&&!Ke.suffix.test(be.suffix)?!1:Ke.handler.call(U,he,be)!==!0});un&&Q.preventDefault()}}}})}}]),H}(E.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,Z){Z.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,j.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(H){this.quill.history.cutoff();var Z=new g.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(Z,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,j.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,Z){this.quill.format("list",!1,j.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var Z=this.quill.getLine(H.index),U=o(Z,2),Q=U[0],ne=U[1],te=(0,m.default)({},Q.formats(),{list:"checked"}),he=new g.default().retain(H.index).insert(`
`,te).retain(Q.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,Z){var U=this.quill.getLine(H.index),Q=o(U,2),ne=Q[0],te=Q[1],he=new g.default().retain(H.index).insert(`
`,Z.format).retain(ne.length()-te-1).retain(1,{header:null});this.quill.updateContents(he,j.default.sources.USER),this.quill.setSelection(H.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,Z){var U=Z.prefix.length,Q=this.quill.getLine(H.index),ne=o(Q,2),te=ne[0],he=ne[1];if(he>U)return!0;var ce=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":ce="unchecked";break;case"[x]":ce="checked";break;case"-":case"*":ce="bullet";break;default:ce="ordered"}this.quill.insertText(H.index," ",j.default.sources.USER),this.quill.history.cutoff();var ge=new g.default().retain(H.index-he).delete(U+1).retain(te.length()-2-he).retain(1,{list:ce});this.quill.updateContents(ge,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-U,j.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var Z=this.quill.getLine(H.index),U=o(Z,2),Q=U[0],ne=U[1],te=new g.default().retain(H.index+Q.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,j.default.sources.USER)}},"embed left":q(D.keys.LEFT,!1),"embed left shift":q(D.keys.LEFT,!0),"embed right":q(D.keys.RIGHT,!1),"embed right shift":q(D.keys.RIGHT,!0)}};function q(B,H){var Z,U=B===D.keys.LEFT?"prefix":"suffix";return Z={key:B,shiftKey:H,altKey:null},O(Z,U,/^$/),O(Z,"handler",function(ne){var te=ne.index;B===D.keys.RIGHT&&(te+=ne.length+1);var he=this.quill.getLeaf(te),ce=o(he,1),ge=ce[0];return ge instanceof w.default.Embed?(B===D.keys.LEFT?H?this.quill.setSelection(ne.index-1,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index-1,j.default.sources.USER):H?this.quill.setSelection(ne.index,ne.length+1,j.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,j.default.sources.USER),!1):!0}),Z}function F(B,H){if(!(B.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(B.index),U=o(Z,1),Q=U[0],ne={};if(H.offset===0){var te=this.quill.getLine(B.index-1),he=o(te,1),ce=he[0];if(ce!=null&&ce.length()>1){var ge=Q.formats(),Y=this.quill.getFormat(B.index-1,1);ne=y.default.attributes.diff(ge,Y)||{}}}var K=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(B.index-K,K,j.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(B.index-K,K,ne,j.default.sources.USER),this.quill.focus()}}function $(B,H){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(B.index>=this.quill.getLength()-Z)){var U={},Q=0,ne=this.quill.getLine(B.index),te=o(ne,1),he=te[0];if(H.offset>=he.length()-1){var ce=this.quill.getLine(B.index+1),ge=o(ce,1),Y=ge[0];if(Y){var K=he.formats(),G=this.quill.getFormat(B.index,1);U=y.default.attributes.diff(K,G)||{},Q=Y.length()}}this.quill.deleteText(B.index,Z,j.default.sources.USER),Object.keys(U).length>0&&this.quill.formatLine(B.index+Q-1,Z,U,j.default.sources.USER)}}function C(B){var H=this.quill.getLines(B),Z={};if(H.length>1){var U=H[0].formats(),Q=H[H.length-1].formats();Z=y.default.attributes.diff(Q,U)||{}}this.quill.deleteText(B,j.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(B.index,1,Z,j.default.sources.USER),this.quill.setSelection(B.index,j.default.sources.SILENT),this.quill.focus()}function L(B,H){var Z=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var U=Object.keys(H.format).reduce(function(Q,ne){return w.default.query(ne,w.default.Scope.BLOCK)&&!Array.isArray(H.format[ne])&&(Q[ne]=H.format[ne]),Q},{});this.quill.insertText(B.index,`
`,U,j.default.sources.USER),this.quill.setSelection(B.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(Q){U[Q]==null&&(Array.isArray(H.format[Q])||Q!=="link"&&Z.quill.format(Q,H.format[Q],j.default.sources.USER))})}function z(B){return{key:D.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(Z){var U=w.default.query("code-block"),Q=Z.index,ne=Z.length,te=this.quill.scroll.descendant(U,Q),he=o(te,2),ce=he[0],ge=he[1];if(ce!=null){var Y=this.quill.getIndex(ce),K=ce.newlineIndex(ge,!0)+1,G=ce.newlineIndex(Y+ge+ne),X=ce.domNode.textContent.slice(K,G).split(`
`);ge=0,X.forEach(function(J,ae){B?(ce.insertAt(K+ge,U.TAB),ge+=U.TAB.length,ae===0?Q+=U.TAB.length:ne+=U.TAB.length):J.startsWith(U.TAB)&&(ce.deleteAt(K+ge,U.TAB.length),ge-=U.TAB.length,ae===0?Q-=U.TAB.length:ne-=U.TAB.length),ge+=J.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(Q,ne,j.default.sources.SILENT)}}}}function W(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(Z,U){this.quill.format(B,!U.format[B],j.default.sources.USER)}}}function V(B){if(typeof B=="string"||typeof B=="number")return V({key:B});if((typeof B>"u"?"undefined":s(B))==="object"&&(B=(0,f.default)(B,!1)),typeof B.key=="string")if(D.keys[B.key.toUpperCase()]!=null)B.key=D.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[R]=B.shortKey,delete B.shortKey),B}n.default=D,n.SHORTKEY=R},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){var b=[],j=!0,T=!1,N=void 0;try{for(var S=x[Symbol.iterator](),E;!(j=(E=S.next()).done)&&(b.push(E.value),!(w&&b.length===w));j=!0);}catch(P){T=!0,N=P}finally{try{!j&&S.return&&S.return()}finally{if(T)throw N}}return b}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(b)}},l=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),u=a(0),f=h(u),c=a(7),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function g(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var v=function(y){g(x,y),l(x,null,[{key:"value",value:function(){}}]);function x(w,b){m(this,x);var j=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.selection=b,j.textNode=document.createTextNode(x.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,j){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,b,j);for(var T=this,N=0;T!=null&&T.statics.scope!==f.default.Scope.BLOCK_BLOT;)N+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=x.CONTENTS.length,T.optimize(),T.formatAt(N,x.CONTENTS.length,b,j),this._length=0)}},{key:"index",value:function(b,j){return b===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,j=this.selection.getNativeRange(),T=void 0,N=void 0,S=void 0;if(j!=null&&j.start.node===b&&j.end.node===b){var E=[b,j.start.offset,j.end.offset];T=E[0],N=E[1],S=E[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var P=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof d.default?(T=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=x.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var O=[N,S].map(function(k){return Math.max(0,Math.min(T.data.length,k-1))}),I=s(O,2);return N=I[0],S=I[1],{startNode:T,startOffset:N,endNode:T,endOffset:S}}}}},{key:"update",value:function(b,j){var T=this;if(b.some(function(S){return S.type==="characterData"&&S.target===T.textNode})){var N=this.restore();N&&(j.range=N)}}},{key:"value",value:function(){return""}}]),x}(f.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=f(s),l=a(4),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[u.default,l.BlockEmbed,m],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(0),u=f(l);function f(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=function(v){h(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"value",value:function(w){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):b}}]),y}(u.default.Attributor.Style),p=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),g=new m("color","color",{scope:u.default.Scope.INLINE});n.ColorAttributor=m,n.ColorClass=p,n.ColorStyle=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(6),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return p(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),v}(u.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,v){var y=document.createElement("a");y.href=g;var x=y.href.slice(0,y.href.indexOf(":"));return v.indexOf(x)>-1}n.default=m,n.sanitize=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),l=a(23),u=d(l),f=a(107),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var m=0;function p(v,y){v.setAttribute(y,v.getAttribute(y)!=="true")}var g=function(){function v(y){var x=this;h(this,v),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case u.default.keys.ENTER:x.togglePicker();break;case u.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),x.hasAttribute("value")&&b.setAttribute("data-value",x.getAttribute("value")),x.textContent&&b.setAttribute("data-label",x.textContent),b.addEventListener("click",function(){w.selectItem(b,!0)}),b.addEventListener("keydown",function(j){switch(j.keyCode){case u.default.keys.ENTER:w.selectItem(b,!0),j.preventDefault();break;case u.default.keys.ESCAPE:w.escape(),j.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=c.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(b){var j=x.buildItem(b);w.appendChild(j),b.selected===!0&&x.selectItem(j)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(x!==b&&(b!=null&&b.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var b=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),v}();n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=M(s),l=a(5),u=M(l),f=a(4),c=M(f),d=a(16),h=M(d),m=a(25),p=M(m),g=a(24),v=M(g),y=a(35),x=M(y),w=a(6),b=M(w),j=a(22),T=M(j),N=a(7),S=M(N),E=a(55),P=M(E),O=a(42),I=M(O),k=a(23),A=M(k);function M(R){return R&&R.__esModule?R:{default:R}}u.default.register({"blots/block":c.default,"blots/block/embed":f.BlockEmbed,"blots/break":h.default,"blots/container":p.default,"blots/cursor":v.default,"blots/embed":x.default,"blots/inline":b.default,"blots/scroll":T.default,"blots/text":S.default,"modules/clipboard":P.default,"modules/history":I.default,"modules/keyboard":A.default}),o.default.register(c.default,h.default,v.default,b.default,T.default,S.default),n.default=u.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(1),o=function(){function l(u){this.domNode=u,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(u){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return s.create(u)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(u,f){var c=this.isolate(u,f);c.remove()},l.prototype.formatAt=function(u,f,c,d){var h=this.isolate(u,f);if(s.query(c,s.Scope.BLOT)!=null&&d)h.wrap(c,d);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var m=s.create(this.statics.scope);h.wrap(m),m.format(c,d)}},l.prototype.insertAt=function(u,f,c){var d=c==null?s.create("text",f):s.create(f,c),h=this.split(u);this.parent.insertBefore(d,h)},l.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var c=null;u.children.insertBefore(this,f),f!=null&&(c=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=c)&&u.domNode.insertBefore(this.domNode,c),this.parent=u,this.attach()},l.prototype.isolate=function(u,f){var c=this.split(u);return c.split(f),c},l.prototype.length=function(){return 1},l.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},l.prototype.optimize=function(u){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},l.prototype.replaceWith=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return c.replace(this),c},l.prototype.split=function(u,f){return u===0?this:this.next},l.prototype.update=function(u,f){},l.prototype.wrap=function(u,f){var c=typeof u=="string"?s.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},l.blotName="abstract",l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(12),o=a(32),l=a(33),u=a(1),f=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var h=s.default.keys(this.domNode),m=o.default.keys(this.domNode),p=l.default.keys(this.domNode);h.concat(m).concat(p).forEach(function(g){var v=u.query(g,u.Scope.ATTRIBUTE);v instanceof s.default&&(d.attributes[v.attrName]=v)})},c.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(m){var p=h.attributes[m].value(h.domNode);d.format(m,p)})},c.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=d.attributes[m].value(d.domNode),h},{})},c}();n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f,c){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(d){var h=l(d,this.keyName);h.forEach(function(m){d.classList.remove(m)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var h=l(d,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(d,m)?m:""},c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(f){var c=f.split("-"),d=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+d}var u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[l(this.keyName)]=h,!0):!1},c.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var h=d.style[l(this.keyName)];return this.canAdd(d,h)?h:""},c}(o.default);n.default=u},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){o(this,u),this.quill=f,this.options=c,this.modules={}}return s(u,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),u}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(b)}},l=a(0),u=d(l),f=a(7),c=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function h(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function m(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function p(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g="\uFEFF",v=function(y){p(x,y);function x(w){h(this,x);var b=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(j){b.contentNode.appendChild(j)}),b.leftGuard=document.createTextNode(g),b.rightGuard=document.createTextNode(g),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return s(x,[{key:"index",value:function(b,j){return b===this.leftGuard?0:b===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,b,j)}},{key:"restore",value:function(b){var j=void 0,T=void 0,N=b.data.split(g).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var S=this.prev.length();this.prev.insertAt(S,N),j={startNode:this.prev.domNode,startOffset:S+N.length}}else T=document.createTextNode(N),this.parent.insertBefore(u.default.create(T),this),j={startNode:T,startOffset:N.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,N),j={startNode:this.next.domNode,startOffset:N.length}):(T=document.createTextNode(N),this.parent.insertBefore(u.default.create(T),this.next),j={startNode:T,startOffset:N.length}));return b.data=g,j}},{key:"update",value:function(b,j){var T=this;b.forEach(function(N){if(N.type==="characterData"&&(N.target===T.leftGuard||N.target===T.rightGuard)){var S=T.restore(N.target);S&&(j.range=S)}})}}]),x}(u.default.Embed);n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",u),c=new o.default.Attributor.Class("align","ql-align",u),d=new o.default.Attributor.Style("align","text-align",u);n.AlignAttribute=f,n.AlignClass=c,n.AlignStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var s=a(0),o=u(s),l=a(26);function u(d){return d&&d.__esModule?d:{default:d}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=c},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var s=a(0),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",u),c=new o.default.Attributor.Class("direction","ql-direction",u),d=new o.default.Attributor.Style("direction","direction",u);n.DirectionAttribute=f,n.DirectionClass=c,n.DirectionStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var s=function(){function y(x,w){for(var b=0;b<w.length;b++){var j=w[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,w,b){return w&&y(x.prototype,w),b&&y(x,b),x}}(),o=function y(x,w,b){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,w);if(j===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:y(T,w,b)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(b)}},l=a(0),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function d(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function h(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var m={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new u.default.Attributor.Class("font","ql-font",m),g=function(y){h(x,y);function x(){return c(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(b){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),x}(u.default.Attributor.Style),v=new g("font","font-family",m);n.FontStyle=v,n.FontClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var s=a(0),o=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=u,n.SizeStyle=f},function(r,n,a){r.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var s=function(){function w(b,j){for(var T=0;T<j.length;T++){var N=j[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,j,T){return j&&w(b.prototype,j),T&&w(b,T),b}}(),o=a(0),l=h(o),u=a(5),f=h(u),c=a(9),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var v=function(w){g(b,w);function b(j,T){m(this,b);var N=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,T));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(f.default.events.EDITOR_CHANGE,function(S,E,P,O){S!==f.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||O===f.default.sources.USER?N.record(E,P):N.transform(E))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return s(b,[{key:"change",value:function(T,N){if(this.stack[T].length!==0){var S=this.stack[T].pop();this.stack[N].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[T],f.default.sources.USER),this.ignoreChange=!1;var E=x(S[T]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,N){if(T.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(N),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var P=this.stack.undo.pop();S=S.compose(P.undo),T=P.redo.compose(T)}else this.lastRecorded=E;this.stack.undo.push({redo:T,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(N){N.undo=T.transform(N.undo,!0),N.redo=T.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=T.transform(N.undo,!0),N.redo=T.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var b=w.ops[w.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(j){return l.default.query(j,l.default.Scope.BLOCK)!=null}):!1}function x(w){var b=w.reduce(function(T,N){return T+=N.delete||0,T},0),j=w.length()-b;return y(w)&&(j-=1),j}n.default=v,n.getLastChangeIndex=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var s=function(){function L(z,W){for(var V=0;V<W.length;V++){var B=W[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(z,B.key,B)}}return function(z,W,V){return W&&L(z.prototype,W),V&&L(z,V),z}}(),o=function L(z,W,V){z===null&&(z=Function.prototype);var B=Object.getOwnPropertyDescriptor(z,W);if(B===void 0){var H=Object.getPrototypeOf(z);return H===null?void 0:L(H,W,V)}else{if("value"in B)return B.value;var Z=B.get;return Z===void 0?void 0:Z.call(V)}},l=a(3),u=E(l),f=a(2),c=E(f),d=a(8),h=E(d),m=a(23),p=E(m),g=a(34),v=E(g),y=a(59),x=E(y),w=a(60),b=E(w),j=a(28),T=E(j),N=a(61),S=E(N);function E(L){return L&&L.__esModule?L:{default:L}}function P(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function O(L,z){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:L}function I(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(L,z):L.__proto__=z)}var k=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],R=["1","2","3",!1],D=["small",!1,"large","huge"],q=function(L){I(z,L);function z(W,V){P(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,W,V)),H=function Z(U){if(!document.body.contains(W.root))return document.body.removeEventListener("click",Z);B.tooltip!=null&&!B.tooltip.root.contains(U.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(Q){Q.container.contains(U.target)||Q.close()})};return W.emitter.listenDOM("click",document.body,H),B}return s(z,[{key:"addModule",value:function(V){var B=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,V);return V==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(V,B){V.forEach(function(H){var Z=H.getAttribute("class")||"";Z.split(/\s+/).forEach(function(U){if(U.startsWith("ql-")&&(U=U.slice(3),B[U]!=null))if(U==="direction")H.innerHTML=B[U][""]+B[U].rtl;else if(typeof B[U]=="string")H.innerHTML=B[U];else{var Q=H.value||"";Q!=null&&B[U][Q]&&(H.innerHTML=B[U][Q])}})})}},{key:"buildPickers",value:function(V,B){var H=this;this.pickers=V.map(function(U){if(U.classList.contains("ql-align"))return U.querySelector("option")==null&&C(U,k),new b.default(U,B.align);if(U.classList.contains("ql-background")||U.classList.contains("ql-color")){var Q=U.classList.contains("ql-background")?"background":"color";return U.querySelector("option")==null&&C(U,A,Q==="background"?"#ffffff":"#000000"),new x.default(U,B[Q])}else return U.querySelector("option")==null&&(U.classList.contains("ql-font")?C(U,M):U.classList.contains("ql-header")?C(U,R):U.classList.contains("ql-size")&&C(U,D)),new T.default(U)});var Z=function(){H.pickers.forEach(function(Q){Q.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,Z)}}]),z}(v.default);q.DEFAULTS=(0,u.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var V=new FileReader;V.onload=function(B){var H=z.quill.getSelection(!0);z.quill.updateContents(new c.default().retain(H.index).delete(H.length).insert({image:B.target.result}),h.default.sources.USER),z.quill.setSelection(H.index+1,h.default.sources.SILENT),W.value=""},V.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(L){I(z,L);function z(W,V){P(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,W,V));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return s(z,[{key:"listen",value:function(){var V=this;this.textbox.addEventListener("keydown",function(B){p.default.match(B,"enter")?(V.save(),B.preventDefault()):p.default.match(B,"escape")&&(V.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:V!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+V)||""),this.root.setAttribute("data-mode",V)}},{key:"restoreFocus",value:function(){var V=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=V}},{key:"save",value:function(){var V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,h.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":V=$(V);case"formula":{if(!V)break;var H=this.quill.getSelection(!0);if(H!=null){var Z=H.index+H.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),V,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",h.default.sources.USER),this.quill.setSelection(Z+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(S.default);function $(L){var z=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":L}function C(L,z){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(V){var B=document.createElement("option");V===W?B.setAttribute("selected","selected"):B.setAttribute("value",V),L.appendChild(B)})}n.BaseTooltip=F,n.default=q},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var u,f=this.iterator();u=f();)if(u===l)return!0;return!1},o.prototype.insertBefore=function(l,u){l&&(l.next=u,u!=null?(l.prev=u.prev,u.prev!=null&&(u.prev.next=l),u.prev=l,u===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var u=0,f=this.head;f!=null;){if(f===l)return u;u+=f.length(),f=f.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var u=l;return l!=null&&(l=l.next),u}},o.prototype.find=function(l,u){u===void 0&&(u=!1);for(var f,c=this.iterator();f=c();){var d=f.length();if(l<d||u&&l===d&&(f.next==null||f.next.length()!==0))return[f,l];l-=d}return[null,0]},o.prototype.forEach=function(l){for(var u,f=this.iterator();u=f();)l(u)},o.prototype.forEachAt=function(l,u,f){if(!(u<=0))for(var c=this.find(l),d=c[0],h=c[1],m,p=l-h,g=this.iterator(d);(m=g())&&p<l+u;){var v=m.length();l>p?f(m,l-p,Math.min(u,p+v-l)):f(m,0,Math.min(v,l+u-p)),p+=v}},o.prototype.map=function(l){return this.reduce(function(u,f){return u.push(l(f)),u},[])},o.prototype.reduce=function(l,u){for(var f,c=this.iterator();f=c();)u=l(u,f);return u},o}();n.default=s},function(r,n,a){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)m.hasOwnProperty(p)&&(h[p]=m[p])};return function(h,m){d(h,m);function p(){this.constructor=h}h.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,c=function(d){s(h,d);function h(m){var p=d.call(this,m)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,u),p.attach(),p}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,p){this.update(),m===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,m,p)},h.prototype.formatAt=function(m,p,g,v){this.update(),d.prototype.formatAt.call(this,m,p,g,v)},h.prototype.insertAt=function(m,p,g){this.update(),d.prototype.insertAt.call(this,m,p,g)},h.prototype.optimize=function(m,p){var g=this;m===void 0&&(m=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)m.push(v.pop());for(var y=function(j,T){T===void 0&&(T=!0),!(j==null||j===g)&&j.domNode.parentNode!=null&&(j.domNode[l.DATA_KEY].mutations==null&&(j.domNode[l.DATA_KEY].mutations=[]),T&&y(j.parent))},x=function(j){j.domNode[l.DATA_KEY]==null||j.domNode[l.DATA_KEY].mutations==null||(j instanceof o.default&&j.children.forEach(x),j.optimize(p))},w=m,b=0;w.length>0;b+=1){if(b>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(j){var T=l.find(j.target,!0);T!=null&&(T.domNode===j.target&&(j.type==="childList"?(y(l.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(N){var S=l.find(N,!1);y(S,!1),S instanceof o.default&&S.children.forEach(function(E){y(E,!1)})})):j.type==="attributes"&&y(T.prev)),y(T))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),v=w.slice();v.length>0;)m.push(v.pop())}},h.prototype.update=function(m,p){var g=this;p===void 0&&(p={}),m=m||this.observer.takeRecords(),m.map(function(v){var y=l.find(v.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[v],y):(y.domNode[l.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===g||v.domNode[l.DATA_KEY]==null||v.update(v.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(m,p)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=c},function(r,n,a){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){c(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function u(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var h in c)if(c[h]!==d[h])return!1;return!0}var f=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return c.formats.call(this,h)},d.prototype.format=function(h,m){var p=this;h===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(d.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):c.prototype.format.call(this,h,m)},d.prototype.formatAt=function(h,m,p,g){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var v=this.isolate(h,m);v.format(p,g)}else c.prototype.formatAt.call(this,h,m,p,g)},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&u(m,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);n.default=f},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),u=function(f){s(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){var h=l.query(c.blotName).tagName;if(d.tagName!==h)return f.formats.call(this,d)},c.prototype.format=function(d,h){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(c.blotName):f.prototype.format.call(this,d,h))},c.prototype.formatAt=function(d,h,m,p){l.query(m,l.Scope.BLOCK)!=null?this.format(m,p):f.prototype.formatAt.call(this,d,h,m,p)},c.prototype.insertAt=function(d,h,m){if(m==null||l.query(h,l.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,h,m);else{var p=this.split(d),g=l.create(h,m);p.parent.insertBefore(g,p)}},c.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,h)},c.blotName="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=u},function(r,n,a){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){u(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(c){},f.prototype.format=function(c,d){u.prototype.formatAt.call(this,0,this.length(),c,d)},f.prototype.formatAt=function(c,d,h,m){c===0&&d===this.length()?this.format(h,m):u.prototype.formatAt.call(this,c,d,h,m)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);n.default=l},function(r,n,a){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){f(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),u=function(f){s(c,f);function c(d){var h=f.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},c.prototype.index=function(d,h){return this.domNode===d?h:-1},c.prototype.insertAt=function(d,h,m){m==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,h,m)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,h){return[this.domNode,d]},c.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var m=l.create(this.domNode.splitText(d));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},c.prototype.update=function(d,h){var m=this;d.some(function(p){return p.type==="characterData"&&p.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=l.Scope.INLINE_BLOT,c}(o.default);n.default=u},function(r,n,a){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,u){return arguments.length>1&&!this.contains(l)==!u?u:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=l.length;var c=f.indexOf(l,u);return c!==-1&&c===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),c=f.length>>>0,d=arguments[1],h,m=0;m<c;m++)if(h=f[m],u.call(d,h,m,f))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var a=-1,s=1,o=0;function l(b,j,T){if(b==j)return b?[[o,b]]:[];(T<0||b.length<T)&&(T=null);var N=d(b,j),S=b.substring(0,N);b=b.substring(N),j=j.substring(N),N=h(b,j);var E=b.substring(b.length-N);b=b.substring(0,b.length-N),j=j.substring(0,j.length-N);var P=u(b,j);return S&&P.unshift([o,S]),E&&P.push([o,E]),p(P),T!=null&&(P=y(P,T)),P=x(P),P}function u(b,j){var T;if(!b)return[[s,j]];if(!j)return[[a,b]];var N=b.length>j.length?b:j,S=b.length>j.length?j:b,E=N.indexOf(S);if(E!=-1)return T=[[s,N.substring(0,E)],[o,S],[s,N.substring(E+S.length)]],b.length>j.length&&(T[0][0]=T[2][0]=a),T;if(S.length==1)return[[a,b],[s,j]];var P=m(b,j);if(P){var O=P[0],I=P[1],k=P[2],A=P[3],M=P[4],R=l(O,k),D=l(I,A);return R.concat([[o,M]],D)}return f(b,j)}function f(b,j){for(var T=b.length,N=j.length,S=Math.ceil((T+N)/2),E=S,P=2*S,O=new Array(P),I=new Array(P),k=0;k<P;k++)O[k]=-1,I[k]=-1;O[E+1]=0,I[E+1]=0;for(var A=T-N,M=A%2!=0,R=0,D=0,q=0,F=0,$=0;$<S;$++){for(var C=-$+R;C<=$-D;C+=2){var L=E+C,z;C==-$||C!=$&&O[L-1]<O[L+1]?z=O[L+1]:z=O[L-1]+1;for(var W=z-C;z<T&&W<N&&b.charAt(z)==j.charAt(W);)z++,W++;if(O[L]=z,z>T)D+=2;else if(W>N)R+=2;else if(M){var V=E+A-C;if(V>=0&&V<P&&I[V]!=-1){var B=T-I[V];if(z>=B)return c(b,j,z,W)}}}for(var H=-$+q;H<=$-F;H+=2){var V=E+H,B;H==-$||H!=$&&I[V-1]<I[V+1]?B=I[V+1]:B=I[V-1]+1;for(var Z=B-H;B<T&&Z<N&&b.charAt(T-B-1)==j.charAt(N-Z-1);)B++,Z++;if(I[V]=B,B>T)F+=2;else if(Z>N)q+=2;else if(!M){var L=E+A-H;if(L>=0&&L<P&&O[L]!=-1){var z=O[L],W=E+z-L;if(B=T-B,z>=B)return c(b,j,z,W)}}}}return[[a,b],[s,j]]}function c(b,j,T,N){var S=b.substring(0,T),E=j.substring(0,N),P=b.substring(T),O=j.substring(N),I=l(S,E),k=l(P,O);return I.concat(k)}function d(b,j){if(!b||!j||b.charAt(0)!=j.charAt(0))return 0;for(var T=0,N=Math.min(b.length,j.length),S=N,E=0;T<S;)b.substring(E,S)==j.substring(E,S)?(T=S,E=T):N=S,S=Math.floor((N-T)/2+T);return S}function h(b,j){if(!b||!j||b.charAt(b.length-1)!=j.charAt(j.length-1))return 0;for(var T=0,N=Math.min(b.length,j.length),S=N,E=0;T<S;)b.substring(b.length-S,b.length-E)==j.substring(j.length-S,j.length-E)?(T=S,E=T):N=S,S=Math.floor((N-T)/2+T);return S}function m(b,j){var T=b.length>j.length?b:j,N=b.length>j.length?j:b;if(T.length<4||N.length*2<T.length)return null;function S(D,q,F){for(var $=D.substring(F,F+Math.floor(D.length/4)),C=-1,L="",z,W,V,B;(C=q.indexOf($,C+1))!=-1;){var H=d(D.substring(F),q.substring(C)),Z=h(D.substring(0,F),q.substring(0,C));L.length<Z+H&&(L=q.substring(C-Z,C)+q.substring(C,C+H),z=D.substring(0,F-Z),W=D.substring(F+H),V=q.substring(0,C-Z),B=q.substring(C+H))}return L.length*2>=D.length?[z,W,V,B,L]:null}var E=S(T,N,Math.ceil(T.length/4)),P=S(T,N,Math.ceil(T.length/2)),O;if(!E&&!P)return null;P?E?O=E[4].length>P[4].length?E:P:O=P:O=E;var I,k,A,M;b.length>j.length?(I=O[0],k=O[1],A=O[2],M=O[3]):(A=O[0],M=O[1],I=O[2],k=O[3]);var R=O[4];return[I,k,A,M,R]}function p(b){b.push([o,""]);for(var j=0,T=0,N=0,S="",E="",P;j<b.length;)switch(b[j][0]){case s:N++,E+=b[j][1],j++;break;case a:T++,S+=b[j][1],j++;break;case o:T+N>1?(T!==0&&N!==0&&(P=d(E,S),P!==0&&(j-T-N>0&&b[j-T-N-1][0]==o?b[j-T-N-1][1]+=E.substring(0,P):(b.splice(0,0,[o,E.substring(0,P)]),j++),E=E.substring(P),S=S.substring(P)),P=h(E,S),P!==0&&(b[j][1]=E.substring(E.length-P)+b[j][1],E=E.substring(0,E.length-P),S=S.substring(0,S.length-P))),T===0?b.splice(j-N,T+N,[s,E]):N===0?b.splice(j-T,T+N,[a,S]):b.splice(j-T-N,T+N,[a,S],[s,E]),j=j-T-N+(T?1:0)+(N?1:0)+1):j!==0&&b[j-1][0]==o?(b[j-1][1]+=b[j][1],b.splice(j,1)):j++,N=0,T=0,S="",E="";break}b[b.length-1][1]===""&&b.pop();var O=!1;for(j=1;j<b.length-1;)b[j-1][0]==o&&b[j+1][0]==o&&(b[j][1].substring(b[j][1].length-b[j-1][1].length)==b[j-1][1]?(b[j][1]=b[j-1][1]+b[j][1].substring(0,b[j][1].length-b[j-1][1].length),b[j+1][1]=b[j-1][1]+b[j+1][1],b.splice(j-1,1),O=!0):b[j][1].substring(0,b[j+1][1].length)==b[j+1][1]&&(b[j-1][1]+=b[j+1][1],b[j][1]=b[j][1].substring(b[j+1][1].length)+b[j+1][1],b.splice(j+1,1),O=!0)),j++;O&&p(b)}var g=l;g.INSERT=s,g.DELETE=a,g.EQUAL=o,r.exports=g;function v(b,j){if(j===0)return[o,b];for(var T=0,N=0;N<b.length;N++){var S=b[N];if(S[0]===a||S[0]===o){var E=T+S[1].length;if(j===E)return[N+1,b];if(j<E){b=b.slice();var P=j-T,O=[S[0],S[1].slice(0,P)],I=[S[0],S[1].slice(P)];return b.splice(N,1,O,I),[N+1,b]}else T=E}}throw new Error("cursor_pos is out of bounds!")}function y(b,j){var T=v(b,j),N=T[1],S=T[0],E=N[S],P=N[S+1];if(E==null)return b;if(E[0]!==o)return b;if(P!=null&&E[1]+P[1]===P[1]+E[1])return N.splice(S,2,P,E),w(N,S,2);if(P!=null&&P[1].indexOf(E[1])===0){N.splice(S,2,[P[0],E[1]],[0,E[1]]);var O=P[1].slice(E[1].length);return O.length>0&&N.splice(S+2,0,[P[0],O]),w(N,S,3)}else return b}function x(b){for(var j=!1,T=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},N=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},S=2;S<b.length;S+=1)b[S-2][0]===o&&N(b[S-2][1])&&b[S-1][0]===a&&T(b[S-1][1])&&b[S][0]===s&&T(b[S][1])&&(j=!0,b[S-1][1]=b[S-2][1].slice(-1)+b[S-1][1],b[S][1]=b[S-2][1].slice(-1)+b[S][1],b[S-2][1]=b[S-2][1].slice(0,-1));if(!j)return b;for(var E=[],S=0;S<b.length;S+=1)b[S][1].length>0&&E.push(b[S]);return E}function w(b,j,T){for(var N=j+T-1;N>=0&&N>=j-1;N--)if(N+1<b.length){var S=b[N],E=b[N+1];S[0]===E[1]&&b.splice(N,2,[S[0],S[1]+E[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(s){var o=[];for(var l in s)o.push(l);return o}},function(r,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=a?s:o,n.supported=s;function s(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var a=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function l(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function u(){this._events=new o,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)a.call(d,h)&&c.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},u.prototype.listeners=function(c,d){var h=s?s+c:c,m=this._events[h];if(d)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},u.prototype.emit=function(c,d,h,m,p,g){var v=s?s+c:c;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,m),!0;case 5:return y.fn.call(y.context,d,h,m,p),!0;case 6:return y.fn.call(y.context,d,h,m,p,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,T;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,h);break;case 4:y[b].fn.call(y[b].context,d,h,m);break;default:if(!w)for(T=1,w=new Array(x-1);T<x;T++)w[T-1]=arguments[T];y[b].fn.apply(y[b].context,w)}}return!0},u.prototype.on=function(c,d,h){var m=new l(d,h||this),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.once=function(c,d,h){var m=new l(d,h||this,!0),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},u.prototype.removeListener=function(c,d,h,m){var p=s?s+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==d||m&&!g[v].once||h&&g[v].context!==h)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},u.prototype.removeAllListeners=function(c){var d;return c?(d=s?s+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=s,u.EventEmitter=u,typeof r<"u"&&(r.exports=u)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(X,J){var ae=[],re=!0,le=!1,oe=void 0;try{for(var ve=X[Symbol.iterator](),pe;!(re=(pe=ve.next()).done)&&(ae.push(pe.value),!(J&&ae.length===J));re=!0);}catch(je){le=!0,oe=je}finally{try{!re&&ve.return&&ve.return()}finally{if(le)throw oe}}return ae}return function(X,J){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return G(X,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(X,J){for(var ae=0;ae<J.length;ae++){var re=J[ae];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(X,re.key,re)}}return function(X,J,ae){return J&&G(X.prototype,J),ae&&G(X,ae),X}}(),u=a(3),f=I(u),c=a(2),d=I(c),h=a(0),m=I(h),p=a(5),g=I(p),v=a(10),y=I(v),x=a(9),w=I(x),b=a(36),j=a(37),T=a(13),N=I(T),S=a(26),E=a(38),P=a(39),O=a(40);function I(G){return G&&G.__esModule?G:{default:G}}function k(G,X,J){return X in G?Object.defineProperty(G,X,{value:J,enumerable:!0,configurable:!0,writable:!0}):G[X]=J,G}function A(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}function M(G,X){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:G}function R(G,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(G,X):G.__proto__=X)}var D=(0,y.default)("quill:clipboard"),q="__ql-matcher",F=[[Node.TEXT_NODE,K],[Node.TEXT_NODE,ce],["br",ne],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,Y],["li",he],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",te]],$=[b.AlignAttribute,E.DirectionAttribute].reduce(function(G,X){return G[X.keyName]=X,G},{}),C=[b.AlignStyle,j.BackgroundStyle,S.ColorStyle,E.DirectionStyle,P.FontStyle,O.SizeStyle].reduce(function(G,X){return G[X.keyName]=X,G},{}),L=function(G){R(X,G);function X(J,ae){A(this,X);var re=M(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,J,ae));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],F.concat(re.options.matchers).forEach(function(le){var oe=o(le,2),ve=oe[0],pe=oe[1];!ae.matchVisual&&pe===ge||re.addMatcher(ve,pe)}),re}return l(X,[{key:"addMatcher",value:function(ae,re){this.matchers.push([ae,re])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[N.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new d.default().insert(le,k({},N.default.blotName,re[N.default.blotName]))}var oe=this.prepareMatching(),ve=o(oe,2),pe=ve[0],je=ve[1],be=H(this.container,pe,je);return V(be,`
`)&&be.ops[be.ops.length-1].attributes==null&&(be=be.compose(new d.default().retain(be.length()-1).delete(1))),D.log("convert",this.container.innerHTML,be),this.container.innerHTML="",be}},{key:"dangerouslyPasteHTML",value:function(ae,re){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),re),this.quill.setSelection(0,g.default.sources.SILENT);else{var oe=this.convert(re);this.quill.updateContents(new d.default().retain(ae).concat(oe),le),this.quill.setSelection(ae+oe.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var re=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),oe=new d.default().retain(le.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){oe=oe.concat(re.convert()).delete(le.length),re.quill.updateContents(oe,g.default.sources.USER),re.quill.setSelection(oe.length()-le.length,g.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=ve,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,re=[],le=[];return this.matchers.forEach(function(oe){var ve=o(oe,2),pe=ve[0],je=ve[1];switch(pe){case Node.TEXT_NODE:le.push(je);break;case Node.ELEMENT_NODE:re.push(je);break;default:[].forEach.call(ae.container.querySelectorAll(pe),function(be){be[q]=be[q]||[],be[q].push(je)});break}}),[re,le]}}]),X}(w.default);L.DEFAULTS={matchers:[],matchVisual:!0};function z(G,X,J){return(typeof X>"u"?"undefined":s(X))==="object"?Object.keys(X).reduce(function(ae,re){return z(ae,re,X[re])},G):G.reduce(function(ae,re){return re.attributes&&re.attributes[X]?ae.push(re):ae.insert(re.insert,(0,f.default)({},k({},X,J),re.attributes))},new d.default)}function W(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var X="__ql-computed-style";return G[X]||(G[X]=window.getComputedStyle(G))}function V(G,X){for(var J="",ae=G.ops.length-1;ae>=0&&J.length<X.length;--ae){var re=G.ops[ae];if(typeof re.insert!="string")break;J=re.insert+J}return J.slice(-1*X.length)===X}function B(G){if(G.childNodes.length===0)return!1;var X=W(G);return["block","list-item"].indexOf(X.display)>-1}function H(G,X,J){return G.nodeType===G.TEXT_NODE?J.reduce(function(ae,re){return re(G,ae)},new d.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ae,re){var le=H(re,X,J);return re.nodeType===G.ELEMENT_NODE&&(le=X.reduce(function(oe,ve){return ve(re,oe)},le),le=(re[q]||[]).reduce(function(oe,ve){return ve(re,oe)},le)),ae.concat(le)},new d.default):new d.default}function Z(G,X,J){return z(J,G,!0)}function U(G,X){var J=m.default.Attributor.Attribute.keys(G),ae=m.default.Attributor.Class.keys(G),re=m.default.Attributor.Style.keys(G),le={};return J.concat(ae).concat(re).forEach(function(oe){var ve=m.default.query(oe,m.default.Scope.ATTRIBUTE);ve!=null&&(le[ve.attrName]=ve.value(G),le[ve.attrName])||(ve=$[oe],ve!=null&&(ve.attrName===oe||ve.keyName===oe)&&(le[ve.attrName]=ve.value(G)||void 0),ve=C[oe],ve!=null&&(ve.attrName===oe||ve.keyName===oe)&&(ve=C[oe],le[ve.attrName]=ve.value(G)||void 0))}),Object.keys(le).length>0&&(X=z(X,le)),X}function Q(G,X){var J=m.default.query(G);if(J==null)return X;if(J.prototype instanceof m.default.Embed){var ae={},re=J.value(G);re!=null&&(ae[J.blotName]=re,X=new d.default().insert(ae,J.formats(G)))}else typeof J.formats=="function"&&(X=z(X,J.blotName,J.formats(G)));return X}function ne(G,X){return V(X,`
`)||X.insert(`
`),X}function te(){return new d.default}function he(G,X){var J=m.default.query(G);if(J==null||J.blotName!=="list-item"||!V(X,`
`))return X;for(var ae=-1,re=G.parentNode;!re.classList.contains("ql-clipboard");)(m.default.query(re)||{}).blotName==="list"&&(ae+=1),re=re.parentNode;return ae<=0?X:X.compose(new d.default().retain(X.length()-1).retain(1,{indent:ae}))}function ce(G,X){return V(X,`
`)||(B(G)||X.length()>0&&G.nextSibling&&B(G.nextSibling))&&X.insert(`
`),X}function ge(G,X){if(B(G)&&G.nextElementSibling!=null&&!V(X,`

`)){var J=G.offsetHeight+parseFloat(W(G).marginTop)+parseFloat(W(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+J*1.5&&X.insert(`
`)}return X}function Y(G,X){var J={},ae=G.style||{};return ae.fontStyle&&W(G).fontStyle==="italic"&&(J.italic=!0),ae.fontWeight&&(W(G).fontWeight.startsWith("bold")||parseInt(W(G).fontWeight)>=700)&&(J.bold=!0),Object.keys(J).length>0&&(X=z(X,J)),parseFloat(ae.textIndent||0)>0&&(X=new d.default().insert("	").concat(X)),X}function K(G,X){var J=G.data;if(G.parentNode.tagName==="O:P")return X.insert(J.trim());if(J.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return X;if(!W(G.parentNode).whiteSpace.startsWith("pre")){var ae=function(le,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&le?" ":oe};J=J.replace(/\r\n/g," ").replace(/\n/g," "),J=J.replace(/\s\s+/g,ae.bind(ae,!0)),(G.previousSibling==null&&B(G.parentNode)||G.previousSibling!=null&&B(G.previousSibling))&&(J=J.replace(/^\s+/,ae.bind(ae,!1))),(G.nextSibling==null&&B(G.parentNode)||G.nextSibling!=null&&B(G.nextSibling))&&(J=J.replace(/\s+$/,ae.bind(ae,!1)))}return X.insert(J)}n.default=L,n.matchAttributor=U,n.matchBlot=Q,n.matchNewline=ce,n.matchSpacing=ge,n.matchText=K},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(y){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(u.default);m.blotName="bold",m.tagName=["STRONG","B"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var s=function(){function O(I,k){var A=[],M=!0,R=!1,D=void 0;try{for(var q=I[Symbol.iterator](),F;!(M=(F=q.next()).done)&&(A.push(F.value),!(k&&A.length===k));M=!0);}catch($){R=!0,D=$}finally{try{!M&&q.return&&q.return()}finally{if(R)throw D}}return A}return function(I,k){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(I,k){for(var A=0;A<k.length;A++){var M=k[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,k,A){return k&&O(I.prototype,k),A&&O(I,A),I}}(),l=a(2),u=y(l),f=a(0),c=y(f),d=a(5),h=y(d),m=a(10),p=y(m),g=a(9),v=y(g);function y(O){return O&&O.__esModule?O:{default:O}}function x(O,I,k){return I in O?Object.defineProperty(O,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[I]=k,O}function w(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function b(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function j(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var T=(0,p.default)("quill:toolbar"),N=function(O){j(I,O);function I(k,A){w(this,I);var M=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,A));if(Array.isArray(M.options.container)){var R=document.createElement("div");E(R,M.options.container),k.container.parentNode.insertBefore(R,k.container),M.container=R}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var D;return D=T.error("Container required for toolbar",M.options),b(M,D)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(q){M.addHandler(q,M.options.handlers[q])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(q){M.attach(q)}),M.quill.on(h.default.events.EDITOR_CHANGE,function(q,F){q===h.default.events.SELECTION_CHANGE&&M.update(F)}),M.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var q=M.quill.selection.getRange(),F=s(q,1),$=F[0];M.update($)}),M}return o(I,[{key:"addHandler",value:function(A,M){this.handlers[A]=M}},{key:"attach",value:function(A){var M=this,R=[].find.call(A.classList,function(q){return q.indexOf("ql-")===0});if(R){if(R=R.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){T.warn("ignoring attaching to disabled format",R,A);return}if(c.default.query(R)==null){T.warn("ignoring attaching to nonexistent format",R,A);return}}var D=A.tagName==="SELECT"?"change":"click";A.addEventListener(D,function(q){var F=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var $=A.options[A.selectedIndex];$.hasAttribute("selected")?F=!1:F=$.value||!1}else A.classList.contains("ql-active")?F=!1:F=A.value||!A.hasAttribute("value"),q.preventDefault();M.quill.focus();var C=M.quill.selection.getRange(),L=s(C,1),z=L[0];if(M.handlers[R]!=null)M.handlers[R].call(M,F);else if(c.default.query(R).prototype instanceof c.default.Embed){if(F=prompt("Enter "+R),!F)return;M.quill.updateContents(new u.default().retain(z.index).delete(z.length).insert(x({},R,F)),h.default.sources.USER)}else M.quill.format(R,F,h.default.sources.USER);M.update(z)}),this.controls.push([R,A])}}},{key:"update",value:function(A){var M=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(R){var D=s(R,2),q=D[0],F=D[1];if(F.tagName==="SELECT"){var $=void 0;if(A==null)$=null;else if(M[q]==null)$=F.querySelector("option[selected]");else if(!Array.isArray(M[q])){var C=M[q];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),$=F.querySelector('option[value="'+C+'"]')}$==null?(F.value="",F.selectedIndex=-1):$.selected=!0}else if(A==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var L=M[q]===F.getAttribute("value")||M[q]!=null&&M[q].toString()===F.getAttribute("value")||M[q]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",L)}else F.classList.toggle("ql-active",M[q]!=null)})}}]),I}(v.default);N.DEFAULTS={};function S(O,I,k){var A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("ql-"+I),k!=null&&(A.value=k),O.appendChild(A)}function E(O,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(k){var A=document.createElement("span");A.classList.add("ql-formats"),k.forEach(function(M){if(typeof M=="string")S(A,M);else{var R=Object.keys(M)[0],D=M[R];Array.isArray(D)?P(A,R,D):S(A,R,D)}}),O.appendChild(A)})}function P(O,I,k){var A=document.createElement("select");A.classList.add("ql-"+I),k.forEach(function(M){var R=document.createElement("option");M!==!1?R.setAttribute("value",M):R.setAttribute("selected","selected"),A.appendChild(R)}),O.appendChild(A)}N.DEFAULTS={container:null,handlers:{clean:function(){var I=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(M){c.default.query(M,c.default.Scope.INLINE)!=null&&I.quill.format(M,!1)})}else this.quill.removeFormat(k,h.default.sources.USER)},direction:function(I){var k=this.quill.getFormat().align;I==="rtl"&&k==null?this.quill.format("align","right",h.default.sources.USER):!I&&k==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var k=this.quill.getSelection(),A=this.quill.getFormat(k),M=parseInt(A.indent||0);if(I==="+1"||I==="-1"){var R=I==="+1"?1:-1;A.direction==="rtl"&&(R*=-1),this.quill.format("indent",M+R,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var k=this.quill.getSelection(),A=this.quill.getFormat(k);I==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},n.default=N,n.addControls=E},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.label.innerHTML=y,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(y){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,y);return x.style.backgroundColor=y.getAttribute("value")||"",x}},{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x);var w=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=b:w.style.fill=b)}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(28),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(v,y){c(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(y,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,y,x),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),g}(u.default);n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function u(f,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,c,d){return c&&u(f.prototype,c),d&&u(f,d),f}}();function o(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(f,c){var d=this;o(this,u),this.quill=f,this.boundsContainer=c||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>m.right&&(g=m.right-p.right,this.root.style.left=d+g+"px"),p.left<m.left&&(g=m.left-p.left,this.root.style.left=d+g+"px"),p.bottom>m.bottom){var v=p.bottom-p.top,y=c.bottom-c.top+v;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function P(O,I){var k=[],A=!0,M=!1,R=void 0;try{for(var D=O[Symbol.iterator](),q;!(A=(q=D.next()).done)&&(k.push(q.value),!(I&&k.length===I));A=!0);}catch(F){M=!0,R=F}finally{try{!A&&D.return&&D.return()}finally{if(M)throw R}}return k}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return P(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function P(O,I,k){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,I);if(A===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:P(M,I,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},l=function(){function P(O,I){for(var k=0;k<I.length;k++){var A=I[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,k){return I&&P(O.prototype,I),k&&P(O,k),O}}(),u=a(3),f=w(u),c=a(8),d=w(c),h=a(43),m=w(h),p=a(27),g=w(p),v=a(15),y=a(41),x=w(y);function w(P){return P&&P.__esModule?P:{default:P}}function b(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function j(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function T(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(P){T(O,P);function O(I,k){b(this,O),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=N);var A=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));return A.quill.container.classList.add("ql-snow"),A}return l(O,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),x.default),this.tooltip=new E(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,M){k.handlers.link.call(k,!M.format.link)})}}]),O}(m.default);S.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var I=this.quill.getSelection();if(I==null||I.length==0)return;var k=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var A=this.quill.theme.tooltip;A.edit("link",k)}else this.quill.format("link",!1)}}}}});var E=function(P){T(O,P);function O(I,k){b(this,O);var A=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,k));return A.preview=A.root.querySelector("a.ql-preview"),A}return l(O,[{key:"listen",value:function(){var k=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(k.linkRange!=null){var M=k.linkRange;k.restoreFocus(),k.quill.formatText(M,"link",!1,d.default.sources.USER),delete k.linkRange}A.preventDefault(),k.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(A,M,R){if(A!=null){if(A.length===0&&R===d.default.sources.USER){var D=k.quill.scroll.descendant(g.default,A.index),q=s(D,2),F=q[0],$=q[1];if(F!=null){k.linkRange=new v.Range(A.index-$,F.length());var C=g.default.formats(F.domNode);k.preview.textContent=C,k.preview.setAttribute("href",C),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(h.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=S},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(29),o=re(s),l=a(36),u=a(38),f=a(64),c=a(65),d=re(c),h=a(66),m=re(h),p=a(67),g=re(p),v=a(37),y=a(26),x=a(39),w=a(40),b=a(56),j=re(b),T=a(68),N=re(T),S=a(27),E=re(S),P=a(69),O=re(P),I=a(70),k=re(I),A=a(71),M=re(A),R=a(72),D=re(R),q=a(73),F=re(q),$=a(13),C=re($),L=a(74),z=re(L),W=a(75),V=re(W),B=a(57),H=re(B),Z=a(41),U=re(Z),Q=a(28),ne=re(Q),te=a(59),he=re(te),ce=a(60),ge=re(ce),Y=a(61),K=re(Y),G=a(108),X=re(G),J=a(62),ae=re(J);function re(le){return le&&le.__esModule?le:{default:le}}o.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":C.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":j.default,"formats/code":$.Code,"formats/italic":N.default,"formats/link":E.default,"formats/script":O.default,"formats/strike":k.default,"formats/underline":M.default,"formats/image":D.default,"formats/video":F.default,"formats/list/item":p.ListItem,"modules/formula":z.default,"modules/syntax":V.default,"modules/toolbar":H.default,"themes/bubble":X.default,"themes/snow":ae.default,"ui/icons":U.default,"ui/picker":ne.default,"ui/icon-picker":ge.default,"ui/color-picker":he.default,"ui/tooltip":K.default},!0),n.default=o.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var s=function(){function g(v,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(v,w.key,w)}}return function(v,y,x){return y&&g(v.prototype,y),x&&g(v,x),v}}(),o=function g(v,y,x){v===null&&(v=Function.prototype);var w=Object.getOwnPropertyDescriptor(v,y);if(w===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,y,x)}else{if("value"in w)return w.value;var j=w.get;return j===void 0?void 0:j.call(x)}},l=a(0),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m=function(g){h(v,g);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var b=this.value(x)||0;w=w==="+1"?b+1:b-1}return w===0?(this.remove(x),!0):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,w)||o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,x))||void 0}}]),v}(u.default.Attributor.Class),p=new m("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(4),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function m(p,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,v){return g&&m(p.prototype,g),v&&m(p,v),p}}(),o=a(4),l=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){d(p,m);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),p}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var s=function(){function b(j,T){for(var N=0;N<T.length;N++){var S=T[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,T,N){return T&&b(j.prototype,T),N&&b(j,N),j}}(),o=function b(j,T,N){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,T);if(S===void 0){var E=Object.getPrototypeOf(j);return E===null?void 0:b(E,T,N)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(N)}},l=a(0),u=m(l),f=a(4),c=m(f),d=a(25),h=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,j,T){return j in b?Object.defineProperty(b,j,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[j]=T,b}function g(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")}function v(b,j){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:b}function y(b,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);b.prototype=Object.create(j&&j.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(b,j):b.__proto__=j)}var x=function(b){y(j,b);function j(){return g(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return s(j,[{key:"format",value:function(N,S){N===w.blotName&&!S?this.replaceWith(u.default.create(this.statics.scope)):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,S){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,S),this):(this.parent.unwrap(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,N,S))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:o(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,N)}}]),j}(c.default);x.blotName="list-item",x.tagName="LI";var w=function(b){y(j,b),s(j,null,[{key:"create",value:function(N){var S=N==="ordered"?"OL":"UL",E=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,S);return(N==="checked"||N==="unchecked")&&E.setAttribute("data-checked",N==="checked"),E}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(T){g(this,j);var N=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,T)),S=function(P){if(P.target.parentNode===T){var O=N.statics.formats(T),I=u.default.find(P.target);O==="checked"?I.format("list","unchecked"):O==="unchecked"&&I.format("list","checked")}};return T.addEventListener("touchstart",S),T.addEventListener("mousedown",S),N}return s(j,[{key:"format",value:function(N,S){this.children.length>0&&this.children.tail.format(N,S)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,S){if(N instanceof x)o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,N,S);else{var E=S==null?this.length():S.offset(this),P=this.split(E);P.parent.insertBefore(N,P)}}},{key:"optimize",value:function(N){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var S=u.default.create(this.statics.defaultChild);N.moveChildren(S),this.appendChild(S)}o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,N)}}]),j}(h.default);w.blotName="list",w.scope=u.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],n.ListItem=x,n.default=w},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(56),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),o=function p(g,v,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,v);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,v,y)}else{if("value"in x)return x.value;var b=x.get;return b===void 0?void 0:b.call(y)}},l=a(6),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){h(g,p);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),g}(u.default);m.blotName="script",m.tagName=["SUB","SUP"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=a(6),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function c(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(h){c(m,h);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(0),u=c(l),f=a(27);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["alt","height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,f.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(u.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function v(y,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,x,w){return x&&v(y.prototype,x),w&&v(y,w),y}}(),o=function v(y,x,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,x);if(b===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:v(j,x,w)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(w)}},l=a(4),u=a(27),f=c(u);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var p=["height","width"],g=function(v){m(y,v);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(w,b){p.indexOf(w)>-1?b?this.domNode.setAttribute(w,b):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b)}}],[{key:"create",value:function(w){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(w)),b}},{key:"formats",value:function(w){return p.reduce(function(b,j){return w.hasAttribute(j)&&(b[j]=w.getAttribute(j)),b},{})}},{key:"sanitize",value:function(w){return f.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var s=function(){function w(b,j){for(var T=0;T<j.length;T++){var N=j[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,j,T){return j&&w(b.prototype,j),T&&w(b,T),b}}(),o=function w(b,j,T){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,j);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,j,T)}else{if("value"in N)return N.value;var E=N.get;return E===void 0?void 0:E.call(T)}},l=a(35),u=m(l),f=a(5),c=m(f),d=a(9),h=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function g(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function v(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){v(b,w);function b(){return p(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,null,[{key:"create",value:function(T){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",T)),N}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),b}(u.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var x=function(w){v(b,w),s(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){p(this,b);var j=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return b}(h.default);n.FormulaBlot=y,n.default=x},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var s=function(){function T(N,S){for(var E=0;E<S.length;E++){var P=S[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,S,E){return S&&T(N.prototype,S),E&&T(N,E),N}}(),o=function T(N,S,E){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,S);if(P===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:T(O,S,E)}else{if("value"in P)return P.value;var I=P.get;return I===void 0?void 0:I.call(E)}},l=a(0),u=g(l),f=a(5),c=g(f),d=a(9),h=g(d),m=a(13),p=g(m);function g(T){return T&&T.__esModule?T:{default:T}}function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function y(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function x(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var w=function(T){x(N,T);function N(){return v(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"replaceWith",value:function(E){this.domNode.textContent=this.domNode.textContent,this.attach(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,E)}},{key:"highlight",value:function(E){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=E(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),N}(p.default);w.className="ql-syntax";var b=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),j=function(T){x(N,T),s(N,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(w,!0)}}]);function N(S,E){v(this,N);var P=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,S,E));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){P.highlight(),O=null},P.options.interval)}),P.highlight(),P}return s(N,[{key:"highlight",value:function(){var E=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(O){O.highlight(E.options.highlight)}),this.quill.update(c.default.sources.SILENT),P!=null&&this.quill.setSelection(P,c.default.sources.SILENT)}}}]),N}(h.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var N=window.hljs.highlightAuto(T);return N.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=b,n.default=j},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var s=function N(S,E,P){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,E);if(O===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:N(I,E,P)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(P)}},o=function(){function N(S,E){for(var P=0;P<E.length;P++){var O=E[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,E,P){return E&&N(S.prototype,E),P&&N(S,P),S}}(),l=a(3),u=v(l),f=a(8),c=v(f),d=a(43),h=v(d),m=a(15),p=a(41),g=v(p);function v(N){return N&&N.__esModule?N:{default:N}}function y(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function x(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function w(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(N){w(S,N);function S(E,P){y(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=b);var O=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,P));return O.quill.container.classList.add("ql-bubble"),O}return o(S,[{key:"extendToolbar",value:function(P){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default)}}]),S}(h.default);j.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(N){w(S,N);function S(E,P){y(this,S);var O=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,P));return O.quill.on(c.default.events.EDITOR_CHANGE,function(I,k,A,M){if(I===c.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&M===c.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var R=O.quill.getLines(k.index,k.length);if(R.length===1)O.position(O.quill.getBounds(k));else{var D=R[R.length-1],q=O.quill.getIndex(D),F=Math.min(D.length()-1,k.index+k.length-q),$=O.quill.getBounds(new m.Range(q,F));O.position($)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return o(S,[{key:"listen",value:function(){var P=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var O=P.quill.getSelection();O!=null&&P.position(P.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var O=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,P),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",O===0)return O;I.style.marginLeft=-1*O-I.offsetWidth/2+"px"}}]),S}(d.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=T,n.default=j},function(r,n,a){r.exports=a(63)}]).default})})(ky);var p5=ky.exports,g5=Mt&&Mt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zs=Mt&&Mt.__assign||function(){return zs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},zs.apply(this,arguments)},v5=Mt&&Mt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],o=0,l=s.length;o<l;o++,a++)n[a]=s[o];return n},Xo=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},cr=Xo(_),y5=Xo(vd),Ra=Xo(m5),Pm=Xo(p5),x5=function(e){g5(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(s,o,l,u){var f,c,d,h;s==="text-change"?(c=(f=n).onEditorChangeText)===null||c===void 0||c.call(f,n.editor.root.innerHTML,o,u,n.unprivilegedEditor):s==="selection-change"&&((h=(d=n).onEditorChangeSelection)===null||h===void 0||h.call(d,o,u,n.unprivilegedEditor))};var a=n.isControlled()?r.value:r.defaultValue;return n.value=a??"",n}return t.prototype.validateProps=function(r){var n;if(cr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(cr.default.Children.count(r.children)){var a=cr.default.Children.only(r.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var a=this,s;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(s=r.value,s??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),v5(this.cleanProps,this.dirtyProps).some(function(u){return!Ra.default(r[u],a.props[u])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(a){return!Ra.default(r[a],n.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(r)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,s=l.delta,u=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(s),Am(function(){return a.setEditorSelection(f,u)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var a=new Pm.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Ra.default(r.ops,n.ops):Ra.default(r,n)},t.prototype.setEditorContents=function(r,n){var a=this;this.value=n;var s=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Am(function(){return a.setEditorSelection(r,s)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var a=r.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var a,s;!((s=(a=r)===null||a===void 0?void 0:a.scroll)===null||s===void 0)&&s.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=y5.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,a=n.children,s=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(u){r.editingArea=u}};return cr.default.Children.count(a)?cr.default.cloneElement(cr.default.Children.only(a),l):s?cr.default.createElement("pre",zs({},l)):cr.default.createElement("div",zs({},l))},t.prototype.render=function(){var r;return cr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,a,s){var o,l;if(this.editor){var u=this.isDelta(this.value)?s.getContents():s.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=u,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,a,s))}},t.prototype.onEditorChangeSelection=function(r,n,a){var s,o,l,u,f,c;if(this.editor){var d=this.getEditorSelection(),h=!d&&r,m=d&&!r;Ra.default(r,d)||(this.selection=r,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,r,n,a),h?(u=(l=this.props).onFocus)===null||u===void 0||u.call(l,r,n,a):m&&((c=(f=this.props).onBlur)===null||c===void 0||c.call(f,d,n,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Pm.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(cr.default.Component);function Am(e){Promise.resolve().then(e)}var b5=x5;const Cy=Mr(b5),w5=e=>{switch(e){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},Gi=()=>{const{user:e}=Fe(),t=w5(e==null?void 0:e.role),[r,n]=_.useState([]),[a,s]=_.useState(!0),[o,l]=_.useState("grid"),[u,f]=_.useState(""),[c,d]=_.useState("all"),[h,m]=_.useState("deadline"),[p,g]=_.useState(!1),[v,y]=_.useState(null),[x,w]=_.useState({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),[b,j]=_.useState({}),[T,N]=_.useState(!1),[S,E]=_.useState({project_managers:[],developers:[],clients:[]}),[P,O]=_.useState({}),I=_.useRef(null);_.useEffect(()=>{k(),A()},[]);const k=async()=>{try{const Y=await se.get("/projects");let K=Y.data.data||Y.data;Array.isArray(K)||(K=Array.isArray(K.data)?K.data:[]),console.log("=== FULL API RESPONSE ===",Y.data);const G=K.map(J=>{const ae=Array.isArray(J.tasks)?J.tasks:[],re=ae.length>0?ae.length:J.tasks_count||0,le=ae.length>0?ae.filter(ve=>["completed","done","resolved"].includes(String(ve.status||"").toLowerCase())).length:J.completed_tasks_count||0,oe=re>0?Math.round(le/re*100):0;return console.log(`Project: "${J.name||J.title}"`,{tasks_count:J.tasks_count,completed_tasks_count:J.completed_tasks_count,totalTasks:re,completedTasks:le,calculatedProgress:oe,hasProgressField:"progress"in J,apiProgress:J.progress}),{...J,progress:oe,total_tasks:re,completed_tasks:le}}),X=J=>{var re,le;const ae=e==null?void 0:e.role;return!ae||ae==="admin"?!0:ae==="client"?J.client_id===(e==null?void 0:e.id)||((re=J.client)==null?void 0:re.id)===(e==null?void 0:e.id):ae==="project_manager"?J.project_manager_id===(e==null?void 0:e.id)||((le=J.project_manager)==null?void 0:le.id)===(e==null?void 0:e.id):ae==="developer"?(Array.isArray(J.members)?J.members:[]).some(ve=>ve.user_id===(e==null?void 0:e.id)||ve.id===(e==null?void 0:e.id)):!0};n(G.filter(X))}catch(Y){console.error("Failed to fetch projects:",Y)}finally{s(!1)}},A=async()=>{try{const Y=await se.get("/projects/users-for-assignment");E(Y.data)}catch(Y){console.error("Failed to fetch users for assignment:",Y)}},M=()=>{y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),O({}),g(!0)},R=async Y=>{var K;try{const X=(await se.get(`/projects/${Y.id}`)).data;y(X),w({title:X.title||X.name,description:X.description||"",status:X.status,project_manager_id:X.project_manager_id||"",client_id:X.client_id||"",developer_ids:((K=X.members)==null?void 0:K.map(J=>J.user_id))||[],deadline:X.deadline||"",attachments:[],existingAttachments:X.attachments||[]}),j({}),O({}),g(!0)}catch(G){console.error("Error fetching project details:",G),alert("Failed to load project details")}},D=()=>{g(!1),y(null),w({title:"",description:"",status:"planning",project_manager_id:"",client_id:"",developer_ids:[],deadline:"",attachments:[],existingAttachments:[]}),j({}),O({})},q=()=>{const Y={};return x.title.trim()||(Y.title="Project title is required"),j(Y),Object.keys(Y).length===0},F=Y=>{Array.from(Y.target.files).forEach(G=>{if(G.size>10*1024*1024){alert(`File ${G.name} is too large. Maximum size is 10MB.`);return}const X={id:Date.now()+Math.random(),file:G,name:G.name,size:G.size,type:G.type,uploaded:!1,progress:0};w(J=>({...J,attachments:[...J.attachments,X]}))}),I.current&&(I.current.value="")},$=Y=>{w(K=>({...K,attachments:K.attachments.filter(G=>G.id!==Y)}))},C=Y=>Y.startsWith("image/")?i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"})}):Y.includes("pdf")?i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}):i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})}),L=Y=>{if(Y===0)return"0 Bytes";const K=1024,G=["Bytes","KB","MB"],X=Math.floor(Math.log(Y)/Math.log(K));return Math.round(Y/Math.pow(K,X)*100)/100+" "+G[X]},z=(Y="")=>Y.split(" ").filter(Boolean).slice(0,2).map(K=>{var G;return((G=K[0])==null?void 0:G.toUpperCase())||""}).join(""),W=[{label:"All Projects",value:"all"},{label:"Current",value:"current"},{label:"Pending",value:"pending"},{label:"Completed",value:"completed"},{label:"Failed",value:"failed"}],V=(Y,K)=>{const G=Y.status;return K==="all"?!0:K==="current"?["in_progress"].includes(G):K==="pending"?["planning","review","on_hold"].includes(G):K==="completed"?G==="completed":K==="failed"?["cancelled","failed"].includes(G):G===K},B=Y=>r.filter(K=>V(K,Y)).length,H=Y=>{switch(Y){case"completed":return"bg-emerald-50 text-emerald-700 border border-emerald-200";case"in_progress":return"bg-blue-50 text-blue-700 border border-blue-200";case"planning":case"review":return"bg-amber-50 text-amber-700 border border-amber-200";case"on_hold":return"bg-gray-50 text-gray-700 border border-gray-200";case"cancelled":case"failed":return"bg-rose-50 text-rose-700 border border-rose-200";default:return"bg-purple-50 text-purple-700 border border-purple-200"}},Z=async Y=>{var K,G;if(Y.preventDefault(),!!q()){N(!0);try{let X={...x};delete X.attachments;let J;v?J=await se.put(`/projects/${v.id}`,X):J=await se.post("/projects",X);const ae=((K=J.data.data)==null?void 0:K.id)||J.data.id;if(x.attachments&&x.attachments.length>0){console.log("Starting file uploads, count:",x.attachments.length);for(const re of x.attachments)if(console.log("Processing attachment:",re.name,"Has file:",!!re.file),re.file&&!re.uploaded){const le=new FormData;le.append("file",re.file),le.append("project_id",ae),le.append("file_name",re.name),console.log("Uploading file:",re.name,"to project:",ae);try{const oe=await se.post("/projects/upload-attachment",le,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ve=>{const pe=Math.round(ve.loaded*100/ve.total);O(je=>({...je,[re.id]:pe}))}});console.log("File uploaded successfully:",oe.data)}catch(oe){console.error(`Failed to upload ${re.name}:`,oe),console.error("Error response:",(G=oe.response)==null?void 0:G.data),alert(`Failed to upload file: ${re.name}`)}}}else console.log("No attachments to upload");await k(),D()}catch(X){console.error("Failed to save project:",X),j({submit:"Failed to save project. Please try again."})}finally{N(!1)}}},[U,Q]=_.useState({show:!1,projectId:null,projectTitle:""}),ne=Y=>{Q({show:!0,projectId:Y.id,projectTitle:Y.title||Y.name})},te=()=>{Q({show:!1,projectId:null,projectTitle:""})},he=async()=>{try{await se.delete(`/projects/${U.projectId}`),await k(),te()}catch(Y){console.error("Failed to delete project:",Y),alert("Failed to delete project. Please try again.")}},ce=r.filter(Y=>{const K=(Y.name||"").toLowerCase().includes(u.toLowerCase())||(Y.description||"").toLowerCase().includes(u.toLowerCase()),G=V(Y,c);return K&&G}),ge=[...ce].sort((Y,K)=>{if(h==="progress")return(K.progress||0)-(Y.progress||0);if(h==="deadline"){const G=Y.deadline?new Date(Y.deadline).getTime():Number.MAX_SAFE_INTEGER,X=K.deadline?new Date(K.deadline).getTime():Number.MAX_SAFE_INTEGER;return G-X}return h==="name"?(Y.name||Y.title||"").localeCompare(K.name||K.title||""):0});return a?i.jsx(rt,{}):i.jsxs("div",{className:"space-y-6",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Projects"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Manage and track all your projects"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:"rgb(89, 86, 157)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Total Projects"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:ce.length})]})]}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsxs("button",{onClick:M,className:"px-5 py-2.5 rounded-lg font-medium text-white shadow-sm hover:shadow-md hover:opacity-90 transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)",fontSize:"14px"},children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:W.map(Y=>i.jsxs("button",{onClick:()=>d(Y.value),className:`px-3 py-2 rounded-lg border transition-colors text-sm font-medium flex items-center gap-2 ${c===Y.value?"text-white border-transparent":"bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,style:c===Y.value?{background:"rgb(89, 86, 157)"}:{},children:[i.jsx("span",{children:Y.label}),i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-md font-medium ${c===Y.value?"bg-white/20":"bg-gray-100 text-gray-600"}`,children:B(Y.value)})]},Y.value))}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search projects...",value:u,onChange:Y=>f(Y.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("select",{value:h,onChange:Y=>m(Y.target.value),className:"px-3 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm bg-white",style:{minWidth:"150px"},children:[i.jsx("option",{value:"deadline",children:"Deadline"}),i.jsx("option",{value:"progress",children:"Progress"}),i.jsx("option",{value:"name",children:"Name"})]}),i.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-colors ${o==="grid"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="grid"?{background:"rgb(89, 86, 157)"}:{},title:"Grid view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>l("table"),className:`p-2 rounded-md transition-colors ${o==="table"?"text-white":"text-gray-500 hover:text-gray-700"}`,style:o==="table"?{background:"rgb(89, 86, 157)"}:{},title:"Table view",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]})]}),ce.length>0?i.jsxs(i.Fragment,{children:[o==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ge.map((Y,K)=>{var le;const G=Y.deadline?Math.ceil((new Date(Y.deadline)-new Date)/864e5):null,X=Y.deadline&&new Date(Y.deadline)<new Date,J=[];Y.project_manager&&J.push({name:Y.project_manager.name,id:Y.project_manager.id,role:"project-manager",roleLabel:"Project Manager",from:"#7c3aed",to:"#6366f1"}),Y.client&&J.push({name:Y.client.name,id:Y.client.id,role:"client",roleLabel:"Client",from:"#059669",to:"#10b981"}),Y.members&&Y.members.length>0&&Y.members.slice(0,2).forEach(oe=>{J.push({name:oe.name||oe.full_name||oe.username||"Dev",id:oe.user_id||oe.id,role:"developer",roleLabel:"Developer",from:"#111827",to:"#1f2937"})});const ae=Math.max(0,(((le=Y.members)==null?void 0:le.length)||0)-2),re=J.length+(ae>0?ae:0);return i.jsxs("div",{onClick:()=>window.location.href=`${t}/projects/${Y.id}`,className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer group",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-white shadow-sm",style:{background:"rgb(89, 86, 157)"},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Project"}),i.jsx("h3",{className:"font-semibold text-gray-900 text-sm group-hover:opacity-80 transition-opacity",children:Y.name||Y.title})]})]}),i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${H(Y.status)}`,children:Y.status.replace("_"," ").toUpperCase()})]}),Y.description&&i.jsx("div",{className:"text-xs text-gray-600 mb-3 line-clamp-2",dangerouslySetInnerHTML:{__html:Y.description}}),Y.progress!==void 0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Progress"}),i.jsxs("span",{className:"text-xs font-semibold",style:{color:"rgb(89, 86, 157)"},children:[Y.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${Y.progress||0}%`,background:"rgb(89, 86, 157)"}})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex -space-x-2",children:[J.map((oe,ve)=>i.jsx("a",{href:`${t}/users/${oe.role}/${oe.id}`,onClick:pe=>pe.stopPropagation(),title:`${oe.name} - ${oe.roleLabel}`,className:"w-8 h-8 rounded-full bg-gradient-to-br text-white text-xs font-bold flex items-center justify-center border-2 border-white shadow-sm hover:scale-105 transition-transform cursor-pointer",style:{backgroundImage:`linear-gradient(135deg, ${oe.from}, ${oe.to})`},children:z(oe.name)},`${oe.name}-${ve}`)),ae>0&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold flex items-center justify-center border-2 border-white",children:["+",ae]})]}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Team ",re]})]}),Y.deadline&&i.jsxs("div",{className:`px-2.5 py-1.5 rounded-lg border text-xs font-medium ${X?"bg-rose-50 text-rose-700 border-rose-200":G<=3?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-xs",children:X?"Overdue":G<=3?"Due soon":"Deadline"})]}),i.jsx("div",{className:"font-semibold text-xs mt-0.5",children:new Date(Y.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2.5 border-t border-gray-200",children:[i.jsxs("a",{href:`${t}/projects/${Y.id}/tasks`,onClick:oe=>oe.stopPropagation(),className:"px-3 py-1.5 rounded-lg font-medium text-white shadow-sm hover:shadow-md hover:opacity-90 flex items-center gap-1.5 transition-all text-xs",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM15 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2h-2zM5 13a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM13 11a1 1 0 10-2 0v3.586L9.707 13.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L13 14.586V11z"})}),"View Tasks"]}),i.jsxs("div",{className:"flex items-center gap-1.5",onClick:oe=>oe.preventDefault(),children:[i.jsx("button",{onClick:oe=>{oe.preventDefault(),R(Y)},className:"p-1.5 rounded-md transition-colors border",style:{color:"rgb(242, 82, 146)",borderColor:"rgb(242, 82, 146)"},title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:oe=>{oe.preventDefault(),ne(Y)},className:"p-1.5 rounded-md transition-colors border",style:{color:"rgb(242, 82, 146)",borderColor:"rgb(242, 82, 146)"},title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},Y.id)})}),o==="table"&&i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"All Projects"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Project"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Team"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Deadline"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",style:{borderColor:"#e5e7eb"},children:ge.map((Y,K)=>{const G=Y.deadline?Math.ceil((new Date(Y.deadline)-new Date)/864e5):null,X=Y.deadline&&new Date(Y.deadline)<new Date;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",onClick:()=>window.location.href=`${t}/projects/${Y.id}`,style:{cursor:"pointer"},children:[i.jsx("td",{className:"py-3 px-4 border-l-2",style:{borderLeftColor:"#59569D"},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{background:"#59569D"},children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}),i.jsx("div",{children:i.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-purple-600 transition-colors",children:Y.name||Y.title})})]})}),i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"space-y-1.5 text-sm text-gray-600",children:[Y.project_manager&&i.jsxs("a",{href:`${t}/users/project-manager/${Y.project_manager.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0z"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"PM:"}),i.jsx("span",{className:"ml-1 font-bold text-purple-700 text-sm group-hover:text-purple-900 group-hover:underline",children:Y.project_manager.name})]})]}),Y.client&&i.jsxs("a",{href:`${t}/users/client/${Y.client.id}`,onClick:J=>J.stopPropagation(),className:"flex items-center gap-1 group",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Client:"}),i.jsx("span",{className:"ml-1 font-bold text-blue-700 text-sm group-hover:text-blue-900 group-hover:underline",children:Y.client.name})]})]}),Y.members&&Y.members.length>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-medium",children:"Devs:"}),i.jsx("span",{children:Y.members.length})]})]})}),i.jsx("td",{className:"py-3 px-4 text-center",children:Y.progress!==void 0?i.jsx("div",{className:"flex flex-col items-center gap-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${Y.progress||0}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[Y.progress,"%"]})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:Y.deadline?i.jsx("div",{className:`inline-block px-3 py-1.5 rounded-full text-xs font-semibold border ${X?"bg-red-50 text-red-700 border-red-300":G<=3?"bg-yellow-50 text-yellow-700 border-yellow-300":"bg-blue-50 text-blue-700 border-blue-300"}`,children:i.jsxs("div",{className:"flex items-center gap-1",children:[X&&"",G<=3&&!X&&"",G>3&&"",i.jsx("span",{children:new Date(Y.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}):i.jsx("span",{className:"text-gray-400 text-sm",children:"No deadline"})}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-semibold ${Y.status==="completed"?"bg-green-100 text-green-700 border border-green-300":Y.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":Y.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":Y.status==="on_hold"?"bg-gray-100 text-gray-700 border border-gray-300":"bg-purple-100 text-purple-700 border border-purple-300"}`,children:Y.status.replace("_"," ").toUpperCase()})}),i.jsx("td",{className:"py-3 px-4",onClick:J=>J.stopPropagation(),children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:J=>{J.stopPropagation(),R(Y)},className:"p-1.5 rounded-lg transition-colors",style:{color:"rgb(242, 82, 146)"},title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:J=>{J.stopPropagation(),ne(Y)},className:"p-1.5 rounded-lg transition-colors",style:{color:"rgb(242, 82, 146)"},title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Y.id)})})]})})]})]}):i.jsxs("div",{className:"bg-white rounded-xl p-16 text-center shadow-sm border border-gray-100",children:[i.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-gray-500 mb-6",children:u||c!=="all"?"Try adjusting your filters":"Get started by creating your first project"}),(e==null?void 0:e.role)!=="project_manager"&&(e==null?void 0:e.role)!=="developer"&&i.jsx("button",{onClick:M,className:"px-6 py-3 rounded-xl font-medium text-white shadow-md hover:shadow-lg transition-all",style:{background:"rgb(155 2 50 / 76%)"},children:"+ Create Project"})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"px-8 py-6 border-b border-gray-200 flex-shrink-0",style:{background:"#59569D"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-white",children:v?"Edit Project":"Create New Project"}),i.jsx("button",{onClick:D,className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-8 py-6",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                  .flex-1::-webkit-scrollbar {
                    width: 6px;
                  }
                  .flex-1::-webkit-scrollbar-track {
                    background: #f1f1f1;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb {
                    background: #888;
                    border-radius: 10px;
                  }
                  .flex-1::-webkit-scrollbar-thumb:hover {
                    background: #555;
                  }
                  .ql-container {
                    min-height: 180px;
                  }
                  .ql-editor {
                    min-height: 180px;
                  }
                `}),i.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:x.title,onChange:Y=>w({...x,title:Y.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base ${b.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter project title"}),b.title&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),i.jsx(Cy,{value:x.description,onChange:Y=>w({...x,description:Y}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},placeholder:"Enter project description",theme:"snow"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Manager"}),i.jsxs("select",{value:x.project_manager_id,onChange:Y=>w({...x,project_manager_id:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Project Manager --"}),S.project_managers.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client"}),i.jsxs("select",{value:x.client_id,onChange:Y=>w({...x,client_id:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"",children:"-- Select Client --"}),S.clients.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Developers"}),x.developer_ids.length>0&&i.jsxs("div",{className:"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-purple-900",children:[x.developer_ids.length," Developer",x.developer_ids.length>1?"s":""," Selected"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Clear All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:x.developer_ids.map(Y=>{const K=S.developers.find(G=>G.id===Y);return K?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border border-purple-300 rounded-lg text-sm text-gray-700",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full"}),K.name,i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:x.developer_ids.filter(G=>G!==Y)}),className:"ml-1 text-gray-400 hover:text-red-600 transition-colors",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y):null})})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:i.jsxs("div",{className:"max-h-64 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1"},children:[i.jsx("style",{children:`
                          .max-h-64::-webkit-scrollbar {
                            width: 6px;
                          }
                          .max-h-64::-webkit-scrollbar-track {
                            background: #f1f1f1;
                          }
                          .max-h-64::-webkit-scrollbar-thumb {
                            background: #888;
                            border-radius: 10px;
                          }
                        `}),S.developers.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:S.developers.map(Y=>{const K=x.developer_ids.includes(Y.id);return i.jsxs("label",{className:`flex items-center gap-3 cursor-pointer px-4 py-3 hover:bg-purple-50 transition-colors ${K?"bg-purple-50":""}`,children:[i.jsx("input",{type:"checkbox",checked:K,onChange:G=>{G.target.checked?w({...x,developer_ids:[...x.developer_ids,Y.id]}):w({...x,developer_ids:x.developer_ids.filter(X=>X!==Y.id)})},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-sm font-medium ${K?"text-purple-900":"text-gray-700"}`,children:Y.name}),K&&i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("span",{className:"text-xs text-gray-500",children:Y.email})]})]},Y.id)})}):i.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No developers available"})]})}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:S.developers.map(Y=>Y.id)}),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"Select All"}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("button",{type:"button",onClick:()=>w({...x,developer_ids:[]}),className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Deselect All"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Attachments"}),i.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-all",onClick:()=>{var Y;return(Y=I.current)==null?void 0:Y.click()},children:[i.jsx("input",{ref:I,type:"file",multiple:!0,onChange:F,className:"hidden",accept:"*/*"}),i.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF or any file up to 10MB"})]}),x.existingAttachments&&x.existingAttachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[" ",x.existingAttachments.length," Existing File",x.existingAttachments.length>1?"s":""]})}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-blue-50 p-3 rounded-lg border border-blue-200",children:x.existingAttachments.map(Y=>i.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-3 flex items-center gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:C(Y.file_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:Y.file_name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(Y.file_size)}),i.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Uploaded"})]}),i.jsx("a",{href:`/storage/${Y.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-1.5 text-blue-600 hover:text-blue-800 transition-colors",title:"Download file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]},Y.id))})]}),x.attachments&&x.attachments.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[" ",x.attachments.length," New File",x.attachments.length>1?"s":""," to Upload"]}),i.jsx("button",{type:"button",onClick:()=>w({...x,attachments:[]}),className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Remove All"})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:x.attachments.map(Y=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center gap-3 hover:shadow-sm transition-shadow",children:[i.jsx("div",{className:"flex-shrink-0",children:C(Y.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:Y.name}),i.jsx("p",{className:"text-xs text-gray-500",children:L(Y.size)}),P[Y.id]&&P[Y.id]<100&&i.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"bg-purple-500 h-full transition-all",style:{width:`${P[Y.id]}%`}})})]}),i.jsx("button",{type:"button",onClick:()=>$(Y.id),className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-red-600 transition-colors",title:"Remove file",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deadline"}),i.jsxs("div",{className:"relative group",children:[i.jsx("style",{children:`
                          input[type="date"]::-webkit-calendar-picker-indicator {
                            opacity: 0;
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            cursor: pointer;
                          }
                          input[type="date"] {
                            appearance: none;
                            -webkit-appearance: none;
                          }
                        `}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:x.deadline,onChange:Y=>w({...x,deadline:Y.target.value}),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-base transition-all hover:border-purple-400 group-hover:shadow-md",style:{cursor:"pointer"},placeholder:"Select deadline date"}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]})]}),x.deadline&&i.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-medium text-purple-900",children:"Selected Deadline"}),i.jsx("p",{className:"text-sm font-semibold text-purple-700",children:new Date(x.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsx("button",{type:"button",onClick:()=>w({...x,deadline:""}),className:"p-1.5 hover:bg-white rounded-lg transition-colors",title:"Clear deadline",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:x.status,onChange:Y=>w({...x,status:Y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-base",children:[i.jsx("option",{value:"planning",children:"Planning"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"review",children:"Review"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"on_hold",children:"On Hold"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),b.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b.submit})]})]}),i.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:D,className:"px-8 py-3 border-2 border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-100 transition-colors text-base",disabled:T,children:"Cancel"}),i.jsx("button",{onClick:Z,className:"px-8 py-3 rounded-xl font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base",style:{background:"rgb(155 2 50 / 76%)"},disabled:T,children:T?"Saving...":v?"Update Project":"Create Project"})]})})]})}),U.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-scale-in",children:[i.jsx("div",{className:"px-6 py-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:"Delete Project"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]})}),i.jsxs("div",{className:"px-6 py-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"You are about to delete:"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"font-semibold text-gray-900",children:U.projectTitle})}),i.jsx("p",{className:"text-xs text-gray-500",children:"All associated data including tasks, members, and files will be permanently deleted."})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-end gap-3 border-t border-gray-200",children:[i.jsx("button",{onClick:te,className:"px-5 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:he,className:"px-5 py-2.5 rounded-lg font-medium text-white transition-colors",style:{background:"rgb(155 2 50 / 76%)"},children:"Delete Project"})]})]})}),i.jsx("style",{children:`
          @keyframes scale-in {
            from {
              opacity: 0;
              transform: scale(0.9);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          .animate-scale-in {
            animation: scale-in 0.2s ease-out;
          }
        `})]})},Vi=()=>{var O,I;const{projectId:e}=vi(),t=yr(),{user:r}=Fe(),[n,a]=_.useState(null),[s,o]=_.useState([]),[l,u]=_.useState(!0),[f,c]=_.useState(null),[d,h]=_.useState({total:0,completed:0,inProgress:0,pending:0,onHold:0});_.useEffect(()=>{m(),g(),p()},[e]);const m=async()=>{try{const k=await se.get(`/projects/${e}`);a(k.data.data||k.data)}catch(k){console.error("Failed to fetch project:",k)}},p=async()=>{try{const k=await se.get(`/projects/${e}/analytics`);c(k.data)}catch{c({todaysPendingTasks:0,overdueTasks:0,clientProjectCount:1,userPendingTaskRatio:0})}},g=async()=>{try{const k=await se.get(`/projects/${e}/tasks`),A=k.data.data||k.data||[];o(A);const M={total:A.length,completed:A.filter(R=>R.status==="completed").length,inProgress:A.filter(R=>R.status==="in_progress").length,pending:A.filter(R=>R.status==="pending").length,onHold:A.filter(R=>R.status==="on_hold").length};h(M)}catch(k){console.error("Failed to fetch tasks:",k)}finally{u(!1)}},v=()=>d.total===0?0:Math.round(d.completed/d.total*100),y=k=>k?new Date(k)<new Date:!1,x=k=>k?Math.ceil((new Date(k)-new Date)/(1e3*60*60*24)):null,w=(k,A)=>{const M=b();t(`${M}/chat?user=${k}&name=${encodeURIComponent(A)}`)},b=()=>{switch(r==null?void 0:r.role){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}},j=k=>({completed:"bg-green-50 text-green-800 border-green-200",in_progress:"bg-blue-50 text-blue-800 border-blue-200",pending:"bg-yellow-50 text-yellow-800 border-yellow-200",on_hold:"bg-orange-50 text-orange-800 border-orange-200",planning:"bg-gray-50 text-gray-800 border-gray-200"})[k]||"bg-gray-50 text-gray-800 border-gray-200";if(l)return i.jsx(rt,{});if(!n)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Project not found"}),i.jsx("button",{onClick:()=>t(`${b()}/projects`),className:"mt-4 px-4 py-2 text-white rounded-lg",style:{background:"rgb(155 2 50 / 76%)"},children:"Back to Projects"})]});const T=v(),N=x(n==null?void 0:n.deadline),S=y(n==null?void 0:n.deadline),E=b(),P=s.filter(k=>{if(k.status==="completed"||!k.due_date)return!1;const A=new Date(k.due_date),M=new Date;return A.toDateString()===M.toDateString()}).length;return i.jsxs("div",{className:"space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[(n==null?void 0:n.deadline)&&i.jsx("div",{className:`rounded-[12px] p-5 border-l-4 ${S?"bg-red-50 border-red-500":N<=3?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${S?"bg-red-100":N<=3?"bg-yellow-100":"bg-blue-100"}`,children:i.jsx("svg",{className:`w-6 h-6 ${S?"text-red-600":N<=3?"text-yellow-600":"text-blue-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-semibold ${S?"text-red-800":N<=3?"text-yellow-800":"text-blue-800"}`,children:S?" Deadline Overdue!":N<=3?" Deadline Approaching!":" Upcoming Deadline"}),i.jsxs("p",{className:`text-sm ${S?"text-red-700":N<=3?"text-yellow-700":"text-blue-700"}`,children:["Deadline: ",new Date(n.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!S&&` (${N} ${N===1?"day":"days"} remaining)`,S&&` (${Math.abs(N)} ${Math.abs(N)===1?"day":"days"} overdue)`]})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(Ls,{to:`${E}/projects`,className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n.name||n.title}),n.description&&i.jsx("div",{className:"text-gray-600 mt-2",style:{fontSize:"14px",lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:n.description}})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-sm font-medium text-white",style:{background:n.status==="completed"?"rgb(107, 114, 128)":"#F25292"},children:n.status.replace("_"," ")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.project_manager&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${E}/users/project-manager/${n.project_manager.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Project Manager"})]}),i.jsx("p",{className:"text-lg font-extrabold text-purple-700 mb-1 group-hover:text-purple-900 group-hover:underline",children:n.project_manager.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.project_manager.email})]}),i.jsxs("button",{onClick:k=>{k.preventDefault(),w(n.project_manager.id,n.project_manager.name)},className:"mt-2 px-3 py-1 bg-purple-100 hover:bg-purple-200 rounded text-xs text-purple-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.client&&i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("a",{href:`${E}/users/client/${n.client.id}`,className:"block group",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Client"})]}),i.jsx("p",{className:"text-lg font-extrabold text-blue-700 mb-1 group-hover:text-blue-900 group-hover:underline",children:n.client.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.client.email})]}),i.jsxs("button",{onClick:k=>{k.preventDefault(),w(n.client.id,n.client.name)},className:"mt-2 px-3 py-1 bg-blue-100 hover:bg-blue-200 rounded text-xs text-blue-700 font-semibold flex items-center gap-1 transition-colors",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})}),"Chat"]})]}),n.deadline&&i.jsxs("div",{className:`p-4 rounded-lg border-2 relative overflow-hidden ${S?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":N<=3?"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-300":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-300"}`,children:[i.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 rounded-full -mr-8 -mt-8 opacity-50 ${S?"bg-red-200":N<=3?"bg-yellow-200":"bg-blue-200"}`}),i.jsxs("p",{className:`text-xs font-bold mb-1 uppercase tracking-wide flex items-center gap-1 ${S?"text-red-700":N<=3?"text-yellow-700":"text-blue-700"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Deadline"]}),i.jsx("p",{className:`text-base font-bold ${S?"text-red-900":N<=3?"text-yellow-900":"text-blue-900"}`,children:new Date(n.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("p",{className:`text-xs mt-1 font-semibold ${S?"text-red-600":N<=3?"text-yellow-600":"text-blue-600"}`,children:S?`${Math.abs(N)} days overdue`:N<=0?"Today!":`${N} days left`})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 font-semibold mb-1",children:"TEAM SIZE"}),i.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[((O=n.members)==null?void 0:O.length)||0," Developer",(((I=n.members)==null?void 0:I.length)||0)!==1?"s":""]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(f==null?void 0:f.clientProjectCount)||1," project",((f==null?void 0:f.clientProjectCount)||1)!==1?"s":""," for this client"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Total Tasks"}),i.jsxs("svg",{className:"w-8 h-8 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-3xl font-bold",children:d.total})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-5 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Pending Tasks"}),i.jsx("svg",{className:"w-8 h-8 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold",children:d.pending+d.inProgress}),i.jsxs("p",{className:"text-xs opacity-90 mt-1",children:[P," due today"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold",children:d.completed}),i.jsxs("p",{className:"text-xs opacity-90 mt-1",children:[T,"% completion"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg p-5 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Overdue"}),i.jsx("svg",{className:"w-8 h-8 opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold",children:(f==null?void 0:f.overdueTasks)||0})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Project Progress & Analytics"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Progress"}),i.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[T,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 h-full transition-all duration-500 relative overflow-hidden",style:{width:`${T}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.completed," of ",d.total," tasks completed"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{label:"Total",value:d.total,color:"bg-gray-100 border-gray-300",textColor:"text-gray-800",icon:""},{label:"Completed",value:d.completed,color:"bg-green-50 border-green-300",textColor:"text-green-800",icon:""},{label:"In Progress",value:d.inProgress,color:"bg-blue-50 border-blue-300",textColor:"text-blue-800",icon:""},{label:"Pending",value:d.pending,color:"bg-yellow-50 border-yellow-300",textColor:"text-yellow-800",icon:""},{label:"On Hold",value:d.onHold,color:"bg-orange-50 border-orange-300",textColor:"text-orange-800",icon:""}].map((k,A)=>i.jsxs("div",{className:`${k.color} border-2 rounded-lg p-4 text-center transform hover:scale-105 transition-transform`,children:[i.jsx("p",{className:"text-2xl mb-1",children:k.icon}),i.jsx("p",{className:`text-2xl font-bold ${k.textColor}`,children:k.value}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:k.label})]},A))}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Status Distribution"]}),i.jsx("div",{className:"space-y-3",children:[{status:"completed",label:"Completed",count:d.completed,color:"bg-green-500"},{status:"in_progress",label:"In Progress",count:d.inProgress,color:"bg-blue-500"},{status:"pending",label:"Pending",count:d.pending,color:"bg-yellow-500"},{status:"on_hold",label:"On Hold",count:d.onHold,color:"bg-orange-500"}].map((k,A)=>{const M=d.total>0?k.count/d.total*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:k.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[M.toFixed(1),"%"]}),i.jsx("span",{className:"text-sm font-semibold text-gray-800 w-8 text-right",children:k.count})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:i.jsx("div",{className:`${k.color} h-full transition-all duration-500 relative`,style:{width:`${M}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white opacity-20"})})})]},A)})})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Team Member Analytics"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.members.slice(0,4).map((k,A)=>{var F,$;const M=s.filter(C=>{var L;return((L=C.assigned_to)==null?void 0:L.id)===k.user_id}),R=M.filter(C=>C.status!=="completed").length,D=M.filter(C=>C.status==="completed").length,q=M.length>0?(D/M.length*100).toFixed(1):0;return i.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:(((F=k.user)==null?void 0:F.name)||"D").charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:(($=k.user)==null?void 0:$.name)||"Developer"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[M.length," tasks"]})]})]}),i.jsx("button",{onClick:()=>{var C;return w(k.user_id,(C=k.user)==null?void 0:C.name)},className:"p-2 bg-white hover:bg-purple-50 rounded-lg transition-colors border border-gray-200",title:"Start Chat",children:i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"})})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600",children:"Pending"}),i.jsx("span",{className:"font-semibold text-yellow-600",children:R})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600",children:"Completed"}),i.jsx("span",{className:"font-semibold text-green-600",children:D})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:i.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-full rounded-full",style:{width:`${q}%`}})}),i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[q,"% completion"]})]})]},A)})})]})]})]}),P>0&&i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:i.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-yellow-800",children:[" ",P," Task",P!==1?"s":""," Due Today!"]}),i.jsx("p",{className:"text-sm text-yellow-700",children:"You have pending tasks that need attention today."})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Tasks (",s.length,")"]})}),s.length>0?i.jsx("div",{className:"divide-y divide-gray-200",children:s.map((k,A)=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:k.title||k.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.description})]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${j(k.status)}`,children:k.status.replace("_"," ")})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[k.assigned_to&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})}),k.assigned_to.name]}),k.due_date&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(k.due_date).toLocaleDateString()]}),k.priority&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),k.priority]})]})]},k.id))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-gray-500",children:"No tasks yet for this project"}),i.jsx("a",{href:`${E}/projects/${e}/tasks`,className:"mt-3 inline-block px-4 py-2 text-white rounded-lg text-sm",style:{background:"rgb(155 2 50 / 76%)"},children:"Create Task"})]})]}),n.attachments&&n.attachments.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Project Attachments"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.attachments.map(k=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:k.file_name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(k.file_size/1024).toFixed(2)," KB",k.created_at&&`  ${new Date(k.created_at).toLocaleDateString()}`]})]})]}),i.jsx("a",{href:`${se.defaults.baseURL.replace("/api","")}/${k.file_path}`,download:!0,target:"_blank",rel:"noopener noreferrer",className:"ml-3 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded transition-colors",children:"Download"})]},k.id))})]}),n.members&&n.members.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Team Members"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:n.members.map((k,A)=>{var M;return i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:k.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.email}),i.jsx("p",{className:"text-xs text-purple-600 font-medium mt-1 capitalize",children:(M=k.role)==null?void 0:M.replace("_"," ")})]},A)})})]})]})},Wi=()=>{var x,w;const{userId:e}=vi(),t=yr(),[r,n]=_.useState(null),[a,s]=_.useState([]),[o,l]=_.useState([]),[u,f]=_.useState(!0),[c,d]=_.useState({totalTasks:0,completedTasks:0,pendingTasks:0,emergencyTasks:0,onHoldTasks:0,todayCompletedTasks:0});_.useEffect(()=>{h()},[e]);const h=async()=>{try{f(!0);const b=await se.get(`/users/${e}`);n(b.data.data||b.data);const j=await se.get(`/users/${e}/projects`),T=j.data.data||j.data||[];s(T);const N=await se.get(`/users/${e}/tasks`),S=N.data.data||N.data||[];l(S);const E=new Date().toISOString().split("T")[0],P=S.filter(O=>O.status==="completed"&&O.updated_at&&O.updated_at.startsWith(E)).length;d({totalTasks:S.length,completedTasks:S.filter(O=>O.status==="completed").length,pendingTasks:S.filter(O=>O.status==="pending").length,emergencyTasks:S.filter(O=>O.priority==="high"||O.priority==="critical").length,onHoldTasks:S.filter(O=>O.status==="on_hold").length,todayCompletedTasks:P})}catch(b){console.error("Failed to fetch user data:",b)}finally{f(!1)}};if(u)return i.jsx(rt,{});if(!r)return i.jsx("div",{className:"p-6 text-center",children:"User not found"});const m=o.filter(b=>b.status==="pending"||b.status==="in_progress"),p=o.filter(b=>b.status==="completed"),g=o.filter(b=>b.priority==="high"||b.priority==="critical"),v=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=b=>{switch(b){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";case"pending":return"text-yellow-600 bg-yellow-50";case"on_hold":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 space-y-5",style:{fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{className:"bg-white rounded-[12px] p-6 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsxs("button",{onClick:()=>t(-1),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mb-3",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:(x=r.name)==null?void 0:x.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:r.name}),i.jsx("p",{className:"text-gray-600 text-sm",children:r.email}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700 capitalize",children:(w=r.role)==null?void 0:w.replace("_"," ")}),r.department&&i.jsxs("span",{className:"text-sm text-gray-600",children:["Department: ",r.department]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[i.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"TOTAL TASKS"}),i.jsx("p",{className:"text-3xl font-bold text-blue-700",children:c.totalTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[i.jsx("p",{className:"text-xs text-green-600 font-semibold mb-1",children:"COMPLETED"}),i.jsx("p",{className:"text-3xl font-bold text-green-700",children:c.completedTasks}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[Math.round(c.completedTasks/c.totalTasks*100)||0,"%"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[i.jsx("p",{className:"text-xs text-yellow-600 font-semibold mb-1",children:"PENDING"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:c.pendingTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[i.jsx("p",{className:"text-xs text-red-600 font-semibold mb-1",children:"EMERGENCY"}),i.jsx("p",{className:"text-3xl font-bold text-red-700",children:c.emergencyTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[i.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"ON HOLD"}),i.jsx("p",{className:"text-3xl font-bold text-orange-700",children:c.onHoldTasks})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[i.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"TODAY DONE"}),i.jsx("p",{className:"text-3xl font-bold text-purple-700",children:c.todayCompletedTasks})]})]}),a.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Projects (",a.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:a.map(b=>{var j,T;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.name||b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(j=b.client)==null?void 0:j.name})]}),i.jsx("span",{className:"px-3 py-1 rounded-lg text-xs font-medium text-white",style:{background:b.status==="completed"?"rgb(107, 114, 128)":"#F25292"},children:(T=b.status)==null?void 0:T.replace("_"," ")})]})},b.id)})})]}),g.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border-2 border-red-300 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-red-200 bg-red-50",children:i.jsxs("h2",{className:"text-lg font-bold text-red-800",children:[" Emergency Tasks (",g.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[g.slice(0,5).map(b=>{var j,T;return i.jsxs("div",{className:"p-4 hover:bg-red-50 transition-colors border-l-4 border-red-500",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(T=b.status)==null?void 0:T.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)}),g.length>5&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",g.length-5," more emergency tasks"]})]})]}),m.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Active Tasks (",m.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:m.map(b=>{var j,T;return i.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[b.priority&&i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${v(b.priority)}`,children:b.priority}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(b.status)}`,children:(T=b.status)==null?void 0:T.replace("_"," ")})]})]}),b.deadline&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(b.deadline).toLocaleDateString()]})]},b.id)})})]}),p.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Completed (",p.length,")"]})}),i.jsxs("div",{className:"divide-y divide-gray-200",children:[p.slice(0,10).map(b=>{var j;return i.jsx("div",{className:"p-4 opacity-75 hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-700 line-through",children:b.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:(j=b.project)==null?void 0:j.name})]}),i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700",children:" Done"})]})},b.id)}),p.length>10&&i.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["+",p.length-10," more completed tasks"]})]})]})]})},Ki=()=>{var S;const{userId:e,userType:t}=vi(),r=yr(),n=Yt(),[a,s]=_.useState(null),[o,l]=_.useState(null),[u,f]=_.useState([]),[c,d]=_.useState([]),[h,m]=_.useState(!0);_.useEffect(()=>{p(),g(),v(),(t==="developer"||t==="project-manager")&&y()},[e,t]);const p=async()=>{var E,P,O,I,k,A,M,R,D,q;try{const F=t==="client"?`/clients/${e}`:`/users/${e}`,$=await se.get(F),C=((E=$.data)==null?void 0:E.data)??$.data??{},L={id:C.id||C.user_id||e,name:C.name||((P=C.user)==null?void 0:P.name)||((O=C.client)==null?void 0:O.name)||"Unknown",email:C.email||((I=C.user)==null?void 0:I.email)||((k=C.client)==null?void 0:k.email)||"",role:t||C.role||((A=C.user)==null?void 0:A.role)||"",phone:C.phone||((M=C.user)==null?void 0:M.phone)||"",company:C.company||((R=C.client)==null?void 0:R.company)||"",profile_image:C.profile_image||((D=C.user)==null?void 0:D.profile_image)||((q=C.client)==null?void 0:q.profile_image)||""};s(L)}catch{s({id:e,name:"Unknown",email:"",role:t})}},g=async()=>{try{const E=await se.get(`/users/${e}/analytics`);l(E.data)}catch{l({totalProjects:0,activeProjects:0,completedProjects:0,totalTasks:0,completedTasks:0,pendingTasks:0,overdueTasks:0,completionRate:0})}},v=async()=>{try{let E;t==="client"?E=await se.get(`/projects?client_id=${e}`):t==="project-manager"?E=await se.get(`/projects?project_manager_id=${e}`):E=await se.get(`/projects?developer_id=${e}`),f(E.data.data||E.data||[])}catch(E){console.error("Failed to fetch projects:",E),f([])}finally{m(!1)}},y=async()=>{try{const E=await se.get(`/tasks?assigned_to=${e}`);d(E.data.data||E.data||[])}catch(E){console.error("Failed to fetch tasks:",E),d([])}},x=()=>{switch(t){case"project-manager":return{title:"Project Manager",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),gradient:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",textColor:"text-purple-600",borderColor:"border-purple-300"};case"client":return{title:"Client",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),gradient:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-300"};case"developer":return{title:"Developer",icon:i.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),gradient:"from-green-500 to-green-700",bgColor:"bg-green-50",textColor:"text-green-600",borderColor:"border-green-300"};default:return{title:"User",icon:null,gradient:"from-gray-500 to-gray-700",bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-300"}}},w=()=>{var P;const E=((P=n.pathname.split("/"))==null?void 0:P[1])||"admin";r(`/${E}/chat?userId=${e}`)};if(h)return i.jsx(rt,{});if(!a)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"User Not Found"}),i.jsx(Ls,{to:"/projects",className:"text-purple-600 hover:underline",children:"Back to Projects"})]})});const b=x(),j=(o==null?void 0:o.totalTasks)>0?(o.completedTasks/o.totalTasks*100).toFixed(1):0,T={total:u.length,completed:u.filter(E=>E.status==="completed").length,inProgress:u.filter(E=>E.status==="in_progress").length,planning:u.filter(E=>E.status==="planning").length,onHold:u.filter(E=>E.status==="on_hold").length},N={total:c.length,completed:c.filter(E=>E.status==="completed").length,inProgress:c.filter(E=>E.status==="in_progress").length,pending:c.filter(E=>E.status==="pending"||E.status==="todo").length,overdue:c.filter(E=>!E.due_date||E.status==="completed"?!1:new Date(E.due_date)<new Date).length};return T.total>0&&(T.completed/T.total*100).toFixed(1),i.jsxs("div",{className:"space-y-5 pb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ls,{to:"/projects",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[a.profile_image?i.jsx("img",{src:`/storage/${a.profile_image}`,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-lg font-semibold",style:{background:"rgb(89, 86, 157)"},children:((S=a.name)==null?void 0:S.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a.name}),i.jsx("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:b.title})]})]})]}),i.jsxs("button",{onClick:w,className:"px-4 py-2 text-white rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2 text-sm",style:{background:"rgb(89, 86, 157)"},children:[i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),i.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Chat"]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),i.jsx("span",{className:"font-medium",children:a.email})]}),a.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),i.jsx("span",{className:"font-medium",children:a.phone})]}),a.company&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"})}),i.jsx("span",{className:"font-medium",children:a.company})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg",style:{background:"rgba(89, 86, 157, 0.1)"},children:i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[T.inProgress," active"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Projects"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-green-50",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N.completed}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["of ",N.total," tasks"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completed Tasks"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-2.5 rounded-lg bg-blue-50",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N.inProgress}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[N.pending," pending"]})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:`p-2.5 rounded-lg ${N.overdue>0?"bg-red-50":"bg-purple-50"}`,children:i.jsx("svg",{className:`w-5 h-5 ${N.overdue>0?"text-red-600":"text-purple-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11 4a1 1 0 10-2 0v4a1 1 0 102 0V7zm-3 1a1 1 0 10-2 0v3a1 1 0 102 0V8zM8 9a1 1 0 00-2 0v2a1 1 0 102 0V9z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[j,"%"]}),i.jsx("p",{className:`text-xs mt-0.5 font-medium ${N.overdue>0?"text-red-600":"text-gray-500"}`,children:N.overdue>0?`${N.overdue} overdue`:"On track"})]})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-5 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),"Project Status Distribution"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[T.completed," (",T.total>0?(T.completed/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.completed/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[T.inProgress," (",T.total>0?(T.inProgress/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.inProgress/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Planning"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[T.planning," (",T.total>0?(T.planning/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.planning/T.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Hold"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[T.onHold," (",T.total>0?(T.onHold/T.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 h-3 rounded-full transition-all duration-500",style:{width:`${T.total>0?T.onHold/T.total*100:0}%`}})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Task Progress Overview"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Completed"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[N.completed," (",N.total>0?(N.completed/N.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${N.total>0?N.completed/N.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Progress"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[N.inProgress," (",N.total>0?(N.inProgress/N.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${N.total>0?N.inProgress/N.total*100:0}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pending"})]}),i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[N.pending," (",N.total>0?(N.pending/N.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 h-3 rounded-full transition-all duration-500",style:{width:`${N.total>0?N.pending/N.total*100:0}%`}})})]}),N.overdue>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overdue"})]}),i.jsxs("span",{className:"text-sm font-bold text-red-600",children:[N.overdue," (",N.total>0?(N.overdue/N.total*100).toFixed(0):0,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-500",style:{width:`${N.total>0?N.overdue/N.total*100:0}%`}})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-purple-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Projects"}),i.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.filter(E=>E.status!=="completed").length," active"]})]}),(t==="developer"||t==="project-manager")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Tasks"}),i.jsxs("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.filter(E=>E.status!=="completed").length," pending"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(E=>E.status==="completed").length}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j,"% completion"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-red-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Overdue"}),i.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:c.filter(E=>!E.due_date||E.status==="completed"?!1:new Date(E.due_date)<new Date).length})]})]}),t==="client"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-green-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Completed"}),i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(E=>E.status==="completed").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-blue-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"In Progress"}),i.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(E=>E.status==="in_progress").length})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 border-2 border-yellow-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Planning"}),i.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})]}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.filter(E=>E.status==="planning").length})]})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Task Progress"}),i.jsx("div",{className:"space-y-4",children:[{label:"Completed",count:c.filter(E=>E.status==="completed").length,color:"bg-green-500",textColor:"text-green-700"},{label:"In Progress",count:c.filter(E=>E.status==="in_progress").length,color:"bg-blue-500",textColor:"text-blue-700"},{label:"Pending",count:c.filter(E=>E.status==="pending"||E.status==="todo").length,color:"bg-yellow-500",textColor:"text-yellow-700"}].map((E,P)=>{const O=c.length>0?E.count/c.length*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:E.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`text-sm font-bold ${E.textColor}`,children:[O.toFixed(1),"%"]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",E.count,")"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`${E.color} h-full transition-all duration-500`,style:{width:`${O}%`}})})]},P)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),t==="project-manager"?"Managing Projects":t==="client"?"Client Projects":"Assigned Projects"]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length," total projects"]})]})}),u.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:u.map(E=>{var I;const P=E.deadline&&new Date(E.deadline)<new Date&&E.status!=="completed",O=E.deadline?Math.ceil((new Date(E.deadline)-new Date)/(1e3*60*60*24)):null;return i.jsxs("a",{href:`/${(a==null?void 0:a.role)==="admin"?"admin":(a==null?void 0:a.role)==="project_manager"?"manager":(a==null?void 0:a.role)==="developer"?"developer":"client"}/projects/${E.id}`,className:"group block bg-gradient-to-br from-gray-50 to-white p-5 rounded-lg border-2 border-gray-200 hover:border-purple-400 hover:shadow-lg transition-all duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-purple-600 transition-colors mb-1",children:E.name||E.title}),E.description&&i.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:E.description}})]}),i.jsx("span",{className:`ml-3 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap ${E.status==="completed"?"bg-green-100 text-green-700 border border-green-300":E.status==="in_progress"?"bg-blue-100 text-blue-700 border border-blue-300":E.status==="planning"?"bg-yellow-100 text-yellow-700 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:E.status.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[E.deadline&&i.jsxs("div",{className:`flex items-center gap-1 font-semibold ${P?"text-red-600":O<=7?"text-orange-600":"text-gray-600"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("span",{children:new Date(E.deadline).toLocaleDateString()}),P&&i.jsx("span",{className:"text-xs",children:"(Overdue)"}),!P&&O<=7&&O>0&&i.jsxs("span",{className:"text-xs",children:["(",O,"d left)"]})]}),E.members&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),i.jsxs("span",{className:"font-medium",children:[((I=E.members)==null?void 0:I.length)||0," members"]})]})]}),E.progress!==void 0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[i.jsx("span",{className:"text-gray-600 font-medium",children:"Progress"}),i.jsxs("span",{className:"font-bold text-gray-800",children:[E.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${E.progress===100?"bg-gradient-to-r from-green-500 to-green-600":E.progress>=75?"bg-gradient-to-r from-blue-500 to-blue-600":E.progress>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,style:{width:`${E.progress||0}%`}})})]})]},E.id)})}):i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No projects found"})]})]}),(t==="developer"||t==="project-manager")&&c.length>0&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsxs("svg",{className:"w-5 h-5",style:{color:"rgb(89, 86, 157)"},fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),"Recent Tasks"]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[c.length," total tasks"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Task"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Type"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Due date"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Responsible"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:c.slice(0,12).map(E=>{var A,M;const P=E.due_date&&new Date(E.due_date)<new Date&&E.status!=="completed",O=E.status==="completed"?"text-green-700 bg-green-50 border-green-200":E.status==="in_progress"?"text-blue-700 bg-blue-50 border-blue-200":"text-yellow-700 bg-yellow-50 border-yellow-200",I=E.due_date?new Date(E.due_date).toLocaleDateString():"",k=((A=E.assignee)==null?void 0:A.name)||a.name;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-900 font-medium",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-300","aria-hidden":"true"}),i.jsx("span",{className:"line-clamp-2",children:E.title||E.name})]}),E.description&&i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:E.description}})]})}),i.jsx("td",{className:"px-4 py-3 align-top",children:i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs border ${O}`,children:((M=E.status)==null?void 0:M.replace("_"," "))||"New task"})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:E.type||"Operational"}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",children:[i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:P?"text-red-600":"text-gray-700",children:I})]})}),i.jsx("td",{className:"px-4 py-3 align-top text-gray-700",children:k||""})]},E.id)})})]})}),c.length>12&&i.jsxs("div",{className:"p-4 border-t border-gray-200 text-center text-sm text-gray-600",children:["Showing 12 of ",c.length," tasks"]})]})]})},Yi=()=>{const{projectId:e}=vi(),t=yr(),{user:r}=Fe(),n=r!=null&&r.role?`/${r.role}`:"",[a,s]=_.useState(null),[o,l]=_.useState([]),[u,f]=_.useState([]),[c,d]=_.useState([]),[h,m]=_.useState(!0),[p,g]=_.useState(!1),[v,y]=_.useState(null),[x,w]=_.useState(!1),[b,j]=_.useState(null),[T,N]=_.useState({name:"",color:"#8B5CF6",order:0}),[S,E]=_.useState({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]});_.useEffect(()=>{P()},[e]);const P=async()=>{try{const[L,z,W,V]=await Promise.all([se.get(`/projects/${e}`),se.get(`/projects/${e}/workflow-statuses`),se.get(`/projects/${e}/tasks`),se.get("/projects/users-for-assignment")]);s(L.data),l(z.data),f(W.data);const B=[...V.data.project_managers||[],...V.data.developers||[]];d(B)}catch(L){console.error("Error fetching data:",L)}finally{m(!1)}},O=async L=>{const{destination:z,source:W,draggableId:V}=L;if(!z||z.droppableId===W.droppableId&&z.index===W.index)return;const B=parseInt(V),H=parseInt(z.droppableId),Z=Array.from(u),U=Z.findIndex(ne=>ne.id===B),Q=Z[U];Q.workflow_status_id=H,Q.order=z.index,f(Z);try{await se.patch(`/projects/${e}/tasks/${B}/status`,{workflow_status_id:H,order:z.index})}catch(ne){console.error("Error updating task status:",ne),P()}},I=(L=null)=>{var z,W;L?(y(L),E({title:L.title,description:L.description||"",priority:L.priority,start_date:L.start_date||"",due_date:L.due_date||"",estimated_hours:((z=L.estimated_hours)==null?void 0:z.toString())||"",labels:L.labels||[],assigned_users:((W=L.assigned_users)==null?void 0:W.map(V=>V.id))||[]})):(y(null),E({title:"",description:"",priority:"medium",start_date:"",due_date:"",estimated_hours:"",labels:[],assigned_users:[]})),g(!0)},k=()=>{g(!1),y(null)},A=async L=>{L.preventDefault();try{v?await se.put(`/projects/${e}/tasks/${v.id}`,S):await se.post(`/projects/${e}/tasks`,S),k(),P()}catch(z){console.error("Error saving task:",z),alert("Failed to save task. Please try again.")}},M=async L=>{if(window.confirm("Are you sure you want to delete this task?"))try{await se.delete(`/projects/${e}/tasks/${L}`),k(),P()}catch(z){console.error("Error deleting task:",z),alert("Failed to delete task. Please try again.")}},R=(L=null)=>{L?(j(L),N({name:L.name,color:L.color,order:L.order})):(j(null),N({name:"",color:"#8B5CF6",order:o.length})),w(!0)},D=()=>{w(!1),j(null)},q=async L=>{var z,W,V,B,H,Z,U,Q;L.preventDefault();try{if(b){const ne=await se.put(`/projects/${e}/workflow-statuses/${b.id}`,T);console.log("Update response:",ne.data)}else{const ne=await se.post(`/projects/${e}/workflow-statuses`,T);console.log("Create response:",ne.data)}D(),await P(),alert("Status saved successfully!")}catch(ne){console.error("Error saving status:",ne),console.error("Error response:",ne.response);const te=((W=(z=ne.response)==null?void 0:z.data)==null?void 0:W.message)||((B=(V=ne.response)==null?void 0:V.data)==null?void 0:B.error)||((Q=(U=(Z=(H=ne.response)==null?void 0:H.data)==null?void 0:Z.errors)==null?void 0:U.color)==null?void 0:Q[0])||"Failed to save status. Please try again.";alert("Error: "+te)}},F=async L=>{var W,V,B,H;const z=C(L);if(z.length>0){alert(`Cannot delete status with ${z.length} task(s). Please move or delete tasks first.`);return}if(window.confirm("Are you sure you want to delete this status?"))try{const Z=await se.delete(`/projects/${e}/workflow-statuses/${L}`);console.log("Delete response:",Z.data),D(),await P(),alert("Status deleted successfully!")}catch(Z){console.error("Error deleting status:",Z),console.error("Error response:",Z.response);const U=((V=(W=Z.response)==null?void 0:W.data)==null?void 0:V.message)||((H=(B=Z.response)==null?void 0:B.data)==null?void 0:H.error)||"Failed to delete status. Please try again.";alert("Error: "+U)}},$=L=>{switch(L){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=L=>u.filter(z=>z.workflow_status_id===L).sort((z,W)=>z.order-W.order);return h?i.jsx(rt,{}):a?i.jsxs("div",{className:"flex flex-col overflow-hidden bg-white",style:{height:"88vh"},children:[i.jsx("div",{className:"flex-shrink-0 bg-white shadow-sm border-b p-3",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>t(`${n}/projects`),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Projects",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-semibold text-gray-800",children:a.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Task Board - ",u.length," tasks"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(r==null?void 0:r.role)!=="developer"&&i.jsxs("button",{onClick:()=>R(),className:"px-3 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50 transition-all flex items-center gap-1.5",style:{borderColor:"#e5e7eb",color:"#6b7280"},title:"Customize Statuses",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Statuses"]}),(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{onClick:()=>I(),className:"px-3 py-2 rounded-lg text-sm font-medium text-white hover:shadow-md transition-all",style:{background:"#59569D"},children:i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})})]})]})}),i.jsx("div",{className:"flex-1 overflow-hidden p-3",children:i.jsx(Qj,{onDragEnd:O,children:i.jsx("div",{className:"flex gap-3 h-full overflow-x-auto custom-scrollbar",children:o.map(L=>i.jsx("div",{className:"flex-shrink-0 w-80 flex flex-col h-full",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-full overflow-hidden border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"px-3 py-2 flex-shrink-0 border-b",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:L.color}}),i.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:L.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:C(L.id).length}),i.jsx("button",{onClick:()=>R(L),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Edit Status",children:i.jsx("svg",{className:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]})}),i.jsx(Jj,{droppableId:L.id.toString(),children:(z,W)=>i.jsxs("div",{ref:z.innerRef,...z.droppableProps,className:`flex-1 overflow-y-auto custom-scrollbar p-2 ${W.isDraggingOver?"bg-gray-50":"bg-white"} transition-colors`,style:{minHeight:"100px"},children:[C(L.id).map((V,B)=>i.jsx(e_,{draggableId:V.id.toString(),index:B,children:(H,Z)=>{var U;return i.jsxs("div",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:`rounded-lg p-3 mb-2 cursor-pointer transition-all ${Z.isDragging?"shadow-lg border":"border hover:shadow-md"} ${$(V.priority)}`,style:{...H.draggableProps.style,borderColor:Z.isDragging?"#59569D":"#e5e7eb"},onClick:()=>t(`${n}/projects/${e}/tasks/${V.id}`),children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["#",V.id]}),i.jsxs("div",{className:"flex items-center gap-1",children:[(r==null?void 0:r.role)!=="developer"&&i.jsx("button",{title:"Edit Task",onClick:Q=>{Q.stopPropagation(),I(V)},className:"p-1 rounded hover:bg-gray-100",children:i.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M4 20h4l10.732-10.732a2.5 2.5 0 10-3.536-3.536L4 16v4z"})})}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-semibold border",style:{borderColor:"#e5e7eb",background:V.priority==="urgent"?"#fee2e2":V.priority==="high"?"#ffedd5":V.priority==="medium"?"#fef9c3":V.priority==="low"?"#f0fdf4":"#f3f4f6",color:V.priority==="urgent"?"#991b1b":V.priority==="high"?"#9a3412":V.priority==="medium"?"#854d0e":V.priority==="low"?"#166534":"#374151"},children:(U=V.priority)==null?void 0:U.toUpperCase()})]})]}),i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2 line-clamp-2",children:V.title}),Array.isArray(V.labels)&&V.labels.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[V.labels.slice(0,3).map((Q,ne)=>i.jsx("span",{className:"text-xs text-white px-2 py-0.5 rounded font-medium",style:{background:"#59569D"},children:Q},ne)),V.labels.length>3&&i.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-medium",children:["+",V.labels.length-3]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",style:{borderColor:"#e5e7eb"},children:[i.jsxs("div",{className:"flex -space-x-2",children:[V.assigned_users&&V.assigned_users.slice(0,3).map(Q=>i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-semibold border-2 border-white",style:{background:"#59569D"},title:Q.name,children:Q.name.charAt(0).toUpperCase()},Q.id)),V.assigned_users&&V.assigned_users.length>3&&i.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-semibold border-2 border-white",children:["+",V.assigned_users.length-3]})]}),V.due_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"font-medium",children:new Date(V.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})]})}},V.id)),z.placeholder]})})]})},L.id))})})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"px-4 py-3 border-b",style:{background:"#59569D",borderColor:"#e5e7eb"},children:i.jsx("h2",{className:"text-base font-semibold text-white",children:v?"Edit Task":"Create New Task"})}),i.jsxs("form",{onSubmit:A,className:"p-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),i.jsx("input",{type:"text",value:S.title,onChange:L=>E({...S,title:L.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-1",style:{borderColor:"#e5e7eb"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx(Cy,{theme:"snow",value:S.description,onChange:L=>E({...S,description:L}),modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code-block"],["clean"]]},className:"bg-white rounded-lg",style:{height:"150px",marginBottom:"50px"}})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),i.jsxs("select",{value:S.priority,onChange:L=>E({...S,priority:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"urgent",children:"Urgent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),i.jsx("input",{type:"number",step:"0.5",value:S.estimated_hours,onChange:L=>E({...S,estimated_hours:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:S.start_date,onChange:L=>E({...S,start_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:S.due_date,onChange:L=>E({...S,due_date:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-gray-500 font-normal text-xs",children:"(Optional - auto-assigns project developers if empty)"})]}),i.jsx("div",{className:"border border-gray-300 rounded-lg p-2 max-h-40 overflow-y-auto bg-white",children:c.length===0?i.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No users available"}):i.jsx("div",{className:"space-y-1",children:c.map(L=>i.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ${S.assigned_users.includes(L.id)?"bg-purple-50 border border-purple-200":"hover:bg-gray-50 border border-transparent"}`,children:[i.jsx("input",{type:"checkbox",checked:S.assigned_users.includes(L.id),onChange:z=>{z.target.checked?E({...S,assigned_users:[...S.assigned_users,L.id]}):E({...S,assigned_users:S.assigned_users.filter(W=>W!==L.id)})},className:"rounded text-purple-600 focus:ring-purple-500 focus:ring-offset-0"}),i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-semibold flex-shrink-0",style:{backgroundColor:"#59569D"},children:L.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.name}),L.role&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",L.role,")"]})]})]},L.id))})}),S.assigned_users.length===0&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" All project developers will be automatically assigned"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:v&&i.jsx("button",{type:"button",onClick:()=>M(v.id),className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Task"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:v?"Update Task":"Create Task"})]})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-4 text-white rounded-t-lg",style:{background:"#59569D"},children:[i.jsx("h2",{className:"text-lg font-semibold",children:b?"Edit Status":"Add New Status"}),i.jsx("p",{className:"text-sm text-purple-100 mt-1",children:b?"Update workflow status details":"Create a new workflow status for tasks"})]}),i.jsxs("form",{onSubmit:q,className:"p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Name *"}),i.jsx("input",{type:"text",required:!0,value:T.name,onChange:L=>N({...T,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., In Progress, Done"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Color *"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"color",value:T.color,onChange:L=>N({...T,color:L.target.value}),className:"h-10 w-20 border border-gray-300 rounded-lg cursor-pointer"}),i.jsx("input",{type:"text",value:T.color,onChange:L=>N({...T,color:L.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500",placeholder:"#8B5CF6"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This color will appear as an indicator on the status column"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),i.jsx("input",{type:"number",min:"0",value:T.order,onChange:L=>N({...T,order:parseInt(L.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-1 focus:ring-purple-500 focus:border-purple-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first on the board"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Preview:"}),i.jsx("div",{className:"bg-white rounded-lg p-2 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:T.color}}),i.jsx("span",{className:"text-sm font-semibold text-gray-800",children:T.name||"Status Name"}),i.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs font-medium",children:"0"})]})})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[i.jsx("div",{children:b&&i.jsx("button",{type:"button",onClick:()=>F(b.id),className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"rgb(220, 38, 38)"},children:"Delete Status"})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:b?"Update Status":"Create Status"})]})]})]})]})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"Project not found"}),i.jsx("button",{onClick:()=>t("/projects"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg",children:"Back to Projects"})]})})},Xi=()=>{var O,I,k;const{projectId:e,taskId:t}=vi(),r=yr(),[n,a]=_.useState(null),[s,o]=_.useState([]),[l,u]=_.useState(""),[f,c]=_.useState(null),[d,h]=_.useState(!0),[m,p]=_.useState([]),[g,v]=_.useState(!1),[y,x]=_.useState("");_.useEffect(()=>{w(),b()},[t]);const w=async()=>{try{const M=(await se.get(`/projects/${e}/tasks`)).data.find(R=>R.id===parseInt(t));a(M),M!=null&&M.assigned_users&&p(M.assigned_users),h(!1)}catch(A){console.error("Error fetching task:",A),h(!1)}},b=async()=>{try{const A=await se.get(`/tasks/${t}/comments`);o(A.data)}catch(A){console.error("Error fetching comments:",A)}},j=async A=>{if(A.preventDefault(),!!l.trim())try{const M=/@\[([^\]]+)\]\((\d+)\)/g,R=[];let D;for(;(D=M.exec(l))!==null;)R.push(parseInt(D[2]));await se.post(`/tasks/${t}/comments`,{content:l,parent_id:f,mentions:R}),u(""),c(null),b()}catch(M){console.error("Error posting comment:",M)}},T=async A=>{if(confirm("Delete this comment?"))try{await se.delete(`/tasks/${t}/comments/${A}`),b()}catch(M){console.error("Error deleting comment:",M)}},N=A=>({low:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"})[A]||"bg-gray-100 text-gray-700",S=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",E=A=>{const M=l.endsWith("@")?l.slice(0,-1):l,R=`@[${A.name}](${A.id}) `;u(M+R),v(!1),x("")},P=m.filter(A=>{var M;return(M=A.name)==null?void 0:M.toLowerCase().includes(y.toLowerCase())});return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-600",children:"Loading task..."})}):n?i.jsx("div",{className:"min-h-screen p-6",style:{background:"#f8f9fa",fontFamily:"Inter, sans-serif"},children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-5 flex items-start gap-3 bg-white rounded-[12px] p-5 shadow-sm border",style:{borderColor:"#e9ecef"},children:[i.jsx("button",{onClick:()=>r(`/projects/${e}/tasks`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600 group-hover:text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-base font-semibold text-gray-900 mb-1",children:n.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["#",n.id]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["Created ",new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-3 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Description"]}),i.jsx("div",{className:"prose max-w-none text-sm text-gray-700",dangerouslySetInnerHTML:{__html:n.description||'<span class="text-gray-400 italic">No description provided</span>'}})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-4 text-gray-900 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",style:{color:"#59569D"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Comments",i.jsx("span",{className:"ml-1 px-2 py-0.5 text-white text-xs font-medium rounded-full",style:{background:"#59569D"},children:s.length})]}),i.jsxs("form",{onSubmit:j,className:"mb-4 pb-4",children:[f&&i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs",children:[i.jsx("span",{style:{color:"#59569D"},children:"Replying to comment"}),i.jsx("button",{type:"button",onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{value:l,onChange:A=>{u(A.target.value),A.target.value.endsWith("@")&&v(!0)},placeholder:"Write a comment... (use @ to mention someone)",className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-sm focus:ring-1 focus:border-gray-300 resize-none transition-all focus:outline-none",rows:2}),g&&i.jsxs("div",{className:"absolute bottom-full left-0 w-64 bg-white border border-gray-200 rounded-lg shadow-lg mb-2 max-h-48 overflow-y-auto",children:[i.jsx("input",{type:"text",placeholder:"Search...",value:y,onChange:A=>x(A.target.value),className:"w-full p-2 text-xs border-b border-gray-200 focus:outline-none"}),P.map(A=>{var M;return i.jsxs("button",{type:"button",onClick:()=>E(A),className:"w-full text-left p-2 hover:bg-gray-50 flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs",style:{background:"#59569D"},children:(M=A.name)==null?void 0:M.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs",children:A.name})]},A.id)})]})]}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[i.jsx("button",{type:"button",onClick:()=>v(!g),className:"text-xs hover:opacity-80 transition-opacity",style:{color:"#59569D"},children:"@ Mention"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity",style:{background:"#59569D"},children:"Post Comment"})]})]}),i.jsx("div",{className:"space-y-3",children:s.map(A=>{var M,R;return i.jsx("div",{className:"bg-white rounded-lg p-3 hover:shadow-sm transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",style:{background:"#59569D"},children:(M=A.user)==null?void 0:M.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm text-gray-900",children:(R=A.user)==null?void 0:R.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:A.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}}),i.jsxs("div",{className:"mt-1 flex gap-3 text-xs",children:[i.jsx("button",{onClick:()=>c(A.id),className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#59569D"},children:"Reply"}),i.jsx("button",{onClick:()=>T(A.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]}),A.replies&&A.replies.length>0&&i.jsx("div",{className:"mt-3 space-y-2 pl-2",children:A.replies.map(D=>{var q,F;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 flex items-start gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:(q=D.user)==null?void 0:q.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-xs text-gray-900",children:(F=D.user)==null?void 0:F.name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.created_at).toLocaleString()})]}),i.jsx("p",{className:"text-xs text-gray-700",dangerouslySetInnerHTML:{__html:D.content.replace(/@\[([^\]]+)\]\((\d+)\)/g,'<span style="color: rgb(107, 114, 128); font-weight: 500;">@$1</span>')}})]})]},D.id)})})]})]})},A.id)})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Status"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"px-3 py-1.5 rounded-lg text-white text-xs font-medium text-center",style:{backgroundColor:(O=n.workflow_status)==null?void 0:O.color},children:(I=n.workflow_status)==null?void 0:I.name}),i.jsx("div",{className:"text-xs",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(n.priority)}`,children:(k=n.priority)==null?void 0:k.toUpperCase()})})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Details"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Start Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:S(n.start_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Due Date"}),i.jsx("span",{className:"text-gray-900 font-medium",children:S(n.due_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Estimated Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.estimated_hours||"Not set"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block mb-0.5",children:"Actual Hours"}),i.jsx("span",{className:"text-gray-900 font-medium",children:n.actual_hours||"Not set"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Assigned To"}),i.jsx("div",{className:"space-y-2",children:n.assigned_users&&n.assigned_users.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium",style:{background:"#59569D"},children:A.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-xs text-gray-900 font-medium",children:A.name})]},A.id))})]}),Array.isArray(n.labels)&&n.labels.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-500 uppercase tracking-wide mb-3",children:"Labels"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.labels.map((A,M)=>i.jsx("span",{className:"text-xs text-white px-2 py-1 rounded-full font-medium",style:{background:"#59569D"},children:A},M))})]})]})]})]})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-red-600",children:"Task not found"})})},Zi=()=>i.jsx(vy,{}),j5=()=>{var k;const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,s]=_.useState("grid"),[o,l]=_.useState(""),[u,f]=_.useState(!1),[c,d]=_.useState(null),[h,m]=_.useState(null),[p,g]=_.useState({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),[v,y]=_.useState({}),[x,w]=_.useState(!1);_.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await se.get("/clients");t(A.data)}catch(A){console.error("Failed to fetch clients:",A)}finally{n(!1)}},j=e.filter(A=>{var R,D;const M=o.toLowerCase();return(((R=A.user)==null?void 0:R.name)||"").toLowerCase().includes(M)||(((D=A.user)==null?void 0:D.email)||"").toLowerCase().includes(M)||(A.company||"").toLowerCase().includes(M)}),T=()=>{d(null),m(null),g({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),y({}),f(!0)},N=A=>{var M,R,D;d(A),m(((M=A.user)==null?void 0:M.avatar)||null),g({name:((R=A.user)==null?void 0:R.name)||"",email:((D=A.user)==null?void 0:D.email)||"",company:A.company||"",phone:A.phone||"",address:A.address||"",website:A.website||"",notes:A.notes||""}),y({}),f(!0)},S=()=>{f(!1),d(null),m(null),g({name:"",email:"",company:"",phone:"",address:"",website:"",notes:""}),y({})},E=()=>{const A={};return p.name.trim()||(A.name="Name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(A.email="Email is invalid"):A.email="Email is required",y(A),Object.keys(A).length===0},P=A=>{const M=A.target.files[0];if(M){const R=new FileReader;R.onloadend=()=>{m(R.result)},R.readAsDataURL(M)}},O=async A=>{var M,R;if(A.preventDefault(),!!E()){w(!0);try{c?await se.put(`/clients/${c.id}`,p):await se.post("/clients",p),await b(),S(),alert(c?"Client updated successfully":"Client created and credentials sent via email")}catch(D){console.error("Failed to save client:",D),y({submit:((R=(M=D.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to save client. Please try again."})}finally{w(!1)}}},I=async A=>{if(confirm("Are you sure you want to delete this client?"))try{await se.delete(`/clients/${A}`),await b()}catch(M){console.error("Failed to delete client:",M),alert("Failed to delete client. Please try again.")}};return r?i.jsx(rt,{}):i.jsxs("div",{className:"p-6 space-y-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:[i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clients"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your client accounts and credentials"})]}),i.jsxs("button",{onClick:T,className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all flex items-center gap-2",style:{background:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Client"]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-5 border",style:{borderColor:"#e9ecef"},children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search clients...",value:o,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-colors text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s("grid"),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${a==="grid"?"text-white border":"text-gray-700 hover:bg-gray-100 border-gray-300"}`,style:a==="grid"?{background:"rgb(89, 86, 157)",borderColor:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>s("table"),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${a==="table"?"text-white border":"text-gray-700 hover:bg-gray-100 border-gray-300"}`,style:a==="table"?{background:"rgb(89, 86, 157)",borderColor:"rgb(89, 86, 157)"}:{},children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),j.length>0?i.jsxs(i.Fragment,{children:[a==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:j.map(A=>{var M,R,D,q,F,$;return i.jsxs("div",{className:"bg-white rounded-xl border p-5 hover:shadow-md transition-all",style:{borderColor:"#e5e7eb"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex-shrink-0 overflow-hidden flex items-center justify-center text-sm font-bold text-white",style:{background:"rgb(89, 86, 157)"},children:(M=A.user)!=null&&M.avatar?i.jsx("img",{src:A.user.avatar,alt:(R=A.user)==null?void 0:R.name,className:"w-full h-full object-cover"}):(q=(D=A.user)==null?void 0:D.name)==null?void 0:q.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:(F=A.user)==null?void 0:F.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:($=A.user)==null?void 0:$.email})]})]}),A.company&&i.jsxs("div",{className:"mb-3 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Company:"})," ",A.company]}),A.phone&&i.jsxs("div",{className:"mb-3 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",A.phone]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t justify-end",style:{borderColor:"#e5e7eb"},children:[i.jsx("button",{onClick:()=>N(A),className:"py-2 px-3 rounded-lg text-xs font-medium text-white transition-all hover:shadow-sm",style:{background:"rgb(242, 82, 146)"},children:"Edit"}),i.jsx("button",{onClick:()=>I(A.id),className:"py-2 px-3 rounded-lg text-xs font-medium border transition-colors hover:bg-opacity-5",style:{color:"rgb(242, 82, 146)",borderColor:"rgb(242, 82, 146)"},children:"Delete"})]})]},A.id)})}),a==="table"&&i.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",style:{borderColor:"#e5e7eb"},children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",style:{borderBottomColor:"#e5e7eb"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Client"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Company"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Phone"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Created"}),i.jsx("th",{className:"text-center px-4 py-3",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(A=>{var M,R,D,q,F,$;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-full flex-shrink-0 overflow-hidden flex items-center justify-center text-xs font-bold text-white",style:{background:"rgb(89, 86, 157)"},children:(M=A.user)!=null&&M.avatar?i.jsx("img",{src:A.user.avatar,alt:(R=A.user)==null?void 0:R.name,className:"w-full h-full object-cover"}):(q=(D=A.user)==null?void 0:D.name)==null?void 0:q.charAt(0).toUpperCase()}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:(F=A.user)==null?void 0:F.name}),i.jsx("p",{className:"text-xs text-gray-500",children:($=A.user)==null?void 0:$.email})]})]})}),i.jsx("td",{className:"px-4 py-3 text-gray-700",children:A.company||"-"}),i.jsx("td",{className:"px-4 py-3 text-gray-700",children:A.phone||"-"}),i.jsx("td",{className:"px-4 py-3 text-gray-600 text-xs",children:new Date(A.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>N(A),className:"p-2 rounded-lg transition-colors",title:"Edit",style:{color:"rgb(242, 82, 146)"},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>I(A.id),className:"p-2 rounded-lg transition-colors",title:"Delete",style:{color:"rgb(242, 82, 146)"},children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},A.id)})})]})})})]}):i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"rgba(89, 86, 157, 0.1)"},children:i.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"rgb(89, 86, 157)"},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Clients Found"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o?"Try adjusting your search":"Get started by creating your first client"}),i.jsx("button",{onClick:T,className:"px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm hover:shadow-md transition-all",style:{background:"rgb(89, 86, 157)"},children:"+ Create Client"})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border",style:{borderColor:"#e5e7eb"},children:[i.jsx("div",{className:"p-6 border-b",style:{borderColor:"#e5e7eb"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c?"Edit Client":"Create New Client"}),!c&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Login credentials will be auto-generated and sent via email"})]}),i.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-2xl font-bold text-white overflow-hidden",style:{background:"rgb(89, 86, 157)"},children:h?i.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover"}):((k=p.name)==null?void 0:k.charAt(0).toUpperCase())||"+"}),i.jsxs("label",{className:"absolute bottom-0 right-0 p-2 rounded-full bg-white border-2 border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"rgb(89, 86, 157)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"rgb(89, 86, 157)"},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:p.name,onChange:A=>g({...p,name:A.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${v.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),v.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",value:p.email,onChange:A=>g({...p,email:A.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-gray-400 text-sm ${v.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),v.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),i.jsx("input",{type:"text",value:p.company,onChange:A=>g({...p,company:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"Company Name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:p.phone,onChange:A=>g({...p,phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"+1234567890"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),i.jsx("input",{type:"url",value:p.website,onChange:A=>g({...p,website:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm",placeholder:"https://example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:p.address,onChange:A=>g({...p,address:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Full address",rows:"2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:p.notes,onChange:A=>g({...p,notes:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 text-sm resize-none",placeholder:"Additional notes",rows:"3"})]}),v.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-xs",children:v.submit}),i.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",style:{borderColor:"#e5e7eb"},children:[i.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors text-sm",disabled:x,children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg font-medium text-white shadow-sm hover:shadow-md transition-all text-sm disabled:opacity-50",style:{background:"rgb(89, 86, 157)"},disabled:x,children:x?"Saving...":c?"Update Client":"Create Client"})]})]})]})})]})};var _5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Nd(e){if(typeof e!="string")return!1;var t=_5;return t.includes(e)}var N5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E5=new Set(N5);function Dy(e){return typeof e!="string"?!1:E5.has(e)}function My(e){return typeof e=="string"&&e.startsWith("data-")}function Bt(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Dy(r)||My(r))&&(t[r]=e[r]);return t}function An(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Bt(t)}return typeof e=="object"&&!Array.isArray(e)?Bt(e):null}function Nt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Dy(r)||My(r)||Nd(r))&&(t[r]=e[r]);return t}function O5(e){return e==null?null:_.isValidElement(e)?Nt(e.props):typeof e=="object"&&!Array.isArray(e)?Nt(e):null}var T5=["children","width","height","viewBox","className","style","title","desc"];function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(null,arguments)}function S5(e,t){if(e==null)return{};var r,n,a=P5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ry=_.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:u,desc:f}=e,c=S5(e,T5),d=s||{width:n,height:a,x:0,y:0},h=ye("recharts-surface",o);return _.createElement("svg",nu({},Nt(c),{className:h,width:n,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,f),r)}),A5=["children","className"];function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},au.apply(null,arguments)}function I5(e,t){if(e==null)return{};var r,n,a=k5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ht=_.forwardRef((e,t)=>{var{children:r,className:n}=e,a=I5(e,A5),s=ye("recharts-layer",n);return _.createElement("g",au({className:s},Nt(a),{ref:t}),r)}),C5=_.createContext(null);function Pe(e){return function(){return e}}const Ly=Math.cos,Us=Math.sin,lr=Math.sqrt,Hs=Math.PI,Zo=2*Hs,iu=Math.PI,su=2*iu,fn=1e-6,D5=su-fn;function By(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function M5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return By;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class R5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?By:M5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-t,f=a-r,c=o-t,d=l-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fn)if(!(Math.abs(d*u-f*c)>fn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=u*u+f*f,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),w=s*Math.tan((iu-Math.acos((g+h-v)/(2*y*x)))/2),b=w/x,j=w/y;Math.abs(b-1)>fn&&this._append`L${t+b*c},${r+b*d}`,this._append`A${s},${s},0,0,${+(d*m>c*p)},${this._x1=t+j*u},${this._y1=r+j*f}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),f=t+l,c=r+u,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>fn||Math.abs(this._y1-c)>fn)&&this._append`L${f},${c}`,n&&(h<0&&(h=h%su+su),h>D5?this._append`A${n},${n},0,1,${d},${t-l},${r-u}A${n},${n},0,1,${d},${this._x1=f},${this._y1=c}`:h>fn&&this._append`A${n},${n},0,${+(h>=iu)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ed(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new R5(t)}function Od(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $y(e){this._context=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qo(e){return new $y(e)}function Fy(e){return e[0]}function zy(e){return e[1]}function Uy(e,t){var r=Pe(!0),n=null,a=Qo,s=null,o=Ed(l);e=typeof e=="function"?e:e===void 0?Fy:Pe(e),t=typeof t=="function"?t:t===void 0?zy:Pe(t);function l(u){var f,c=(u=Od(u)).length,d,h=!1,m;for(n==null&&(s=a(m=o())),f=0;f<=c;++f)!(f<c&&r(d=u[f],f,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,f,u),+t(d,f,u));if(m)return s=null,m+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Pe(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Pe(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Pe(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function Qi(e,t,r){var n=null,a=Pe(!0),s=null,o=Qo,l=null,u=Ed(f);e=typeof e=="function"?e:e===void 0?Fy:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?zy:Pe(+r);function f(d){var h,m,p,g=(d=Od(d)).length,v,y=!1,x,w=new Array(g),b=new Array(g);for(s==null&&(l=o(x=u())),h=0;h<=g;++h){if(!(h<g&&a(v=d[h],h,d))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],b[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,d),b[h]=+t(v,h,d),l.point(n?+n(v,h,d):w[h],r?+r(v,h,d):b[h]))}if(x)return l=null,x+""||null}function c(){return Uy().defined(a).curve(o).context(s)}return f.x=function(d){return arguments.length?(e=typeof d=="function"?d:Pe(+d),n=null,f):e},f.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Pe(+d),f):e},f.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pe(+d),f):n},f.y=function(d){return arguments.length?(t=typeof d=="function"?d:Pe(+d),r=null,f):t},f.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Pe(+d),f):t},f.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pe(+d),f):r},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(r)},f.lineX1=function(){return c().x(n).y(t)},f.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Pe(!!d),f):a},f.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),f):o},f.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),f):s},f}class Hy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function L5(e){return new Hy(e,!0)}function B5(e){return new Hy(e,!1)}const Td={draw(e,t){const r=lr(t/Hs);e.moveTo(r,0),e.arc(0,0,r,0,Zo)}},$5={draw(e,t){const r=lr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qy=lr(1/3),F5=qy*2,z5={draw(e,t){const r=lr(t/F5),n=r*qy;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},U5={draw(e,t){const r=lr(t),n=-r/2;e.rect(n,n,r,r)}},H5=.8908130915292852,Gy=Us(Hs/10)/Us(7*Hs/10),q5=Us(Zo/10)*Gy,G5=-Ly(Zo/10)*Gy,V5={draw(e,t){const r=lr(t*H5),n=q5*r,a=G5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Zo*s/5,l=Ly(o),u=Us(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},vc=lr(3),W5={draw(e,t){const r=-lr(t/(vc*3));e.moveTo(0,r*2),e.lineTo(-vc*r,-r),e.lineTo(vc*r,-r),e.closePath()}},Ft=-.5,zt=lr(3)/2,ou=1/lr(12),K5=(ou/2+1)*3,Y5={draw(e,t){const r=lr(t/K5),n=r/2,a=r*ou,s=n,o=r*ou+r,l=-s,u=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,u),e.lineTo(Ft*n-zt*a,zt*n+Ft*a),e.lineTo(Ft*s-zt*o,zt*s+Ft*o),e.lineTo(Ft*l-zt*u,zt*l+Ft*u),e.lineTo(Ft*n+zt*a,Ft*a-zt*n),e.lineTo(Ft*s+zt*o,Ft*o-zt*s),e.lineTo(Ft*l+zt*u,Ft*u-zt*l),e.closePath()}};function X5(e,t){let r=null,n=Ed(a);e=typeof e=="function"?e:Pe(e||Td),t=typeof t=="function"?t:Pe(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pe(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pe(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function qs(){}function Gs(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Vy(e){this._context=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z5(e){return new Vy(e)}function Wy(e){this._context=e}Wy.prototype={areaStart:qs,areaEnd:qs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q5(e){return new Wy(e)}function Ky(e){this._context=e}Ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J5(e){return new Ky(e)}function Yy(e){this._context=e}Yy.prototype={areaStart:qs,areaEnd:qs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eI(e){return new Yy(e)}function Im(e){return e<0?-1:1}function km(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(Im(s)+Im(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Cm(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yc(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Vs(e){this._context=e}Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yc(this,this._t0,Cm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yc(this,Cm(this,r=km(this,e,t)),r);break;default:yc(this,this._t0,r=km(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Xy(e){this._context=new Zy(e)}(Xy.prototype=Object.create(Vs.prototype)).point=function(e,t){Vs.prototype.point.call(this,t,e)};function Zy(e){this._context=e}Zy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function tI(e){return new Vs(e)}function rI(e){return new Xy(e)}function Qy(e){this._context=e}Qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Dm(e),a=Dm(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Dm(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function nI(e){return new Qy(e)}function Jo(e,t){this._context=e,this._t=t}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aI(e){return new Jo(e,.5)}function iI(e){return new Jo(e,0)}function sI(e){return new Jo(e,1)}function In(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function lu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oI(e,t){return e[t]}function lI(e){const t=[];return t.key=e,t}function cI(){var e=Pe([]),t=lu,r=In,n=oI;function a(s){var o=Array.from(e.apply(this,arguments),lI),l,u=o.length,f=-1,c;for(const d of s)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(d,o[l].key,f,s)]).data=d;for(l=0,c=Od(t(o));l<u;++l)o[c[l]].index=l;return r(o,c),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pe(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pe(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?lu:typeof s=="function"?s:Pe(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??In,a):r},a}function uI(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}In(e,t)}}function dI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}In(e,t)}}function fI(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,u=0,f=0;l<o;++l){for(var c=e[t[l]],d=c[n][1]||0,h=c[n-1][1]||0,m=(d-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}u+=d,f+=m*d}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,In(e,t)}}var el={},Jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Jy);var Sd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Sd);var tl={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tl);var rl={},ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ex);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex,r=tl;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,u="",f="",c=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const d=a[l];f?d==="\\"&&l+1<o?(l++,u+=a[l]):d===f?f="":u+=d:c?d==='"'||d==="'"?f=d:d==="]"?(c=!1,s.push(u),u=""):u+=d:d==="["?(c=!0,u&&(s.push(u),u="")):d==="."?u&&(s.push(u),u=""):u+=d,l++}return u&&s.push(u),s}e.toPath=n})(rl);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=Sd,n=tl,a=rl;function s(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?r.isDeepKey(u)?s(l,a.toPath(u),f):f:c}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const c=l[u];return c===void 0?f:c}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const c=l[u];return c===void 0?f:c}}}function o(l,u,f){if(u.length===0)return f;let c=l;for(let d=0;d<u.length;d++){if(c==null||t.isUnsafeProperty(u[d]))return f;c=c[u[d]]}return c===void 0?f:c}e.get=s})(el);var hI=el.get;const kn=Mr(hI);var mI=4;function Zr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ue(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,o)=>{var l=r[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+Zr(l)+s:a+s},"")}var ft=e=>e===0?0:e>0?1:-1,sr=e=>typeof e=="number"&&e!=+e,Or=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!sr(e),mr=e=>de(e)||typeof e=="string",pI=0,ei=e=>{var t=++pI;return"".concat(e||"").concat(t)},xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(Or(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return sr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},tx=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ce(e,t,r){return de(e)&&de(t)?Zr(e+r*(t-e)):t}function rx(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):kn(n,t))===r)}var Me=e=>e===null||typeof e>"u",bi=e=>Me(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function gI(e){return e!=null}function wi(){}var vI=["type","size","sizeType"];function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function Mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mm(Object(r),!0).forEach(function(n){yI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yI(e,t,r){return(t=xI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xI(e){var t=bI(e,"string");return typeof t=="symbol"?t:t+""}function bI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wI(e,t){if(e==null)return{};var r,n,a=jI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nx={symbolCircle:Td,symbolCross:$5,symbolDiamond:z5,symbolSquare:U5,symbolStar:V5,symbolTriangle:W5,symbolWye:Y5},_I=Math.PI/180,NI=e=>{var t="symbol".concat(bi(e));return nx[t]||Td},EI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*_I;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},OI=(e,t)=>{nx["symbol".concat(bi(e))]=t},ax=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=wI(e,vI),s=Rm(Rm({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=NI(o),m=X5().type(h).size(EI(r,n,o)),p=m();if(p!==null)return p},{className:u,cx:f,cy:c}=s,d=Nt(s);return de(f)&&de(c)&&de(r)?_.createElement("path",cu({},d,{className:ye("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:l()})):null};ax.registerSymbol=OI;var ix=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Pd=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Nd(a)&&(n[a]=s=>r[a](r,s))}),n},TI=(e,t,r)=>n=>(e(t,r,n),null),nl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Nd(a)&&typeof s=="function"&&(n||(n={}),n[a]=TI(s,t,r))}),n};function Lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lm(Object(r),!0).forEach(function(n){PI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PI(e,t,r){return(t=AI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AI(e){var t=II(e,"string");return typeof t=="symbol"?t:t+""}function II(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=SI({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}var sx={},ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(ox);var Ad={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ad);var lx={},al={},cx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(al);var ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ux);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=al,r=ux;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lx);var dx={},fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=el;function r(n){return function(a){return t.get(a,n)}}e.property=r})(fx);var hx={},Id={},mx={},kd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(kd);var Cd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Cd);var Dd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Dd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kd,r=Cd,n=Dd;function a(c,d,h){return typeof h!="function"?a(c,d,()=>{}):s(c,d,function m(p,g,v,y,x,w){const b=h(p,g,v,y,x,w);return b!==void 0?!!b:s(p,g,m,w)},new Map)}function s(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,m);case"function":return Object.keys(d).length>0?s(c,{...d},h,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return u(c,d,h,m);if(d instanceof Map)return l(c,d,h,m);if(d instanceof Set)return f(c,d,h,m);const p=Object.keys(d);if(c==null||r.isPrimitive(c))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let g=0;g<p.length;g++){const v=p[g];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!h(c[v],d[v],v,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function l(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,g]of d.entries()){const v=c.get(p);if(h(v,g,p,c,d,m)===!1)return!1}return!0}function u(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let g=0;g<d.length;g++){const v=d[g];let y=!1;for(let x=0;x<c.length;x++){if(p.has(x))continue;const w=c[x];let b=!1;if(h(w,v,g,c,d,m)&&(b=!0),b){p.add(x),y=!0;break}}if(!y)return!1}return!0}function f(c,d,h,m){return d.size===0?!0:c instanceof Set?u([...c],[...d],h,m):!1}e.isMatchWith=a,e.isSetMatch=f})(mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Id);var px={},Md={},gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(gx);var Rd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Rd);var Ld={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",j="[object Int8Array]",T="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=P,e.functionTag=d,e.int16ArrayTag=T,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(Ld);var vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(vx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx,r=Rd,n=Ld,a=Cd,s=vx;function o(c,d){return l(c,void 0,c,new Map,d)}function l(c,d,h,m=new Map,p=void 0){const g=p==null?void 0:p(c,d,h,m);if(g!==void 0)return g;if(a.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const v=new Array(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;m.set(c,v);for(const[y,x]of c)v.set(y,l(x,y,h,m,p));return v}if(c instanceof Set){const v=new Set;m.set(c,v);for(const y of c)v.add(l(y,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,v);for(let y=0;y<c.length;y++)v[y]=l(c[y],y,h,m,p);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,v),u(v,c,h,m,p),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Error){const v=new c.constructor;return m.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,u(v,c,h,m,p),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof Number){const v=new Number(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(c instanceof String){const v=new String(c.valueOf());return m.set(c,v),u(v,c,h,m,p),v}if(typeof c=="object"&&f(c)){const v=Object.create(Object.getPrototypeOf(c));return m.set(c,v),u(v,c,h,m,p),v}return c}function u(c,d,h=c,m,p){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(c,y);(x==null||x.writable)&&(c[y]=l(d[y],y,h,m,p))}}function f(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Md);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Id,r=px;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(hx);var yx={},xx={},bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Md,r=Ld;function n(a,s){return t.cloneDeepWith(a,(o,l,u,f)=>{const c=s==null?void 0:s(o,l,u,f);if(c!==void 0)return c;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(xx);var wx={},Bd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Bd);var jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rd;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(jx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sd,r=Bd,n=jx,a=rl;function s(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let c=0;c<u.length;c++){const d=u[c];if((f==null||!Object.hasOwn(f,d))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(d)&&d<f.length))return!1;f=f[d]}return!0}e.has=s})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Id,r=tl,n=xx,a=el,s=wx;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const c=a.get(f,l);return c===void 0?s.has(f,l):u===void 0?c===void 0:t.isMatch(c,u)}}e.matchesProperty=o})(yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ad,r=fx,n=hx,a=yx;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(dx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=Ad,n=lx,a=dx;function s(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(sx);var kI=sx.uniqBy;const Bm=Mr(kI);function CI(e,t,r){return t===!0?Bm(e,r):typeof t=="function"?Bm(e,t):e}var _x={exports:{}},Nx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=_,DI=Xj;function MI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RI=typeof Object.is=="function"?Object.is:MI,LI=DI.useSyncExternalStore,BI=il.useRef,$I=il.useEffect,FI=il.useMemo,zI=il.useDebugValue;Nx.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=BI(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=FI(function(){function u(m){if(!f){if(f=!0,c=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return d=p}return d=m}if(p=d,RI(c,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(c=m,p):(c=m,d=g)}var f=!1,c,d,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,a]);var l=LI(e,s[0],s[1]);return $I(function(){o.hasValue=!0,o.value=l},[l]),zI(l),l};_x.exports=Nx;var UI=_x.exports,$d=_.createContext(null),HI=e=>e,Re=()=>{var e=_.useContext($d);return e?e.store.dispatch:HI},Ss=()=>{},qI=()=>Ss,GI=(e,t)=>e===t;function fe(e){var t=_.useContext($d);return UI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qI,t?t.store.getState:Ss,t?t.store.getState:Ss,t?e:Ss,GI)}function VI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function KI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $m=e=>Array.isArray(e)?e:[e];function YI(e){const t=Array.isArray(e[0])?e[0]:e;return KI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function XI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ZI=class{constructor(e){this.value=e}deref(){return this.value}},QI=typeof WeakRef<"u"?WeakRef:ZI,JI=0,Fm=1;function Ji(){return{s:JI,v:void 0,o:null,p:null}}function Ex(e,t={}){let r=Ji();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var d;let l=r;const{length:u}=arguments;for(let h=0,m=u;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=Ji(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=Ji(),g.set(p,l)):l=v}}const f=l;let c;if(l.s===Fm)c=l.v;else if(c=e.apply(null,arguments),s++,n){const h=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;h!=null&&n(h,c)&&(c=h,s!==0&&s--),a=typeof c=="object"&&c!==null||typeof c=="function"?new QI(c):c}return f.s=Fm,f.v=c,c}return o.clearCache=()=>{r=Ji(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ek(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),VI(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const c={...r,...u},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Ex,argsMemoizeOptions:p=[]}=c,g=$m(h),v=$m(p),y=YI(a),x=d(function(){return s++,f.apply(null,arguments)},...g),w=m(function(){o++;const j=XI(y,arguments);return l=x.apply(null,j),l},...v);return Object.assign(w,{resultFunc:f,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ee=ek(Ex),tk=Object.assign((e,t=ee)=>{WI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>tk}),Ox={},Tx={},Sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(Sx);var Px={},Fd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Fd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(Px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sx,r=Px,n=rl;function a(s,o,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},c=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:f(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?f(p,m):typeof p=="object"?p[m]:p,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:d.map(p=>c(p,m))})).slice().sort((m,p)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(Tx);var Ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,u)=>{for(let f=0;f<l.length;f++){const c=l[f];Array.isArray(c)&&u<s?o(c,u+1):a.push(c)}};return o(r,0),a}e.flatten=t})(Ax);var zd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bd,r=al,n=kd,a=Dd;function s(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=s})(zd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tx,r=Ax,n=zd;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(Ox);var rk=Ox.sortBy;const sl=Mr(rk);var Ix=e=>e.legend.settings,nk=e=>e.legend.size,ak=e=>e.legend.payload;ee([ak,Ix],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sl(n,r):n});var es=1;function ik(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>es||Math.abs(o.left-t.left)>es||Math.abs(o.top-t.top)>es||Math.abs(o.width-t.width)>es)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var kx=Symbol.for("immer-nothing"),zm=Symbol.for("immer-draftable"),Et=Symbol.for("immer-state");function er(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rt=Object,na=Rt.getPrototypeOf,Ws="constructor",ol="prototype",uu="configurable",Ks="enumerable",Ps="writable",ti="value",Tr=e=>!!e&&!!e[Et];function or(e){var t;return e?Cx(e)||ll(e)||!!e[zm]||!!((t=e[Ws])!=null&&t[zm])||cl(e)||ul(e):!1}var sk=Rt[ol][Ws].toString(),Um=new WeakMap;function Cx(e){if(!e||!Ud(e))return!1;const t=na(e);if(t===null||t===Rt[ol])return!0;const r=Rt.hasOwnProperty.call(t,Ws)&&t[Ws];if(r===Object)return!0;if(!Kn(r))return!1;let n=Um.get(r);return n===void 0&&(n=Function.toString.call(r),Um.set(r,n)),n===sk}function ji(e,t,r=!0){_i(e)===0?(r?Reflect.ownKeys(e):Rt.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function _i(e){const t=e[Et];return t?t.type_:ll(e)?1:cl(e)?2:ul(e)?3:0}var Hm=(e,t,r=_i(e))=>r===2?e.has(t):Rt[ol].hasOwnProperty.call(e,t),du=(e,t,r=_i(e))=>r===2?e.get(t):e[t],Ys=(e,t,r,n=_i(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function ok(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ll=Array.isArray,cl=e=>e instanceof Map,ul=e=>e instanceof Set,Ud=e=>typeof e=="object",Kn=e=>typeof e=="function",xc=e=>typeof e=="boolean";function lk(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var xr=e=>e.copy_||e.base_,Hd=e=>e.modified_?e.copy_:e.base_;function fu(e,t){if(cl(e))return new Map(e);if(ul(e))return new Set(e);if(ll(e))return Array[ol].slice.call(e);const r=Cx(e);if(t===!0||t==="class_only"&&!r){const n=Rt.getOwnPropertyDescriptors(e);delete n[Et];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[Ps]===!1&&(l[Ps]=!0,l[uu]=!0),(l.get||l.set)&&(n[o]={[uu]:!0,[Ps]:!0,[Ks]:l[Ks],[ti]:e[o]})}return Rt.create(na(e),n)}else{const n=na(e);if(n!==null&&r)return{...e};const a=Rt.create(n);return Rt.assign(a,e)}}function qd(e,t=!1){return dl(e)||Tr(e)||!or(e)||(_i(e)>1&&Rt.defineProperties(e,{set:ts,add:ts,clear:ts,delete:ts}),Rt.freeze(e),t&&ji(e,(r,n)=>{qd(n,!0)},!1)),e}function ck(){er(2)}var ts={[ti]:ck};function dl(e){return e===null||!Ud(e)?!0:Rt.isFrozen(e)}var Xs="MapSet",hu="Patches",qm="ArrayMethods",Dx={};function Cn(e){const t=Dx[e];return t||er(0,e),t}var Gm=e=>!!Dx[e],ri,Mx=()=>ri,uk=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Gm(Xs)?Cn(Xs):void 0,arrayMethodsPlugin_:Gm(qm)?Cn(qm):void 0});function Vm(e,t){t&&(e.patchPlugin_=Cn(hu),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mu(e){pu(e),e.drafts_.forEach(dk),e.drafts_=null}function pu(e){e===ri&&(ri=e.parent_)}var Wm=e=>ri=uk(ri,e);function dk(e){const t=e[Et];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Km(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Et].modified_&&(mu(t),er(4)),or(e)&&(e=Ym(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Et].base_,e,t)}else e=Ym(t,r);return fk(t,e,!0),mu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kx?e:void 0}function Ym(e,t){if(dl(t))return t;const r=t[Et];if(!r)return Gd(t,e.handledSet_,e);if(!fl(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Bx(r,e)}return r.copy_}function fk(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qd(t,r)}function Rx(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var fl=(e,t)=>e.scope_===t,hk=[];function Lx(e,t,r,n){const a=xr(e),s=e.type_;if(n!==void 0&&du(a,n,s)===t){Ys(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;ji(a,(u,f)=>{if(Tr(f)){const c=l.get(f)||[];c.push(u),l.set(f,c)}})}const o=e.draftLocations_.get(t)??hk;for(const l of o)Ys(a,l,r,s)}function mk(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!fl(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=Hd(s);Lx(e,s.draft_??s,o,r),Bx(s,a)})}function Bx(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}Rx(e)}}function pk(e,t,r){const{scope_:n}=e;if(Tr(r)){const a=r[Et];fl(a,n)&&a.callbacks_.push(function(){As(e);const o=Hd(a);Lx(e,r,o,t)})}else or(r)&&e.callbacks_.push(function(){const s=xr(e);du(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gd(du(e.copy_,t,e.type_),n.handledSet_,n)})}function Gd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Tr(e)||t.has(e)||!or(e)||dl(e)||(t.add(e),ji(e,(n,a)=>{if(Tr(a)){const s=a[Et];if(fl(s,r)){const o=Hd(s);Ys(e,n,o,e.type_),Rx(s)}}else or(a)&&Gd(a,t,r)})),e}function gk(e,t){const r=ll(e),n={type_:r?1:0,scope_:t?t.scope_:Mx(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Vd;r&&(a=[n],s=ni);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var Vd={get(e,t){if(t===Et)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=xr(e);if(!Hm(a,t,e.type_))return vk(e,a,t);const s=a[t];if(e.finalized_||!or(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&lk(t))return s;if(s===bc(e.base_,t)){As(e);const o=e.type_===1?+t:t,l=vu(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in xr(e)},ownKeys(e){return Reflect.ownKeys(xr(e))},set(e,t,r){const n=$x(xr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=bc(xr(e),t),s=a==null?void 0:a[Et];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ok(r,a)&&(r!==void 0||Hm(e.base_,t,e.type_)))return!0;As(e),gu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),pk(e,t,r)),!0},deleteProperty(e,t){return As(e),bc(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gu(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ps]:!0,[uu]:e.type_!==1||t!=="length",[Ks]:n[Ks],[ti]:r[t]}},defineProperty(){er(11)},getPrototypeOf(e){return na(e.base_)},setPrototypeOf(){er(12)}},ni={};ji(Vd,(e,t)=>{ni[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});ni.deleteProperty=function(e,t){return ni.set.call(this,e,t,void 0)};ni.set=function(e,t,r){return Vd.set.call(this,e[0],t,r,e[0])};function bc(e,t){const r=e[Et];return(r?xr(r):e)[t]}function vk(e,t,r){var a;const n=$x(t,r);return n?ti in n?n[ti]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function $x(e,t){if(!(t in e))return;let r=na(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=na(r)}}function gu(e){e.modified_||(e.modified_=!0,e.parent_&&gu(e.parent_))}function As(e){e.copy_||(e.assigned_=new Map,e.copy_=fu(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Kn(r)&&!Kn(n)){const o=n;n=r;const l=this;return function(f=o,...c){return l.produce(f,d=>n.call(this,d,...c))}}Kn(n)||er(6),a!==void 0&&!Kn(a)&&er(7);let s;if(or(r)){const o=Wm(this),l=vu(o,r,void 0);let u=!0;try{s=n(l),u=!1}finally{u?mu(o):pu(o)}return Vm(o,a),Km(s,o)}else if(!r||!Ud(r)){if(s=n(r),s===void 0&&(s=r),s===kx&&(s=void 0),this.autoFreeze_&&qd(s,!0),a){const o=[],l=[];Cn(hu).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else er(1,r)},this.produceWithPatches=(r,n)=>{if(Kn(r))return(l,...u)=>this.produceWithPatches(l,f=>r(f,...u));let a,s;return[this.produce(r,n,(l,u)=>{a=l,s=u}),a,s]},xc(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),xc(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),xc(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){or(t)||er(8),Tr(t)&&(t=ir(t));const r=Wm(this),n=vu(r,t,void 0);return n[Et].isManual_=!0,pu(r),n}finishDraft(t,r){const n=t&&t[Et];(!n||!n.isManual_)&&er(9);const{scope_:a}=n;return Vm(a,r),Km(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Cn(hu).applyPatches_;return Tr(t)?a(t,r):this.produce(t,s=>a(s,r))}};function vu(e,t,r,n){const[a,s]=cl(t)?Cn(Xs).proxyMap_(t,r):ul(t)?Cn(Xs).proxySet_(t,r):gk(t,r);return((r==null?void 0:r.scope_)??Mx()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?mk(r,s,n):s.callbacks_.push(function(u){var c;(c=u.mapSetPlugin_)==null||c.fixSetContents(s);const{patchPlugin_:f}=u;s.modified_&&f&&f.generatePatches_(s,[],u)}),a}function ir(e){return Tr(e)||er(10,e),Fx(e)}function Fx(e){if(!or(e)||dl(e))return e;const t=e[Et];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fu(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fu(e,!0);return ji(r,(a,s)=>{Ys(r,a,Fx(s))},n),t&&(t.finalized_=!1),r}var xk=new yk,zx=xk.produce;function Ux(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var bk=Ux(),wk=Ux,jk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vc:Vc.apply(null,arguments)};function Wt(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Lt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ry(n)&&n.type===e,r}var Hx=class Ka extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ka.prototype)}static get[Symbol.species](){return Ka}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ka(...t[0].concat(this)):new Ka(...t.concat(this))}};function Xm(e){return or(e)?zx(e,()=>{}):e}function rs(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _k(e){return typeof e=="boolean"}var Nk=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new Hx;return r&&(_k(r)?o.push(bk):o.push(wk(r.extraArgument))),o},qx="RTK_autoBatch",ke=()=>e=>({payload:e,meta:{[qx]:!0}}),Zm=e=>t=>{setTimeout(t,e)},Gx=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zm(10):e.type==="callback"?e.queueNotification:Zm(e.timeout),f=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>a&&c(),h=n.subscribe(d);return l.add(c),()=>{h(),l.delete(c)}},dispatch(c){var d;try{return a=!((d=c==null?void 0:c.meta)!=null&&d[qx]),s=!a,s&&(o||(o=!0,u(f))),n.dispatch(c)}finally{a=!0}}})},Ek=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Hx(e);return n&&a.push(Gx(typeof n=="object"?n:void 0)),a};function Ok(e){const t=Nk(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(t_(r))l=ny(r);else throw new Error(Lt(1));let u;typeof n=="function"?u=n(t):u=t();let f=Vc;a&&(f=jk({trace:!1,...typeof a=="object"&&a}));const c=r_(...u),d=Ek(c);let h=typeof o=="function"?o(d):d();const m=f(...h);return n_(l,s,m)}function Vx(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Lt(28));if(l in t)throw new Error(Lt(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function Tk(e){return typeof e=="function"}function Sk(e,t){let[r,n,a]=Vx(t),s;if(Tk(e))s=()=>Xm(e());else{const l=Xm(e);s=()=>l}function o(l=s(),u){let f=[r[u.type],...n.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return f.filter(c=>!!c).length===0&&(f=[a]),f.reduce((c,d)=>{if(d)if(Tr(c)){const m=d(c,u);return m===void 0?c:m}else{if(or(c))return zx(c,h=>d(h,u));{const h=d(c,u);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},l)}return o.getInitialState=s,o}var Pk="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ak=(e=21)=>{let t="",r=e;for(;r--;)t+=Pk[Math.random()*64|0];return t},Ik=Symbol.for("rtk-slice-createasyncthunk");function kk(e,t){return`${e}/${t}`}function Ck({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Ik];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(Lt(11));const l=(typeof a.reducers=="function"?a.reducers(Mk()):a.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,j){const T=typeof b=="string"?b:b.type;if(!T)throw new Error(Lt(12));if(T in f.sliceCaseReducersByType)throw new Error(Lt(13));return f.sliceCaseReducersByType[T]=j,c},addMatcher(b,j){return f.sliceMatchers.push({matcher:b,reducer:j}),c},exposeAction(b,j){return f.actionCreators[b]=j,c},exposeCaseReducer(b,j){return f.sliceCaseReducersByName[b]=j,c}};u.forEach(b=>{const j=l[b],T={reducerName:b,type:kk(s,b),createNotation:typeof a.reducers=="function"};Lk(j)?$k(T,j,c,t):Rk(T,j,c)});function d(){const[b={},j=[],T=void 0]=typeof a.extraReducers=="function"?Vx(a.extraReducers):[a.extraReducers],N={...b,...f.sliceCaseReducersByType};return Sk(a.initialState,S=>{for(let E in N)S.addCase(E,N[E]);for(let E of f.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of j)S.addMatcher(E.matcher,E.reducer);T&&S.addDefaultCase(T)})}const h=b=>b,m=new Map,p=new WeakMap;let g;function v(b,j){return g||(g=d()),g(b,j)}function y(){return g||(g=d()),g.getInitialState()}function x(b,j=!1){function T(S){let E=S[b];return typeof E>"u"&&j&&(E=rs(p,T,y)),E}function N(S=h){const E=rs(m,j,()=>new WeakMap);return rs(E,S,()=>{const P={};for(const[O,I]of Object.entries(a.selectors??{}))P[O]=Dk(I,S,()=>rs(p,S,y),j);return P})}return{reducerPath:b,getSelectors:N,get selectors(){return N(T)},selectSlice:T}}const w={name:s,reducer:v,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(b,{reducerPath:j,...T}={}){const N=j??o;return b.inject({reducerPath:N,reducer:v},T),{...w,...x(N,!0)}}};return w}}function Dk(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var At=Ck();function Mk(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Rk({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!Bk(n))throw new Error(Lt(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Wt(e,o):Wt(e))}function Lk(e){return e._reducerDefinitionType==="asyncThunk"}function Bk(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $k({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Lt(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:f,options:c}=r,d=a(e,s,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),l&&n.addCase(d.pending,l),u&&n.addCase(d.rejected,u),f&&n.addMatcher(d.settled,f),n.exposeCaseReducer(t,{fulfilled:o||ns,pending:l||ns,rejected:u||ns,settled:f||ns})}function ns(){}var Fk="task",Wx="listener",Kx="completed",Wd="cancelled",zk=`task-${Wd}`,Uk=`task-${Kx}`,yu=`${Wx}-${Wd}`,Hk=`${Wx}-${Kx}`,hl=class{constructor(e){dc(this,"name","TaskAbortError");dc(this,"message");this.code=e,this.message=`${Fk} ${Wd} (reason: ${e})`}},Kd=(e,t)=>{if(typeof e!="function")throw new TypeError(Lt(32))},Zs=()=>{},Yx=(e,t=Zs)=>(e.catch(t),e),Xx=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_n=e=>{if(e.aborted)throw new hl(e.reason)};function Zx(e,t){let r=Zs;return new Promise((n,a)=>{const s=()=>a(new hl(e.reason));if(e.aborted){s();return}r=Xx(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Zs})}var qk=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof hl?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qs=e=>t=>Yx(Zx(e,t).then(r=>(_n(e),r))),Qx=e=>{const t=Qs(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Jn}=Object,Qm={},ml="listenerMiddleware",Gk=(e,t)=>{const r=n=>Xx(e,()=>n.abort(e.reason));return(n,a)=>{Kd(n);const s=new AbortController;r(s);const o=qk(async()=>{_n(e),_n(s.signal);const l=await n({pause:Qs(s.signal),delay:Qx(s.signal),signal:s.signal});return _n(s.signal),l},()=>s.abort(Uk));return a!=null&&a.autoJoin&&t.push(o.catch(Zs)),{result:Qs(e)(o),cancel(){s.abort(zk)}}}},Vk=(e,t)=>{const r=async(n,a)=>{_n(t);let s=()=>{};const l=[new Promise((u,f)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),u([d,h.getState(),h.getOriginalState()])}});s=()=>{c(),f()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await Zx(t,Promise.race(l));return _n(t),u}finally{s()}};return(n,a)=>Yx(r(n,a))},Jx=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Wt(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Lt(21));return Kd(s),{predicate:a,type:t,effect:s}},eb=Jn(e=>{const{type:t,predicate:r,effect:n}=Jx(e);return{id:Ak(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Lt(22))}}},{withTypes:()=>eb}),Jm=(e,t)=>{const{type:r,effect:n,predicate:a}=Jx(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},xu=e=>{e.pending.forEach(t=>{t.abort(yu)})},Wk=(e,t)=>()=>{for(const r of t.keys())xu(r);e.clear()},e0=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tb=Jn(Wt(`${ml}/add`),{withTypes:()=>tb}),Kk=Wt(`${ml}/removeAll`),rb=Jn(Wt(`${ml}/remove`),{withTypes:()=>rb}),Yk=(...e)=>{console.error(`${ml}/error`,...e)},Ni=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:o=Yk}=e;Kd(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&xu(m)}),u=m=>{const p=Jm(t,m)??eb(m);return l(p)};Jn(u,{withTypes:()=>u});const f=m=>{const p=Jm(t,m);return p&&(p.unsubscribe(),m.cancelActive&&xu(p)),!!p};Jn(f,{withTypes:()=>f});const c=async(m,p,g,v)=>{const y=new AbortController,x=Vk(u,y.signal),w=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(p,Jn({},g,{getOriginalState:v,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:Qx(y.signal),pause:Qs(y.signal),extra:s,signal:y.signal,fork:Gk(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((b,j,T)=>{b!==y&&(b.abort(yu),T.delete(b))})},cancel:()=>{y.abort(yu),m.pending.delete(y)},throwIfCancelled:()=>{_n(y.signal)}})))}catch(b){b instanceof hl||e0(o,b,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(Hk),a(m),m.pending.delete(y)}},d=Wk(t,r);return{middleware:m=>p=>g=>{if(!ry(g))return p(g);if(tb.match(g))return u(g.payload);if(Kk.match(g)){d();return}if(rb.match(g))return f(g.payload);let v=m.getState();const y=()=>{if(v===Qm)throw new Error(Lt(23));return v};let x;try{if(x=p(g),t.size>0){const w=m.getState(),b=Array.from(t.values());for(const j of b){let T=!1;try{T=j.predicate(g,w,v)}catch(N){T=!1,e0(o,N,{raisedBy:"predicate"})}T&&c(j,g,m,y)}}}finally{v=Qm}return x},startListening:u,stopListening:f,clearListeners:d}};function Lt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xk={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nb=At({name:"chartLayout",initialState:Xk,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Zk,setLayout:Qk,setChartSize:Jk,setScale:eC}=nb.actions,tC=nb.reducer;function ab(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $e(e){return Number.isFinite(e)}function pr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(n){rC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rC(e,t,r){return(t=nC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=aC(e,"string");return typeof t=="symbol"?t:t+""}function aC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oe(e,t,r){return Me(e)||Me(t)?r:mr(t)?kn(e,t,r):typeof t=="function"?t(e):r}var iC=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&de(e[s]))return Yn(Yn({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&de(e[o]))return Yn(Yn({},e),{},{[o]:e[o]+(a||0)})}return e},on=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ib=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},sb=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:c,ticks:d,niceTicks:h,axisType:m}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(g=m==="angleAxis"&&s&&s.length>=2?ft(s[0]-s[1])*2*g:g,d||h){var v=(d||h||[]).map((y,x)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+g,value:y,offset:g,index:x}});return v.filter(y=>!sr(y.coordinate))}return u&&f?f.map((y,x)=>({coordinate:o(y)+g,value:y,index:x,offset:g})):o.ticks&&c!=null?o.ticks(c).map((y,x)=>({coordinate:o(y)+g,value:y,offset:g,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+g,value:n?n[y]:y,index:x,offset:g}))},r0=1e-4,sC=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-r0,s=Math.max(n[0],n[1])+r0,o=e(t[0]),l=e(t[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},oC=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},lC=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var u=e[l],f=u==null?void 0:u[a];if(f!=null){var c=f[1],d=f[0],h=sr(c)?d:c;h>=0?(f[0]=s,f[1]=s+h,s=c):(f[0]=o,f[1]=o+h,o=c)}}}},cC=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[a];if(u!=null){var f=sr(u[1])?u[0]:u[1];f>=0?(u[0]=s,u[1]=s+f,s=u[1]):(u[0]=0,u[1]=0)}}}},uC={sign:lC,expand:uI,none:In,silhouette:dI,wiggle:fI,positive:cC},dC=(e,t,r)=>{var n,a=(n=uC[r])!==null&&n!==void 0?n:In,s=cI().keys(t).value((l,u)=>Number(Oe(l,u,0))).order(lu).offset(a),o=s(e);return o.forEach((l,u)=>{l.forEach((f,c)=>{var d=Oe(e[c],t[u],0);Array.isArray(d)&&d.length===2&&de(d[0])&&de(d[1])&&(f[0]=d[0],f[1]=d[1])})}),o};function fC(e){return e==null?void 0:String(e)}function n0(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(a[t.dataKey])){var l=rx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Oe(a,Me(o)?t.dataKey:o);return Me(u)?null:t.scale(u)}var a0=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Oe(s,t.dataKey,t.scale.domain()[o]);return Me(l)?null:t.scale(l)-a/2+n},hC=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},mC=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},pC=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gC=(e,t,r)=>{if(e!=null)return pC(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:o}=s,l=o.reduce((u,f)=>{var c=ab(f,t,r),d=mC(c);return!$e(d[0])||!$e(d[1])?u:[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},i0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aa=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=sl(t,c=>c.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],f=a[o-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((f==null?void 0:f.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function o0(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Yn(Yn({},t),{},{dataKey:r,payload:n,value:a,name:s})}function _a(e,t){if(e)return String(e);if(typeof t=="string")return t}var vC=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yC=(e,t)=>t==="centric"?e.angle:e.radius,Br=e=>e.layout.width,$r=e=>e.layout.height,xC=e=>e.layout.scale,ob=e=>e.layout.margin,pl=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gl=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lb="data-recharts-item-index",cb="data-recharts-item-id",Ei=60;function l0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l0(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bC(e,t,r){return(t=wC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wC(e){var t=jC(e,"string");return typeof t=="symbol"?t:t+""}function jC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _C=e=>e.brush.height;function NC(e){var t=gl(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ei;return r+a}return r},0)}function EC(e){var t=gl(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ei;return r+a}return r},0)}function OC(e){var t=pl(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function TC(e){var t=pl(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nt=ee([Br,$r,ob,_C,NC,EC,OC,TC,Ix,nk],(e,t,r,n,a,s,o,l,u,f)=>{var c={left:(r.left||0)+a,right:(r.right||0)+s},d={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=as(as({},d),c),m=h.bottom;h.bottom+=n,h=iC(h,u,f);var p=e-h.left-h.right,g=t-h.top-h.bottom;return as(as({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),SC=ee(nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yd=ee(Br,$r,(e,t)=>({x:0,y:0,width:e,height:t})),PC=_.createContext(null),bt=()=>_.useContext(PC)!=null,vl=e=>e.brush,yl=ee([vl,nt,ob],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),ub={},db={},fb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),c=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},d=()=>{f&&c(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),o=void 0,l=null},v=()=>{c()},y=function(...x){if(a!=null&&a.aborted)return;o=this,l=x;const w=h==null;m(),u&&w&&c()};return y.schedule=m,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(fb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fb;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:u}=s,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let c,d=null;const h=t.debounce(function(...g){c=n.apply(this,g),d=null},a,{edges:f}),m=function(...g){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(c=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},p=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(db);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(ub);var AC=ub.throttle;const IC=Mr(AC);var Js=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},hb=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:o}=r,l=Or(n)?e:Number(n),u=Or(a)?t:Number(a);return s&&s>0&&(l?u=l/s:u&&(l=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},kC={width:0,height:0,overflow:"visible"},CC={width:0,overflowX:"visible"},DC={height:0,overflowY:"visible"},MC={},RC=e=>{var{width:t,height:r}=e,n=Or(t),a=Or(r);return n&&a?kC:n?CC:a?DC:MC};function LC(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(null,arguments)}function c0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c0(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BC(e,t,r){return(t=$C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e){var t=FC(e,"string");return typeof t=="symbol"?t:t+""}function FC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb=_.createContext({width:-1,height:-1});function zC(e){return pr(e.width)&&pr(e.height)}function pb(e){var{children:t,width:r,height:n}=e,a=_.useMemo(()=>({width:r,height:n}),[r,n]);return zC(a)?_.createElement(mb.Provider,{value:a},t):null}var Xd=()=>_.useContext(mb),UC=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:c=0,id:d,className:h,onResize:m,style:p={}}=e,g=_.useRef(null),v=_.useRef();v.current=m,_.useImperativeHandle(t,()=>g.current);var[y,x]=_.useState({containerWidth:n.width,containerHeight:n.height}),w=_.useCallback((S,E)=>{x(P=>{var O=Math.round(S),I=Math.round(E);return P.containerWidth===O&&P.containerHeight===I?P:{containerWidth:O,containerHeight:I}})},[]);_.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return wi;var S=I=>{var k,{width:A,height:M}=I[0].contentRect;w(A,M),(k=v.current)===null||k===void 0||k.call(v,A,M)};c>0&&(S=IC(S,c,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:P,height:O}=g.current.getBoundingClientRect();return w(P,O),E.observe(g.current),()=>{E.disconnect()}},[w,c]);var{containerWidth:b,containerHeight:j}=y;Js(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:N}=hb(b,j,{width:a,height:s,aspect:r,maxHeight:u});return Js(T!=null&&T>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,N,a,s,o,l,r),_.createElement("div",{id:d?"".concat(d):void 0,className:ye("recharts-responsive-container",h),style:u0(u0({},p),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:u}),ref:g},_.createElement("div",{style:RC({width:a,height:s})},_.createElement(pb,{width:T,height:N},f)))}),is=_.forwardRef((e,t)=>{var r=Xd();if(pr(r.width)&&pr(r.height))return e.children;var{width:n,height:a}=LC({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=hb(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(o)?_.createElement(pb,{width:s,height:o},e.children):_.createElement(UC,bu({},e,{width:n,height:a,ref:t}))});function gb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xl=()=>{var e,t=bt(),r=fe(SC),n=fe(yl),a=(e=fe(vl))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},HC={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vb=()=>{var e;return(e=fe(nt))!==null&&e!==void 0?e:HC},yb=()=>fe(Br),xb=()=>fe($r),we=e=>e.layout.layoutType,Na=()=>fe(we),qC=()=>{var e=Na();return e!==void 0},bl=e=>{var t=Re(),r=bt(),{width:n,height:a}=e,s=Xd(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),_.useEffect(()=>{!r&&pr(o)&&pr(l)&&t(Jk({width:o,height:l}))},[t,r,o,l]),null},bb=Symbol.for("immer-nothing"),d0=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ai=Object.getPrototypeOf;function ia(e){return!!e&&!!e[$t]}function Dn(e){var t;return e?wb(e)||Array.isArray(e)||!!e[d0]||!!((t=e.constructor)!=null&&t[d0])||Oi(e)||jl(e):!1}var GC=Object.prototype.constructor.toString(),f0=new WeakMap;function wb(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=f0.get(r);return n===void 0&&(n=Function.toString.call(r),f0.set(r,n)),n===GC}function eo(e,t,r=!0){wl(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function wl(e){const t=e[$t];return t?t.type_:Array.isArray(e)?1:Oi(e)?2:jl(e)?3:0}function wu(e,t){return wl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jb(e,t,r){const n=wl(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function VC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Oi(e){return e instanceof Map}function jl(e){return e instanceof Set}function hn(e){return e.copy_||e.base_}function ju(e,t){if(Oi(e))return new Map(e);if(jl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wb(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$t];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ai(e),n)}else{const n=ai(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Zd(e,t=!1){return _l(e)||ia(e)||!Dn(e)||(wl(e)>1&&Object.defineProperties(e,{set:ss,add:ss,clear:ss,delete:ss}),Object.freeze(e),t&&Object.values(e).forEach(r=>Zd(r,!0))),e}function WC(){tr(2)}var ss={value:WC};function _l(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KC={};function Mn(e){const t=KC[e];return t||tr(0,e),t}var ii;function _b(){return ii}function YC(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h0(e,t){t&&(Mn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _u(e){Nu(e),e.drafts_.forEach(XC),e.drafts_=null}function Nu(e){e===ii&&(ii=e.parent_)}function m0(e){return ii=YC(ii,e)}function XC(e){const t=e[$t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function p0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$t].modified_&&(_u(t),tr(4)),Dn(e)&&(e=to(t,e),t.parent_||ro(t,e)),t.patches_&&Mn("Patches").generateReplacementPatches_(r[$t].base_,e,t.patches_,t.inversePatches_)):e=to(t,r,[]),_u(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bb?e:void 0}function to(e,t,r){if(_l(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[$t];if(!a)return eo(t,(s,o)=>g0(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return ro(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),eo(o,(u,f)=>g0(e,a,s,u,f,r,l),n),ro(e,s,!1),r&&e.patches_&&Mn("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function g0(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=_l(a);if(!(l&&!o)){if(ia(a)){const u=s&&t&&t.type_!==3&&!wu(t.assigned_,n)?s.concat(n):void 0,f=to(e,a,u);if(jb(r,n,f),ia(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Dn(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;to(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Oi(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ro(e,a)}}}function ro(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zd(t,r)}function ZC(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_b(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Qd;r&&(a=[n],s=si);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var Qd={get(e,t){if(t===$t)return e;const r=hn(e);if(!wu(r,t))return QC(e,r,t);const n=r[t];return e.finalized_||!Dn(n)?n:n===wc(e.base_,t)?(jc(e),e.copy_[t]=Ou(n,e)):n},has(e,t){return t in hn(e)},ownKeys(e){return Reflect.ownKeys(hn(e))},set(e,t,r){const n=Nb(hn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=wc(hn(e),t),s=a==null?void 0:a[$t];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(VC(r,a)&&(r!==void 0||wu(e.base_,t)))return!0;jc(e),Eu(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wc(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jc(e),Eu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){tr(11)},getPrototypeOf(e){return ai(e.base_)},setPrototypeOf(){tr(12)}},si={};eo(Qd,(e,t)=>{si[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});si.deleteProperty=function(e,t){return si.set.call(this,e,t,void 0)};si.set=function(e,t,r){return Qd.set.call(this,e[0],t,r,e[0])};function wc(e,t){const r=e[$t];return(r?hn(r):e)[t]}function QC(e,t,r){var a;const n=Nb(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Nb(e,t){if(!(t in e))return;let r=ai(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ai(r)}}function Eu(e){e.modified_||(e.modified_=!0,e.parent_&&Eu(e.parent_))}function jc(e){e.copy_||(e.copy_=ju(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JC=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(u=s,...f){return o.produce(u,c=>r.call(this,c,...f))}}typeof r!="function"&&tr(6),n!==void 0&&typeof n!="function"&&tr(7);let a;if(Dn(t)){const s=m0(this),o=Ou(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?_u(s):Nu(s)}return h0(s,n),p0(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===bb&&(a=void 0),this.autoFreeze_&&Zd(a,!0),n){const s=[],o=[];Mn("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else tr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Dn(e)||tr(8),ia(e)&&(e=e3(e));const t=m0(this),r=Ou(e,void 0);return r[$t].isManual_=!0,Nu(t),r}finishDraft(e,t){const r=e&&e[$t];(!r||!r.isManual_)&&tr(9);const{scope_:n}=r;return h0(n,t),p0(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Mn("Patches").applyPatches_;return ia(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ou(e,t){const r=Oi(e)?Mn("MapSet").proxyMap_(e,t):jl(e)?Mn("MapSet").proxySet_(e,t):ZC(e,t);return(t?t.scope_:_b()).drafts_.push(r),r}function e3(e){return ia(e)||tr(10,e),Eb(e)}function Eb(e){if(!Dn(e)||_l(e))return e;const t=e[$t];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ju(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ju(e,!0);return eo(r,(a,s)=>{jb(r,a,Eb(s))},n),t&&(t.finalized_=!1),r}var t3=new JC;t3.produce;var r3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ob=At({name:"legend",initialState:r3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ir(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ke()},removeLegendPayload:{reducer(e,t){var r=ir(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ke()}}}),{setLegendSize:BV,setLegendSettings:$V,addLegendPayload:Tb,replaceLegendPayload:Sb,removeLegendPayload:Pb}=Ob.actions,n3=Ob.reducer;function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tu.apply(null,arguments)}function v0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v0(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3(e,t,r){return(t=i3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3(e){var t=s3(e,"string");return typeof t=="symbol"?t:t+""}function s3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o3(e){return Array.isArray(e)&&mr(e[0])&&mr(e[1])?e.join(" ~ "):e}var l3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},T=(l?sl(s,l):s).map((N,S)=>{if(N.type==="none")return null;var E=N.formatter||o||o3,{value:P,name:O}=N,I=P,k=O;if(E){var A=E(P,O,N,S,s);if(Array.isArray(A))[I,k]=A;else if(A!=null)I=A;else return null}var M=_c({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:M},mr(k)?_.createElement("span",{className:"recharts-tooltip-item-name"},k):null,mr(k)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},I),_.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},T)}return null},p=_c({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=_c({margin:0},a),v=!Me(c),y=v?c:"",x=ye("recharts-default-tooltip",u),w=ye("recharts-tooltip-label",f);v&&d&&s!==void 0&&s!==null&&(y=d(c,s));var b=h?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Tu({className:x,style:p},b),_.createElement("p",{className:w,style:g},_.isValidElement(y)?y:"".concat(y)),m())},La="recharts-tooltip-wrapper",c3={visibility:"hidden"};function u3(e){var{coordinate:t,translateX:r,translateY:n}=e;return ye(La,{["".concat(La,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(La,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(La,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(La,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function y0(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(s&&de(s[n]))return s[n];var c=r[n]-l-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?c:d;var h=u[n];if(h==null)return 0;if(o[n]){var m=c,p=h;return m<p?Math.max(d,h):Math.max(c,h)}if(f==null)return 0;var g=d+l,v=h+f;return g>v?Math.max(c,h):Math.max(d,h)}function d3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function f3(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,c,d;return o.height>0&&o.width>0&&r?(c=y0({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=y0({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=d3({translateX:c,translateY:d,useTranslate3d:l})):f=c3,{cssProperties:f,cssClasses:u3({translateX:c,translateY:d,coordinate:r})}}function x0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x0(Object(r),!0).forEach(function(n){Su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Su(e,t,r){return(t=h3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3(e){var t=m3(e,"string");return typeof t=="symbol"?t:t+""}function m3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class p3 extends _.PureComponent{constructor(){super(...arguments),Su(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Su(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=f3({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:c,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),b=y?{}:os(os({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=os(os({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:v},s)}}var Ab=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}function b0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(r),!0).forEach(function(n){g3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g3(e,t,r){return(t=v3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3(e){var t=y3(e,"string");return typeof t=="symbol"?t:t+""}function y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0={curveBasisClosed:Q5,curveBasisOpen:J5,curveBasis:Z5,curveBumpX:L5,curveBumpY:B5,curveLinearClosed:eI,curveLinear:Qo,curveMonotoneX:tI,curveMonotoneY:rI,curveNatural:nI,curveStep:aI,curveStepAfter:sI,curveStepBefore:iI},no=e=>$e(e.x)&&$e(e.y),_0=e=>e.base!=null&&no(e.base)&&no(e),Ba=e=>e.x,$a=e=>e.y,x3=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bi(e));return(r==="curveMonotone"||r==="curveBump")&&t?j0["".concat(r).concat(t==="vertical"?"Y":"X")]:j0[r]||Qo},b3=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,o=x3(t,a),l=s?r.filter(no):r,u;if(Array.isArray(n)){var f=r.map((m,p)=>w0(w0({},m),{},{base:n[p]}));a==="vertical"?u=Qi().y($a).x1(Ba).x0(m=>m.base.x):u=Qi().x(Ba).y1($a).y0(m=>m.base.y);var c=u.defined(_0).curve(o),d=s?f.filter(_0):f;return c(d)}a==="vertical"&&de(n)?u=Qi().y($a).x1(Ba).x0(n):de(n)?u=Qi().x(Ba).y1($a).y0(n):u=Uy().x(Ba).y($a);var h=u.defined(no).curve(o);return h(l)},Jd=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Na();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?b3(o):n;return _.createElement("path",Pu({},Bt(e),Pd(e),{className:ye("recharts-curve",t),d:l===null?void 0:l,ref:a}))},w3=["x","y","top","left","width","height","className"];function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(null,arguments)}function N0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(r),!0).forEach(function(n){_3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _3(e,t,r){return(t=N3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=E3(e,"string");return typeof t=="symbol"?t:t+""}function E3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O3(e,t){if(e==null)return{};var r,n,a=T3(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S3=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),P3=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,u=O3(e,w3),f=j3({x:t,y:r,top:n,left:a,width:s,height:o},u);return!de(t)||!de(r)||!de(s)||!de(o)||!de(n)||!de(a)?null:_.createElement("path",Au({},Nt(f),{className:ye("recharts-cross",l),d:S3(t,r,s,o,n,a)}))};function A3(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function E0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(r),!0).forEach(function(n){I3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I3(e,t,r){return(t=k3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k3(e){var t=C3(e,"string");return typeof t=="symbol"?t:t+""}function C3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ib=(e,t,r)=>e.map(n=>"".concat(D3(n)," ").concat(t,"ms ").concat(r)).join(","),M3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),oi=(e,t)=>Object.keys(t).reduce((r,n)=>O0(O0({},r),{},{[n]:e(n,t[n])}),{});function T0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(r),!0).forEach(function(n){R3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3(e,t,r){return(t=L3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=B3(e,"string");return typeof t=="symbol"?t:t+""}function B3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao=(e,t,r)=>e+(t-e)*r,Iu=e=>{var{from:t,to:r}=e;return t!==r},kb=(e,t,r)=>{var n=oi((a,s)=>{if(Iu(s)){var[o,l]=e(s.from,s.to,s.velocity);return et(et({},s),{},{from:o,velocity:l})}return s},t);return r<1?oi((a,s)=>Iu(s)&&n[a]!=null?et(et({},s),{},{velocity:ao(s.velocity,n[a].velocity,r),from:ao(s.from,n[a].from,r)}):s,t):kb(e,n,r-1)};function $3(e,t,r,n,a,s){var o,l=n.reduce((h,m)=>et(et({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),u=()=>oi((h,m)=>m.from,l),f=()=>!Object.values(l).filter(Iu).length,c=null,d=h=>{o||(o=h);var m=h-o,p=m/r.dt;l=kb(r,l,p),a(et(et(et({},e),t),u())),o=h,f()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function F3(e,t,r,n,a,s,o){var l=null,u=a.reduce((d,h)=>{var m=e[h],p=t[h];return m==null||p==null?d:et(et({},d),{},{[h]:[m,p]})},{}),f,c=d=>{f||(f=d);var h=(d-f)/n,m=oi((g,v)=>ao(...v,r(h)),u);if(s(et(et(et({},e),t),m)),h<1)l=o.setTimeout(c);else{var p=oi((g,v)=>ao(...v,r(1)),u);s(et(et(et({},e),t),p))}};return()=>(l=o.setTimeout(c),()=>{var d;(d=l)===null||d===void 0||d()})}const z3=(e,t,r,n,a,s)=>{var o=M3(e,t);return r==null?()=>(a(et(et({},e),t)),()=>{}):r.isStepper===!0?$3(e,t,r,o,a,s):F3(e,t,r,n,o,a,s)};var io=1e-4,Cb=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Db=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),S0=(e,t)=>r=>{var n=Cb(e,t);return Db(n,r)},U3=(e,t)=>r=>{var n=Cb(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return Db(a,r)},H3=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},q3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=H3(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},G3=(e,t,r,n)=>{var a=S0(e,r),s=S0(t,n),o=U3(e,r),l=f=>f>1?1:f<0?0:f,u=f=>{for(var c=f>1?1:f,d=c,h=0;h<8;++h){var m=a(d)-c,p=o(d);if(Math.abs(m-c)<io||p<io)return s(d);d=l(d-m/p)}return s(d)};return u.isStepper=!1,u},P0=function(){return G3(...q3(...arguments))},V3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,u)=>{var f=-(o-l)*r,c=u*n,d=u+(f-c)*a/1e3,h=u*a/1e3+o;return Math.abs(h-l)<io&&Math.abs(d)<io?[l,0]:[h,d]};return s.isStepper=!0,s.dt=a,s},W3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P0(e);case"spring":return V3();default:if(e.split("(")[0]==="cubic-bezier")return P0(e)}return typeof e=="function"?e:null};function K3(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){a=e.setTimeout(s.bind(null,f),u);return}s(u),a=e.setTimeout(s.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Y3{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function X3(){return K3(new Y3)}var Z3=_.createContext(X3);function Q3(e,t){var r=_.useContext(Z3);return _.useMemo(()=>t??r(e),[e,t,r])}var J3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nl={isSsr:J3()},e4={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},A0={t:0},Nc={t:1};function Ti(e){var t=mt(e,e4),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,c=r==="auto"?!Nl.isSsr:r,d=Q3(t.animationId,t.animationManager),[h,m]=_.useState(c?A0:Nc),p=_.useRef(null);return _.useEffect(()=>{c||m(Nc)},[c]),_.useEffect(()=>{if(!c||!n)return wi;var g=z3(A0,Nc,W3(s),a,m,d.getTimeoutController()),v=()=>{p.current=g()};return d.start([u,o,v,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[c,n,a,s,o,u,l,d]),f(h.t)}function Si(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(ei(t)),n=_.useRef(e);return n.current!==e&&(r.current=ei(t),n.current=e),r.current}var t4=["radius"],r4=["radius"],I0,k0,C0,D0,M0,R0,L0,B0,$0,F0;function z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z0(Object(r),!0).forEach(function(n){n4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4(e,t,r){return(t=a4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4(e){var t=i4(e,"string");return typeof t=="symbol"?t:t+""}function i4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(null,arguments)}function H0(e,t){if(e==null)return{};var r,n,a=s4(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ur(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q0=(e,t,r,n,a)=>{var s=Zr(r),o=Zr(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),u=o>=0?1:-1,f=s>=0?1:-1,c=o>=0&&s>=0||o<0&&s<0?1:0,d;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>l?l:a[m];d=Ue(I0||(I0=ur(["M",",",""])),e,t+u*h[0]),h[0]>0&&(d+=Ue(k0||(k0=ur(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+f*h[0],t)),d+=Ue(C0||(C0=ur(["L ",",",""])),e+r-f*h[1],t),h[1]>0&&(d+=Ue(D0||(D0=ur(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+u*h[1])),d+=Ue(M0||(M0=ur(["L ",",",""])),e+r,t+n-u*h[2]),h[2]>0&&(d+=Ue(R0||(R0=ur(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-f*h[2],t+n)),d+=Ue(L0||(L0=ur(["L ",",",""])),e+f*h[3],t+n),h[3]>0&&(d+=Ue(B0||(B0=ur(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-u*h[3])),d+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);d=Ue($0||($0=ur(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*g,g,g,c,e+f*g,t,e+r-f*g,t,g,g,c,e+r,t+u*g,e+r,t+n-u*g,g,g,c,e+r-f*g,t+n,e+f*g,t+n,g,g,c,e,t+n-u*g)}else d=Ue(F0||(F0=ur(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},G0={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mb=e=>{var t=mt(e,G0),r=_.useRef(null),[n,a]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:o,width:l,height:u,radius:f,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=_.useRef(l),y=_.useRef(u),x=_.useRef(s),w=_.useRef(o),b=_.useMemo(()=>({x:s,y:o,width:l,height:u,radius:f}),[s,o,l,u,f]),j=Si(b,"rectangle-");if(s!==+s||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var T=ye("recharts-rectangle",c);if(!g){var N=Nt(t),{radius:S}=N,E=H0(N,t4);return _.createElement("path",so({},E,{x:Zr(s),y:Zr(o),width:Zr(l),height:Zr(u),radius:typeof f=="number"?f:void 0,className:T,d:q0(s,o,l,u,f)}))}var P=v.current,O=y.current,I=x.current,k=w.current,A="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),R=Ib(["strokeDasharray"],h,typeof d=="string"?d:G0.animationEasing);return _.createElement(Ti,{animationId:j,key:j,canBegin:n>0,duration:h,easing:d,isActive:g,begin:m},D=>{var q=Ce(P,l,D),F=Ce(O,u,D),$=Ce(I,s,D),C=Ce(k,o,D);r.current&&(v.current=q,y.current=F,x.current=$,w.current=C);var L;p?D>0?L={transition:R,strokeDasharray:M}:L={strokeDasharray:A}:L={strokeDasharray:M};var z=Nt(t),{radius:W}=z,V=H0(z,r4);return _.createElement("path",so({},V,{radius:typeof f=="number"?f:void 0,className:T,d:q0($,C,q,F,f),ref:r,style:U0(U0({},L),t.style)}))})};function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){o4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4(e,t,r){return(t=l4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4(e){var t=c4(e,"string");return typeof t=="symbol"?t:t+""}function c4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oo=Math.PI/180,u4=e=>e*180/Math.PI,Xe=(e,t,r,n)=>({x:e+Math.cos(-oo*n)*r,y:t+Math.sin(-oo*n)*r}),Rb=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},d4=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},f4=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=d4({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>s&&(u=2*Math.PI-u),{radius:o,angle:u4(u),angleInRadian:u}},h4=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},m4=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},p4=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=f4({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:f}=h4(t),c=s,d;if(u<=f){for(;c>f;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=f}else{for(;c>u;)c-=360;for(;c<f;)c+=360;d=c>=f&&c<=u}return d?W0(W0({},t),{},{radius:a,angle:m4(c,t)}):null};function Lb(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=Xe(t,r,n,a),l=Xe(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var K0,Y0,X0,Z0,Q0,J0,ep;function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}function pn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g4=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ls=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+n,c=Math.asin(l/f)/oo,d=u?a:a+s*c,h=Xe(t,r,f,d),m=Xe(t,r,n,d),p=u?a-s*c:a,g=Xe(t,r,f*Math.cos(c*oo),p);return{center:h,circleTangency:m,lineTangency:g,theta:c}},Bb=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=g4(s,o),u=s+l,f=Xe(t,r,a,s),c=Xe(t,r,a,u),d=Ue(K0||(K0=pn(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(l)>180),+(s>u),c.x,c.y);if(n>0){var h=Xe(t,r,n,s),m=Xe(t,r,n,u);d+=Ue(Y0||(Y0=pn(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(s<=u),h.x,h.y)}else d+=Ue(X0||(X0=pn(["L ",","," Z"])),t,r);return d},v4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,c=ft(f-u),{circleTangency:d,lineTangency:h,theta:m}=ls({cx:t,cy:r,radius:a,angle:u,sign:c,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:v}=ls({cx:t,cy:r,radius:a,angle:f,sign:-c,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(u-f):Math.abs(u-f)-m-v;if(y<0)return o?Ue(Z0||(Z0=pn(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):Bb({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var x=Ue(Q0||(Q0=pn(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(c<0),d.x,d.y,a,a,+(y>180),+(c<0),p.x,p.y,s,s,+(c<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:b,theta:j}=ls({cx:t,cy:r,radius:n,angle:u,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:T,lineTangency:N,theta:S}=ls({cx:t,cy:r,radius:n,angle:f,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=l?Math.abs(u-f):Math.abs(u-f)-j-S;if(E<0&&s===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+=Ue(J0||(J0=pn(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(c<0),T.x,T.y,n,n,+(E>180),+(c>0),w.x,w.y,s,s,+(c<0),b.x,b.y)}else x+=Ue(ep||(ep=pn(["L",",","Z"])),t,r);return x},y4={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$b=e=>{var t=mt(e,y4),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c,className:d}=t;if(s<a||f===c)return null;var h=ye("recharts-sector",d),m=s-a,p=xt(o,m,0,!0),g;return p>0&&Math.abs(f-c)<360?g=v4({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):g=Bb({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:c}),_.createElement("path",ku({},Nt(t),{className:h,d:g}))};function x4(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ix(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,u=Xe(n,a,s,l),f=Xe(n,a,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return Lb(t)}}var Fb={},zb={},Ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ub);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zd,r=zb;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=a,a+=o;return u}e.range=n})(Fb);var b4=Fb.range;const Hb=Mr(b4);function Jr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w4(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ef(e){let t,r,n;e.length!==2?(t=Jr,r=(l,u)=>Jr(e(l),u),n=(l,u)=>e(l)-u):(t=e===Jr||e===w4?e:j4,r=e,n=e);function a(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<0?f=d+1:c=d}while(f<c)}return f}function s(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const d=f+c>>>1;r(l[d],u)<=0?f=d+1:c=d}while(f<c)}return f}function o(l,u,f=0,c=l.length){const d=a(l,u,f,c-1);return d>f&&n(l[d-1],u)>-n(l[d],u)?d-1:d}return{left:a,center:o,right:s}}function j4(){return 0}function qb(e){return e===null?NaN:+e}function*_4(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const N4=ef(Jr),Pi=N4.right;ef(qb).center;class tp extends Map{constructor(t,r=T4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(rp(this,t))}has(t){return super.has(rp(this,t))}set(t,r){return super.set(E4(this,t),r)}delete(t){return super.delete(O4(this,t))}}function rp({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function E4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function O4({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function T4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S4(e=Jr){if(e===Jr)return Gb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Gb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const P4=Math.sqrt(50),A4=Math.sqrt(10),I4=Math.sqrt(2);function lo(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=P4?10:s>=A4?5:s>=I4?2:1;let l,u,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?lo(e,t,r*2):[l,u,f]}function Cu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?lo(t,e,r):lo(e,t,r);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(s-f)/-o;else for(let f=0;f<l;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(a+f)/-o;else for(let f=0;f<l;++f)u[f]=(a+f)*o;return u}function Du(e,t,r){return t=+t,e=+e,r=+r,lo(e,t,r)[2]}function Mu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Du(t,e,r):Du(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function np(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ap(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Vb(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Gb:S4(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,c=Math.log(u),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(u-d)/u)*(f-u/2<0?-1:1),m=Math.max(r,Math.floor(t-f*d/u+h)),p=Math.min(n,Math.floor(t+(u-f)*d/u+h));Vb(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(Fa(e,r,t),a(e[n],s)>0&&Fa(e,r,n);o<l;){for(Fa(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Fa(e,r,l):(++l,Fa(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Fa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function k4(e,t,r){if(e=Float64Array.from(_4(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ap(e);if(t>=1)return np(e);var n,a=(n-1)*t,s=Math.floor(a),o=np(Vb(e,s).subarray(0,s+1)),l=ap(e.subarray(s+1));return o+(l-o)*(a-s)}}function C4(e,t,r=qb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function D4(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Xt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ru=Symbol("implicit");function tf(){var e=new tp,t=[],r=[],n=Ru;function a(s){let o=e.get(s);if(o===void 0){if(n!==Ru)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new tp;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return tf(t,r).unknown(n)},Xt.apply(a,arguments),a}function rf(){var e=tf().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,u=0,f=0,c=.5;delete e.unknown;function d(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-u+f*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-u))*c,o=s*(1-u),l&&(p=Math.round(p),o=Math.round(o));var v=D4(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,f=+h),d()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},e.paddingOuter=function(h){return arguments.length?(f=+h,d()):f},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return rf(t(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(c)},Xt.apply(d(),arguments)}function Wb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wb(t())},e}function M4(){return Wb(rf.apply(null,arguments).paddingInner(1))}function nf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Kb(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ai(){}var li=.7,co=1/li,ea="\\s*([+-]?\\d+)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R4=/^#([0-9a-f]{3,8})$/,L4=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),B4=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),$4=new RegExp(`^rgba\\(${ea},${ea},${ea},${ci}\\)$`),F4=new RegExp(`^rgba\\(${hr},${hr},${hr},${ci}\\)$`),z4=new RegExp(`^hsl\\(${ci},${hr},${hr}\\)$`),U4=new RegExp(`^hsla\\(${ci},${hr},${hr},${ci}\\)$`),ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nf(Ai,ui,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sp,formatHex:sp,formatHex8:H4,formatHsl:q4,formatRgb:op,toString:op});function sp(){return this.rgb().formatHex()}function H4(){return this.rgb().formatHex8()}function q4(){return Yb(this).formatHsl()}function op(){return this.rgb().formatRgb()}function ui(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=R4.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lp(t):r===3?new Pt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L4.exec(e))?new Pt(t[1],t[2],t[3],1):(t=B4.exec(e))?new Pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$4.exec(e))?cs(t[1],t[2],t[3],t[4]):(t=F4.exec(e))?cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z4.exec(e))?dp(t[1],t[2]/100,t[3]/100,1):(t=U4.exec(e))?dp(t[1],t[2]/100,t[3]/100,t[4]):ip.hasOwnProperty(e)?lp(ip[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function lp(e){return new Pt(e>>16&255,e>>8&255,e&255,1)}function cs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pt(e,t,r,n)}function G4(e){return e instanceof Ai||(e=ui(e)),e?(e=e.rgb(),new Pt(e.r,e.g,e.b,e.opacity)):new Pt}function Lu(e,t,r,n){return arguments.length===1?G4(e):new Pt(e,t,r,n??1)}function Pt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nf(Pt,Lu,Kb(Ai,{brighter(e){return e=e==null?co:Math.pow(co,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?li:Math.pow(li,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pt(Nn(this.r),Nn(this.g),Nn(this.b),uo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cp,formatHex:cp,formatHex8:V4,formatRgb:up,toString:up}));function cp(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}`}function V4(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}${gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function up(){const e=uo(this.opacity);return`${e===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${e===1?")":`, ${e})`}`}function uo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gn(e){return e=Nn(e),(e<16?"0":"")+e.toString(16)}function dp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new rr(e,t,r,n)}function Yb(e){if(e instanceof rr)return new rr(e.h,e.s,e.l,e.opacity);if(e instanceof Ai||(e=ui(e)),!e)return new rr;if(e instanceof rr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new rr(o,l,u,e.opacity)}function W4(e,t,r,n){return arguments.length===1?Yb(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nf(rr,W4,Kb(Ai,{brighter(e){return e=e==null?co:Math.pow(co,e),new rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?li:Math.pow(li,e),new rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pt(Ec(e>=240?e-240:e+120,a,n),Ec(e,a,n),Ec(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new rr(fp(this.h),us(this.s),us(this.l),uo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uo(this.opacity);return`${e===1?"hsl(":"hsla("}${fp(this.h)}, ${us(this.s)*100}%, ${us(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fp(e){return e=(e||0)%360,e<0?e+360:e}function us(e){return Math.max(0,Math.min(1,e||0))}function Ec(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const af=e=>()=>e;function K4(e,t){return function(r){return e+r*t}}function Y4(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function X4(e){return(e=+e)==1?Xb:function(t,r){return r-t?Y4(t,r,e):af(isNaN(t)?r:t)}}function Xb(e,t){var r=t-e;return r?K4(e,r):af(isNaN(e)?t:e)}const hp=function e(t){var r=X4(t);function n(a,s){var o=r((a=Lu(a)).r,(s=Lu(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),f=Xb(a.opacity,s.opacity);return function(c){return a.r=o(c),a.g=l(c),a.b=u(c),a.opacity=f(c),a+""}}return n.gamma=e,n}(1);function Z4(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Q4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J4(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ea(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function eD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fo(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tD(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ea(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Bu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oc=new RegExp(Bu.source,"g");function rD(e){return function(){return e}}function nD(e){return function(t){return e(t)+""}}function aD(e,t){var r=Bu.lastIndex=Oc.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Bu.exec(e))&&(a=Oc.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:fo(n,a)})),r=Oc.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?nD(u[0].x):rD(t):(t=u.length,function(f){for(var c=0,d;c<t;++c)l[(d=u[c]).i]=d.x(f);return l.join("")})}function Ea(e,t){var r=typeof t,n;return t==null||r==="boolean"?af(t):(r==="number"?fo:r==="string"?(n=ui(t))?(t=n,hp):aD:t instanceof ui?hp:t instanceof Date?eD:Q4(t)?Z4:Array.isArray(t)?J4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tD:fo)(e,t)}function sf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iD(e,t){t===void 0&&(t=e,e=Ea);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function sD(e){return function(){return e}}function ho(e){return+e}var mp=[0,1];function _t(e){return e}function $u(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sD(isNaN(t)?NaN:.5)}function oD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lD(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=$u(a,n),s=r(o,s)):(n=$u(n,a),s=r(s,o)),function(l){return s(n(l))}}function cD(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=$u(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Pi(e,l,1,n)-1;return s[u](a[u](l))}}function Ii(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function El(){var e=mp,t=mp,r=Ea,n,a,s,o=_t,l,u,f;function c(){var h=Math.min(e.length,t.length);return o!==_t&&(o=oD(e[0],e[h-1])),l=h>2?cD:lD,u=f=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((f||(f=l(t,e.map(n),fo)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,ho),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=sf,c()},d.clamp=function(h){return arguments.length?(o=h?!0:_t,c()):o!==_t},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return n=h,a=m,c()}}function of(){return El()(_t,_t)}function uD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function sa(e){return e=mo(Math.abs(e)),e?e[1]:NaN}function dD(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function fD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function di(e){if(!(t=hD.exec(e)))throw new Error("invalid format: "+e);var t;return new lf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}di.prototype=lf.prototype;function lf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mD(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zb;function pD(e,t){var r=mo(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Zb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+mo(e,Math.max(0,t+s-1))[0]}function pp(e,t){var r=mo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const gp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pp(e*100,t),r:pp,s:pD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vp(e){return e}var yp=Array.prototype.map,xp=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gD(e){var t=e.grouping===void 0||e.thousands===void 0?vp:dD(yp.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?vp:fD(yp.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(d){d=di(d);var h=d.fill,m=d.align,p=d.sign,g=d.symbol,v=d.zero,y=d.width,x=d.comma,w=d.precision,b=d.trim,j=d.type;j==="n"?(x=!0,j="g"):gp[j]||(w===void 0&&(w=12),b=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=g==="$"?n:/[%p]/.test(j)?o:"",S=gp[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(O){var I=T,k=N,A,M,R;if(j==="c")k=S(O)+k,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?u:S(Math.abs(O),w),b&&(O=mD(O)),D&&+O==0&&p!=="+"&&(D=!1),I=(D?p==="("?p:l:p==="-"||p==="("?"":p)+I,k=(j==="s"?xp[8+Zb/3]:"")+k+(D&&p==="("?")":""),E){for(A=-1,M=O.length;++A<M;)if(R=O.charCodeAt(A),48>R||R>57){k=(R===46?a+O.slice(A+1):O.slice(A))+k,O=O.slice(0,A);break}}}x&&!v&&(O=t(O,1/0));var q=I.length+O.length+k.length,F=q<y?new Array(y-q+1).join(h):"";switch(x&&v&&(O=t(F+O,F.length?y-k.length:1/0),F=""),m){case"<":O=I+O+k+F;break;case"=":O=I+F+O+k;break;case"^":O=F.slice(0,q=F.length>>1)+I+O+k+F.slice(q);break;default:O=F+I+O+k;break}return s(O)}return P.toString=function(){return d+""},P}function c(d,h){var m=f((d=di(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(sa(h)/3)))*3,g=Math.pow(10,-p),v=xp[8+p/3];return function(y){return m(g*y)+v}}return{format:f,formatPrefix:c}}var ds,cf,Qb;vD({thousands:",",grouping:[3],currency:["$",""]});function vD(e){return ds=gD(e),cf=ds.format,Qb=ds.formatPrefix,ds}function yD(e){return Math.max(0,-sa(Math.abs(e)))}function xD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sa(t)/3)))*3-sa(Math.abs(e)))}function bD(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sa(t)-sa(e))+1}function Jb(e,t,r,n){var a=Mu(e,t,r),s;switch(n=di(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=xD(a,o))&&(n.precision=s),Qb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=bD(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=yD(a))&&(n.precision=s-(n.type==="%")*2);break}}return cf(n)}function ln(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Jb(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u,f,c=10;for(l<o&&(f=o,o=l,l=f,f=a,a=s,s=f);c-- >0;){if(f=Du(o,l,r),f===u)return n[a]=o,n[s]=l,t(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function e1(){var e=of();return e.copy=function(){return Ii(e,e1())},Xt.apply(e,arguments),ln(e)}function t1(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ho),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return t1(e).unknown(t)},e=arguments.length?Array.from(e,ho):[0,1],ln(r)}function r1(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function bp(e){return Math.log(e)}function wp(e){return Math.exp(e)}function wD(e){return-Math.log(-e)}function jD(e){return-Math.exp(-e)}function _D(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ND(e){return e===10?_D:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ED(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jp(e){return(t,r)=>-e(-t,r)}function uf(e){const t=e(bp,wp),r=t.domain;let n=10,a,s;function o(){return a=ED(n),s=ND(n),r()[0]<0?(a=jp(a),s=jp(s),e(wD,jD)):e(bp,wp),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let f=u[0],c=u[u.length-1];const d=c<f;d&&([f,c]=[c,f]);let h=a(f),m=a(c),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),f>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<f)){if(g>c)break;y.push(g)}y.length*2<v&&(y=Cu(f,c,v))}else y=Cu(h,m,Math.min(m-h,v)).map(s);return d?y.reverse():y},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=di(u)).precision==null&&(u.trim=!0),u=cf(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return c=>{let d=c/s(Math.round(a(c)));return d*n<n-.5&&(d*=n),d<=f?u(c):""}},t.nice=()=>r(r1(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function n1(){const e=uf(El()).domain([1,10]);return e.copy=()=>Ii(e,n1()).base(e.base()),Xt.apply(e,arguments),e}function _p(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Np(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function df(e){var t=1,r=e(_p(t),Np(t));return r.constant=function(n){return arguments.length?e(_p(t=+n),Np(t)):t},ln(r)}function a1(){var e=df(El());return e.copy=function(){return Ii(e,a1()).constant(e.constant())},Xt.apply(e,arguments)}function Ep(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TD(e){return e<0?-e*e:e*e}function ff(e){var t=e(_t,_t),r=1;function n(){return r===1?e(_t,_t):r===.5?e(OD,TD):e(Ep(r),Ep(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ln(t)}function hf(){var e=ff(El());return e.copy=function(){return Ii(e,hf()).exponent(e.exponent())},Xt.apply(e,arguments),e}function SD(){return hf.apply(null,arguments).exponent(.5)}function Op(e){return Math.sign(e)*e*e}function PD(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function i1(){var e=of(),t=[0,1],r=!1,n;function a(s){var o=PD(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(Op(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ho)).map(Op)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return i1(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xt.apply(a,arguments),ln(a)}function s1(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=C4(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Pi(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Jr),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return s1().domain(e).range(t).unknown(n)},Xt.apply(s,arguments)}function o1(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(u){return u!=null&&u<=u?a[Pi(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return o1().domain([e,t]).range(a).unknown(s)},Xt.apply(ln(o),arguments)}function l1(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Pi(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return l1().domain(e).range(t).unknown(r)},Xt.apply(a,arguments)}const Tc=new Date,Sc=new Date;function at(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const u=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let f;do u.push(f=new Date(+s)),t(s,l),e(s);while(f<s&&s<o);return u},a.filter=s=>at(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Tc.setTime(+s),Sc.setTime(+o),e(Tc),e(Sc),Math.floor(r(Tc,Sc))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const po=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);po.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):po);po.range;const jr=1e3,Gt=jr*60,_r=Gt*60,Sr=_r*24,mf=Sr*7,Tp=Sr*30,Pc=Sr*365,vn=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCSeconds());vn.range;const pf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jr)},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getMinutes());pf.range;const gf=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getUTCMinutes());gf.range;const vf=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jr-e.getMinutes()*Gt)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getHours());vf.range;const yf=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCHours());yf.range;const ki=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gt)/Sr,e=>e.getDate()-1);ki.range;const Ol=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sr,e=>e.getUTCDate()-1);Ol.range;const c1=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sr,e=>Math.floor(e/Sr));c1.range;function $n(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gt)/mf)}const Tl=$n(0),go=$n(1),AD=$n(2),ID=$n(3),oa=$n(4),kD=$n(5),CD=$n(6);Tl.range;go.range;AD.range;ID.range;oa.range;kD.range;CD.range;function Fn(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mf)}const Sl=Fn(0),vo=Fn(1),DD=Fn(2),MD=Fn(3),la=Fn(4),RD=Fn(5),LD=Fn(6);Sl.range;vo.range;DD.range;MD.range;la.range;RD.range;LD.range;const xf=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xf.range;const bf=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bf.range;const Pr=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pr.range;const Ar=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ar.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ar.range;function u1(e,t,r,n,a,s){const o=[[vn,1,jr],[vn,5,5*jr],[vn,15,15*jr],[vn,30,30*jr],[s,1,Gt],[s,5,5*Gt],[s,15,15*Gt],[s,30,30*Gt],[a,1,_r],[a,3,3*_r],[a,6,6*_r],[a,12,12*_r],[n,1,Sr],[n,2,2*Sr],[r,1,mf],[t,1,Tp],[t,3,3*Tp],[e,1,Pc]];function l(f,c,d){const h=c<f;h&&([f,c]=[c,f]);const m=d&&typeof d.range=="function"?d:u(f,c,d),p=m?m.range(f,+c+1):[];return h?p.reverse():p}function u(f,c,d){const h=Math.abs(c-f)/d,m=ef(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Mu(f/Pc,c/Pc,d));if(m===0)return po.every(Math.max(Mu(f,c,d),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,u]}const[BD,$D]=u1(Ar,bf,Sl,c1,yf,gf),[FD,zD]=u1(Pr,xf,Tl,ki,vf,pf);function Ac(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ic(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function za(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UD(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Ua(a),c=Ha(a),d=Ua(s),h=Ha(s),m=Ua(o),p=Ha(o),g=Ua(l),v=Ha(l),y=Ua(u),x=Ha(u),w={a:D,A:q,b:F,B:$,c:null,d:Cp,e:Cp,f:dM,g:wM,G:_M,H:lM,I:cM,j:uM,L:d1,m:fM,M:hM,p:C,q:L,Q:Rp,s:Lp,S:mM,u:pM,U:gM,V:vM,w:yM,W:xM,x:null,X:null,y:bM,Y:jM,Z:NM,"%":Mp},b={a:z,A:W,b:V,B,c:null,d:Dp,e:Dp,f:SM,g:BM,G:FM,H:EM,I:OM,j:TM,L:h1,m:PM,M:AM,p:H,q:Z,Q:Rp,s:Lp,S:IM,u:kM,U:CM,V:DM,w:MM,W:RM,x:null,X:null,y:LM,Y:$M,Z:zM,"%":Mp},j={a:P,A:O,b:I,B:k,c:A,d:Ip,e:Ip,f:aM,g:Ap,G:Pp,H:kp,I:kp,j:eM,L:nM,m:JD,M:tM,p:E,q:QD,Q:sM,s:oM,S:rM,u:WD,U:KD,V:YD,w:VD,W:XD,x:M,X:R,y:Ap,Y:Pp,Z:ZD,"%":iM};w.x=T(r,w),w.X=T(n,w),w.c=T(t,w),b.x=T(r,b),b.X=T(n,b),b.c=T(t,b);function T(U,Q){return function(ne){var te=[],he=-1,ce=0,ge=U.length,Y,K,G;for(ne instanceof Date||(ne=new Date(+ne));++he<ge;)U.charCodeAt(he)===37&&(te.push(U.slice(ce,he)),(K=Sp[Y=U.charAt(++he)])!=null?Y=U.charAt(++he):K=Y==="e"?" ":"0",(G=Q[Y])&&(Y=G(ne,K)),te.push(Y),ce=he+1);return te.push(U.slice(ce,he)),te.join("")}}function N(U,Q){return function(ne){var te=za(1900,void 0,1),he=S(te,U,ne+="",0),ce,ge;if(he!=ne.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Q&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ce=Ic(za(te.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?vo.ceil(ce):vo(ce),ce=Ol.offset(ce,(te.V-1)*7),te.y=ce.getUTCFullYear(),te.m=ce.getUTCMonth(),te.d=ce.getUTCDate()+(te.w+6)%7):(ce=Ac(za(te.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?go.ceil(ce):go(ce),ce=ki.offset(ce,(te.V-1)*7),te.y=ce.getFullYear(),te.m=ce.getMonth(),te.d=ce.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ge="Z"in te?Ic(za(te.y,0,1)).getUTCDay():Ac(za(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ge+5)%7:te.w+te.U*7-(ge+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Ic(te)):Ac(te)}}function S(U,Q,ne,te){for(var he=0,ce=Q.length,ge=ne.length,Y,K;he<ce;){if(te>=ge)return-1;if(Y=Q.charCodeAt(he++),Y===37){if(Y=Q.charAt(he++),K=j[Y in Sp?Q.charAt(he++):Y],!K||(te=K(U,ne,te))<0)return-1}else if(Y!=ne.charCodeAt(te++))return-1}return te}function E(U,Q,ne){var te=f.exec(Q.slice(ne));return te?(U.p=c.get(te[0].toLowerCase()),ne+te[0].length):-1}function P(U,Q,ne){var te=m.exec(Q.slice(ne));return te?(U.w=p.get(te[0].toLowerCase()),ne+te[0].length):-1}function O(U,Q,ne){var te=d.exec(Q.slice(ne));return te?(U.w=h.get(te[0].toLowerCase()),ne+te[0].length):-1}function I(U,Q,ne){var te=y.exec(Q.slice(ne));return te?(U.m=x.get(te[0].toLowerCase()),ne+te[0].length):-1}function k(U,Q,ne){var te=g.exec(Q.slice(ne));return te?(U.m=v.get(te[0].toLowerCase()),ne+te[0].length):-1}function A(U,Q,ne){return S(U,t,Q,ne)}function M(U,Q,ne){return S(U,r,Q,ne)}function R(U,Q,ne){return S(U,n,Q,ne)}function D(U){return o[U.getDay()]}function q(U){return s[U.getDay()]}function F(U){return u[U.getMonth()]}function $(U){return l[U.getMonth()]}function C(U){return a[+(U.getHours()>=12)]}function L(U){return 1+~~(U.getMonth()/3)}function z(U){return o[U.getUTCDay()]}function W(U){return s[U.getUTCDay()]}function V(U){return u[U.getUTCMonth()]}function B(U){return l[U.getUTCMonth()]}function H(U){return a[+(U.getUTCHours()>=12)]}function Z(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Q=T(U+="",w);return Q.toString=function(){return U},Q},parse:function(U){var Q=N(U+="",!1);return Q.toString=function(){return U},Q},utcFormat:function(U){var Q=T(U+="",b);return Q.toString=function(){return U},Q},utcParse:function(U){var Q=N(U+="",!0);return Q.toString=function(){return U},Q}}}var Sp={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,HD=/^%/,qD=/[\\^$*+?|[\]().{}]/g;function _e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function GD(e){return e.replace(qD,"\\$&")}function Ua(e){return new RegExp("^(?:"+e.map(GD).join("|")+")","i")}function Ha(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function WD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function YD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Pp(e,t,r){var n=pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ap(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ZD(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QD(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function JD(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ip(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function eM(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function kp(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function tM(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function rM(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nM(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function aM(e,t,r){var n=pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iM(e,t,r){var n=HD.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sM(e,t,r){var n=pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oM(e,t,r){var n=pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Cp(e,t){return _e(e.getDate(),t,2)}function lM(e,t){return _e(e.getHours(),t,2)}function cM(e,t){return _e(e.getHours()%12||12,t,2)}function uM(e,t){return _e(1+ki.count(Pr(e),e),t,3)}function d1(e,t){return _e(e.getMilliseconds(),t,3)}function dM(e,t){return d1(e,t)+"000"}function fM(e,t){return _e(e.getMonth()+1,t,2)}function hM(e,t){return _e(e.getMinutes(),t,2)}function mM(e,t){return _e(e.getSeconds(),t,2)}function pM(e){var t=e.getDay();return t===0?7:t}function gM(e,t){return _e(Tl.count(Pr(e)-1,e),t,2)}function f1(e){var t=e.getDay();return t>=4||t===0?oa(e):oa.ceil(e)}function vM(e,t){return e=f1(e),_e(oa.count(Pr(e),e)+(Pr(e).getDay()===4),t,2)}function yM(e){return e.getDay()}function xM(e,t){return _e(go.count(Pr(e)-1,e),t,2)}function bM(e,t){return _e(e.getFullYear()%100,t,2)}function wM(e,t){return e=f1(e),_e(e.getFullYear()%100,t,2)}function jM(e,t){return _e(e.getFullYear()%1e4,t,4)}function _M(e,t){var r=e.getDay();return e=r>=4||r===0?oa(e):oa.ceil(e),_e(e.getFullYear()%1e4,t,4)}function NM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function Dp(e,t){return _e(e.getUTCDate(),t,2)}function EM(e,t){return _e(e.getUTCHours(),t,2)}function OM(e,t){return _e(e.getUTCHours()%12||12,t,2)}function TM(e,t){return _e(1+Ol.count(Ar(e),e),t,3)}function h1(e,t){return _e(e.getUTCMilliseconds(),t,3)}function SM(e,t){return h1(e,t)+"000"}function PM(e,t){return _e(e.getUTCMonth()+1,t,2)}function AM(e,t){return _e(e.getUTCMinutes(),t,2)}function IM(e,t){return _e(e.getUTCSeconds(),t,2)}function kM(e){var t=e.getUTCDay();return t===0?7:t}function CM(e,t){return _e(Sl.count(Ar(e)-1,e),t,2)}function m1(e){var t=e.getUTCDay();return t>=4||t===0?la(e):la.ceil(e)}function DM(e,t){return e=m1(e),_e(la.count(Ar(e),e)+(Ar(e).getUTCDay()===4),t,2)}function MM(e){return e.getUTCDay()}function RM(e,t){return _e(vo.count(Ar(e)-1,e),t,2)}function LM(e,t){return _e(e.getUTCFullYear()%100,t,2)}function BM(e,t){return e=m1(e),_e(e.getUTCFullYear()%100,t,2)}function $M(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function FM(e,t){var r=e.getUTCDay();return e=r>=4||r===0?la(e):la.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function zM(){return"+0000"}function Mp(){return"%"}function Rp(e){return+e}function Lp(e){return Math.floor(+e/1e3)}var Gn,p1,g1;UM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UM(e){return Gn=UD(e),p1=Gn.format,Gn.parse,g1=Gn.utcFormat,Gn.utcParse,Gn}function HM(e){return new Date(e)}function qM(e){return e instanceof Date?+e:+new Date(+e)}function wf(e,t,r,n,a,s,o,l,u,f){var c=of(),d=c.invert,h=c.domain,m=f(".%L"),p=f(":%S"),g=f("%I:%M"),v=f("%I %p"),y=f("%a %d"),x=f("%b %d"),w=f("%B"),b=f("%Y");function j(T){return(u(T)<T?m:l(T)<T?p:o(T)<T?g:s(T)<T?v:n(T)<T?a(T)<T?y:x:r(T)<T?w:b)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?h(Array.from(T,qM)):h().map(HM)},c.ticks=function(T){var N=h();return e(N[0],N[N.length-1],T??10)},c.tickFormat=function(T,N){return N==null?j:f(N)},c.nice=function(T){var N=h();return(!T||typeof T.range!="function")&&(T=t(N[0],N[N.length-1],T??10)),T?h(r1(N,T)):c},c.copy=function(){return Ii(c,wf(e,t,r,n,a,s,o,l,u,f))},c}function GM(){return Xt.apply(wf(FD,zD,Pr,xf,Tl,ki,vf,pf,vn,p1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VM(){return Xt.apply(wf(BD,$D,Ar,bf,Sl,Ol,yf,gf,vn,g1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pl(){var e=0,t=1,r,n,a,s,o=_t,l=!1,u;function f(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}f.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(d){return arguments.length?(l=!!d,f):l},f.interpolator=function(d){return arguments.length?(o=d,f):o};function c(d){return function(h){var m,p;return arguments.length?([m,p]=h,o=d(m,p),f):[o(0),o(1)]}}return f.range=c(Ea),f.rangeRound=c(sf),f.unknown=function(d){return arguments.length?(u=d,f):u},function(d){return s=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),f}}function cn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function v1(){var e=ln(Pl()(_t));return e.copy=function(){return cn(e,v1())},Fr.apply(e,arguments)}function y1(){var e=uf(Pl()).domain([1,10]);return e.copy=function(){return cn(e,y1()).base(e.base())},Fr.apply(e,arguments)}function x1(){var e=df(Pl());return e.copy=function(){return cn(e,x1()).constant(e.constant())},Fr.apply(e,arguments)}function jf(){var e=ff(Pl());return e.copy=function(){return cn(e,jf()).exponent(e.exponent())},Fr.apply(e,arguments)}function WM(){return jf.apply(null,arguments).exponent(.5)}function b1(){var e=[],t=_t;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pi(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Jr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>k4(e,s/n))},r.copy=function(){return b1(t).domain(e)},Fr.apply(r,arguments)}function Al(){var e=0,t=.5,r=1,n=1,a,s,o,l,u,f=_t,c,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-s)*(n*g<n*s?l:u),f(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=c(e=+e),s=c(t=+t),o=c(r=+r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(f=g,m):f};function p(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,f=iD(g,[y,x,w]),m):[f(0),f(.5),f(1)]}}return m.range=p(Ea),m.rangeRound=p(sf),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return c=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function w1(){var e=ln(Al()(_t));return e.copy=function(){return cn(e,w1())},Fr.apply(e,arguments)}function j1(){var e=uf(Al()).domain([.1,1,10]);return e.copy=function(){return cn(e,j1()).base(e.base())},Fr.apply(e,arguments)}function _1(){var e=df(Al());return e.copy=function(){return cn(e,_1()).constant(e.constant())},Fr.apply(e,arguments)}function _f(){var e=ff(Al());return e.copy=function(){return cn(e,_f()).exponent(e.exponent())},Fr.apply(e,arguments)}function KM(){return _f.apply(null,arguments).exponent(.5)}const Ya=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rf,scaleDiverging:w1,scaleDivergingLog:j1,scaleDivergingPow:_f,scaleDivergingSqrt:KM,scaleDivergingSymlog:_1,scaleIdentity:t1,scaleImplicit:Ru,scaleLinear:e1,scaleLog:n1,scaleOrdinal:tf,scalePoint:M4,scalePow:hf,scaleQuantile:s1,scaleQuantize:o1,scaleRadial:i1,scaleSequential:v1,scaleSequentialLog:y1,scaleSequentialPow:jf,scaleSequentialQuantile:b1,scaleSequentialSqrt:WM,scaleSequentialSymlog:x1,scaleSqrt:SD,scaleSymlog:a1,scaleThreshold:l1,scaleTime:GM,scaleUtc:VM,tickFormat:Jb},Symbol.toStringTag,{value:"Module"}));var zr=e=>e.chartData,Il=ee([zr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Nf=(e,t,r,n)=>n?Il(e):zr(e),YM=(e,t,r)=>r?Il(e):zr(e);function tn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($e(t)&&$e(r))return!0}return!1}function Bp(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function N1(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if($e(r))a=r;else if(typeof r=="function")return;if($e(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(tn(o))return o}}function XM(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(tn(n))return Bp(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(de(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&i0.test(a)){var u=i0.exec(a);if(u==null||u[1]==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&s0.test(s)){var c=s0.exec(s);if(c==null||c[1]==null||t==null)l=void 0;else{var d=+c[1];l=t[1]+d}}else l=t==null?void 0:t[1];var h=[o,l];if(tn(h))return t==null?h:Bp(h,t,r)}}}var Oa=1e9,ZM={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Of,De=!0,Kt="[DecimalError] ",En=Kt+"Invalid argument: ",Ef=Kt+"Exponent out of range: ",Ta=Math.floor,mn=Math.pow,QM=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dt,ut=1e7,Ie=7,E1=9007199254740991,yo=Ta(E1/Ie),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Nr(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Te(Nr(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Qe(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dt))throw Error(Kt+"NaN");if(r.s<1)throw Error(Kt+(r.s?"NaN":"-Infinity"));return r.eq(Dt)?new n(0):(De=!1,t=Nr(fi(r,s),fi(e,s),s),De=!0,Te(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S1(t,e):O1(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kt+"NaN");return r.s?(De=!1,t=Nr(r,e,0,1).times(e),De=!0,r.minus(t)):Te(new n(r),a)};ue.naturalExponential=ue.exp=function(){return T1(this)};ue.naturalLogarithm=ue.ln=function(){return fi(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O1(t,e):S1(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(En+e);if(t=Qe(a)+1,n=a.d.length-1,r=n*Ie+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Kt+"NaN")}for(e=Qe(l),De=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=fr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ta((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(s=n,n=s.plus(Nr(l,s,o+2)).times(.5),fr(s.d).slice(0,o)===(t=fr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Te(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return De=!0,Te(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,s,o,l,u,f,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,u=h.length,f=m.length,u<f&&(s=h,h=m,m=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%ut|0,t=l/ut|0;s[a]=(s[a]+t)%ut|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,De?Te(e,d.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gr(e,0,Oa),t===void 0?t=n.rounding:gr(t,0,8),Te(r,e+Qe(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Rn(n,!0):(gr(e,0,Oa),t===void 0?t=a.rounding:gr(t,0,8),n=Te(new a(n),e+1,t),r=Rn(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Rn(a):(gr(e,0,Oa),t===void 0?t=s.rounding:gr(t,0,8),n=Te(new s(a),e+Qe(a)+1,t),r=Rn(n.abs(),!1,e+Qe(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Te(new t(e),Qe(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,s,o,l=this,u=l.constructor,f=12,c=+(e=new u(e));if(!e.s)return new u(Dt);if(l=new u(l),!l.s){if(e.s<1)throw Error(Kt+"Infinity");return l}if(l.eq(Dt))return l;if(n=u.precision,e.eq(Dt))return Te(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=c<0?-c:c)<=E1){for(a=new u(Dt),t=Math.ceil(n/Ie+4),De=!1;r%2&&(a=a.times(l),Fp(a.d,t)),r=Ta(r/2),r!==0;)l=l.times(l),Fp(l.d,t);return De=!0,e.s<0?new u(Dt).div(a):Te(a,n)}}else if(s<0)throw Error(Kt+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,De=!1,a=e.times(fi(l,n+f)),De=!0,a=T1(a),a.s=s,a};ue.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Qe(a),n=Rn(a,r<=s.toExpNeg||r>=s.toExpPos)):(gr(e,1,Oa),t===void 0?t=s.rounding:gr(t,0,8),a=Te(new s(a),e,t),r=Qe(a),n=Rn(a,e<=r||r<=s.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gr(e,1,Oa),t===void 0?t=n.rounding:gr(t,0,8)),Te(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),r=e.constructor;return Rn(e,t<=r.toExpNeg||t>=r.toExpPos)};function O1(e,t){var r,n,a,s,o,l,u,f,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),De?Te(t,d):t;if(u=e.d,f=t.d,o=e.e,a=t.e,u=u.slice(),s=o-a,s){for(s<0?(n=u,s=-s,l=f.length):(n=f,a=o,l=u.length),o=Math.ceil(d/Ie),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=f.length,l-s<0&&(s=l,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/ut|0,u[s]%=ut;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,De?Te(t,d):t}function gr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(En+e)}function fr(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Ie-n.length,r&&(s+=Wr(r)),s+=n;o=e[t],n=o+"",r=Ie-n.length,r&&(s+=Wr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Nr=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ut|0,o=s/ut|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ut+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,u,f,c,d,h,m,p,g,v,y,x,w,b,j,T,N,S,E=n.constructor,P=n.s==a.s?1:-1,O=n.d,I=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Kt+"Division by zero");for(u=n.e-a.e,N=I.length,j=O.length,m=new E(P),p=m.d=[],f=0;I[f]==(O[f]||0);)++f;if(I[f]>(O[f]||0)&&--u,s==null?x=s=E.precision:o?x=s+(Qe(n)-Qe(a))+1:x=s,x<0)return new E(0);if(x=x/Ie+2|0,f=0,N==1)for(c=0,I=I[0],x++;(f<j||c)&&x--;f++)w=c*ut+(O[f]||0),p[f]=w/I|0,c=w%I|0;else{for(c=ut/(I[0]+1)|0,c>1&&(I=e(I,c),O=e(O,c),N=I.length,j=O.length),b=N,g=O.slice(0,N),v=g.length;v<N;)g[v++]=0;S=I.slice(),S.unshift(0),T=I[0],I[1]>=ut/2&&++T;do c=0,l=t(I,g,N,v),l<0?(y=g[0],N!=v&&(y=y*ut+(g[1]||0)),c=y/T|0,c>1?(c>=ut&&(c=ut-1),d=e(I,c),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(c--,r(d,N<h?S:I,h))):(c==0&&(l=c=1),d=I.slice()),h=d.length,h<v&&d.unshift(0),r(g,d,v),l==-1&&(v=g.length,l=t(I,g,N,v),l<1&&(c++,r(g,N<v?S:I,v))),v=g.length):l===0&&(c++,g=[0]),p[f++]=c,l&&g[0]?g[v++]=O[b]||0:(g=[O[b]],v=1);while((b++<j||g[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=u,Te(m,o?s+Qe(m)+1:s)}}();function T1(e,t){var r,n,a,s,o,l,u=0,f=0,c=e.constructor,d=c.precision;if(Qe(e)>16)throw Error(Ef+Qe(e));if(!e.s)return new c(Dt);for(De=!1,l=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(mn(2,f))/Math.LN10*2+5|0,l+=n,r=a=s=new c(Dt),c.precision=l;;){if(a=Te(a.times(e),l),r=r.times(++u),o=s.plus(Nr(a,r,l)),fr(o.d).slice(0,l)===fr(s.d).slice(0,l)){for(;f--;)s=Te(s.times(s),l);return c.precision=d,t==null?(De=!0,Te(s,d)):s}s=o}}function Qe(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function kc(e,t,r){if(t>e.LN10.sd())throw De=!0,r&&(e.precision=r),Error(Kt+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function Wr(e){for(var t="";e--;)t+="0";return t}function fi(e,t){var r,n,a,s,o,l,u,f,c,d=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Kt+(m.s?"NaN":"-Infinity"));if(m.eq(Dt))return new g(0);if(t==null?(De=!1,f=v):f=t,m.eq(10))return t==null&&(De=!0),kc(g,f);if(f+=h,g.precision=f,r=fr(p),n=r.charAt(0),s=Qe(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=fr(m.d),n=r.charAt(0),d++;s=Qe(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return u=kc(g,f+2,v).times(s+""),m=fi(new g(n+"."+r.slice(1)),f-h).plus(u),g.precision=v,t==null?(De=!0,Te(m,v)):m;for(l=o=m=Nr(m.minus(Dt),m.plus(Dt),f),c=Te(m.times(m),f),a=3;;){if(o=Te(o.times(c),f),u=l.plus(Nr(o,new g(a),f)),fr(u.d).slice(0,f)===fr(l.d).slice(0,f))return l=l.times(2),s!==0&&(l=l.plus(kc(g,f+2,v).times(s+""))),l=Nr(l,new g(d),f),g.precision=v,t==null?(De=!0,Te(l,v)):l;l=u,a+=2}}function $p(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ta(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ie;n<a;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),De&&(e.e>yo||e.e<-yo))throw Error(Ef+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,a,s,o,l,u,f,c,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ie,a=t,f=d[c=0];else{if(c=Math.ceil((n+1)/Ie),s=d.length,c>=s)return e;for(f=s=d[c],o=1;s>=10;s/=10)o++;n%=Ie,a=n-Ie+o}if(r!==void 0&&(s=mn(10,o-a-1),l=f/s%10|0,u=t<0||d[c+1]!==void 0||f%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?f/mn(10,o-a):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return u?(s=Qe(e),d.length=1,t=t-s-1,d[0]=mn(10,(Ie-t%Ie)%Ie),e.e=Ta(-t/Ie)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,s=1,c--):(d.length=c+1,s=mn(10,Ie-n),d[c]=a>0?(f/mn(10,o-a)%mn(10,a)|0)*s:0),u)for(;;)if(c==0){(d[0]+=s)==ut&&(d[0]=1,++e.e);break}else{if(d[c]+=s,d[c]!=ut)break;d[c--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(De&&(e.e>yo||e.e<-yo))throw Error(Ef+Qe(e));return e}function S1(e,t){var r,n,a,s,o,l,u,f,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),De?Te(t,m):t;if(u=e.d,d=t.d,n=t.e,f=e.e,u=u.slice(),o=f-n,o){for(c=o<0,c?(r=u,o=-o,l=d.length):(r=d,n=f,l=u.length),a=Math.max(Math.ceil(m/Ie),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=d.length,c=a<l,c&&(l=a),a=0;a<l;a++)if(u[a]!=d[a]){c=u[a]<d[a];break}o=0}for(c&&(r=u,u=d,d=r,t.s=-t.s),l=u.length,a=d.length-l;a>0;--a)u[l++]=0;for(a=d.length;a>o;){if(u[--a]<d[a]){for(s=a;s&&u[--s]===0;)u[s]=ut-1;--u[s],u[a]+=ut}u[a]-=d[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,De?Te(t,m):t):new h(0)}function Rn(e,t,r){var n,a=Qe(e),s=fr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Wr(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Wr(-a-1)+s,r&&(n=r-o)>0&&(s+=Wr(n))):a>=o?(s+=Wr(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Wr(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Wr(n))),e.s<0?"-"+s:s}function Fp(e,t){if(e.length>t)return e.length=t,!0}function P1(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(En+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return $p(o,s.toString())}else if(typeof s!="string")throw Error(En+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,QM.test(s))$p(o,s);else throw Error(En+s)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=P1,a.config=a.set=JM,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function JM(e){if(!e||typeof e!="object")throw Error(Kt+"Object expected");var t,r,n,a=["precision",1,Oa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ta(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(En+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(En+r+": "+n);return this}var Of=P1(ZM);Dt=new Of(1);const Ee=Of;var e6=e=>e,A1={},I1=e=>e===A1,zp=e=>function t(){return arguments.length===0||arguments.length===1&&I1(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},k1=(e,t)=>e===1?t:zp(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(o=>o!==A1).length;return s>=e?t(...n):k1(e-s,zp(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=n.map(c=>I1(c)?l.shift():c);return t(...f,...l)}))}),t6=e=>k1(e.length,e),Fu=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},r6=t6((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),n6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return e6;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),s(...arguments))}};function C1(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function D1(e,t,r){for(var n=new Ee(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var M1=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},R1=(e,t,r)=>{if(e.lte(0))return new Ee(0);var n=C1(e.toNumber()),a=new Ee(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ee(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new Ee(u.toNumber()):new Ee(Math.ceil(u.toNumber()))},a6=(e,t,r)=>{var n=new Ee(1),a=new Ee(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ee(10).pow(C1(e)-1),a=new Ee(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ee(Math.floor(e)))}else e===0?a=new Ee(Math.floor((t-1)/2)):r||(a=new Ee(Math.floor(e)));var o=Math.floor((t-1)/2),l=n6(r6(u=>a.add(new Ee(u-o).mul(n)).toNumber()),Fu);return l(0,t)},L1=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var o=R1(new Ee(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Ee(0):(l=new Ee(t).add(r).div(2),l=l.sub(new Ee(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Ee(r).sub(l).div(o).toNumber()),c=u+f+1;return c>n?L1(t,r,n,a,s+1):(c<n&&(f=r>0?f+(n-c):f,u=r>0?u:u+(n-c)),{step:o,tickMin:l.sub(new Ee(u).mul(o)),tickMax:l.add(new Ee(f).mul(o))})},i6=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=M1([r,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Fu(0,a-1).map(()=>1/0)]:[...Fu(0,a-1).map(()=>-1/0),u];return r>n?f.reverse():f}if(l===u)return a6(l,a,s);var{step:c,tickMin:d,tickMax:h}=L1(l,u,o,s,0),m=D1(d,h.add(new Ee(.1).mul(c)),c);return r>n?m.reverse():m},s6=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=M1([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),f=R1(new Ee(l).sub(o).div(u-1),s,0),c=[...D1(new Ee(o),new Ee(l),f),l];return s===!1&&(c=c.map(d=>Math.round(d))),n>a?c.reverse():c},B1=e=>e.rootProps.maxBarSize,o6=e=>e.rootProps.barGap,$1=e=>e.rootProps.barCategoryGap,l6=e=>e.rootProps.barSize,Ci=e=>e.rootProps.stackOffset,F1=e=>e.rootProps.reverseStackOrder,Tf=e=>e.options.chartName,Sf=e=>e.rootProps.syncId,z1=e=>e.rootProps.syncMethod,Pf=e=>e.options.eventEmitter,Ze={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},br={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ct={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},kl=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},c6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:br.angleAxisId,includeHidden:!1,name:void 0,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:void 0,ticks:void 0,type:br.type,unit:void 0},u6={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ct.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ct.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,ticks:void 0,type:Ct.type,unit:void 0},d6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:br.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:br.scale,tick:br.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},f6={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ct.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ct.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,ticks:void 0,type:"category",unit:void 0},Af=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?d6:c6,If=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?f6:u6,Cl=e=>e.polarOptions,kf=ee([Br,$r,nt],Rb),U1=ee([Cl,kf],(e,t)=>{if(e!=null)return xt(e.innerRadius,t,0)}),H1=ee([Cl,kf],(e,t)=>{if(e!=null)return xt(e.outerRadius,t,t*.8)}),h6=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},q1=ee([Cl],h6);ee([Af,q1],kl);var G1=ee([kf,U1,H1],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([If,G1],kl);var V1=ee([we,Cl,U1,H1,Br,$r],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:xt(o,a,a/2),cy:xt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),Le=(e,t)=>t,Di=(e,t,r)=>r;function Cf(e){return e==null?void 0:e.id}function W1(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var c=Cf(l);f.forEach((d,h)=>{var m=s==null||a?h:String(Oe(d,s,null)),p=Oe(d,l.dataKey,0),g;o.has(m)?g=o.get(m):g={},Object.assign(g,{[c]:p}),o.set(m,g)})}}),Array.from(o.values())}function Dl(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ml=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rl(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function m6(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var it=e=>{var t=we(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sa=e=>e.tooltip.settings.axisId;function Up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Up(Object(r),!0).forEach(function(n){p6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Up(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p6(e,t,r){return(t=g6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=v6(e,"string");return typeof t=="symbol"?t:t+""}function v6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu=[0,"auto"],ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},K1=(e,t)=>e.cartesianAxis.xAxis[t],Ur=(e,t)=>{var r=K1(e,t);return r??ot},lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zu,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ei},Y1=(e,t)=>e.cartesianAxis.yAxis[t],Hr=(e,t)=>{var r=Y1(e,t);return r??lt},y6={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Df=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??y6},ze=(e,t,r)=>{switch(t){case"xAxis":return Ur(e,r);case"yAxis":return Hr(e,r);case"zAxis":return Df(e,r);case"angleAxis":return Af(e,r);case"radiusAxis":return If(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},x6=(e,t,r)=>{switch(t){case"xAxis":return Ur(e,r);case"yAxis":return Hr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mi=(e,t,r)=>{switch(t){case"xAxis":return Ur(e,r);case"yAxis":return Hr(e,r);case"angleAxis":return Af(e,r);case"radiusAxis":return If(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},X1=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Mf(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ll=e=>e.graphicalItems.cartesianItems,b6=ee([Le,Di],Mf),Rf=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ri=ee([Ll,ze,b6],Rf,{memoizeOptions:{resultEqualityCheck:Rl}}),Z1=ee([Ri],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Dl)),Q1=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),w6=ee([Ri],Q1),Lf=e=>e.map(t=>t.data).filter(Boolean).flat(1),j6=ee([Ri],Lf,{memoizeOptions:{resultEqualityCheck:Rl}}),Bf=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},$f=ee([j6,Nf],Bf),Ff=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Oe(a,n)}))):e.map(n=>({value:n})),Bl=ee([$f,ze,Ri],Ff);function J1(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Is(e){if(mr(e)||e instanceof Date){var t=Number(e);if($e(t))return t}}function Hp(e){if(Array.isArray(e)){var t=[Is(e[0]),Is(e[1])];return tn(t)?t:void 0}var r=Is(e);if(r!=null)return[r,r]}function Ir(e){return e.map(Is).filter(gI)}function _6(e,t,r){return!r||typeof t!="number"||sr(t)?[]:r.length?Ir(r.flatMap(n=>{var a=Oe(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!$e(s)||!$e(o)))return[t-s,t+o]})):[]}var st=e=>{var t=it(e),r=Sa(e);return Mi(e,t,r)},Li=ee([st],e=>e==null?void 0:e.dataKey),N6=ee([Z1,Nf,st],W1),e2=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,u]=o,f=n?[...u].reverse():u,c=f.map(Cf);return[l,{stackedData:dC(e,c,r),graphicalItems:f}]}))},Uu=ee([N6,Z1,Ci,F1],e2),t2=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=gC(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},E6=ee([ze],e=>e.allowDataOverflow),zf=e=>{var t;if(e==null||!("domain"in e))return zu;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ir(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:zu},Uf=ee([ze],zf),Hf=ee([Uf,E6],N1),O6=ee([Uu,zr,Le,Hf],t2,{memoizeOptions:{resultEqualityCheck:Ml}}),$l=e=>e.errorBars,T6=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>J1(r,n)),bo=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},qf=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var f,c,d=(f=n[u.id])===null||f===void 0?void 0:f.filter(y=>J1(a,y)),h=Oe(l,(c=t.dataKey)!==null&&c!==void 0?c:u.dataKey),m=_6(l,h,d);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(s==null||p<s)&&(s=p),(o==null||g>o)&&(o=g)}var v=Hp(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=Hp(Oe(l,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),$e(s)&&$e(o))return[s,o]},S6=ee([$f,ze,w6,$l,Le],qf,{memoizeOptions:{resultEqualityCheck:Ml}});function P6(e){var{value:t}=e;if(mr(t)||t instanceof Date)return t}var A6=(e,t,r)=>{var n=e.map(P6).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tx(n))?Hb(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},r2=e=>e.referenceElements.dots,Pa=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),I6=ee([r2,Le,Di],Pa),n2=e=>e.referenceElements.areas,k6=ee([n2,Le,Di],Pa),a2=e=>e.referenceElements.lines,C6=ee([a2,Le,Di],Pa),i2=(e,t)=>{if(e!=null){var r=Ir(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},D6=ee(I6,Le,i2),s2=(e,t)=>{if(e!=null){var r=Ir(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},M6=ee([k6,Le],s2);function R6(e){var t;if(e.x!=null)return Ir([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ir(r)}function L6(e){var t;if(e.y!=null)return Ir([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ir(r)}var o2=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?R6(n):L6(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},B6=ee([C6,Le],o2),$6=ee(D6,B6,M6,(e,t,r)=>bo(e,r,t)),Gf=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?bo(n,s,a):bo(s,a);return XM(t,f,e.allowDataOverflow)},F6=ee([ze,Uf,Hf,O6,S6,$6,we,Le],Gf,{memoizeOptions:{resultEqualityCheck:Ml}}),z6=[0,1],Vf=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=on(t,s);if(f&&l==null){var c;return Hb(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return u==="category"?A6(n,e,f):a==="expand"?z6:o}},Wf=ee([ze,we,$f,Bl,Ci,Le,F6],Vf),l2=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(bi(s));return l in Ya?l:"point"}}},Aa=ee([ze,we,X1,Tf,Le],l2);function U6(e){if(e!=null){if(e in Ya)return Ya[e]();var t="scale".concat(bi(e));if(t in Ya)return Ya[t]()}}function Kf(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=U6(t);if(a!=null){var s=a.domain(r).range(n);return sC(s),s}}}var Yf=(e,t,r)=>{var n=zf(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&tn(e))return i6(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&tn(e))return s6(e,t.tickCount,t.allowDecimals)}},Xf=ee([Wf,Mi,Aa],Yf),Zf=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&tn(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},H6=ee([ze,Wf,Xf,Le],Zf),q6=ee(Bl,ze,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ir(e.map(d=>d.value))).sort((d,h)=>d-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],f=n[l+1];if(!(u==null||f==null)){var c=f-u;r=Math.min(r,c)}}return r/o}}),c2=ee(q6,we,$1,nt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!$e(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=xt(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),G6=(e,t,r)=>{var n=Ur(e,t);return n==null||typeof n.padding!="string"?0:c2(e,"xAxis",t,r,n.padding)},V6=(e,t,r)=>{var n=Hr(e,t);return n==null||typeof n.padding!="string"?0:c2(e,"yAxis",t,r,n.padding)},W6=ee(Ur,G6,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),K6=ee(Hr,V6,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Y6=ee([nt,W6,yl,vl,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),X6=ee([nt,we,K6,yl,vl,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Bi=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Y6(e,r,n);case"yAxis":return X6(e,r,n);case"zAxis":return(a=Df(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return q1(e);case"radiusAxis":return G1(e,r);default:return}},u2=ee([ze,Bi],kl),Fl=ee([ze,Aa,H6,u2],Kf);ee([Ri,$l,Le],T6);function d2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zl=(e,t)=>t,Ul=(e,t,r)=>r,Z6=ee(pl,zl,Ul,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(d2)),Q6=ee(gl,zl,Ul,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(d2)),f2=(e,t)=>({width:e.width,height:t.height}),J6=(e,t)=>{var r=typeof t.width=="number"?t.width:Ei;return{width:r,height:e.height}},h2=ee(nt,Ur,f2),eR=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tR=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rR=ee($r,nt,Z6,zl,Ul,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=f2(t,l);o==null&&(o=eR(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),s}),nR=ee(Br,nt,Q6,zl,Ul,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var u=J6(t,l);o==null&&(o=tR(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),s}),aR=(e,t)=>{var r=Ur(e,t);if(r!=null)return rR(e,r.orientation,r.mirror)},iR=ee([nt,Ur,aR,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),sR=(e,t)=>{var r=Hr(e,t);if(r!=null)return nR(e,r.orientation,r.mirror)},oR=ee([nt,Hr,sR,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),m2=ee(nt,Hr,(e,t)=>{var r=typeof t.width=="number"?t.width:Ei;return{width:r,height:e.height}}),qp=(e,t,r)=>{switch(t){case"xAxis":return h2(e,r).width;case"yAxis":return m2(e,r).height;default:return}},p2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=on(e,n),u=t.map(f=>f.value);if(o&&l&&s==="category"&&a&&tx(u))return u}},Qf=ee([we,Bl,ze,Le],p2),g2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=on(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},Jf=ee([we,Bl,Mi,Le],g2),Gp=ee([we,x6,Aa,Fl,Qf,Jf,Bi,Xf,Le],(e,t,r,n,a,s,o,l,u)=>{if(t!=null){var f=on(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}}),lR=(e,t,r,n,a,s,o,l,u)=>{if(!(t==null||n==null)){var f=on(e,u),{type:c,ticks:d,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/m:0;p=u==="angleAxis"&&s!=null&&s.length>=2?ft(s[0]-s[1])*2*p:p;var g=d||a;if(g){var v=g.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:n(w)+p,value:y,offset:p}});return v.filter(y=>$e(y.coordinate))}return f&&l?l.map((y,x)=>({coordinate:n(y)+p,value:y,index:x,offset:p})).filter(y=>$e(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,x)=>({coordinate:n(y)+p,value:o?o[y]:y,index:x,offset:p}))}},v2=ee([we,Mi,Aa,Fl,Xf,Bi,Qf,Jf,Le],lR),cR=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=on(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ft(n[0]-n[1])*2*f:f,l&&s?s.map((c,d)=>({coordinate:r(c)+f,value:c,index:d,offset:f})):r.ticks?r.ticks(u).map(c=>({coordinate:r(c)+f,value:c,offset:f})):r.domain().map((c,d)=>({coordinate:r(c)+f,value:a?a[c]:c,index:d,offset:f}))}},rn=ee([we,Mi,Fl,Bi,Qf,Jf,Le],cR),nn=ee(ze,Fl,(e,t)=>{if(!(e==null||t==null))return xo(xo({},e),{},{scale:t})}),uR=ee([ze,Aa,Wf,u2],Kf);ee((e,t,r)=>Df(e,r),uR,(e,t)=>{if(!(e==null||t==null))return xo(xo({},e),{},{scale:t})});var dR=ee([we,pl,gl],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),y2=e=>e.options.defaultTooltipEventType,x2=e=>e.options.validateTooltipEventTypes;function b2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function eh(e,t){var r=y2(e),n=x2(e);return b2(t,r,n)}function fR(e){return fe(t=>eh(t,e))}var w2=(e,t)=>{var r,n=Number(t);if(!(sr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},hR=e=>e.tooltip.settings,Yr={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},mR={itemInteraction:{click:Yr,hover:Yr},axisInteraction:{click:Yr,hover:Yr},keyboardInteraction:Yr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j2=At({name:"tooltip",initialState:mR,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ir(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ke()},removeTooltipEntrySettings:{reducer(e,t){var r=ir(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:pR,replaceTooltipEntrySettings:gR,removeTooltipEntrySettings:vR,setTooltipSettingsState:yR,setActiveMouseOverItemIndex:_2,mouseLeaveItem:xR,mouseLeaveChart:N2,setActiveClickItemIndex:bR,setMouseOverAxisIndex:E2,setMouseClickAxisIndex:wR,setSyncInteraction:Hu,setKeyboardInteraction:qu}=j2.actions,jR=j2.reducer;function Vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(r),!0).forEach(function(n){_R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _R(e,t,r){return(t=NR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=ER(e,"string");return typeof t=="symbol"?t:t+""}function ER(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OR(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function TR(e){return e.index!=null}var O2=(e,t,r,n)=>{if(t==null)return Yr;var a=OR(e,t,r);if(a==null)return Yr;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(TR(a)){if(s)return fs(fs({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return fs(fs({},Yr),{},{coordinate:a.coordinate})};function SR(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function PR(e,t){var r=SR(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function AR(e,t,r){if(r==null||t==null)return!0;var n=Oe(e,t);return n==null||!tn(r)?!0:PR(n,r)}var th=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!$e(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(s,l)),f=t[u];return f==null||AR(f,r,n)?String(u):null},T2=(e,t,r,n,a,s,o,l)=>{if(!(s==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,s);if(f!=null)return f;var c=a==null?void 0:a[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},S2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},$i=e=>e.options.tooltipPayloadSearcher,Ia=e=>e.tooltip;function Wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wp(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return(t=kR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=CR(e,"string");return typeof t=="symbol"?t:t+""}function CR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DR(e,t){return e??t}var P2=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:c}=r,d=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,y=DR(g,l),x=Array.isArray(y)?ab(y,f,c):y,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,b=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=rx(x,n,a):j=s(x,t,u,b),Array.isArray(j))j.forEach(N=>{var S=Kp(Kp({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(o0({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Oe(N.payload,N.dataKey),name:N.name}))});else{var T;h.push(o0({tooltipEntrySettings:v,dataKey:w,payload:j,value:Oe(j,w),name:(T=Oe(j,b))!==null&&T!==void 0?T:v==null?void 0:v.name}))}return h},d)}},rh=ee([st,we,X1,Tf,it],l2),MR=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),RR=ee([it,Sa],Mf),ka=ee([MR,st,RR],Rf,{memoizeOptions:{resultEqualityCheck:Rl}}),LR=ee([ka],e=>e.filter(Dl)),BR=ee([ka],Lf,{memoizeOptions:{resultEqualityCheck:Rl}}),Ca=ee([BR,zr],Bf),$R=ee([LR,zr,st],W1),nh=ee([Ca,st,ka],Ff),A2=ee([st],zf),FR=ee([st],e=>e.allowDataOverflow),I2=ee([A2,FR],N1),zR=ee([ka],e=>e.filter(Dl)),UR=ee([$R,zR,Ci,F1],e2),HR=ee([UR,zr,it,I2],t2),qR=ee([ka],Q1),GR=ee([Ca,st,qR,$l,it],qf,{memoizeOptions:{resultEqualityCheck:Ml}}),VR=ee([r2,it,Sa],Pa),WR=ee([VR,it],i2),KR=ee([n2,it,Sa],Pa),YR=ee([KR,it],s2),XR=ee([a2,it,Sa],Pa),ZR=ee([XR,it],o2),QR=ee([WR,ZR,YR],bo),JR=ee([st,A2,I2,HR,GR,QR,we,it],Gf),Fi=ee([st,we,Ca,nh,Ci,it,JR],Vf),eL=ee([Fi,st,rh],Yf),tL=ee([st,Fi,eL,it],Zf),k2=e=>{var t=it(e),r=Sa(e),n=!1;return Bi(e,t,r,n)},C2=ee([st,k2],kl),D2=ee([st,rh,tL,C2],Kf),rL=ee([we,nh,st,it],p2),nL=ee([we,nh,st,it],g2),aL=(e,t,r,n,a,s,o,l)=>{if(t){var{type:u}=t,f=on(e,l);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=u==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ft(a[0]-a[1])*2*d:d,f&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:s?s[h]:h,index:m,offset:d}))}}},qr=ee([we,st,rh,D2,k2,rL,nL,it],aL),ah=ee([y2,x2,hR],(e,t,r)=>b2(r.shared,e,t)),M2=e=>e.tooltip.settings.trigger,ih=e=>e.tooltip.settings.defaultIndex,zi=ee([Ia,ah,M2,ih],O2),an=ee([zi,Ca,Li,Fi],th),R2=ee([qr,an],w2),sh=ee([zi],e=>{if(e)return e.dataKey}),iL=ee([zi],e=>{if(e)return e.graphicalItemId}),L2=ee([Ia,ah,M2,ih],S2),sL=ee([Br,$r,we,nt,qr,ih,L2,$i],T2),oL=ee([zi,sL],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lL=ee([zi],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),cL=ee([L2,an,zr,Li,R2,$i,ah],P2),uL=ee([cL],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(r),!0).forEach(function(n){dL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dL(e,t,r){return(t=fL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){var t=hL(e,"string");return typeof t=="symbol"?t:t+""}function hL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mL=()=>fe(st),pL=()=>{var e=mL(),t=fe(qr),r=fe(D2);return aa(!e||!r?void 0:Xp(Xp({},e),{},{scale:r}),t)};function Zp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t,r){return(t=vL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=yL(e,"string");return typeof t=="symbol"?t:t+""}function yL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xL=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},bL=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return Vn(Vn(Vn({},n),Xe(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:u}=n;return Vn(Vn(Vn({},n),Xe(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wL(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var B2=(e,t,r,n,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,f,c,d,h,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(f=r[o-1])===null||f===void 0?void 0:f.coordinate,p=(c=r[l])===null||c===void 0?void 0:c.coordinate,g=l>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(m==null||p==null||g==null))if(ft(p-m)!==ft(g-p)){var y=[];if(ft(g-p)===ft(a[1]-a[0])){v=g;var x=p+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{v=m;var w=g+a[1]-a[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var b=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var T=Math.min(m,g),N=Math.max(m,g);if(e>(T+p)/2&&e<=(N+p)/2){var S;return(S=r[l])===null||S===void 0?void 0:S.index}}}else if(t)for(var E=0;E<o;E++){var P=t[E];if(P!=null){var O=t[E+1],I=t[E-1];if(E===0&&O!=null&&e<=(P.coordinate+O.coordinate)/2||E===o-1&&I!=null&&e>(P.coordinate+I.coordinate)/2||E>0&&E<o-1&&I!=null&&O!=null&&e>(P.coordinate+I.coordinate)/2&&e<=(P.coordinate+O.coordinate)/2)return P.index}}return-1},jL=()=>fe(Tf),oh=(e,t)=>t,$2=(e,t,r)=>r,lh=(e,t,r,n)=>n,_L=ee(qr,e=>sl(e,t=>t.coordinate)),ch=ee([Ia,oh,$2,lh],O2),uh=ee([ch,Ca,Li,Fi],th),NL=(e,t,r)=>{if(t!=null){var n=Ia(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},F2=ee([Ia,oh,$2,lh],S2),wo=ee([Br,$r,we,nt,qr,lh,F2,$i],T2),EL=ee([ch,wo],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),z2=ee([qr,uh],w2),OL=ee([F2,uh,zr,Li,z2,$i,oh],P2),TL=ee([ch,uh],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SL=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&wL(e,o)){var l=vC(e,t),u=B2(l,s,a,r,n),f=xL(t,a,u,e);return{activeIndex:String(u),activeCoordinate:f}}},PL=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=p4(e,r);if(l){var u=yC(l,t),f=B2(u,o,s,n,a),c=bL(t,s,f,l);return{activeIndex:String(f),activeCoordinate:c}}}},AL=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?SL(e,t,n,a,s,o,l):PL(e,t,r,n,a,s,o)},IL=ee(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),kL=ee(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ze)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:m6}});function Qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qp(Object(r),!0).forEach(function(n){CL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=ML(e,"string");return typeof t=="symbol"?t:t+""}function ML(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RL={},LL={zIndexMap:Object.values(Ze).reduce((e,t)=>Jp(Jp({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),RL)},BL=new Set(Object.values(Ze));function $L(e){return BL.has(e)}var U2=At({name:"zIndex",initialState:LL,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!$L(r)&&delete e.zIndexMap[r])},prepare:ke()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:ke()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ke()}}}),{registerZIndexPortal:FL,unregisterZIndexPortal:zL,registerZIndexPortalElement:UL,unregisterZIndexPortalElement:HL}=U2.actions,qL=U2.reducer;function It(e){var{zIndex:t,children:r}=e,n=qC(),a=n&&t!==void 0&&t!==0,s=bt(),o=Re();_.useLayoutEffect(()=>a?(o(FL({zIndex:t})),()=>{o(zL({zIndex:t}))}):wi,[o,t,a]);var l=fe(u=>IL(u,t,s));return a?l?vd.createPortal(r,l):null:r}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(null,arguments)}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){GL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GL(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=WL(e,"string");return typeof t=="symbol"?t:t+""}function WL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KL(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function YL(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:c}=e,d=r,h=n,m=a;if(!u||!d||c!=="ScatterChart"&&f!=="axis")return null;var p,g,v;if(c==="ScatterChart")p=d,g=P3,v=Ze.cursorLine;else if(c==="BarChart")p=A3(l,d,s,o),g=Mb,v=Ze.cursorRectangle;else if(l==="radial"&&ix(d)){var{cx:y,cy:x,radius:w,startAngle:b,endAngle:j}=Lb(d);p={cx:y,cy:x,startAngle:b,endAngle:j,innerRadius:w,outerRadius:w},g=$b,v=Ze.cursorLine}else p={points:x4(l,d,s)},g=Jd,v=Ze.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,N=hs(hs(hs(hs({stroke:"#ccc",pointerEvents:"none"},s),p),An(u)),{},{payload:h,payloadIndex:m,className:ye("recharts-tooltip-cursor",T)});return _.createElement(It,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},_.createElement(KL,{cursor:u,cursorComp:g,cursorProps:N}))}function XL(e){var t=pL(),r=vb(),n=Na(),a=jL();return t==null||r==null||n==null||a==null?null:_.createElement(YL,Gu({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var H2=_.createContext(null),ZL=()=>_.useContext(H2),q2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,c){this.fn=u,this.context=f,this.once=c||!1}function s(u,f,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new a(c,d||u,h),p=r?r+f:f;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],m]:u._events[p].push(m):(u._events[p]=m,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)t.call(c,d)&&f.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,p=new Array(m);h<m;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(f){var c=r?r+f:f,d=this._events[c];return d?d.fn?1:d.length:0},l.prototype.emit=function(f,c,d,h,m,p){var g=r?r+f:f;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,m),!0;case 6:return v.fn.call(v.context,c,d,h,m,p),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var b=v.length,j;for(w=0;w<b;w++)switch(v[w].once&&this.removeListener(f,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,d);break;case 4:v[w].fn.call(v[w].context,c,d,h);break;default:if(!x)for(j=1,x=new Array(y-1);j<y;j++)x[j-1]=arguments[j];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(f,c,d){return s(this,f,c,d,!1)},l.prototype.once=function(f,c,d){return s(this,f,c,d,!0)},l.prototype.removeListener=function(f,c,d,h){var m=r?r+f:f;if(!this._events[m])return this;if(!c)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==c||h&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(q2);var QL=q2.exports;const JL=Mr(QL);var hi=new JL,Vu="recharts.syncEvent.tooltip",tg="recharts.syncEvent.brush";function dh(e,t){if(t){var r=Number.parseInt(t,10);if(!sr(r))return e==null?void 0:e[r]}}var e8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G2=At({name:"options",initialState:e8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),t8=G2.reducer,{createEventEmitter:r8}=G2.actions;function n8(e){return e.tooltip.syncInteraction}var a8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V2=At({name:"chartData",initialState:a8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:rg,setDataStartEndIndexes:i8,setComputedData:FV}=V2.actions,s8=V2.reducer,o8=["x","y"];function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=c8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d8(e,t){if(e==null)return{};var r,n,a=f8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h8(){var e=fe(Sf),t=fe(Pf),r=Re(),n=fe(z1),a=fe(qr),s=Na(),o=xl(),l=fe(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return wi;var u=(f,c,d)=>{if(t!==d&&e===f){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:p,y:g}=m,v=d8(m,o8),{x:y,y:x,width:w,height:b}=c.payload.sourceViewBox,j=Wn(Wn({},v),{},{x:o.x+(w?(p-y)/w:0)*o.width,y:o.y+(b?(g-x)/b:0)*o.height});r(Wn(Wn({},c),{},{payload:Wn(Wn({},c.payload),{},{coordinate:j})}))}else r(c);return}if(a!=null){var T;if(typeof n=="function"){var N={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(a,N);T=a[S]}else n==="value"&&(T=a.find(R=>String(R.value)===c.payload.label));var{coordinate:E}=c.payload;if(T==null||c.payload.active===!1||E==null||o==null){r(Hu({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:O}=E,I=Math.min(P,o.x+o.width),k=Math.min(O,o.y+o.height),A={x:s==="horizontal"?T.coordinate:I,y:s==="horizontal"?k:T.coordinate},M=Hu({active:c.payload.active,coordinate:A,dataKey:c.payload.dataKey,index:String(T.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(M)}}};return hi.on(Vu,u),()=>{hi.off(Vu,u)}},[l,r,t,e,n,a,s,o])}function m8(){var e=fe(Sf),t=fe(Pf),r=Re();_.useEffect(()=>{if(e==null)return wi;var n=(a,s,o)=>{t!==o&&e===a&&r(i8(s))};return hi.on(tg,n),()=>{hi.off(tg,n)}},[r,t,e])}function p8(){var e=Re();_.useEffect(()=>{e(r8())},[e]),h8(),m8()}function g8(e,t,r,n,a,s){var o=fe(m=>NL(m,e,t)),l=fe(Pf),u=fe(Sf),f=fe(z1),c=fe(n8),d=c==null?void 0:c.active,h=xl();_.useEffect(()=>{if(!d&&u!=null&&l!=null){var m=Hu({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});hi.emit(Vu,u,m,l)}},[d,r,o,a,n,l,u,f,s,h])}function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(n){v8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8(e,t,r){return(t=y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e){return e.dataKey}function w8(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(l3,t)}var sg=[],j8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ms(e){var t,r,n=mt(e,j8),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:x,trigger:w,defaultIndex:b,portal:j,axisId:T}=n,N=Re(),S=typeof b=="number"?String(b):b;_.useEffect(()=>{N(yR({shared:x,trigger:w,axisId:T,active:a,defaultIndex:S}))},[N,x,w,T,a,S]);var E=xl(),P=Ab(),O=fR(x),{activeIndex:I,isActive:k}=(t=fe(H=>TL(H,O,w,S)))!==null&&t!==void 0?t:{},A=fe(H=>OL(H,O,w,S)),M=fe(H=>z2(H,O,w,S)),R=fe(H=>EL(H,O,w,S)),D=A,q=ZL(),F=(r=a??k)!==null&&r!==void 0?r:!1,[$,C]=ik([D,F]),L=O==="axis"?M:void 0;g8(O,w,R,L,I,F);var z=j??q;if(z==null||E==null||O==null)return null;var W=D??sg;F||(W=sg),f&&W.length&&(W=CI(W.filter(H=>H.value!=null&&(H.hide!==!0||n.includeHidden)),h,b8));var V=W.length>0,B=_.createElement(p3,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:c,active:F,coordinate:R,hasPayload:V,offset:d,position:m,reverseDirection:p,useTranslate3d:g,viewBox:E,wrapperStyle:v,lastBoundingBox:$,innerRef:C,hasPortalFromProps:!!j},w8(u,ig(ig({},n),{},{payload:W,label:L,active:F,activeIndex:I,coordinate:R,accessibilityLayer:P})));return _.createElement(_.Fragment,null,vd.createPortal(B,z),F&&_.createElement(XL,{cursor:y,tooltipEventType:O,coordinate:R,payload:W,index:I}))}var ca=e=>null;ca.displayName="Cell";function _8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class O8{constructor(t){_8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?og(Object(r),!0).forEach(function(n){S8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8(e,t,r){return(t=P8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I8={cacheSize:2e3,enableCache:!0},W2=T8({},I8),lg=new O8(W2.cacheSize),k8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cg="recharts_measurement_span";function C8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var ug=(e,t)=>{try{var r=document.getElementById(cg);r||(r=document.createElement("span"),r.setAttribute("id",cg),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,k8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xa=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nl.isSsr)return{width:0,height:0};if(!W2.enableCache)return ug(t,r);var n=C8(t,r),a=lg.get(n);if(a)return a;var s=ug(t,r);return lg.set(n,s),s},K2;function D8(e,t,r){return(t=M8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,B8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},F8=["cm","mm","pt","pc","in","Q","px"];function z8(e){return F8.includes(e)}var Xn="NaN";function U8(e,t){return e*$8[t]}class gt{static parse(t){var r,[,n,a]=(r=B8.exec(t))!==null&&r!==void 0?r:[];return n==null?gt.NaN:new gt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,sr(t)&&(this.unit=""),r!==""&&!L8.test(r)&&(this.num=NaN,this.unit=""),z8(r)&&(this.num=U8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gt(NaN,""):new gt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gt(NaN,""):new gt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return sr(this.num)}}K2=gt;D8(gt,"NaN",new K2(NaN,""));function Y2(e){if(e==null||e.includes(Xn))return Xn;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=dg.exec(t))!==null&&r!==void 0?r:[],o=gt.parse(n??""),l=gt.parse(s??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Xn;t=t.replace(dg,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,c,d,h]=(f=fg.exec(t))!==null&&f!==void 0?f:[],m=gt.parse(c??""),p=gt.parse(h??""),g=d==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Xn;t=t.replace(fg,g.toString())}return t}var hg=/\(([^()]*)\)/;function H8(e){for(var t=e,r;(r=hg.exec(t))!=null;){var[,n]=r;t=t.replace(hg,Y2(n))}return t}function q8(e){var t=e.replace(/\s+/g,"");return t=H8(t),t=Y2(t),t}function G8(e){try{return q8(e)}catch{return Xn}}function Cc(e){var t=G8(e.slice(5,-1));return t===Xn?"":t}var V8=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],W8=["dx","dy","angle","className","breakAll"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}function mg(e,t){if(e==null)return{};var r,n,a=K8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var X2=/[ \f\n\r\t\v\u2028\u2029]+/,Z2=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Me(t)||(r?a=t.toString().split(""):a=t.toString().split(X2));var s=a.map(l=>({word:l,width:Xa(l,n).width})),o=r?0:Xa("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Y8(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Q2=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var f={words:[o],width:l};a.push(f)}return a},[]),J2=e=>e.reduce((t,r)=>t.width>r.width?t:r),X8="",pg=(e,t,r,n,a,s,o,l)=>{var u=e.slice(0,t),f=Z2({breakAll:r,style:n,children:u+X8});if(!f)return[!1,[]];var c=Q2(f.wordsWithComputedWidth,s,o,l),d=c.length>a||J2(c).width>Number(s);return[d,c]},Z8=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:u}=e,f=de(s),c=String(o),d=Q2(t,n,r,a);if(!f||a)return d;var h=d.length>s||J2(d).width>Number(n);if(!h)return d;for(var m=0,p=c.length-1,g=0,v;m<=p&&g<=c.length-1;){var y=Math.floor((m+p)/2),x=y-1,[w,b]=pg(c,x,u,l,s,n,r,a),[j]=pg(c,y,u,l,s,n,r,a);if(!w&&!j&&(m=y+1),w&&j&&(p=y-1),!w&&j){v=b;break}g++}return v||d},gg=e=>{var t=Me(e)?[]:e.toString().split(X2);return[{words:t,width:void 0}]},Q8=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!Nl.isSsr){var l,u,f=Z2({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:c,spaceWidth:d}=f;l=c,u=d}else return gg(n);return Z8({breakAll:s,children:n,maxLines:o,style:a},l,u,t,!!r)}return gg(n)},ew="#808080",J8={angle:0,breakAll:!1,capHeight:"0.71em",fill:ew,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hl=_.forwardRef((e,t)=>{var r=mt(e,J8),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:c}=r,d=mg(r,V8),h=_.useMemo(()=>Q8({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:u,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,u,d.style,d.width]),{dx:m,dy:p,angle:g,className:v,breakAll:y}=d,x=mg(d,W8);if(!mr(n)||!mr(a)||h.length===0)return null;var w=Number(n)+(de(m)?m:0),b=Number(a)+(de(p)?p:0);if(!$e(w)||!$e(b))return null;var j;switch(c){case"start":j=Cc("calc(".concat(o,")"));break;case"middle":j=Cc("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=Cc("calc(".concat(h.length-1," * -").concat(s,")"));break}var T=[];if(u){var N=h[0].width,{width:S}=d;T.push("scale(".concat(de(S)&&de(N)?S/N:1,")"))}return g&&T.push("rotate(".concat(g,", ").concat(w,", ").concat(b,")")),T.length&&(x.transform=T.join(" ")),_.createElement("text",Wu({},Nt(x),{ref:t,x:w,y:b,className:ye("recharts-text",v),textAnchor:f,fill:l.includes("url")?ew:l}),h.map((E,P)=>{var O=E.words.join(y?"":" ");return _.createElement("tspan",{x:w,dy:P===0?j:s,key:"".concat(O,"-").concat(P)},O)}))});Hl.displayName="Text";var e7=["labelRef"],t7=["content"];function vg(e,t){if(e==null)return{};var r,n,a=r7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(r),!0).forEach(function(n){n7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n7(e,t,r){return(t=a7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(null,arguments)}var tw=_.createContext(null),s7=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return _.createElement(tw.Provider,{value:u},l)},rw=()=>{var e=_.useContext(tw),t=xl();return e||gb(t)},o7=_.createContext(null),l7=()=>{var e=_.useContext(o7),t=fe(V1);return e||t},c7=e=>{var{value:t,formatter:r}=e,n=Me(e.children)?t:e.children;return typeof r=="function"?r(n):n},fh=e=>e!=null&&typeof e=="function",u7=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},d7=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=a,p=(f+c)/2,g=u7(d,h),v=g>=0?1:-1,y,x;switch(t){case"insideStart":y=d+v*s,x=m;break;case"insideEnd":y=h-v*s,x=!m;break;case"end":y=h+v*s,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Xe(l,u,p,y),b=Xe(l,u,p,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(b.x,",").concat(b.y),T=Me(e.id)?ei("recharts-radial-line-"):e.id;return _.createElement("text",wr({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:T,d:j})),_.createElement("textPath",{xlinkHref:"#".concat(T)},r))},f7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(r==="outside"){var{x:c,y:d}=Xe(n,a,o+t,f);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:p}=Xe(n,a,h,f);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Ku=e=>"cx"in e&&de(e.cx),h7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Ku(r)&&(s=r);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:c}=t,d=o,h=o+(u-f)/2,m=(d+h)/2,p=(u+f)/2,g=d+u/2,v=c>=0?1:-1,y=v*n,x=v>0?"end":"start",w=v>0?"start":"end",b=u>=0?1:-1,j=b*n,T=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var S={x:d+u/2,y:l-y,textAnchor:"middle",verticalAnchor:x};return Ge(Ge({},S),s?{height:Math.max(l-s.y,0),width:u}:{})}if(a==="bottom"){var E={x:h+f/2,y:l+c+y,textAnchor:"middle",verticalAnchor:w};return Ge(Ge({},E),s?{height:Math.max(s.y+s.height-(l+c),0),width:f}:{})}if(a==="left"){var P={x:m-j,y:l+c/2,textAnchor:T,verticalAnchor:"middle"};return Ge(Ge({},P),s?{width:Math.max(P.x-s.x,0),height:c}:{})}if(a==="right"){var O={x:m+p+j,y:l+c/2,textAnchor:N,verticalAnchor:"middle"};return Ge(Ge({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:c}:{})}var I=s?{width:p,height:c}:{};return a==="insideLeft"?Ge({x:m+j,y:l+c/2,textAnchor:N,verticalAnchor:"middle"},I):a==="insideRight"?Ge({x:m+p-j,y:l+c/2,textAnchor:T,verticalAnchor:"middle"},I):a==="insideTop"?Ge({x:d+u/2,y:l+y,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Ge({x:h+f/2,y:l+c-y,textAnchor:"middle",verticalAnchor:x},I):a==="insideTopLeft"?Ge({x:d+j,y:l+y,textAnchor:N,verticalAnchor:w},I):a==="insideTopRight"?Ge({x:d+u-j,y:l+y,textAnchor:T,verticalAnchor:w},I):a==="insideBottomLeft"?Ge({x:h+j,y:l+c-y,textAnchor:N,verticalAnchor:x},I):a==="insideBottomRight"?Ge({x:h+f-j,y:l+c-y,textAnchor:T,verticalAnchor:x},I):a&&typeof a=="object"&&(de(a.x)||Or(a.x))&&(de(a.y)||Or(a.y))?Ge({x:o+xt(a.x,p),y:l+xt(a.y,c),textAnchor:"end",verticalAnchor:"end"},I):Ge({x:g,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},m7={angle:0,offset:5,zIndex:Ze.label,position:"middle",textBreakAll:!1};function Kr(e){var t=mt(e,m7),{viewBox:r,position:n,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:f}=t,c=l7(),d=rw(),h=n==="center"?d:c??d,m,p,g;if(r==null?m=h:Ku(r)?m=r:m=gb(r),!m||Me(a)&&Me(s)&&!_.isValidElement(o)&&typeof o!="function")return null;var v=Ge(Ge({},t),{},{viewBox:m});if(_.isValidElement(o)){var{labelRef:y}=v,x=vg(v,e7);return _.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=v,b=vg(v,t7);if(p=_.createElement(o,b),_.isValidElement(p))return p}else p=c7(t);var j=Nt(t);if(Ku(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return d7(t,n,p,j,m);g=f7(m,t.offset,t.position)}else g=h7(t,m);return _.createElement(It,{zIndex:t.zIndex},_.createElement(Hl,wr({ref:f,className:ye("recharts-label",l)},j,g,{textAnchor:Y8(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:u}),p))}Kr.displayName="Label";var p7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Kr,wr({key:"label-implicit"},n)):mr(e)?_.createElement(Kr,wr({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Kr?_.cloneElement(e,Ge({key:"label-implicit"},n)):_.createElement(Kr,wr({key:"label-implicit",content:e},n)):fh(e)?_.createElement(Kr,wr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Kr,wr({},e,{key:"label-implicit"},n)):null};function g7(e){var{label:t,labelRef:r}=e,n=rw();return p7(t,n,r)||null}var nw={},aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(aw);var iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aw,r=iw,n=al;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(nw);var v7=nw.last;const y7=Mr(v7);var x7=["valueAccessor"],b7=["dataKey","clockWise","id","textBreakAll","zIndex"];function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(null,arguments)}function xg(e,t){if(e==null)return{};var r,n,a=w7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j7=e=>Array.isArray(e.value)?y7(e.value):e.value,sw=_.createContext(void 0),ow=sw.Provider,lw=_.createContext(void 0),_7=lw.Provider;function N7(){return _.useContext(sw)}function E7(){return _.useContext(lw)}function ks(e){var{valueAccessor:t=j7}=e,r=xg(e,x7),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,u=xg(r,b7),f=N7(),c=E7(),d=f||c;return!d||!d.length?null:_.createElement(It,{zIndex:l??Ze.label},_.createElement(ht,{className:"recharts-label-list"},d.map((h,m)=>{var p,g=Me(n)?t(h,m):Oe(h&&h.payload,n),v=Me(s)?{}:{id:"".concat(s,"-").concat(m)};return _.createElement(Kr,jo({key:"label-".concat(m)},Nt(h),u,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}ks.displayName="LabelList";function hh(e){var{label:t}=e;return t?t===!0?_.createElement(ks,{key:"labelList-implicit"}):_.isValidElement(t)||fh(t)?_.createElement(ks,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(ks,jo({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var cw=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ye("recharts-dot",a);return de(t)&&de(r)&&de(n)?_.createElement("circle",Yu({},Bt(e),Pd(e),{className:s,cx:t,cy:r,r:n})):null},uw=e=>e.graphicalItems.polarItems,O7=ee([Le,Di],Mf),ql=ee([uw,ze,O7],Rf),T7=ee([ql],Lf),Gl=ee([T7,Il],Bf),S7=ee([Gl,ze,ql],Ff);ee([Gl,ze,ql],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,o=Oe(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var bg=()=>{},P7=ee([Gl,ze,ql,$l,Le],qf),A7=ee([ze,Uf,Hf,bg,P7,bg,we,Le],Gf),dw=ee([ze,we,Gl,S7,Ci,Le,A7],Vf),I7=ee([dw,ze,Aa],Yf);ee([ze,dw,I7,Le],Zf);var k7={radiusAxis:{},angleAxis:{}},fw=At({name:"polarAxis",initialState:k7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zV,removeRadiusAxis:UV,addAngleAxis:HV,removeAngleAxis:qV}=fw.actions,C7=fw.reducer;function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){D7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D7(e,t,r){return(t=M7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=(e,t)=>t,mh=ee([uw,L7],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),B7=[],ph=(e,t,r)=>(r==null?void 0:r.length)===0?B7:r,hw=ee([Il,mh,ph],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>jg(jg({},t.presentationProps),s.props))),a!=null)return a}}),$7=ee([hw,mh,ph],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,o=Oe(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:_a(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),F7=ee([hw,mh,ph,nt],(e,t,r,n)=>{if(!(t==null||e==null))return F9({offset:n,pieSettings:t,displayedData:e,cells:r})}),mw={exports:{}},Se={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=Symbol.for("react.transitional.element"),vh=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Wl=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),Yl=Symbol.for("react.consumer"),Xl=Symbol.for("react.context"),Zl=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),tc=Symbol.for("react.lazy"),z7=Symbol.for("react.view_transition"),U7=Symbol.for("react.client.reference");function Zt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gh:switch(e=e.type,e){case Vl:case Kl:case Wl:case Ql:case Jl:case z7:return e;default:switch(e=e&&e.$$typeof,e){case Xl:case Zl:case tc:case ec:return e;case Yl:return e;default:return t}}case vh:return t}}}Se.ContextConsumer=Yl;Se.ContextProvider=Xl;Se.Element=gh;Se.ForwardRef=Zl;Se.Fragment=Vl;Se.Lazy=tc;Se.Memo=ec;Se.Portal=vh;Se.Profiler=Kl;Se.StrictMode=Wl;Se.Suspense=Ql;Se.SuspenseList=Jl;Se.isContextConsumer=function(e){return Zt(e)===Yl};Se.isContextProvider=function(e){return Zt(e)===Xl};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gh};Se.isForwardRef=function(e){return Zt(e)===Zl};Se.isFragment=function(e){return Zt(e)===Vl};Se.isLazy=function(e){return Zt(e)===tc};Se.isMemo=function(e){return Zt(e)===ec};Se.isPortal=function(e){return Zt(e)===vh};Se.isProfiler=function(e){return Zt(e)===Kl};Se.isStrictMode=function(e){return Zt(e)===Wl};Se.isSuspense=function(e){return Zt(e)===Ql};Se.isSuspenseList=function(e){return Zt(e)===Jl};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vl||e===Kl||e===Wl||e===Ql||e===Jl||typeof e=="object"&&e!==null&&(e.$$typeof===tc||e.$$typeof===ec||e.$$typeof===Xl||e.$$typeof===Yl||e.$$typeof===Zl||e.$$typeof===U7||e.getModuleId!==void 0)};Se.typeOf=Zt;mw.exports=Se;var H7=mw.exports,_g=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Ng=null,Dc=null,pw=e=>{if(e===Ng&&Array.isArray(Dc))return Dc;var t=[];return _.Children.forEach(e,r=>{Me(r)||(H7.isFragment(r)?t=t.concat(pw(r.props.children)):t.push(r))}),Dc=t,Ng=e,t};function yh(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>_g(a)):n=[_g(t)],pw(e).forEach(a=>{var s=kn(a,"type.displayName")||kn(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var gw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(vw);var q7=vw.isPlainObject;const G7=Mr(q7);var Eg,Og,Tg,Sg,Pg;function Ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(n){V7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V7(e,t,r){return(t=W7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(null,arguments)}function qa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kg=(e,t,r,n,a)=>{var s=r-n,o;return o=Ue(Eg||(Eg=qa(["M ",",",""])),e,t),o+=Ue(Og||(Og=qa(["L ",",",""])),e+r,t),o+=Ue(Tg||(Tg=qa(["L ",",",""])),e+r-s/2,t+a),o+=Ue(Sg||(Sg=qa(["L ",",",""])),e+r-s/2-n,t+a),o+=Ue(Pg||(Pg=qa(["L ",","," Z"])),e,t),o},Y7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X7=e=>{var t=mt(e,Y7),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:c,isUpdateAnimationActive:d}=t,h=_.useRef(null),[m,p]=_.useState(-1),g=_.useRef(a),v=_.useRef(s),y=_.useRef(o),x=_.useRef(r),w=_.useRef(n),b=Si(e,"trapezoid-");if(_.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var A=h.current.getTotalLength();A&&p(A)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var j=ye("recharts-trapezoid",l);if(!d)return _.createElement("g",null,_.createElement("path",_o({},Nt(t),{className:j,d:kg(r,n,a,s,o)})));var T=g.current,N=v.current,S=y.current,E=x.current,P=w.current,O="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),k=Ib(["strokeDasharray"],f,u);return _.createElement(Ti,{animationId:b,key:b,canBegin:m>0,duration:f,easing:u,isActive:d,begin:c},A=>{var M=Ce(T,a,A),R=Ce(N,s,A),D=Ce(S,o,A),q=Ce(E,r,A),F=Ce(P,n,A);h.current&&(g.current=M,v.current=R,y.current=D,x.current=q,w.current=F);var $=A>0?{transition:k,strokeDasharray:I}:{strokeDasharray:O};return _.createElement("path",_o({},Nt(t),{className:j,d:kg(q,F,M,R,D),ref:h,style:Ig(Ig({},$),t.style)}))})},Z7=["option","shapeType","activeClassName"];function Q7(e,t){if(e==null)return{};var r,n,a=J7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function J7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(r),!0).forEach(function(n){e9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t,r){return(t=t9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e,t){return No(No({},t),e)}function a9(e,t){return e==="symbols"}function Dg(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(Mb,r);case"trapezoid":return _.createElement(X7,r);case"sector":return _.createElement($b,r);case"symbols":if(a9(t))return _.createElement(ax,r);break;case"curve":return _.createElement(Jd,r);default:return null}}function i9(e){return _.isValidElement(e)?e.props:e}function xh(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Q7(e,Z7),s;if(_.isValidElement(t))s=_.cloneElement(t,No(No({},a),i9(t)));else if(typeof t=="function")s=t(a,a.index);else if(G7(t)&&typeof t!="boolean"){var o=n9(t,a);s=_.createElement(Dg,{shapeType:r,elementProps:o})}else{var l=a;s=_.createElement(Dg,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(ht,{className:n},s):s}var bh=(e,t,r)=>{var n=Re();return(a,s)=>o=>{e==null||e(a,s,o),n(_2({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},wh=e=>{var t=Re();return(r,n)=>a=>{e==null||e(r,n,a),t(xR())}},jh=(e,t,r)=>{var n=Re();return(a,s)=>o=>{e==null||e(a,s,o),n(bR({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function _h(e){var{tooltipEntrySettings:t}=e,r=Re(),n=bt(),a=_.useRef(null);return _.useLayoutEffect(()=>{n||(a.current===null?r(pR(t)):a.current!==t&&r(gR({prev:a.current,next:t})),a.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{a.current&&(r(vR(a.current)),a.current=null)},[r]),null}function yw(e){var{legendPayload:t}=e,r=Re(),n=bt(),a=_.useRef(null);return _.useLayoutEffect(()=>{n||(a.current===null?r(Tb(t)):a.current!==t&&r(Sb({prev:a.current,next:t})),a.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{a.current&&(r(Pb(a.current)),a.current=null)},[r]),null}function s9(e){var{legendPayload:t}=e,r=Re(),n=fe(we),a=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(Tb(t)):a.current!==t&&r(Sb({prev:a.current,next:t})),a.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{a.current&&(r(Pb(a.current)),a.current=null)},[r]),null}var Mc,o9=()=>{var[e]=_.useState(()=>ei("uid-"));return e},l9=(Mc=ey.useId)!==null&&Mc!==void 0?Mc:o9;function c9(e,t){var r=l9();return t||(e?"".concat(e,"-").concat(r):r)}var u9=_.createContext(void 0),Nh=e=>{var{id:t,type:r,children:n}=e,a=c9("recharts-".concat(r),t);return _.createElement(u9.Provider,{value:a},n(a))},d9={cartesianItems:[],polarItems:[]},xw=At({name:"graphicalItems",initialState:d9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ir(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=ir(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ke()},removePolarGraphicalItem:{reducer(e,t){var r=ir(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ke()}}}),{addCartesianGraphicalItem:f9,replaceCartesianGraphicalItem:h9,removeCartesianGraphicalItem:m9,addPolarGraphicalItem:p9,removePolarGraphicalItem:g9}=xw.actions,v9=xw.reducer,y9=e=>{var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(f9(e)):r.current!==e&&t(h9({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(m9(r.current)),r.current=null)},[t]),null},bw=_.memo(y9);function x9(e){var t=Re();return _.useLayoutEffect(()=>(t(p9(e)),()=>{t(g9(e))}),[t,e]),null}var b9=["key"],w9=["onMouseEnter","onClick","onMouseLeave"],j9=["id"],_9=["id"];function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mg(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=E9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sn.apply(null,arguments)}function rc(e,t){if(e==null)return{};var r,n,a=T9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S9(e){var t=_.useMemo(()=>yh(e.children,ca),[e.children]),r=fe(n=>$7(n,e.id,t));return r==null?null:_.createElement(s9,{legendPayload:r})}var P9=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:_a(l,t),hide:u,type:f,color:o,unit:"",graphicalItemId:c}};return _.createElement(_h,{tooltipEntrySettings:d})}),A9=(e,t)=>e>t?"start":e<t?"end":"middle",I9=(e,t,r)=>xt(typeof t=="function"?t(e):t,r,r*.8),k9=(e,t,r)=>{var{top:n,left:a,width:s,height:o}=t,l=Rb(s,o),u=a+xt(e.cx,s,s/2),f=n+xt(e.cy,o,o/2),c=xt(e.innerRadius,l,0),d=I9(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:f,innerRadius:c,outerRadius:d,maxRadius:h}},C9=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function D9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var M9=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ye("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=rc(t,b9);return _.createElement(Jd,sn({},a,{type:"linear",className:r}))},R9=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var a=ye("recharts-pie-label-text",D9(e));return _.createElement(Hl,sn({},t,{alignmentBaseline:"middle",className:a}),n)};function L9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=Bt(r),u=An(a),f=An(s),c=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,d=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Xe(h.cx,h.cy,h.outerRadius+c,p),v=He(He(He(He({},l),h),{},{stroke:"none"},u),{},{index:m,textAnchor:A9(g.x,h.cx)},g),y=He(He(He(He({},l),h),{},{fill:"none",stroke:h.fill},f),{},{index:m,points:[Xe(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return _.createElement(It,{zIndex:Ze.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},_.createElement(ht,null,s&&M9(s,y),R9(a,v,Oe(h,o))))});return _.createElement(ht,{className:"recharts-pie-labels"},d)}function B9(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(hh,{label:a}):_.createElement(L9,{sectors:t,props:r,showLabels:n})}function $9(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:o}=e,l=fe(an),u=fe(sh),f=fe(iL),{onMouseEnter:c,onClick:d,onMouseLeave:h}=a,m=rc(a,w9),p=bh(c,a.dataKey,o),g=wh(h),v=jh(d,a.dataKey,o);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=f==null||f===o,b=String(x)===l&&(u==null||a.dataKey===u)&&w,j=l?n:null,T=r&&b?r:j,N=He(He({},y),{},{stroke:y.stroke,tabIndex:-1,[lb]:x,[cb]:o});return _.createElement(ht,sn({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},nl(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),_.createElement(xh,sn({option:s??T,index:x,shapeType:"sector",isActive:b},N)))}))}function F9(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),m=C9(l,u),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(T=>Oe(T,f,0)!==0).length,y=(p>=360?v:v-1)*g,x=p-v*h-y,w=n.reduce((T,N)=>{var S=Oe(N,f,0);return T+(de(S)?S:0)},0),b;if(w>0){var j;b=n.map((T,N)=>{var S=Oe(T,f,0),E=Oe(T,c,N),P=k9(r,s,T),O=(de(S)?S:0)/w,I,k=He(He({},T),a&&a[N]&&a[N].props);N?I=j.endAngle+ft(m)*g*(S!==0?1:0):I=l;var A=I+ft(m)*((S!==0?h:0)+O*x),M=(I+A)/2,R=(P.innerRadius+P.outerRadius)/2,D=[{name:E,value:S,payload:k,dataKey:f,type:d,graphicalItemId:r.id}],q=Xe(P.cx,P.cy,R,M);return j=He(He(He(He({},r.presentationProps),{},{percent:O,cornerRadius:typeof o=="string"?parseFloat(o):o,name:E,tooltipPayload:D,midAngle:M,middleRadius:R,tooltipPosition:q},k),P),{},{value:S,dataKey:f,startAngle:I,endAngle:A,payload:k,paddingAngle:ft(m)*g}),j})}return b}function z9(e){var{showLabels:t,sectors:r,children:n}=e,a=_.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return _.createElement(_7,{value:t?a:void 0},n)}function U9(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,m=Si(t,"recharts-pie-"),p=r.current,[g,v]=_.useState(!1),y=_.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),x=_.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return _.createElement(z9,{showLabels:!g,sectors:a},_.createElement(Ti,{animationId:m,begin:o,duration:l,isActive:s,easing:u,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var b=[],j=a&&a[0],T=j==null?void 0:j.startAngle;return a==null||a.forEach((N,S)=>{var E=p&&p[S],P=S>0?kn(N,"paddingAngle",0):0;if(E){var O=Ce(E.endAngle-E.startAngle,N.endAngle-N.startAngle,w),I=He(He({},N),{},{startAngle:T+P,endAngle:T+O+P});b.push(I),T=I.endAngle}else{var{endAngle:k,startAngle:A}=N,M=Ce(0,k-A,w),R=He(He({},N),{},{startAngle:T+P,endAngle:T+M+P});b.push(R),T=R.endAngle}}),r.current=b,_.createElement(ht,null,_.createElement($9,{sectors:b,activeShape:f,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(B9,{showLabels:!g,sectors:a,props:t}),t.children)}var H9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ze.area};function q9(e){var{id:t}=e,r=rc(e,j9),{hide:n,className:a,rootTabIndex:s}=e,o=_.useMemo(()=>yh(e.children,ca),[e.children]),l=fe(c=>F7(c,t,o)),u=_.useRef(null),f=ye("recharts-pie",a);return n||l==null?(u.current=null,_.createElement(ht,{tabIndex:s,className:f})):_.createElement(It,{zIndex:e.zIndex},_.createElement(P9,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(ht,{tabIndex:s,className:f},_.createElement(U9,{props:He(He({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function Xu(e){var t=mt(e,H9),{id:r}=t,n=rc(t,_9),a=Bt(n);return _.createElement(Nh,{id:r,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(x9,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),_.createElement(S9,sn({},n,{id:s})),_.createElement(q9,sn({},n,{id:s}))))}Xu.displayName="Pie";var G9=["points"];function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rg(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return(t=W9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(null,arguments)}function Y9(e,t){if(e==null)return{};var r,n,a=X9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Z9(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ye(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=Y9(s,G9);return _.createElement(cw,Eo({},l,{className:a}))}function Q9(e,t){return e==null?!1:t?!0:e.length===1}function J9(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Ze.scatter}=e;if(!Q9(t,r))return null;var c=gw(r),d=O5(r),h=t.map((p,g)=>{var v,y,x=Rc(Rc(Rc({r:3},o),d),{},{index:g,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return _.createElement(Z9,{key:"dot-".concat(g),option:r,dotProps:x,className:a})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(u,")")),_.createElement(It,{zIndex:f},_.createElement(ht,Eo({className:n},m),h))}function Lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lg(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ww=0,nB={xAxis:{},yAxis:{},zAxis:{}},jw=At({name:"cartesianAxis",initialState:nB,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=Bg(Bg({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:aB,replaceXAxis:iB,removeXAxis:sB,addYAxis:oB,replaceYAxis:lB,removeYAxis:cB,addZAxis:GV,replaceZAxis:VV,removeZAxis:WV,updateYAxisWidth:uB}=jw.actions,dB=jw.reducer,fB=ee([nt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),hB=ee([fB,Br,$r],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Eh=()=>fe(hB),mB=()=>fe(uL);function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return(t=gB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=vB(e,"string");return typeof t=="symbol"?t:t+""}function vB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yB=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Lc(Lc(Lc({},l),An(a)),Pd(a)),f;return _.isValidElement(a)?f=_.cloneElement(a,u):typeof a=="function"?f=a(u):f=_.createElement(cw,u),_.createElement(ht,{className:"recharts-active-dot",clipPath:o},f)};function xB(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=Ze.activeDot}=e,l=fe(an),u=mB();if(t==null||u==null)return null;var f=t.find(c=>u.includes(c.payload));return Me(f)?null:_.createElement(It,{zIndex:o},_.createElement(yB,{point:f,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Fg=(e,t,r)=>{var n=r??e;if(!Me(n))return xt(n,t,0)},bB=(e,t,r)=>{var n={},a=e.filter(Dl),s=e.filter(f=>f.stackId==null),o=a.reduce((f,c)=>(f[c.stackId]||(f[c.stackId]=[]),f[c.stackId].push(c),f),n),l=Object.entries(o).map(f=>{var[c,d]=f,h=d.map(p=>p.dataKey),m=Fg(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:m}}),u=s.map(f=>{var c=[f.dataKey].filter(h=>h!=null),d=Fg(t,r,f.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...l,...u]};function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){wB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e,t,r,n,a){var s=n.length;if(!(s<1)){var o=xt(e,r,0,!0),l,u=[];if($e(n[0].barSize)){var f=!1,c=r/s,d=n.reduce((y,x)=>y+(x.barSize||0),0);d+=(s-1)*o,d>=r&&(d-=(s-1)*o,o=0),d>=r&&c>0&&(f=!0,c*=.9,d=s*c);var h=(r-d)/2>>0,m={offset:h-o,size:0};l=n.reduce((y,x)=>{var w,b={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:f?c:(w=x.barSize)!==null&&w!==void 0?w:0}},j=[...y,b];return m=j[j.length-1].position,j},u)}else{var p=xt(t,r,0,!0);r-2*p-(s-1)*o<=0&&(o=0);var g=(r-2*p-(s-1)*o)/s;g>1&&(g>>=0);var v=$e(a)?Math.min(g,a):g;l=n.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(g+o)*w+(g-v)/2,size:v}}],u)}return l}}var EB=(e,t,r,n,a,s,o)=>{var l=Me(o)?t:o,u=NB(r,n,a!==s?a:s,e,l);return a!==s&&u!=null&&(u=u.map(f=>ps(ps({},f),{},{position:ps(ps({},f.position),{},{offset:f.position.offset-a/2})}))),u},OB=(e,t)=>{var r=Cf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}};function TB(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&$e(e.zIndex)?e.zIndex:t}var _w=e=>{var{chartData:t}=e,r=Re(),n=bt();return _.useEffect(()=>n?()=>{}:(r(rg(t)),()=>{r(rg(void 0))}),[t,r,n]),null},Ug={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nw=At({name:"brush",initialState:Ug,reducers:{setBrushSettings(e,t){return t.payload==null?Ug:t.payload}}}),{setBrushSettings:KV}=Nw.actions,SB=Nw.reducer;function PB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=IB(e,"string");return typeof t=="symbol"?t:t+""}function IB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Oh{static create(t){return new Oh(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}PB(Oh,"EPS",1e-4);function kB(e){return(e%180+180)%180}var CB=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=kB(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},DB={dots:[],areas:[],lines:[]},Ew=At({name:"referenceElements",initialState:DB,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ir(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ir(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ir(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:YV,removeDot:XV,addArea:ZV,removeArea:QV,addLine:JV,removeLine:eW}=Ew.actions,MB=Ew.reducer,RB=_.createContext(void 0),LB=e=>{var{children:t}=e,[r]=_.useState("".concat(ei("recharts"),"-clip")),n=Eh();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return _.createElement(RB.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function Ow(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function BB(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return CB(n,r)}function $B(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function mi(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function FB(e,t){return Ow(e,t+1)}function zB(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,u=0,f=1,c=o,d=function(){var p=n==null?void 0:n[u];if(p===void 0)return{v:Ow(n,f)};var g=u,v,y=()=>(v===void 0&&(v=r(p,g)),v),x=p.coordinate,w=u===0||mi(e,x,y,c,l);w||(u=0,c=o,f+=1),w&&(c=x+e*(y()/2+a),u+=f)},h;f<=s.length;)if(h=d(),h)return h.v;return[]}function UB(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:u}=t,f=1;f<=o;f++){for(var c=(o-1)%f,d=l,h=!0,m=function(){var x=n[p],w=p,b,j=()=>(b===void 0&&(b=r(x,w)),b),T=x.coordinate,N=p===c||mi(e,T,j,d,u);if(!N)return h=!1,1;N&&(d=T+e*(j()/2+a))},p=c;p<o&&!m();p+=f);if(h){for(var g=[],v=c;v<o;v+=f)g.push(n[v]);return g}}return[]}function Hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(r),!0).forEach(function(n){HB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VB(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:u}=t,f=function(h){var m=s[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var v=e*(m.coordinate+e*g()/2-u);s[h]=m=vt(vt({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=vt(vt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=mi(e,m.tickCoord,g,l,u);y&&(u=m.tickCoord-e*(g()/2+a),s[h]=vt(vt({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)f(c);return s}function WB(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:u,end:f}=t;if(s){var c=n[l-1],d=r(c,l-1),h=e*(c.coordinate+e*d/2-f);if(o[l-1]=c=vt(vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=mi(e,c.tickCoord,()=>d,u,f);m&&(f=c.tickCoord-e*(d/2+a),o[l-1]=vt(vt({},c),{},{isShow:!0}))}}for(var p=s?l-1:l,g=function(x){var w=o[x],b,j=()=>(b===void 0&&(b=r(w,x)),b);if(x===0){var T=e*(w.coordinate-e*j()/2-u);o[x]=w=vt(vt({},w),{},{tickCoord:T<0?w.coordinate-T*e:w.coordinate})}else o[x]=w=vt(vt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=mi(e,w.tickCoord,j,u,f);N&&(u=w.tickCoord+e*(j()/2+a),o[x]=vt(vt({},w),{},{isShow:!0}))}},v=0;v<p;v++)g(v);return o}function Th(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:c,angle:d}=e;if(!a||!a.length||!n)return[];if(de(u)||Nl.isSsr){var h;return(h=FB(a,de(u)?u:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",g=c&&p==="width"?Xa(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,b)=>{var j=typeof f=="function"?f(w.value,b):w.value;return p==="width"?BB(Xa(j,{fontSize:t,letterSpacing:r}),g,d):Xa(j,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?ft(a[1].coordinate-a[0].coordinate):1,x=$B(s,y,p);return u==="equidistantPreserveStart"?zB(y,x,v,a,o):u==="equidistantPreserveEnd"?UB(y,x,v,a,o):(u==="preserveStart"||u==="preserveStartEnd"?m=WB(y,x,v,a,o,u==="preserveStartEnd"):m=VB(y,x,v,a,o),m.filter(w=>w.isShow))}var KB=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+s,f=o+u+l+(r?n:0);return Math.round(f)}return 0},YB=["axisLine","width","height","className","hide","ticks","axisType"];function XB(e,t){if(e==null)return{};var r,n,a=ZB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(null,arguments)}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=JB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=e$(e,"string");return typeof t=="symbol"?t:t+""}function e$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Er={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ze.axis};function t$(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Ye(Ye(Ye({},u),Bt(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!o||s==="bottom"&&o);f=Ye(Ye({},f),{},{x1:t,y1:r+c*a,x2:t+n,y2:r+c*a})}else{var d=+(s==="left"&&!o||s==="right"&&o);f=Ye(Ye({},f),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return _.createElement("line",Ln({},f,{className:ye("recharts-cartesian-axis-line",kn(l,"className"))}))}function r$(e,t,r,n,a,s,o,l,u){var f,c,d,h,m,p,g=l?-1:1,v=e.tickSize||o,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=c=e.coordinate,h=r+ +!l*a,d=h-g*v,p=d-g*u,m=y;break;case"left":d=h=e.coordinate,c=t+ +!l*n,f=c-g*v,m=f-g*u,p=y;break;case"right":d=h=e.coordinate,c=t+ +l*n,f=c+g*v,m=f+g*u,p=y;break;default:f=c=e.coordinate,h=r+ +l*a,d=h+g*v,p=d+g*u,m=y;break}return{line:{x1:f,y1:d,x2:c,y2:h},tick:{x:m,y:p}}}function n$(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function a$(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function i$(e){var{option:t,tickProps:r,value:n}=e,a,s=ye(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))a=_.cloneElement(t,Ye(Ye({},r),{},{className:s}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ye(o,t==null?void 0:t.className)),a=_.createElement(Hl,Ln({},r,{className:o}),n)}return a}var s$=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:c,mirror:d,x:h,y:m,width:p,height:g,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:b,events:j,axisType:T}=e,N=Th(Ye(Ye({},b),{},{ticks:r}),x,w),S=n$(c,d),E=a$(c,d),P=Bt(b),O=An(n),I={};typeof a=="object"&&(I=a);var k=Ye(Ye({},P),{},{fill:"none"},I),A=N.map(D=>Ye({entry:D},r$(D,h,m,p,g,c,v,d,y))),M=A.map(D=>{var{entry:q,line:F}=D;return _.createElement(ht,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&_.createElement("line",Ln({},k,F,{className:ye("recharts-cartesian-axis-tick-line",kn(a,"className"))})))}),R=A.map((D,q)=>{var{entry:F,tick:$}=D,C=Ye(Ye(Ye(Ye({textAnchor:S,verticalAnchor:E},P),{},{stroke:"none",fill:s},O),$),{},{index:q,payload:F,visibleTicksCount:N.length,tickFormatter:o,padding:u},f);return _.createElement(ht,Ln({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},nl(j,F,q)),n&&_.createElement(i$,{option:n,tickProps:C,value:"".concat(typeof o=="function"?o(F.value,q):F.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},R.length>0&&_.createElement(It,{zIndex:Ze.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},R)),M.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},M))}),o$=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:u}=e,f=XB(e,YB),[c,d]=_.useState(""),[h,m]=_.useState(""),p=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return KB({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=_.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),b=w.fontSize,j=w.letterSpacing;(b!==c||j!==h)&&(d(b),m(j))}}},[c,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:_.createElement(It,{zIndex:e.zIndex},_.createElement(ht,{className:ye("recharts-cartesian-axis",s)},_.createElement(t$,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Bt(e)}),_.createElement(s$,{ref:g,axisType:u,events:f,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(s7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(g7,{label:e.label,labelRef:e.labelRef}),e.children)))}),Sh=_.forwardRef((e,t)=>{var r=mt(e,Er);return _.createElement(o$,Ln({},r,{ref:t}))});Sh.displayName="CartesianAxis";var l$=["x1","y1","x2","y2","key"],c$=["offset"],u$=["xAxisId","yAxisId"],d$=["xAxisId","yAxisId"];function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){f$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f$(e,t,r){return(t=h$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=m$(e,"string");return typeof t=="symbol"?t:t+""}function m$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(null,arguments)}function Oo(e,t){if(e==null)return{};var r,n,a=p$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g$=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return _.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Tw(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:u,key:f}=r,c=Oo(r,l$),d=(a=Bt(c))!==null&&a!==void 0?a:{},{offset:h}=d,m=Oo(d,c$);n=_.createElement("line",yn({},m,{x1:s,y1:o,x2:l,y2:u,fill:"none",key:f}))}return n}function v$(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Oo(e,u$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(c),index:c});return _.createElement(Tw,{key:"line-".concat(c),option:n,lineItemProps:d})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function y$(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Oo(e,d$),u=a.map((f,c)=>{var d=yt(yt({},l),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(Tw,{option:n,lineItemProps:d,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function x$(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%t.length;return _.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function b$(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==f[0]&&f.unshift(0);var c=f.map((d,h)=>{var m=!f[h+1],p=m?a+o-d:f[h+1]-d;if(p<=0)return null;var g=h%r.length;return _.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var w$=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return ib(Th(yt(yt(yt({},Er),r),{},{ticks:sb(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},j$=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return ib(Th(yt(yt(yt({},Er),r),{},{ticks:sb(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},_$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ze.grid};function Zu(e){var t=yb(),r=xb(),n=vb(),a=yt(yt({},mt(e,_$)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:u,width:f,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:m}=a,p=bt(),g=fe(E=>Gp(E,"xAxis",s,p)),v=fe(E=>Gp(E,"yAxis",o,p));if(!pr(f)||!pr(c)||!de(l)||!de(u))return null;var y=a.verticalCoordinatesGenerator||w$,x=a.horizontalCoordinatesGenerator||j$,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,T=x({yAxis:v?yt(yt({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??f,height:r??c,offset:n},j?!0:d);Js(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(w=T)}if((!b||!b.length)&&typeof y=="function"){var N=m&&m.length,S=y({xAxis:g?yt(yt({},g),{},{ticks:N?m:g.ticks}):void 0,width:t??f,height:r??c,offset:n},N?!0:d);Js(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}return _.createElement(It,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(g$,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(x$,yn({},a,{horizontalPoints:w})),_.createElement(b$,yn({},a,{verticalPoints:b})),_.createElement(v$,yn({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),_.createElement(y$,yn({},a,{offset:n,verticalPoints:b,xAxis:g,yAxis:v}))))}Zu.displayName="CartesianGrid";var N$={},Sw=At({name:"errorBars",initialState:N$,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:tW,replaceErrorBar:rW,removeErrorBar:nW}=Sw.actions,E$=Sw.reducer,O$=["children"];function T$(e,t){if(e==null)return{};var r,n,a=S$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},A$=_.createContext(P$);function Pw(e){var{children:t}=e,r=T$(e,O$);return _.createElement(A$.Provider,{value:r},t)}function Ph(e,t){var r,n,a=fe(f=>Ur(f,e)),s=fe(f=>Hr(f,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:lt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Aw(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Eh(),{needClipX:s,needClipY:o,needClip:l}=Ph(t,r);if(!l||!a)return null;var{x:u,y:f,width:c,height:d}=a;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:s?u:u-c/2,y:o?f:f-d/2,width:s?c:c*2,height:o?d:d*2}))}var Iw=(e,t,r,n)=>nn(e,"xAxis",t,n),kw=(e,t,r,n)=>rn(e,"xAxis",t,n),Cw=(e,t,r,n)=>nn(e,"yAxis",r,n),Dw=(e,t,r,n)=>rn(e,"yAxis",r,n),I$=ee([we,Iw,Cw,kw,Dw],(e,t,r,n,a)=>on(e,"xAxis")?aa(t,n,!1):aa(r,a,!1)),k$=(e,t,r,n,a)=>a;function C$(e){return e.type==="line"}var D$=ee([Ll,k$],(e,t)=>e.filter(C$).find(r=>r.id===t)),M$=ee([we,Iw,Cw,kw,Dw,D$,I$,Nf],(e,t,r,n,a,s,o,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:c}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=u==null?void 0:u.slice(f,c+1),m!=null)return aF({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:o,displayedData:m})}});function R$(e){var t=An(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var L$=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function B$(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function nc(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(L$.has(n)){if(e[n]==null&&t[n]==null)continue;if(!a_(e[n],t[n]))return!1}else if(!B$(e[n],t[n]))return!1;return!0}var $$=["id"],F$=["type","layout","connectNulls","needClip","shape"],z$=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(null,arguments)}function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(n){U$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t,r){return(t=H$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H$(e){var t=q$(e,"string");return typeof t=="symbol"?t:t+""}function q$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(e,t){if(e==null)return{};var r,n,a=G$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V$=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:_a(r,t),payload:e}]},W$=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:_a(o,t),hide:l,type:f,color:n,unit:u,graphicalItemId:c}};return _.createElement(_h,{tooltipEntrySettings:d})}),Mw=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function K$(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Y$=(e,t,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return Mw(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>s){l=[...r.slice(0,u),s-f];break}var c=l.length%2===0?[0,o]:[o];return[...K$(r,a),...l,...c].map(d=>"".concat(d,"px")).join(", ")};function X$(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,u=Ah(n,$$),f=Bt(u);return _.createElement(J9,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:o,clipPathId:t})}function Z$(e){var{showLabels:t,children:r,points:n}=e,a=_.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return dr(dr({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(ow,{value:t?a:void 0},r)}function Wg(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:u,needClip:f,shape:c}=s,d=Ah(s,F$),h=dr(dr({},Nt(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??s.strokeDasharray});return _.createElement(_.Fragment,null,(n==null?void 0:n.length)>1&&_.createElement(xh,pi({shapeType:"curve",option:c},h,{pathRef:r})),_.createElement(X$,{points:n,clipPathId:t,props:s}))}function Q$(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function J$(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:c,animationEasing:d,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=Si(o,"recharts-line-"),w=_.useRef(x),[b,j]=_.useState(!1),T=!b,N=_.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),S=_.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),E=Q$(n.current),P=_.useRef(0);w.current!==x&&(P.current=s.current,w.current=x);var O=P.current;return _.createElement(Z$,{points:o,showLabels:T},r.children,_.createElement(Ti,{animationId:x,begin:f,duration:c,isActive:u,easing:d,onAnimationEnd:N,onAnimationStart:S,key:x},I=>{var k=Ce(O,E+O,I),A=Math.min(k,E),M;if(u)if(l){var R="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));M=Y$(A,E,R)}else M=Mw(E,A);else M=l==null?void 0:String(l);if(I>0&&E>0&&(a.current=o,s.current=Math.max(s.current,A)),y){var D=y.length/o.length,q=I===1?o:o.map((F,$)=>{var C=Math.floor($*D);if(y[C]){var L=y[C];return dr(dr({},F),{},{x:Ce(L.x,F.x,I),y:Ce(L.y,F.y,I)})}return h?dr(dr({},F),{},{x:Ce(m*2,F.x,I),y:Ce(p/2,F.y,I)}):dr(dr({},F),{},{x:F.x,y:F.y})});return a.current=q,_.createElement(Wg,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:M})}return _.createElement(Wg,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),_.createElement(hh,{label:r.label}))}function eF(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),a=_.useRef(0),s=_.useRef(null);return _.createElement(J$,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var tF=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Oe(e.payload,t)}};class rF extends _.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:f,height:c,id:d,needClip:h,zIndex:m}=this.props;if(t)return null;var p=ye("recharts-line",a),g=d,{r:v,strokeWidth:y}=R$(r),x=gw(r),w=v*2+y,b=h?"url(#clipPath-".concat(x?"":"dots-").concat(g,")"):void 0;return _.createElement(It,{zIndex:m},_.createElement(ht,{className:p},h&&_.createElement("defs",null,_.createElement(Aw,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&_.createElement("clipPath",{id:"clipPath-dots-".concat(g)},_.createElement("rect",{x:u-w/2,y:l-w/2,width:f+w,height:c+w}))),_.createElement(Pw,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:tF,errorBarOffset:0},_.createElement(eF,{props:this.props,clipPathId:g}))),_.createElement(xB,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var Rw={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ze.line,type:"linear"};function nF(e){var t=mt(e,Rw),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:u,hide:f,isAnimationActive:c,label:d,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=Ah(t,z$),{needClip:y}=Ph(m,p),x=Eh(),w=Na(),b=bt(),j=fe(P=>M$(P,m,p,b,g));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:T,width:N,x:S,y:E}=x;return _.createElement(rF,pi({},v,{id:g,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:c,hide:f,label:d,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:w,height:T,width:N,left:S,top:E,needClip:y}))}function aF(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((f,c)=>{var d=Oe(f,o);if(t==="horizontal"){var h=n0({axis:r,ticks:a,bandSize:l,entry:f,index:c}),m=Me(d)?null:n.scale(d);return{x:h,y:m,value:d,payload:f}}var p=Me(d)?null:r.scale(d),g=n0({axis:n,ticks:s,bandSize:l,entry:f,index:c});return p==null||g==null?null:{x:p,y:g,value:d,payload:f}}).filter(Boolean)}function iF(e){var t=mt(e,Rw),r=bt();return _.createElement(Nh,{id:t.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(yw,{legendPayload:V$(t)}),_.createElement(W$,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(bw,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(nF,pi({},t,{id:n}))))}var Lw=_.memo(iF,nc);Lw.displayName="Line";function zn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:ww}function Un(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:ww}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(null,arguments)}function To(e){return _.createElement(xh,Qu({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var sF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Me(n);return s?t(n,a):(s||i_(),r)}},oF=(e,t,r)=>r,lF=(e,t)=>t,Ui=ee([Ll,lF],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),cF=ee([Ui],e=>e==null?void 0:e.maxBarSize),uF=(e,t,r,n)=>n,dF=ee([we,Ll,zn,Un,oF],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),fF=(e,t,r)=>{var n=we(e),a=zn(e,t),s=Un(e,t);if(!(a==null||s==null))return n==="horizontal"?Uu(e,"yAxis",s,r):Uu(e,"xAxis",a,r)},hF=(e,t)=>{var r=we(e),n=zn(e,t),a=Un(e,t);if(!(n==null||a==null))return r==="horizontal"?qp(e,"xAxis",n):qp(e,"yAxis",a)},mF=ee([dF,l6,hF],bB),pF=(e,t,r)=>{var n,a,s=Ui(e,t);if(s!=null){var o=zn(e,t),l=Un(e,t);if(!(o==null||l==null)){var u=we(e),f=B1(e),{maxBarSize:c}=s,d=Me(c)?f:c,h,m;return u==="horizontal"?(h=nn(e,"xAxis",o,r),m=rn(e,"xAxis",o,r)):(h=nn(e,"yAxis",l,r),m=rn(e,"yAxis",l,r)),(n=(a=aa(h,m,!0))!==null&&a!==void 0?a:d)!==null&&n!==void 0?n:0}}},Bw=(e,t,r)=>{var n=we(e),a=zn(e,t),s=Un(e,t);if(!(a==null||s==null)){var o,l;return n==="horizontal"?(o=nn(e,"xAxis",a,r),l=rn(e,"xAxis",a,r)):(o=nn(e,"yAxis",s,r),l=rn(e,"yAxis",s,r)),aa(o,l)}},gF=ee([mF,B1,o6,$1,pF,Bw,cF],EB),vF=(e,t,r)=>{var n=zn(e,t);if(n!=null)return nn(e,"xAxis",n,r)},yF=(e,t,r)=>{var n=Un(e,t);if(n!=null)return nn(e,"yAxis",n,r)},xF=(e,t,r)=>{var n=zn(e,t);if(n!=null)return rn(e,"xAxis",n,r)},bF=(e,t,r)=>{var n=Un(e,t);if(n!=null)return rn(e,"yAxis",n,r)},wF=ee([gF,Ui],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),jF=ee([fF,Ui],OB),_F=ee([nt,Yd,vF,yF,xF,bF,wF,we,YM,Bw,jF,Ui,uF],(e,t,r,n,a,s,o,l,u,f,c,d,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=u;if(!(d==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||f==null)){var{data:v}=d,y;if(v!=null&&v.length>0?y=v:y=m==null?void 0:m.slice(p,g+1),y!=null)return QF({layout:l,barSettings:d,pos:o,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:c,displayedData:y,offset:e,cells:h,dataStartIndex:p})}}),NF=["index"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(null,arguments)}function EF(e,t){if(e==null)return{};var r,n,a=OF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $w=_.createContext(void 0),TF=e=>{var t=_.useContext($w);if(t!=null)return t.stackId;if(e!=null)return fC(e)},SF=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),PF=e=>{var t=_.useContext($w);if(t!=null){var{stackId:r}=t;return"url(#".concat(SF(r,e),")")}},AF=e=>{var{index:t}=e,r=EF(e,NF),n=PF(t);return _.createElement(ht,Ju({className:"recharts-bar-stack-layer",clipPath:n},r))},IF=["onMouseEnter","onMouseLeave","onClick"],kF=["value","background","tooltipPosition"],CF=["id"],DF=["onMouseEnter","onClick","onMouseLeave"];function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kr.apply(null,arguments)}function Kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(r),!0).forEach(function(n){MF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MF(e,t,r){return(t=RF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(e,t){if(e==null)return{};var r,n,a=BF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $F=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:_a(r,t),payload:e}]},FF=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:f}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:_a(s,t),hide:o,type:u,color:a,unit:l,graphicalItemId:f}};return _.createElement(_h,{tooltipEntrySettings:c})});function zF(e){var t=fe(an),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=s,f=So(s,IF),c=bh(o,n,s.id),d=wh(l),h=jh(u,n,s.id);if(!a||r==null)return null;var m=An(a);return _.createElement(It,{zIndex:TB(a,Ze.barBackground)},r.map((p,g)=>{var{value:v,background:y,tooltipPosition:x}=p,w=So(p,kF);if(!y)return null;var b=c(p,g),j=d(p,g),T=h(p,g),N=jt(jt(jt(jt(jt({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),m),nl(f,p,g)),{},{onMouseEnter:b,onMouseLeave:j,onClick:T,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return _.createElement(To,kr({key:"background-bar-".concat(g)},N))}))}function UF(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return jt(jt({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return _.createElement(ow,{value:t?a:void 0},r)}function HF(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=fe(an),u=fe(sh),f=r&&String(s)===l&&(u==null||o===u),c=f?r:t;return f?_.createElement(It,{zIndex:Ze.activeBar},_.createElement(To,kr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))):_.createElement(To,kr({},n,{name:String(n.name)},a,{isActive:f,option:c,index:s,dataKey:o}))}function qF(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return _.createElement(To,kr({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function GF(e){var t,{data:r,props:n}=e,a=(t=Bt(n))!==null&&t!==void 0?t:{},{id:s}=a,o=So(a,CF),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,m=So(n,DF),p=bh(c,u,s),g=wh(h),v=jh(d,u,s);return r?_.createElement(_.Fragment,null,r.map((y,x)=>_.createElement(AF,kr({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},nl(m,y,x),{onMouseEnter:p(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),f?_.createElement(HF,{shape:l,activeBar:f,baseProps:o,entry:y,index:x,dataKey:u}):_.createElement(qF,{shape:l,baseProps:o,entry:y,index:x,dataKey:u})))):null}function VF(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:c}=t,d=r.current,h=Si(t,"recharts-bar-"),[m,p]=_.useState(!1),g=!m,v=_.useCallback(()=>{typeof f=="function"&&f(),p(!1)},[f]),y=_.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return _.createElement(UF,{showLabels:g,rects:n},_.createElement(Ti,{animationId:h,begin:o,duration:l,isActive:s,easing:u,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((b,j)=>{var T=d&&d[j];if(T)return jt(jt({},b),{},{x:Ce(T.x,b.x,x),y:Ce(T.y,b.y,x),width:Ce(T.width,b.width,x),height:Ce(T.height,b.height,x)});if(a==="horizontal"){var N=Ce(0,b.height,x),S=Ce(b.stackedBarStart,b.y,x);return jt(jt({},b),{},{y:S,height:N})}var E=Ce(0,b.width,x),P=Ce(b.stackedBarStart,b.x,x);return jt(jt({},b),{},{width:E,x:P})});return x>0&&(r.current=w??null),w==null?null:_.createElement(ht,null,_.createElement(GF,{props:t,data:w}))}),_.createElement(hh,{label:t.label}),t.children)}function WF(e){var t=_.useRef(null);return _.createElement(VF,{previousRectanglesRef:t,props:e})}var Fw=0,KF=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Oe(e,t)}};class YF extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:u,id:f}=this.props;if(t||r==null)return null;var c=ye("recharts-bar",a),d=f;return _.createElement(ht,{className:c,id:f},l&&_.createElement("defs",null,_.createElement(Aw,{clipPathId:d,xAxisId:s,yAxisId:o})),_.createElement(ht,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(d,")"):void 0},_.createElement(zF,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),_.createElement(WF,this.props)))}}var XF={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Fw,xAxisId:0,yAxisId:0,zIndex:Ze.bar};function ZF(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c}=e,{needClip:d}=Ph(t,r),h=Na(),m=bt(),p=yh(e.children,ca),g=fe(x=>_F(x,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,_.createElement(Pw,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:KF,errorBarOffset:v},_.createElement(YF,kr({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:c})))}function QF(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:p,dataStartIndex:g}=e,v=t==="horizontal"?l:o,y=c?v.scale.domain():null,x=hC({numericAxis:v}),w=v.scale(x);return d.map((b,j)=>{var T,N,S,E,P,O;if(c){var I=c[j+g];if(I==null)return null;T=oC(I,y)}else T=Oe(b,r),Array.isArray(T)||(T=[x,T]);var k=sF(n,Fw)(T[1],j);if(t==="horizontal"){var A,[M,R]=[l.scale(T[0]),l.scale(T[1])];N=a0({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:b,index:j}),S=(A=R??M)!==null&&A!==void 0?A:void 0,E=a.size;var D=M-R;if(P=sr(D)?0:D,O={x:N,y:h.top,width:E,height:h.height},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var q=ft(P||k)*(Math.abs(k)-Math.abs(P));S-=q,P+=q}}else{var[F,$]=[o.scale(T[0]),o.scale(T[1])];if(N=F,S=a0({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:b,index:j}),E=$-F,P=a.size,O={x:h.left,y:S,width:h.width,height:P},Math.abs(k)>0&&Math.abs(E)<Math.abs(k)){var C=ft(E||k)*(Math.abs(k)-Math.abs(E));E+=C}}if(N==null||S==null||E==null||P==null)return null;var L=jt(jt({},b),{},{stackedBarStart:w,x:N,y:S,width:E,height:P,value:c?T:T[1],payload:b,background:O,tooltipPosition:{x:N+E/2,y:S+P/2},parentViewBox:p},m&&m[j]&&m[j].props);return L}).filter(Boolean)}function JF(e){var t=mt(e,XF),r=TF(t.stackId),n=bt();return _.createElement(Nh,{id:t.id,type:"bar"},a=>_.createElement(_.Fragment,null,_.createElement(yw,{legendPayload:$F(t)}),_.createElement(FF,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),_.createElement(bw,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(It,{zIndex:t.zIndex},_.createElement(ZF,kr({},t,{id:a})))))}var zw=_.memo(JF,nc);zw.displayName="Bar";var ez=["domain","range"],tz=["domain","range"];function Yg(e,t){if(e==null)return{};var r,n,a=rz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xg(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Uw(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=Yg(e,ez),{domain:s,range:o}=t,l=Yg(t,tz);return!Xg(r,s)||!Xg(n,o)?!1:nc(a,l)}var nz=["dangerouslySetInnerHTML","ticks","scale"],az=["id","scale"];function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(null,arguments)}function Zg(e,t){if(e==null)return{};var r,n,a=iz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sz(e){var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(aB(e)):r.current!==e&&t(iB({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(sB(r.current)),r.current=null)},[t]),null}var oz=e=>{var{xAxisId:t,className:r}=e,n=fe(Yd),a=bt(),s="xAxis",o=fe(y=>v2(y,s,t,a)),l=fe(y=>h2(y,t)),u=fe(y=>iR(y,t)),f=fe(y=>K1(y,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=Zg(e,nz),{id:p,scale:g}=f,v=Zg(f,az);return _.createElement(Sh,ed({},m,v,{x:u.x,y:u.y,width:l.width,height:l.height,className:ye("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},lz={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:Er.axisLine,height:ot.height,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:Er.tickLine,tickSize:Er.tickSize,type:ot.type,xAxisId:0},cz=e=>{var t=mt(e,lz);return _.createElement(_.Fragment,null,_.createElement(sz,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(oz,t))},td=_.memo(cz,Uw);td.displayName="XAxis";var uz=["dangerouslySetInnerHTML","ticks","scale"],dz=["id","scale"];function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}function Qg(e,t){if(e==null)return{};var r,n,a=fz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hz(e){var t=Re(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(oB(e)):r.current!==e&&t(lB({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(cB(r.current)),r.current=null)},[t]),null}var mz=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=_.useRef(null),o=_.useRef(null),l=fe(Yd),u=bt(),f=Re(),c="yAxis",d=fe(T=>m2(T,t)),h=fe(T=>oR(T,t)),m=fe(T=>v2(T,c,t,u)),p=fe(T=>Y1(T,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!d||fh(a)||_.isValidElement(a)||p==null)){var T=s.current;if(T){var N=T.getCalculatedWidth();Math.round(d.width)!==Math.round(N)&&f(uB({id:t,width:N}))}}},[m,d,f,a,t,n,p]),d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v,scale:y}=e,x=Qg(e,uz),{id:w,scale:b}=p,j=Qg(p,dz);return _.createElement(Sh,rd({},x,j,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:ye("recharts-".concat(c," ").concat(c),r),viewBox:l,ticks:m,axisType:c}))},pz={allowDataOverflow:lt.allowDataOverflow,allowDecimals:lt.allowDecimals,allowDuplicatedCategory:lt.allowDuplicatedCategory,angle:lt.angle,axisLine:Er.axisLine,hide:!1,includeHidden:lt.includeHidden,interval:lt.interval,minTickGap:lt.minTickGap,mirror:lt.mirror,orientation:lt.orientation,padding:lt.padding,reversed:lt.reversed,scale:lt.scale,tick:lt.tick,tickCount:lt.tickCount,tickLine:Er.tickLine,tickSize:Er.tickSize,type:lt.type,width:lt.width,yAxisId:0},gz=e=>{var t=mt(e,pz);return _.createElement(_.Fragment,null,_.createElement(hz,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(mz,t))},nd=_.memo(gz,Uw);nd.displayName="YAxis";var vz=(e,t)=>t,Ih=ee([vz,we,V1,it,C2,qr,_L,nt],AL),kh=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Hw=Wt("mouseClick"),qw=Ni();qw.startListening({actionCreator:Hw,effect:(e,t)=>{var r=e.payload,n=Ih(t.getState(),kh(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(wR({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ad=Wt("mouseMove"),Gw=Ni(),gs=null;Gw.startListening({actionCreator:ad,effect:(e,t)=>{var r=e.payload;gs!==null&&cancelAnimationFrame(gs);var n=kh(r);gs=requestAnimationFrame(()=>{var a=t.getState(),s=eh(a,a.tooltip.settings.shared);if(s==="axis"){var o=Ih(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(E2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(N2())}gs=null})}});function yz(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Jg={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Vw=At({name:"rootProps",initialState:Jg,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Jg.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xz=Vw.reducer,{updateOptions:bz}=Vw.actions,Ww=At({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wz}=Ww.actions,jz=Ww.reducer,Kw=Wt("keyDown"),Yw=Wt("focus"),Ch=Ni();Ch.startListening({actionCreator:Kw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=th(a,Ca(r),Li(r),Fi(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=qr(r);if(s==="Enter"){var f=wo(r,"axis","hover",String(a.index));t.dispatch(qu({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var c=dR(r),d=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*d;if(!(u==null||m>=u.length||m<0)){var p=wo(r,"axis","hover",String(m));t.dispatch(qu({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});Ch.startListening({actionCreator:Yw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=wo(r,"axis","hover",String(s));t.dispatch(qu({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var qt=Wt("externalEvent"),Xw=Ni(),Bc=new Map;Xw.startListening({actionCreator:qt,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Bc.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:oL(l),activeDataKey:sh(l),activeIndex:an(l),activeLabel:R2(l),activeTooltipIndex:an(l),isTooltipActive:lL(l)};r(u,n)}finally{Bc.delete(a)}});Bc.set(a,o)}}});var _z=ee([Ia],e=>e.tooltipItemPayloads),Nz=ee([_z,$i,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,r);return o}}}),Zw=Wt("touchMove"),Qw=Ni();Qw.startListening({actionCreator:Zw,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=eh(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var o=Ih(n,kh({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(E2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(lb),d=(l=f.getAttribute(cb))!==null&&l!==void 0?l:void 0,h=ka(n).find(g=>g.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,p=Nz(n,c,d);t.dispatch(_2({activeDataKey:m,activeIndex:c,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var Ez=ny({brush:SB,cartesianAxis:dB,chartData:s8,errorBars:E$,graphicalItems:v9,layout:tC,legend:n3,options:t8,polarAxis:C7,polarOptions:jz,referenceElements:MB,rootProps:xz,tooltip:jR,zIndex:qL}),Oz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Ok({reducer:Ez,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([qw.middleware,Gw.middleware,Ch.middleware,Xw.middleware,Qw.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(Gx({type:"raf"}))},devTools:{serialize:{replacer:yz},name:"recharts-".concat(r)}})};function Jw(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=_.useRef(null);if(a)return r;s.current==null&&(s.current=Oz(t,n));var o=$d;return _.createElement(s_,{context:o,store:s.current},r)}function Tz(e){var{layout:t,margin:r}=e,n=Re(),a=bt();return _.useEffect(()=>{a||(n(Qk(t)),n(Zk(r)))},[n,a,t,r]),null}var ej=_.memo(Tz,nc);function tj(e){var t=Re();return _.useEffect(()=>{t(bz(e))},[t,e]),null}function ev(e){var{zIndex:t,isPanorama:r}=e,n=_.useRef(null),a=Re();return _.useLayoutEffect(()=>(n.current&&a(UL({zIndex:t,element:n.current,isPanorama:r})),()=>{a(HL({zIndex:t,isPanorama:r}))}),[a,t,r]),_.createElement("g",{tabIndex:-1,ref:n})}function tv(e){var{children:t,isPanorama:r}=e,n=fe(kL);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return _.createElement(_.Fragment,null,a.map(o=>_.createElement(ev,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>_.createElement(ev,{key:o,zIndex:o,isPanorama:r})))}var Sz=["children"];function Pz(e,t){if(e==null)return{};var r,n,a=Az(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Az(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}var Iz={width:"100%",height:"100%",display:"block"},kz=_.forwardRef((e,t)=>{var r=yb(),n=xb(),a=Ab();if(!pr(r)||!pr(n))return null;var{children:s,otherAttributes:o,title:l,desc:u}=e,f,c;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=a?0:void 0,typeof o.role=="string"?c=o.role:c=a?"application":void 0),_.createElement(Ry,Po({},o,{title:l,desc:u,role:c,tabIndex:f,width:r,height:n,style:Iz,ref:t}),s)}),Cz=e=>{var{children:t}=e,r=fe(yl);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return _.createElement(Ry,{width:n,height:a,x:o,y:s},t)},rv=_.forwardRef((e,t)=>{var{children:r}=e,n=Pz(e,Sz),a=bt();return a?_.createElement(Cz,null,_.createElement(tv,{isPanorama:!0},r)):_.createElement(kz,Po({ref:t},n),_.createElement(tv,{isPanorama:!1},r))});function Dz(){var e=Re(),[t,r]=_.useState(null),n=fe(xC);return _.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;$e(s)&&s!==n&&e(eC(s))}},[t,e,n]),r}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){Rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rz(e,t,r){return(t=Lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=Bz(e,"string");return typeof t=="symbol"?t:t+""}function Bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(null,arguments)}var $z=()=>(p8(),null);function Ao(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Fz=_.forwardRef((e,t)=>{var r,n,a=_.useRef(null),[s,o]=_.useState({containerWidth:Ao((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ao((n=e.style)===null||n===void 0?void 0:n.height)}),l=_.useCallback((f,c)=>{o(d=>{var h=Math.round(f),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),u=_.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=f.getBoundingClientRect();l(c,d);var h=p=>{var{width:g,height:v}=p[0].contentRect;l(g,v)},m=new ResizeObserver(h);m.observe(f),a.current=m}},[t,l]);return _.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(bl,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",Bn({ref:u},e)))}),zz=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=_.useState({containerWidth:Ao(r),containerHeight:Ao(n)}),o=_.useCallback((u,f)=>{s(c=>{var d=Math.round(u),h=Math.round(f);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:c}=u.getBoundingClientRect();o(f,c)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(bl,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Bn({ref:l},e)))}),Uz=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(bl,{width:r,height:n}),_.createElement("div",Bn({ref:t},e)))}),Hz=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return Or(r)||Or(n)?_.createElement(zz,Bn({},e,{ref:t})):_.createElement(Uz,Bn({},e,{ref:t}))});function qz(e){return e===!0?Fz:Hz}var Gz=_.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,b=_.useRef(null),j=Re(),[T,N]=_.useState(null),[S,E]=_.useState(null),P=Dz(),O=Xd(),I=(O==null?void 0:O.width)>0?O.width:y,k=(O==null?void 0:O.height)>0?O.height:a,A=_.useCallback(U=>{P(U),typeof t=="function"&&t(U),N(U),E(U),U!=null&&(b.current=U)},[P,t,N,E]),M=_.useCallback(U=>{j(Hw(U)),j(qt({handler:s,reactEvent:U}))},[j,s]),R=_.useCallback(U=>{j(ad(U)),j(qt({handler:f,reactEvent:U}))},[j,f]),D=_.useCallback(U=>{j(N2()),j(qt({handler:c,reactEvent:U}))},[j,c]),q=_.useCallback(U=>{j(ad(U)),j(qt({handler:d,reactEvent:U}))},[j,d]),F=_.useCallback(()=>{j(Yw())},[j]),$=_.useCallback(U=>{j(Kw(U.key))},[j]),C=_.useCallback(U=>{j(qt({handler:o,reactEvent:U}))},[j,o]),L=_.useCallback(U=>{j(qt({handler:l,reactEvent:U}))},[j,l]),z=_.useCallback(U=>{j(qt({handler:u,reactEvent:U}))},[j,u]),W=_.useCallback(U=>{j(qt({handler:h,reactEvent:U}))},[j,h]),V=_.useCallback(U=>{j(qt({handler:g,reactEvent:U}))},[j,g]),B=_.useCallback(U=>{w&&j(Zw(U)),j(qt({handler:p,reactEvent:U}))},[j,w,p]),H=_.useCallback(U=>{j(qt({handler:m,reactEvent:U}))},[j,m]),Z=qz(x);return _.createElement(H2.Provider,{value:T},_.createElement(C5.Provider,{value:S},_.createElement(Z,{width:I??(v==null?void 0:v.width),height:k??(v==null?void 0:v.height),className:ye("recharts-wrapper",n),style:Mz({position:"relative",cursor:"default",width:I,height:k},v),onClick:M,onContextMenu:C,onDoubleClick:L,onFocus:F,onKeyDown:$,onMouseDown:z,onMouseEnter:R,onMouseLeave:D,onMouseMove:q,onMouseUp:W,onTouchEnd:H,onTouchMove:B,onTouchStart:V,ref:A},_.createElement($z,null),r)))}),Vz=["width","height","responsive","children","className","style","compact","title","desc"];function Wz(e,t){if(e==null)return{};var r,n,a=Kz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rj=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:u,title:f,desc:c}=e,d=Wz(e,Vz),h=Bt(d);return u?_.createElement(_.Fragment,null,_.createElement(bl,{width:r,height:n}),_.createElement(rv,{otherAttributes:h,title:f,desc:c},s)):_.createElement(Gz,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(rv,{otherAttributes:h,title:f,desc:c,ref:t},_.createElement(LB,null,s)))});function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}var Yz={top:5,right:5,bottom:5,left:5},Xz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Yz,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nj=_.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,Xz),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,c={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(Jw,{preloadedState:{options:c},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},_.createElement(_w,{chartData:f.data}),_.createElement(ej,{layout:a.layout,margin:a.margin}),_.createElement(tj,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(rj,id({},a,{ref:r})))}),Zz=["axis"],Qz=_.forwardRef((e,t)=>_.createElement(nj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zz,tooltipPayloadSearcher:dh,categoricalChartProps:e,ref:t})),Jz=["axis","item"],eU=_.forwardRef((e,t)=>_.createElement(nj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jz,tooltipPayloadSearcher:dh,categoricalChartProps:e,ref:t}));function tU(e){var t=Re();return _.useEffect(()=>{t(wz(e))},[t,e]),null}var rU=["layout"];function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(null,arguments)}function nU(e,t){if(e==null)return{};var r,n,a=aU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iU={top:5,right:5,bottom:5,left:5},aj={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:iU,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sU=_.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,aj),{layout:s}=a,o=nU(a,rU),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c}=t,d={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(Jw,{preloadedState:{options:d},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},_.createElement(_w,{chartData:a.data}),_.createElement(ej,{layout:s,margin:a.margin}),_.createElement(tj,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(tU,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(rj,sd({},o,{ref:r})))});function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uU=["item"],dU=iv(iv({},aj),{},{layout:"centric",startAngle:0,endAngle:360}),sv=_.forwardRef((e,t)=>{var r=mt(e,dU);return _.createElement(sU,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uU,tooltipPayloadSearcher:dh,categoricalChartProps:r,ref:t})});const ov=()=>{var T,N,S;const[e,t]=_.useState([]),[r,n]=_.useState(null),[a,s]=_.useState(!0),[o,l]=_.useState(null),[u,f]=_.useState([]),[c,d]=_.useState(null),[h,m]=_.useState(!1),[p,g]=_.useState({role:"all",action:"all",search:"",start_date:"",end_date:""});_.useEffect(()=>{v(),y()},[p]);const v=async()=>{try{const E=new URLSearchParams;Object.entries(p).forEach(([O,I])=>{I&&E.append(O,I)});const P=await se.get(`/activity-logs?${E}`);t(P.data.data||[])}catch(E){console.error("Failed to fetch activity logs:",E)}finally{s(!1)}},y=async()=>{try{const E=await se.get("/activity-logs/statistics");n(E.data)}catch(E){console.error("Failed to fetch statistics:",E)}},x=async E=>{var P;try{s(!0);const I=(await se.get(`/activity-logs?user_id=${E}`)).data.data||[];f(I);const k={total:I.length,today:I.filter(A=>{const M=new Date().toDateString();return new Date(A.created_at).toDateString()===M}).length,byAction:I.reduce((A,M)=>(A[M.action]=(A[M.action]||0)+1,A),{}),lastActivity:(P=I[0])==null?void 0:P.created_at,mostCommonAction:null};Object.keys(k.byAction).length>0&&(k.mostCommonAction=Object.entries(k.byAction).sort((A,M)=>M[1]-A[1])[0][0]),d(k),m(!0)}catch(O){console.error("Failed to fetch user report:",O)}finally{s(!1)}},w=()=>{m(!1),l(null),f([]),d(null)},b=E=>{switch(E){case"create":return"bg-green-100 text-green-700";case"update":return"bg-blue-100 text-blue-700";case"delete":return"bg-red-100 text-red-700";case"view":return"bg-gray-100 text-gray-700";case"login":return"bg-purple-100 text-purple-700";case"logout":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},j=E=>{switch(E||"unknown"){case"admin":return"bg-red-100 text-red-700";case"project_manager":return"bg-blue-100 text-blue-700";case"developer":return"bg-green-100 text-green-700";case"client":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return a?i.jsx(rt,{}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-[32px] font-bold text-gray-900 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Activity Logs"}),i.jsx("p",{className:"text-[15px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:"Track all user activities and system events"})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Total Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:i.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.total_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-green-600 font-semibold",children:" 12%"}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"vs last month"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Today's Activities"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:r.today_activities}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-blue-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Last 24 hours"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Active Users"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((T=r.by_role)==null?void 0:T.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-purple-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"User roles"})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-7 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-[14px] text-gray-600 font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Action Types"}),i.jsx("div",{className:"w-12 h-12 rounded-[12px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})]}),i.jsx("p",{className:"text-[36px] font-bold text-gray-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:((N=r.by_action)==null?void 0:N.length)||0}),i.jsxs("div",{className:"flex items-center text-[13px]",children:[i.jsx("span",{className:"text-orange-600 font-semibold",children:""}),i.jsx("span",{className:"text-gray-500 ml-2",style:{fontFamily:"Inter, sans-serif"},children:"Event types"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by Action Type"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Overview"})]}),i.jsx(is,{width:"100%",height:300,children:i.jsxs(eU,{data:r.by_action||[],children:[i.jsx(Zu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(td,{dataKey:"action",tick:{fill:"#666"}}),i.jsx(nd,{tick:{fill:"#666"}}),i.jsx(ms,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),i.jsx(zw,{dataKey:"count",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Activities by User Role"}),i.jsx("span",{className:"text-[12px] px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:"Distribution"})]}),i.jsx(is,{width:"100%",height:300,children:i.jsxs(sv,{children:[i.jsx(Xu,{data:r.by_role||[],dataKey:"count",nameKey:"role",cx:"50%",cy:"50%",outerRadius:100,label:E=>`${(E.role||"unknown").replace("_"," ")}: ${E.count||0}`,children:(r.by_role||[]).map((E,P)=>i.jsx(ca,{fill:["#59569D","#7B78B3","#A19FD1","#C7C5E4","#DDDCEE"][P%5]},`cell-${P}`))}),i.jsx(ms,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] p-6 shadow-md border border-gray-100",children:[i.jsx("h3",{className:"text-[16px] font-bold text-gray-900 mb-4",style:{fontFamily:"Inter, sans-serif"},children:"Filters & Search"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("input",{type:"text",placeholder:"Search activities...",value:p.search,onChange:E=>g({...p,search:E.target.value}),className:"w-full px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})}),i.jsxs("select",{value:p.role,onChange:E=>g({...p,role:E.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"project_manager",children:"Project Manager"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"client",children:"Client"})]}),i.jsxs("select",{value:p.action,onChange:E=>g({...p,action:E.target.value}),className:"px-4 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[i.jsx("option",{value:"all",children:"All Actions"}),i.jsx("option",{value:"create",children:"Create"}),i.jsx("option",{value:"update",children:"Update"}),i.jsx("option",{value:"delete",children:"Delete"}),i.jsx("option",{value:"view",children:"View"}),i.jsx("option",{value:"login",children:"Login"}),i.jsx("option",{value:"logout",children:"Logout"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx("input",{type:"date",value:p.start_date,onChange:E=>g({...p,start_date:E.target.value}),className:"px-3 py-2.5 text-[14px] border border-gray-300 rounded-[8px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})})]})]}),i.jsxs("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-[18px] font-bold text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:"Recent Activities"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"User"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Role"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Action"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Description"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"IP Address"}),i.jsx("th",{className:"text-left py-4 px-6 text-[13px] font-bold text-gray-700 uppercase tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:"Time"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length>0?e.map((E,P)=>{var O,I,k,A,M,R;return i.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-[14px]",style:{fontFamily:"Inter, sans-serif"},children:((I=(O=E.user)==null?void 0:O.name)==null?void 0:I.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-[14px] text-gray-900",style:{fontFamily:"Inter, sans-serif"},children:((k=E.user)==null?void 0:k.name)||"Unknown User"}),i.jsx("p",{className:"text-[12px] text-gray-500",style:{fontFamily:"Inter, sans-serif"},children:((A=E.user)==null?void 0:A.email)||"-"})]}),i.jsx("button",{onClick:()=>{l(E.user),x(E.user_id)},className:"px-3 py-1.5 text-[12px] font-medium text-blue-600 hover:bg-blue-50 rounded-[6px] transition-colors",style:{fontFamily:"Inter, sans-serif"},title:"View user report",children:"View Report"})]})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${j(E.user_role||((M=E.user)==null?void 0:M.role))}`,style:{fontFamily:"Inter, sans-serif"},children:(E.user_role||((R=E.user)==null?void 0:R.role)||"unknown").replace("_"," ")})}),i.jsx("td",{className:"py-4 px-6",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-[6px] text-[12px] font-medium ${b(E.action)}`,style:{fontFamily:"Inter, sans-serif"},children:E.action})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[14px] text-gray-700",style:{fontFamily:"Inter, sans-serif"},children:E.description}),E.event_type&&i.jsx("p",{className:"text-[12px] text-gray-400 mt-1",style:{fontFamily:"Inter, sans-serif"},children:E.event_type})]}),i.jsx("td",{className:"py-4 px-6",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-mono text-gray-600",children:E.ip_address||"-"}),E.user_agent&&i.jsx("p",{className:"text-[11px] text-gray-400 mt-1 truncate max-w-xs",title:E.user_agent,children:E.user_agent.split(" ")[0]})]})}),i.jsxs("td",{className:"py-4 px-6",children:[i.jsx("p",{className:"text-[13px] text-gray-600",style:{fontFamily:"Inter, sans-serif"},children:new Date(E.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-[11px] text-gray-400",style:{fontFamily:"Inter, sans-serif"},children:new Date(E.created_at).toLocaleDateString("en-US",{year:"numeric"})})]})]},E.id)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:"6",className:"py-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Activity Logs Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters"})]})})})]})})]}),h&&o&&c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:((S=o.name)==null?void 0:S.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:o.name}),i.jsx("p",{className:"text-gray-300",children:o.email})]})]}),i.jsx("button",{onClick:w,className:"text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg p-2 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 p-6 bg-gray-50",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Activities"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.total})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Today"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.today})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Most Common"}),i.jsx("p",{className:"text-lg font-bold text-gray-800 capitalize",children:c.mostCommonAction||"-"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Activity"}),i.jsx("p",{className:"text-xs font-medium text-gray-800",children:c.lastActivity?new Date(c.lastActivity).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Action Breakdown"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx(is,{width:"100%",height:200,children:i.jsxs(sv,{children:[i.jsx(Xu,{data:Object.entries(c.byAction).map(([E,P])=>({name:E,value:P})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:E=>`${E.name}: ${E.value}`,labelLine:!1,children:Object.keys(c.byAction).map((E,P)=>{const O={create:"#10B981",update:"#3B82F6",delete:"#EF4444",view:"#6B7280",login:"#8B5CF6",logout:"#F97316"};return i.jsx(ca,{fill:O[E]||"#F25292"},`cell-${P}`)})}),i.jsx(ms,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})}),i.jsx("div",{className:"flex flex-wrap gap-2 content-center",children:Object.entries(c.byAction).map(([E,P])=>i.jsxs("div",{className:`px-3 py-1.5 rounded-lg ${b(E)} flex items-center gap-2`,children:[i.jsx("span",{className:"font-medium capitalize",children:E}),i.jsx("span",{className:"bg-white bg-opacity-50 px-2 py-0.5 rounded text-xs font-bold",children:P})]},E))})]})]}),i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Activity Timeline (Last 7 Days)"}),i.jsx(is,{width:"100%",height:250,children:i.jsxs(Qz,{data:(()=>{const E=[];for(let P=6;P>=0;P--){const O=new Date;O.setDate(O.getDate()-P);const I=O.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=u.filter(A=>new Date(A.created_at).toDateString()===O.toDateString()).length;E.push({date:I,activities:k})}return E})(),children:[i.jsx(Zu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(td,{dataKey:"date",tick:{fill:"#666",fontSize:12}}),i.jsx(nd,{tick:{fill:"#666",fontSize:12}}),i.jsx(ms,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},cursor:{stroke:"#8B5CF6",strokeWidth:2}}),i.jsx(Lw,{type:"monotone",dataKey:"activities",stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#F25292",r:5},activeDot:{r:7,fill:"#F25292"}})]})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Recent Activities"}),i.jsx("div",{className:"space-y-3",children:u.slice(0,20).map((E,P)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-medium ${b(E.action)}`,children:E.action})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:E.description}),E.event_type&&i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:E.event_type})]}),i.jsxs("div",{className:"flex-shrink-0 text-right",children:[i.jsx("p",{className:"text-xs text-gray-600",children:new Date(E.created_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("p",{className:"text-xs text-gray-400 font-mono",children:E.ip_address})]})]},E.id))})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:w,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})})]})};/*!
 * FilePond 4.32.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const fU=e=>e instanceof HTMLElement,hU=(e,t=[],r=[])=>{const n={...e},a=[],s=[],o=()=>({...n}),l=()=>{const p=[...a];return a.length=0,p},u=()=>{const p=[...s];s.length=0,p.forEach(({type:g,data:v})=>{f(g,v)})},f=(p,g,v)=>{if(v&&!document.hidden){s.push({type:p,data:g});return}m[p]&&m[p](g),a.push({type:p,data:g})},c=(p,...g)=>h[p]?h[p](...g):null,d={getState:o,processActionQueue:l,processDispatchQueue:u,dispatch:f,query:c};let h={};t.forEach(p=>{h={...p(n),...h}});let m={};return r.forEach(p=>{m={...p(f,c,n),...m}}),d},mU=(e,t,r)=>{if(typeof r=="function"){e[t]=r;return}Object.defineProperty(e,t,{...r})},qe=(e,t)=>{for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])},en=e=>{const t={};return qe(e,r=>{mU(t,r,e[r])}),t},tt=(e,t,r=null)=>{if(r===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},pU="http://www.w3.org/2000/svg",gU=["svg","path"],lv=e=>gU.includes(e),Io=(e,t,r={})=>{typeof t=="object"&&(r=t,t=null);const n=lv(e)?document.createElementNS(pU,e):document.createElement(e);return t&&(lv(e)?tt(n,"class",t):n.className=t),qe(r,(a,s)=>{tt(n,a,s)}),n},vU=e=>(t,r)=>{typeof r<"u"&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)},yU=(e,t)=>(r,n)=>(typeof n<"u"?t.splice(n,0,r):t.push(r),r),xU=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),bU=typeof window<"u"&&typeof window.document<"u",ij=()=>bU,wU=ij()?Io("svg"):{},jU="children"in wU?e=>e.children.length:e=>e.childNodes.length,sj=(e,t,r,n)=>{const a=r[0]||e.left,s=r[1]||e.top,o=a+e.width,l=s+e.height*(n[1]||1),u={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:a,top:s,right:o,bottom:l}};return t.filter(f=>!f.isRectIgnored()).map(f=>f.rect).forEach(f=>{cv(u.inner,{...f.inner}),cv(u.outer,{...f.outer})}),uv(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,uv(u.outer),u},cv=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},uv=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},xn=e=>typeof e=="number",_U=(e,t,r,n=.001)=>Math.abs(e-t)<n&&Math.abs(r)<n,NU=({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let n=null,a=null,s=0,o=!1;const f=en({interpolate:(c,d)=>{if(o)return;if(!(xn(n)&&xn(a))){o=!0,s=0;return}const h=-(a-n)*e;s+=h/r,a+=s,s*=t,_U(a,n,s)||d?(a=n,s=0,o=!0,f.onupdate(a),f.oncomplete(a)):f.onupdate(a)},target:{set:c=>{if(xn(c)&&!xn(a)&&(a=c),n===null&&(n=c,a=c),n=c,a===n||typeof n>"u"){o=!0,s=0,f.onupdate(a),f.oncomplete(a);return}o=!1},get:()=>n},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return f},EU=e=>e<.5?2*e*e:-1+(4-2*e)*e,OU=({duration:e=500,easing:t=EU,delay:r=0}={})=>{let n=null,a,s,o=!0,l=!1,u=null;const c=en({interpolate:(d,h)=>{o||u===null||(n===null&&(n=d),!(d-n<r)&&(a=d-n-r,a>=e||h?(a=1,s=l?0:1,c.onupdate(s*u),c.oncomplete(s*u),o=!0):(s=a/e,c.onupdate((a>=0?t(l?1-s:s):0)*u))))},target:{get:()=>l?0:u,set:d=>{if(u===null){u=d,c.onupdate(d),c.oncomplete(d);return}d<u?(u=1,l=!0):(l=!1,u=d),o=!1,n=null}},resting:{get:()=>o},onupdate:d=>{},oncomplete:d=>{}});return c},dv={spring:NU,tween:OU},TU=(e,t,r)=>{const n=e[t]&&typeof e[t][r]=="object"?e[t][r]:e[t]||e,a=typeof n=="string"?n:n.type,s=typeof n=="object"?{...n}:{};return dv[a]?dv[a](s):null},Dh=(e,t,r,n=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(a=>{e.forEach(s=>{let o=s,l=()=>r[s],u=f=>r[s]=f;typeof s=="object"&&(o=s.key,l=s.getter||l,u=s.setter||u),!(a[o]&&!n)&&(a[o]={get:l,set:u})})})},SU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n})=>{const a={...t},s=[];return qe(e,(o,l)=>{const u=TU(l);if(!u)return;u.onupdate=c=>{t[o]=c},u.target=a[o],Dh([{key:o,setter:c=>{u.target!==c&&(u.target=c)},getter:()=>t[o]}],[r,n],t,!0),s.push(u)}),{write:o=>{let l=document.hidden,u=!0;return s.forEach(f=>{f.resting||(u=!1),f.interpolate(o,l)}),u},destroy:()=>{}}},PU=e=>(t,r)=>{e.addEventListener(t,r)},AU=e=>(t,r)=>{e.removeEventListener(t,r)},IU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,viewState:a,view:s})=>{const o=[],l=PU(s.element),u=AU(s.element);return n.on=(f,c)=>{o.push({type:f,fn:c}),l(f,c)},n.off=(f,c)=>{o.splice(o.findIndex(d=>d.type===f&&d.fn===c),1),u(f,c)},{write:()=>!0,destroy:()=>{o.forEach(f=>{u(f.type,f.fn)})}}},kU=({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{Dh(e,r,t)},wt=e=>e!=null,CU={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},DU=({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,view:a})=>{const s={...t},o={};Dh(e,[r,n],t);const l=()=>[t.translateX||0,t.translateY||0],u=()=>[t.scaleX||0,t.scaleY||0],f=()=>a.rect?sj(a.rect,a.childViews,l(),u()):null;return r.rect={get:f},n.rect={get:f},e.forEach(c=>{t[c]=typeof s[c]>"u"?CU[c]:s[c]}),{write:()=>{if(MU(o,t))return RU(a.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},MU=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},RU=(e,{opacity:t,perspective:r,translateX:n,translateY:a,scaleX:s,scaleY:o,rotateX:l,rotateY:u,rotateZ:f,originX:c,originY:d,width:h,height:m})=>{let p="",g="";(wt(c)||wt(d))&&(g+=`transform-origin: ${c||0}px ${d||0}px;`),wt(r)&&(p+=`perspective(${r}px) `),(wt(n)||wt(a))&&(p+=`translate3d(${n||0}px, ${a||0}px, 0) `),(wt(s)||wt(o))&&(p+=`scale3d(${wt(s)?s:1}, ${wt(o)?o:1}, 1) `),wt(f)&&(p+=`rotateZ(${f}rad) `),wt(l)&&(p+=`rotateX(${l}rad) `),wt(u)&&(p+=`rotateY(${u}rad) `),p.length&&(g+=`transform:${p};`),wt(t)&&(g+=`opacity:${t};`,t===0&&(g+="visibility:hidden;"),t<1&&(g+="pointer-events:none;")),wt(m)&&(g+=`height:${m}px;`),wt(h)&&(g+=`width:${h}px;`);const v=e.elementCurrentStyle||"";(g.length!==v.length||g!==v)&&(e.style.cssText=g,e.elementCurrentStyle=g)},LU={styles:DU,listeners:IU,animations:SU,apis:kU},fv=(e={},t={},r={})=>(t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Je=({tag:e="div",name:t=null,attributes:r={},read:n=()=>{},write:a=()=>{},create:s=()=>{},destroy:o=()=>{},filterFrameActionsForChild:l=(m,p)=>p,didCreateView:u=()=>{},didWriteView:f=()=>{},ignoreRect:c=!1,ignoreRectUpdate:d=!1,mixins:h=[]}={})=>(m,p={})=>{const g=Io(e,`filepond--${t}`,r),v=window.getComputedStyle(g,null),y=fv();let x=null,w=!1;const b=[],j=[],T={},N={},S=[a],E=[n],P=[o],O=()=>g,I=()=>b.concat(),k=()=>T,A=B=>(H,Z)=>H(B,Z),M=()=>x||(x=sj(y,b,[0,0],[1,1]),x),R=()=>v,D=()=>{x=null,b.forEach(Z=>Z._read()),!(d&&y.width&&y.height)&&fv(y,g,v);const H={root:W,props:p,rect:y};E.forEach(Z=>Z(H))},q=(B,H,Z)=>{let U=H.length===0;return S.forEach(Q=>{Q({props:p,root:W,actions:H,timestamp:B,shouldOptimize:Z})===!1&&(U=!1)}),j.forEach(Q=>{Q.write(B)===!1&&(U=!1)}),b.filter(Q=>!!Q.element.parentNode).forEach(Q=>{Q._write(B,l(Q,H),Z)||(U=!1)}),b.forEach((Q,ne)=>{Q.element.parentNode||(W.appendChild(Q.element,ne),Q._read(),Q._write(B,l(Q,H),Z),U=!1)}),w=U,f({props:p,root:W,actions:H,timestamp:B}),U},F=()=>{j.forEach(B=>B.destroy()),P.forEach(B=>{B({root:W,props:p})}),b.forEach(B=>B._destroy())},$={element:{get:O},style:{get:R},childViews:{get:I}},C={...$,rect:{get:M},ref:{get:k},is:B=>t===B,appendChild:vU(g),createChildView:A(m),linkView:B=>(b.push(B),B),unlinkView:B=>{b.splice(b.indexOf(B),1)},appendChildView:yU(g,b),removeChildView:xU(g,b),registerWriter:B=>S.push(B),registerReader:B=>E.push(B),registerDestroyer:B=>P.push(B),invalidateLayout:()=>g.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},L={element:{get:O},childViews:{get:I},rect:{get:M},resting:{get:()=>w},isRectIgnored:()=>c,_read:D,_write:q,_destroy:F},z={...$,rect:{get:()=>y}};Object.keys(h).sort((B,H)=>B==="styles"?1:H==="styles"?-1:0).forEach(B=>{const H=LU[B]({mixinConfig:h[B],viewProps:p,viewState:N,viewInternalAPI:C,viewExternalAPI:L,view:en(z)});H&&j.push(H)});const W=en(C);s({root:W,props:p});const V=jU(g);return b.forEach((B,H)=>{W.appendChild(B.element,V+H)}),u(W),en(L)},BU=(e,t,r=60)=>{const n="__framePainter";if(window[n]){window[n].readers.push(e),window[n].writers.push(t);return}window[n]={readers:[e],writers:[t]};const a=window[n],s=1e3/r;let o=null,l=null,u=null,f=null;const c=()=>{document.hidden?(u=()=>window.setTimeout(()=>d(performance.now()),s),f=()=>window.clearTimeout(l)):(u=()=>window.requestAnimationFrame(d),f=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{f&&f(),c(),d(performance.now())});const d=h=>{l=u(d),o||(o=h);const m=h-o;m<=s||(o=h-m%s,a.readers.forEach(p=>p()),a.writers.forEach(p=>p(h)))};return c(),d(performance.now()),{pause:()=>{f(l)}}},Tt=(e,t)=>({root:r,props:n,actions:a=[],timestamp:s,shouldOptimize:o})=>{a.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:r,props:n,action:l.data,timestamp:s,shouldOptimize:o})),t&&t({root:r,props:n,actions:a,timestamp:s,shouldOptimize:o})},hv=(e,t)=>t.parentNode.insertBefore(e,t),mv=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),ac=e=>Array.isArray(e),Cr=e=>e==null,$U=e=>e.trim(),ic=e=>""+e,FU=(e,t=",")=>Cr(e)?[]:ac(e)?e:ic(e).split(t).map($U).filter(r=>r.length),oj=e=>typeof e=="boolean",lj=e=>oj(e)?e:e==="true",Ot=e=>typeof e=="string",cj=e=>xn(e)?e:Ot(e)?ic(e).replace(/[a-z]+/gi,""):0,Cs=e=>parseInt(cj(e),10),pv=e=>parseFloat(cj(e)),Da=e=>xn(e)&&isFinite(e)&&Math.floor(e)===e,gv=(e,t=1e3)=>{if(Da(e))return e;let r=ic(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),Cs(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),Cs(r)*t):Cs(r)},bn=e=>typeof e=="function",zU=e=>{let t=self,r=e.split("."),n=null;for(;n=r.shift();)if(t=t[n],!t)return null;return t},vv={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},UU=e=>{const t={};return t.url=Ot(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},qe(vv,r=>{t[r]=HU(r,e[r],vv[r],t.timeout,t.headers)}),t.process=e.process||Ot(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},HU=(e,t,r,n,a)=>{if(t===null)return null;if(typeof t=="function")return t;const s={url:r==="GET"||r==="PATCH"?`?${e}=`:"",method:r,headers:a,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(Ot(t))return s.url=t,s;if(Object.assign(s,t),Ot(s.headers)){const o=s.headers.split(/:(.+)/);s.headers={header:o[0],value:o[1]}}return s.withCredentials=lj(s.withCredentials),s},qU=e=>UU(e),GU=e=>e===null,dt=e=>typeof e=="object"&&e!==null,VU=e=>dt(e)&&Ot(e.url)&&dt(e.process)&&dt(e.revert)&&dt(e.restore)&&dt(e.fetch),od=e=>ac(e)?"array":GU(e)?"null":Da(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":VU(e)?"api":typeof e,WU=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),KU={array:FU,boolean:lj,int:e=>od(e)==="bytes"?gv(e):Cs(e),number:pv,float:pv,bytes:gv,string:e=>bn(e)?e:ic(e),function:e=>zU(e),serverapi:qU,object:e=>{try{return JSON.parse(WU(e))}catch{return null}}},YU=(e,t)=>KU[t](e),uj=(e,t,r)=>{if(e===t)return e;let n=od(e);if(n!==r){const a=YU(e,r);if(n=od(a),a===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=a}return e},XU=(e,t)=>{let r=e;return{enumerable:!0,get:()=>r,set:n=>{r=uj(n,e,t)}}},ZU=e=>{const t={};return qe(e,r=>{const n=e[r];t[r]=XU(n[0],n[1])}),en(t)},QU=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ZU(e)}),sc=(e,t="-")=>e.split(/(?=[A-Z])/).map(r=>r.toLowerCase()).join(t),JU=(e,t)=>{const r={};return qe(t,n=>{r[n]={get:()=>e.getState().options[n],set:a=>{e.dispatch(`SET_${sc(n,"_").toUpperCase()}`,{value:a})}}}),r},eH=e=>(t,r,n)=>{const a={};return qe(e,s=>{const o=sc(s,"_").toUpperCase();a[`SET_${o}`]=l=>{try{n.options[s]=l.value}catch{}t(`DID_SET_${o}`,{value:n.options[s]})}}),a},tH=e=>t=>{const r={};return qe(e,n=>{r[`GET_${sc(n,"_").toUpperCase()}`]=a=>t.options[n]}),r},Vt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Mh=()=>Math.random().toString(36).substring(2,11),Rh=(e,t)=>e.splice(t,1),rH=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},oc=()=>{const e=[],t=(n,a)=>{Rh(e,e.findIndex(s=>s.event===n&&(s.cb===a||!a)))},r=(n,a,s)=>{e.filter(o=>o.event===n).map(o=>o.cb).forEach(o=>rH(()=>o(...a),s))};return{fireSync:(n,...a)=>{r(n,a,!0)},fire:(n,...a)=>{r(n,a,!1)},on:(n,a)=>{e.push({event:n,cb:a})},onOnce:(n,a)=>{e.push({event:n,cb:(...s)=>{t(n,a),a(...s)}})},off:t}},dj=(e,t,r)=>{Object.getOwnPropertyNames(e).filter(n=>!r.includes(n)).forEach(n=>Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n)))},nH=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],St=e=>{const t={};return dj(e,t,nH),t},aH=e=>{e.forEach((t,r)=>{t.released&&Rh(e,r)})},xe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},ct={INPUT:1,LIMBO:2,LOCAL:3},fj=e=>/[^0-9]+/.exec(e),hj=()=>fj(1.1.toLocaleString())[0],iH=()=>{const e=hj(),t=1e3.toLocaleString();return t!=="1000"?fj(t)[0]:e==="."?",":"."},ie={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Lh=[],Jt=(e,t,r)=>new Promise((n,a)=>{const s=Lh.filter(l=>l.key===e).map(l=>l.cb);if(s.length===0){n(t);return}const o=s.shift();s.reduce((l,u)=>l.then(f=>u(f,r)),o(t,r)).then(l=>n(l)).catch(l=>a(l))}),Hn=(e,t,r)=>Lh.filter(n=>n.key===e).map(n=>n.cb(t,r)),sH=(e,t)=>Lh.push({key:e,cb:t}),oH=e=>Object.assign(Zn,e),ko=()=>({...Zn}),lH=e=>{qe(e,(t,r)=>{Zn[t]&&(Zn[t][0]=uj(r,Zn[t][0],Zn[t][1]))})},Zn={id:[null,ie.STRING],name:["filepond",ie.STRING],disabled:[!1,ie.BOOLEAN],className:[null,ie.STRING],required:[!1,ie.BOOLEAN],captureMethod:[null,ie.STRING],allowSyncAcceptAttribute:[!0,ie.BOOLEAN],allowDrop:[!0,ie.BOOLEAN],allowBrowse:[!0,ie.BOOLEAN],allowPaste:[!0,ie.BOOLEAN],allowMultiple:[!1,ie.BOOLEAN],allowReplace:[!0,ie.BOOLEAN],allowRevert:[!0,ie.BOOLEAN],allowRemove:[!0,ie.BOOLEAN],allowProcess:[!0,ie.BOOLEAN],allowReorder:[!1,ie.BOOLEAN],allowDirectoriesOnly:[!1,ie.BOOLEAN],storeAsFile:[!1,ie.BOOLEAN],forceRevert:[!1,ie.BOOLEAN],maxFiles:[null,ie.INT],checkValidity:[!1,ie.BOOLEAN],itemInsertLocationFreedom:[!0,ie.BOOLEAN],itemInsertLocation:["before",ie.STRING],itemInsertInterval:[75,ie.INT],dropOnPage:[!1,ie.BOOLEAN],dropOnElement:[!0,ie.BOOLEAN],dropValidation:[!1,ie.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ie.ARRAY],instantUpload:[!0,ie.BOOLEAN],maxParallelUploads:[2,ie.INT],allowMinimumUploadDuration:[!0,ie.BOOLEAN],chunkUploads:[!1,ie.BOOLEAN],chunkForce:[!1,ie.BOOLEAN],chunkSize:[5e6,ie.INT],chunkRetryDelays:[[500,1e3,3e3],ie.ARRAY],server:[null,ie.SERVER_API],fileSizeBase:[1e3,ie.INT],labelFileSizeBytes:["bytes",ie.STRING],labelFileSizeKilobytes:["KB",ie.STRING],labelFileSizeMegabytes:["MB",ie.STRING],labelFileSizeGigabytes:["GB",ie.STRING],labelDecimalSeparator:[hj(),ie.STRING],labelThousandsSeparator:[iH(),ie.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ie.STRING],labelInvalidField:["Field contains invalid files",ie.STRING],labelFileWaitingForSize:["Waiting for size",ie.STRING],labelFileSizeNotAvailable:["Size not available",ie.STRING],labelFileCountSingular:["file in list",ie.STRING],labelFileCountPlural:["files in list",ie.STRING],labelFileLoading:["Loading",ie.STRING],labelFileAdded:["Added",ie.STRING],labelFileLoadError:["Error during load",ie.STRING],labelFileRemoved:["Removed",ie.STRING],labelFileRemoveError:["Error during remove",ie.STRING],labelFileProcessing:["Uploading",ie.STRING],labelFileProcessingComplete:["Upload complete",ie.STRING],labelFileProcessingAborted:["Upload cancelled",ie.STRING],labelFileProcessingError:["Error during upload",ie.STRING],labelFileProcessingRevertError:["Error during revert",ie.STRING],labelTapToCancel:["tap to cancel",ie.STRING],labelTapToRetry:["tap to retry",ie.STRING],labelTapToUndo:["tap to undo",ie.STRING],labelButtonRemoveItem:["Remove",ie.STRING],labelButtonAbortItemLoad:["Abort",ie.STRING],labelButtonRetryItemLoad:["Retry",ie.STRING],labelButtonAbortItemProcessing:["Cancel",ie.STRING],labelButtonUndoItemProcessing:["Undo",ie.STRING],labelButtonRetryItemProcessing:["Retry",ie.STRING],labelButtonProcessItem:["Upload",ie.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ie.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ie.STRING],oninit:[null,ie.FUNCTION],onwarning:[null,ie.FUNCTION],onerror:[null,ie.FUNCTION],onactivatefile:[null,ie.FUNCTION],oninitfile:[null,ie.FUNCTION],onaddfilestart:[null,ie.FUNCTION],onaddfileprogress:[null,ie.FUNCTION],onaddfile:[null,ie.FUNCTION],onprocessfilestart:[null,ie.FUNCTION],onprocessfileprogress:[null,ie.FUNCTION],onprocessfileabort:[null,ie.FUNCTION],onprocessfilerevert:[null,ie.FUNCTION],onprocessfile:[null,ie.FUNCTION],onprocessfiles:[null,ie.FUNCTION],onremovefile:[null,ie.FUNCTION],onpreparefile:[null,ie.FUNCTION],onupdatefiles:[null,ie.FUNCTION],onreorderfiles:[null,ie.FUNCTION],beforeDropFile:[null,ie.FUNCTION],beforeAddFile:[null,ie.FUNCTION],beforeRemoveFile:[null,ie.FUNCTION],beforePrepareFile:[null,ie.FUNCTION],stylePanelLayout:[null,ie.STRING],stylePanelAspectRatio:[null,ie.STRING],styleItemPanelAspectRatio:[null,ie.STRING],styleButtonRemoveItemPosition:["left",ie.STRING],styleButtonProcessItemPosition:["right",ie.STRING],styleLoadIndicatorPosition:["right",ie.STRING],styleProgressIndicatorPosition:["right",ie.STRING],styleButtonRemoveItemAlign:[!1,ie.BOOLEAN],files:[[],ie.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ie.ARRAY]},wn=(e,t)=>Cr(t)?e[0]||null:Da(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(r=>r.id===t)||null),mj=e=>{if(Cr(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},nr=e=>e.filter(t=>!t.archived),cH={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let vs=null;const uH=()=>{if(vs===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,vs=t.files.length===1}catch{vs=!1}return vs},dH=[xe.LOAD_ERROR,xe.PROCESSING_ERROR,xe.PROCESSING_REVERT_ERROR],fH=[xe.LOADING,xe.PROCESSING,xe.PROCESSING_QUEUED,xe.INIT],hH=[xe.PROCESSING_COMPLETE],mH=e=>dH.includes(e.status),pH=e=>fH.includes(e.status),gH=e=>hH.includes(e.status),yv=e=>dt(e.options.server)&&(dt(e.options.server.process)||bn(e.options.server.process)),vH=e=>({GET_STATUS:()=>{const t=nr(e.items),{EMPTY:r,ERROR:n,BUSY:a,IDLE:s,READY:o}=cH;return t.length===0?r:t.some(mH)?n:t.some(pH)?a:t.some(gH)?o:s},GET_ITEM:t=>wn(e.items,t),GET_ACTIVE_ITEM:t=>wn(nr(e.items),t),GET_ACTIVE_ITEMS:()=>nr(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const r=wn(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=wn(e.items,t);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:mj(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>nr(e.items).filter(r=>r.status===t),GET_TOTAL_ITEMS:()=>nr(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&uH()&&!yv(e),IS_ASYNC:()=>yv(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),yH=e=>{const t=nr(e.items).length;if(!e.options.allowMultiple)return t===0;const r=e.options.maxFiles;return r===null||t<r},pj=(e,t,r)=>Math.max(Math.min(r,e),t),xH=(e,t,r)=>e.splice(t,0,r),bH=(e,t,r)=>Cr(t)?null:typeof r>"u"?(e.push(t),t):(r=pj(r,0,e.length),xH(e,r,t),t),ld=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Hi=e=>`${e}`.split("/").pop().split("?").shift(),lc=e=>e.split(".").pop(),wH=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Ga=(e,t="")=>(t+e).slice(-t.length),gj=(e=new Date)=>`${e.getFullYear()}-${Ga(e.getMonth()+1,"00")}-${Ga(e.getDate(),"00")}_${Ga(e.getHours(),"00")}-${Ga(e.getMinutes(),"00")}-${Ga(e.getSeconds(),"00")}`,ua=(e,t,r=null,n=null)=>{const a=typeof r=="string"?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return a.lastModifiedDate=new Date,e._relativePath&&(a._relativePath=e._relativePath),Ot(t)||(t=gj()),t&&n===null&&lc(t)?a.name=t:(n=n||wH(a.type),a.name=t+(n?"."+n:"")),a},jH=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,vj=(e,t)=>{const r=jH();if(r){const n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},_H=(e,t)=>{const r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return vj(r,t)},yj=e=>(/^data:(.+);/.exec(e)||[])[1]||null,NH=e=>e.split(",")[1].replace(/\s/g,""),EH=e=>atob(NH(e)),OH=e=>{const t=yj(e),r=EH(e);return _H(r,t)},TH=(e,t,r)=>ua(OH(e),t,null,r),SH=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(r=>r.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(r=>r.length);return t.length?decodeURI(t[t.length-1]):null},PH=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},AH=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Bh=e=>{const t={source:null,name:null,size:null},r=e.split(`
`);for(let n of r){const a=SH(n);if(a){t.name=a;continue}const s=PH(n);if(s){t.size=s;continue}const o=AH(n);if(o){t.source=o;continue}}return t},IH=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=()=>t.progress,n=()=>{t.request&&t.request.abort&&t.request.abort()},a=()=>{const l=t.source;o.fire("init",l),l instanceof File?o.fire("load",l):l instanceof Blob?o.fire("load",ua(l,l.name)):ld(l)?o.fire("load",TH(l)):s(l)},s=l=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(l,u=>{t.duration=Date.now()-t.timestamp,t.complete=!0,u instanceof Blob&&(u=ua(u,u.name||Hi(l))),o.fire("load",u instanceof Blob?u:u?u.body:null)},u=>{o.fire("error",typeof u=="string"?{type:"error",code:0,body:u}:u)},(u,f,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!u){t.progress=null;return}t.progress=f/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},u=>{const f=Bh(typeof u=="string"?u:u.headers);o.fire("meta",{size:t.size||f.size,filename:f.name,source:f.source})})},o={...oc(),setSource:l=>t.source=l,getProgress:r,abort:n,load:a};return o},xv=e=>/GET|HEAD/.test(e),On=(e,t,r)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{a=!0,o.abort()}};let a=!1,s=!1;r={method:"POST",headers:{},withCredentials:!1,...r},t=encodeURI(t),xv(r.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,l=xv(r.method)?o:o.upload;return l.onprogress=u=>{a||n.onprogress(u.lengthComputable,u.loaded,u.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||s||(s=!0,n.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?n.onload(o):n.onerror(o)},o.onerror=()=>n.onerror(o),o.onabort=()=>{a=!0,n.onabort()},o.ontimeout=()=>n.ontimeout(o),o.open(r.method,t,!0),Da(r.timeout)&&(o.timeout=r.timeout),Object.keys(r.headers).forEach(u=>{const f=unescape(encodeURIComponent(r.headers[u]));o.setRequestHeader(u,f)}),r.responseType&&(o.responseType=r.responseType),r.withCredentials&&(o.withCredentials=!0),o.send(e),n},Ve=(e,t,r,n)=>({type:e,code:t,body:r,headers:n}),Tn=e=>t=>{e(Ve("error",0,"Timeout",t.getAllResponseHeaders()))},bv=e=>/\?/.test(e),Za=(...e)=>{let t="";return e.forEach(r=>{t+=bv(t)&&bv(r)?r.replace(/\?/,"&"):r}),t},$c=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return null;const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o,l,u,f)=>{const c=On(a,Za(e,t.url),{...t,responseType:"blob"});return c.onload=d=>{const h=d.getAllResponseHeaders(),m=Bh(h).name||Hi(a);s(Ve("load",d.status,t.method==="HEAD"?null:ua(r(d.response),m),h))},c.onerror=d=>{o(Ve("error",d.status,n(d.response)||d.statusText,d.getAllResponseHeaders()))},c.onheaders=d=>{f(Ve("headers",d.status,null,d.getAllResponseHeaders()))},c.ontimeout=Tn(o),c.onprogress=l,c.onabort=u,c}},Ut={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},kH=(e,t,r,n,a,s,o,l,u,f,c)=>{const d=[],{chunkTransferId:h,chunkServer:m,chunkSize:p,chunkRetryDelays:g}=c,v={serverId:h,aborted:!1},y=t.ondata||(A=>A),x=t.onload||((A,M)=>M==="HEAD"?A.getResponseHeader("Upload-Offset"):A.response),w=t.onerror||(A=>null),b=A=>{const M=new FormData;dt(a)&&M.append(r,JSON.stringify(a));const R=typeof t.headers=="function"?t.headers(n,a):{...t.headers,"Upload-Length":n.size},D={...t,headers:R},q=On(y(M),Za(e,t.url),D);q.onload=F=>A(x(F,D.method)),q.onerror=F=>o(Ve("error",F.status,w(F.response)||F.statusText,F.getAllResponseHeaders())),q.ontimeout=Tn(o)},j=A=>{const M=Za(e,m.url,v.serverId),D={headers:typeof t.headers=="function"?t.headers(v.serverId):{...t.headers},method:"HEAD"},q=On(null,M,D);q.onload=F=>A(x(F,D.method)),q.onerror=F=>o(Ve("error",F.status,w(F.response)||F.statusText,F.getAllResponseHeaders())),q.ontimeout=Tn(o)},T=Math.floor(n.size/p);for(let A=0;A<=T;A++){const M=A*p,R=n.slice(M,M+p,"application/offset+octet-stream");d[A]={index:A,size:R.size,offset:M,data:R,file:n,progress:0,retries:[...g],status:Ut.QUEUED,error:null,request:null,timeout:null}}const N=()=>s(v.serverId),S=A=>A.status===Ut.QUEUED||A.status===Ut.ERROR,E=A=>{if(v.aborted)return;if(A=A||d.find(S),!A){d.every(C=>C.status===Ut.COMPLETE)&&N();return}A.status=Ut.PROCESSING,A.progress=null;const M=m.ondata||(C=>C),R=m.onerror||(C=>null),D=m.onload||(()=>{}),q=Za(e,m.url,v.serverId),F=typeof m.headers=="function"?m.headers(A):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":A.offset,"Upload-Length":n.size,"Upload-Name":n.name},$=A.request=On(M(A.data),q,{...m,headers:F});$.onload=C=>{D(C,A.index,d.length),A.status=Ut.COMPLETE,A.request=null,I()},$.onprogress=(C,L,z)=>{A.progress=C?L:null,O()},$.onerror=C=>{A.status=Ut.ERROR,A.request=null,A.error=R(C.response)||C.statusText,P(A)||o(Ve("error",C.status,R(C.response)||C.statusText,C.getAllResponseHeaders()))},$.ontimeout=C=>{A.status=Ut.ERROR,A.request=null,P(A)||Tn(o)(C)},$.onabort=()=>{A.status=Ut.QUEUED,A.request=null,u()}},P=A=>A.retries.length===0?!1:(A.status=Ut.WAITING,clearTimeout(A.timeout),A.timeout=setTimeout(()=>{E(A)},A.retries.shift()),!0),O=()=>{const A=d.reduce((R,D)=>R===null||D.progress===null?null:R+D.progress,0);if(A===null)return l(!1,0,0);const M=d.reduce((R,D)=>R+D.size,0);l(!0,A,M)},I=()=>{d.filter(M=>M.status===Ut.PROCESSING).length>=1||E()},k=()=>{d.forEach(A=>{clearTimeout(A.timeout),A.request&&A.request.abort()})};return v.serverId?j(A=>{v.aborted||(d.filter(M=>M.offset<A).forEach(M=>{M.status=Ut.COMPLETE,M.progress=M.size}),I())}):b(A=>{v.aborted||(f(A),v.serverId=A,I())}),{abort:()=>{v.aborted=!0,k()}}},CH=(e,t,r,n)=>(a,s,o,l,u,f,c)=>{if(!a)return;const d=n.chunkUploads,h=d&&a.size>n.chunkSize,m=d&&(h||n.chunkForce);if(a instanceof Blob&&m)return kH(e,t,r,a,s,o,l,u,f,c,n);const p=t.ondata||(j=>j),g=t.onload||(j=>j),v=t.onerror||(j=>null),y=typeof t.headers=="function"?t.headers(a,s)||{}:{...t.headers},x={...t,headers:y};var w=new FormData;dt(s)&&w.append(r,JSON.stringify(s)),(a instanceof Blob?[{name:null,file:a}]:a).forEach(j=>{w.append(r,j.file,j.name===null?j.file.name:`${j.name}${j.file.name}`)});const b=On(p(w),Za(e,t.url),x);return b.onload=j=>{o(Ve("load",j.status,g(j.response),j.getAllResponseHeaders()))},b.onerror=j=>{l(Ve("error",j.status,v(j.response)||j.statusText,j.getAllResponseHeaders()))},b.ontimeout=Tn(l),b.onprogress=u,b.onabort=f,b},DH=(e="",t,r,n)=>typeof t=="function"?(...a)=>t(r,...a,n):!t||!Ot(t.url)?null:CH(e,t,r,n),Va=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Ot(t.url))return(a,s)=>s();const r=t.onload||(a=>a),n=t.onerror||(a=>null);return(a,s,o)=>{const l=On(a,e+t.url,t);return l.onload=u=>{s(Ve("load",u.status,r(u.response),u.getAllResponseHeaders()))},l.onerror=u=>{o(Ve("error",u.status,n(u.response)||u.statusText,u.getAllResponseHeaders()))},l.ontimeout=Tn(o),l}},xj=(e=0,t=1)=>e+Math.random()*(t-e),MH=(e,t=1e3,r=0,n=25,a=250)=>{let s=null;const o=Date.now(),l=()=>{let u=Date.now()-o,f=xj(n,a);u+f>t&&(f=u+f-t);let c=u/t;if(c>=1||document.hidden){e(1);return}e(c),s=setTimeout(l,f)};return t>0&&l(),{clear:()=>{clearTimeout(s)}}},RH=(e,t)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,a=(c,d)=>{const h=()=>{r.duration===0||r.progress===null||f.fire("progress",f.getProgress())},m=()=>{r.complete=!0,f.fire("load-perceived",r.response.body)};f.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=MH(p=>{r.perceivedProgress=p,r.perceivedDuration=Date.now()-r.timestamp,h(),r.response&&r.perceivedProgress===1&&!r.complete&&m()},n?xj(750,1500):0),r.request=e(c,d,p=>{r.response=dt(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,f.fire("load",r.response.body),(!n||n&&r.perceivedProgress===1)&&m()},p=>{r.perceivedPerformanceUpdater.clear(),f.fire("error",dt(p)?p:{type:"error",code:0,body:`${p}`})},(p,g,v)=>{r.duration=Date.now()-r.timestamp,r.progress=p?g/v:null,h()},()=>{r.perceivedPerformanceUpdater.clear(),f.fire("abort",r.response?r.response.body:null)},p=>{f.fire("transfer",p)})},s=()=>{r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},o=()=>{s(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},l=n?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,u=n?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,f={...oc(),process:a,abort:s,getProgress:l,getDuration:u,reset:o};return f},bj=e=>e.substring(0,e.lastIndexOf("."))||e,LH=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||ld(e)?t[0]=e.name||gj():ld(e)?(t[1]=e.length,t[2]=yj(e)):Ot(e)&&(t[0]=Hi(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Sn=e=>!!(e instanceof File||e instanceof Blob&&e.name),wj=e=>{if(!dt(e))return e;const t=ac(e)?[]:{};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t[r]=n&&dt(n)?wj(n):n}return t},BH=(e=null,t=null,r=null)=>{const n=Mh(),a={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?xe.PROCESSING_COMPLETE:xe.INIT,activeLoader:null,activeProcessor:null};let s=null;const o={},l=S=>a.status=S,u=(S,...E)=>{a.released||a.frozen||T.fire(S,...E)},f=()=>lc(a.file.name),c=()=>a.file.type,d=()=>a.file.size,h=()=>a.file,m=(S,E,P)=>{if(a.source=S,T.fireSync("init"),a.file){T.fireSync("load-skip");return}a.file=LH(S),E.on("init",()=>{u("load-init")}),E.on("meta",O=>{a.file.size=O.size,a.file.filename=O.filename,O.source&&(e=ct.LIMBO,a.serverFileReference=O.source,a.status=xe.PROCESSING_COMPLETE),u("load-meta")}),E.on("progress",O=>{l(xe.LOADING),u("load-progress",O)}),E.on("error",O=>{l(xe.LOAD_ERROR),u("load-request-error",O)}),E.on("abort",()=>{l(xe.INIT),u("load-abort")}),E.on("load",O=>{a.activeLoader=null;const I=A=>{a.file=Sn(A)?A:a.file,e===ct.LIMBO&&a.serverFileReference?l(xe.PROCESSING_COMPLETE):l(xe.IDLE),u("load")},k=A=>{a.file=O,u("load-meta"),l(xe.LOAD_ERROR),u("load-file-error",A)};if(a.serverFileReference){I(O);return}P(O,I,k)}),E.setSource(S),a.activeLoader=E,E.load()},p=()=>{a.activeLoader&&a.activeLoader.load()},g=()=>{if(a.activeLoader){a.activeLoader.abort();return}l(xe.INIT),u("load-abort")},v=(S,E)=>{if(a.processingAborted){a.processingAborted=!1;return}if(l(xe.PROCESSING),s=null,!(a.file instanceof Blob)){T.on("load",()=>{v(S,E)});return}S.on("load",I=>{a.transferId=null,a.serverFileReference=I}),S.on("transfer",I=>{a.transferId=I}),S.on("load-perceived",I=>{a.activeProcessor=null,a.transferId=null,a.serverFileReference=I,l(xe.PROCESSING_COMPLETE),u("process-complete",I)}),S.on("start",()=>{u("process-start")}),S.on("error",I=>{a.activeProcessor=null,l(xe.PROCESSING_ERROR),u("process-error",I)}),S.on("abort",I=>{a.activeProcessor=null,a.serverFileReference=I,l(xe.IDLE),u("process-abort"),s&&s()}),S.on("progress",I=>{u("process-progress",I)});const P=I=>{a.archived||S.process(I,{...o})},O=console.error;E(a.file,P,O),a.activeProcessor=S},y=()=>{a.processingAborted=!1,l(xe.PROCESSING_QUEUED)},x=()=>new Promise(S=>{if(!a.activeProcessor){a.processingAborted=!0,l(xe.IDLE),u("process-abort"),S();return}s=()=>{S()},a.activeProcessor.abort()}),w=(S,E)=>new Promise((P,O)=>{const I=a.serverFileReference!==null?a.serverFileReference:a.transferId;if(I===null){P();return}S(I,()=>{a.serverFileReference=null,a.transferId=null,P()},k=>{if(!E){P();return}l(xe.PROCESSING_REVERT_ERROR),u("process-revert-error"),O(k)}),l(xe.IDLE),u("process-revert")}),b=(S,E,P)=>{const O=S.split("."),I=O[0],k=O.pop();let A=o;O.forEach(M=>A=A[M]),JSON.stringify(A[k])!==JSON.stringify(E)&&(A[k]=E,u("metadata-update",{key:I,value:o[I],silent:P}))},T={id:{get:()=>n},origin:{get:()=>e,set:S=>e=S},serverId:{get:()=>a.serverFileReference},transferId:{get:()=>a.transferId},status:{get:()=>a.status},filename:{get:()=>a.file.name},filenameWithoutExtension:{get:()=>bj(a.file.name)},fileExtension:{get:f},fileType:{get:c},fileSize:{get:d},file:{get:h},relativePath:{get:()=>a.file._relativePath},source:{get:()=>a.source},getMetadata:S=>wj(S?o[S]:o),setMetadata:(S,E,P)=>{if(dt(S)){const O=S;return Object.keys(O).forEach(I=>{b(I,O[I],E)}),S}return b(S,E,P),E},extend:(S,E)=>N[S]=E,abortLoad:g,retryLoad:p,requestProcessing:y,abortProcessing:x,load:m,process:v,revert:w,...oc(),freeze:()=>a.frozen=!0,release:()=>a.released=!0,released:{get:()=>a.released},archive:()=>a.archived=!0,archived:{get:()=>a.archived},setFile:S=>a.file=S},N=en(T);return N},$H=(e,t)=>Cr(t)?0:Ot(t)?e.findIndex(r=>r.id===t):-1,wv=(e,t)=>{const r=$H(e,t);if(!(r<0))return e[r]||null},jv=(e,t,r,n,a,s)=>{const o=On(null,e,{method:"GET",responseType:"blob"});return o.onload=l=>{const u=l.getAllResponseHeaders(),f=Bh(u).name||Hi(e);t(Ve("load",l.status,ua(l.response,f),u))},o.onerror=l=>{r(Ve("error",l.status,l.statusText,l.getAllResponseHeaders()))},o.onheaders=l=>{s(Ve("headers",l.status,null,l.getAllResponseHeaders()))},o.ontimeout=Tn(r),o.onprogress=n,o.onabort=a,o},_v=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),FH=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&_v(location.href)!==_v(e),ys=e=>(...t)=>bn(e)?e(...t):e,zH=e=>!Sn(e.file),Fc=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:nr(t.items)})},0)},Nv=(e,...t)=>new Promise(r=>{if(!e)return r(!0);const n=e(...t);if(n==null)return r(!0);if(typeof n=="boolean")return r(n);typeof n.then=="function"&&n.then(r)}),zc=(e,t)=>{e.items.sort((r,n)=>t(St(r),St(n)))},Ht=(e,t)=>({query:r,success:n=()=>{},failure:a=()=>{},...s}={})=>{const o=wn(e.items,r);if(!o){a({error:Ve("error",0,"Item not found"),file:null});return}t(o,n,a,s||{})},UH=(e,t,r)=>({ABORT_ALL:()=>{nr(r.items).forEach(n=>{n.freeze(),n.abortLoad(),n.abortProcessing()})},DID_SET_FILES:({value:n=[]})=>{const a=n.map(o=>({source:o.source?o.source:o,options:o.options}));let s=nr(r.items);s.forEach(o=>{a.find(l=>l.source===o.source||l.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),s=nr(r.items),a.forEach((o,l)=>{s.find(u=>u.source===o.source||u.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Vt.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:n,action:a,change:s})=>{s.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(()=>{const o=wv(r.items,n);if(!t("IS_ASYNC")){Jt("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:a,change:s}).then(c=>{const d=t("GET_BEFORE_PREPARE_FILE");d&&(c=d(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:o,success:h=>{e("DID_PREPARE_OUTPUT",{id:n,file:h})}},!0)});return}o.origin===ct.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:n})},32)},u=c=>{o.revert(Va(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(c?l:()=>{}).catch(()=>{})},f=c=>{o.abortProcessing().then(c?l:()=>{})};if(o.status===xe.PROCESSING_COMPLETE)return u(r.options.instantUpload);if(o.status===xe.PROCESSING)return f(r.options.instantUpload);r.options.instantUpload&&l()},0))},MOVE_ITEM:({query:n,index:a})=>{const s=wn(r.items,n);if(!s)return;const o=r.items.indexOf(s);a=pj(a,0,r.items.length-1),o!==a&&r.items.splice(a,0,r.items.splice(o,1)[0])},SORT:({compare:n})=>{zc(r,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:n,index:a,interactionMethod:s,success:o=()=>{},failure:l=()=>{}})=>{let u=a;if(a===-1||typeof a>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");u=m==="before"?0:p}const f=t("GET_IGNORED_FILES"),c=m=>Sn(m)?!f.includes(m.name.toLowerCase()):!Cr(m),h=n.filter(c).map(m=>new Promise((p,g)=>{e("ADD_ITEM",{interactionMethod:s,source:m.source||m,success:p,failure:g,index:u++,options:m.options||{}})}));Promise.all(h).then(o).catch(l)},ADD_ITEM:({source:n,index:a=-1,interactionMethod:s,success:o=()=>{},failure:l=()=>{},options:u={}})=>{if(Cr(n)){l({error:Ve("error",0,"No source"),file:null});return}if(Sn(n)&&r.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!yH(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const x=Ve("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:n,error:x}),l({error:x,file:null});return}const y=nr(r.items)[0];if(y.status===xe.PROCESSING_COMPLETE||y.status===xe.PROCESSING_REVERT_ERROR){const x=t("GET_FORCE_REVERT");if(y.revert(Va(r.options.server.url,r.options.server.revert),x).then(()=>{x&&e("ADD_ITEM",{source:n,index:a,interactionMethod:s,success:o,failure:l,options:u})}).catch(()=>{}),x)return}e("REMOVE_ITEM",{query:y.id})}const f=u.type==="local"?ct.LOCAL:u.type==="limbo"?ct.LIMBO:ct.INPUT,c=BH(f,f===ct.INPUT?null:n,u.file);Object.keys(u.metadata||{}).forEach(y=>{c.setMetadata(y,u.metadata[y])}),Hn("DID_CREATE_ITEM",c,{query:t,dispatch:e});const d=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(a=d==="before"?-1:r.items.length),bH(r.items,c,a),bn(d)&&n&&zc(r,d);const h=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:h})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:h})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:h})}),c.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:y})}),c.on("load-request-error",y=>{const x=ys(r.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:h,error:y,status:{main:x,sub:`${y.code} (${y.body})`}}),l({error:y,file:St(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:y,status:{main:x,sub:r.options.labelTapToRetry}})}),c.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:h,error:y.status,status:y.status}),l({error:y.status,file:St(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:h})}),c.on("load-skip",()=>{c.on("metadata-update",y=>{Sn(c.file)&&e("DID_UPDATE_ITEM_METADATA",{id:h,change:y})}),e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}})}),c.on("load",()=>{const y=x=>{if(!x){e("REMOVE_ITEM",{query:h});return}c.on("metadata-update",w=>{e("DID_UPDATE_ITEM_METADATA",{id:h,change:w})}),Jt("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(w=>{const b=t("GET_BEFORE_PREPARE_FILE");b&&(w=b(c,w));const j=()=>{e("COMPLETE_LOAD_ITEM",{query:h,item:c,data:{source:n,success:o}}),Fc(e,r)};if(w){e("REQUEST_PREPARE_OUTPUT",{query:h,item:c,success:T=>{e("DID_PREPARE_OUTPUT",{id:h,file:T}),j()}},!0);return}j()})};Jt("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Nv(t("GET_BEFORE_ADD_FILE"),St(c)).then(y)}).catch(x=>{if(!x||!x.error||!x.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:x.error,status:x.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:h})}),c.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:y})}),c.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:y,status:{main:ys(r.options.labelFileProcessingError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:y,status:{main:ys(r.options.labelFileProcessingRevertError)(y),sub:r.options.labelTapToRetry}})}),c.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:h,value:y})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:h})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})}),e("DID_ADD_ITEM",{id:h,index:a,interactionMethod:s}),Fc(e,r);const{url:m,load:p,restore:g,fetch:v}=r.options.server||{};c.load(n,IH(f===ct.INPUT?Ot(n)&&FH(n)&&v?$c(m,v):jv:f===ct.LIMBO?$c(m,g):$c(m,p)),(y,x,w)=>{Jt("LOAD_FILE",y,{query:t}).then(x).catch(w)})},REQUEST_PREPARE_OUTPUT:({item:n,success:a,failure:s=()=>{}})=>{const o={error:Ve("error",0,"Item not found"),file:null};if(n.archived)return s(o);Jt("PREPARE_OUTPUT",n.file,{query:t,item:n}).then(l=>{Jt("COMPLETE_PREPARE_OUTPUT",l,{query:t,item:n}).then(u=>{if(n.archived)return s(o);a(u)})})},COMPLETE_LOAD_ITEM:({item:n,data:a})=>{const{success:s,source:o}=a,l=t("GET_ITEM_INSERT_LOCATION");if(bn(l)&&o&&zc(r,l),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===ct.INPUT?null:o}),s(St(n)),n.origin===ct.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===ct.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||o});return}t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id})},RETRY_ITEM_LOAD:Ht(r,n=>{n.retryLoad()}),REQUEST_ITEM_PREPARE:Ht(r,(n,a,s)=>{e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:o=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:o}),a({file:n,output:o})},failure:s},!0)}),REQUEST_ITEM_PROCESSING:Ht(r,(n,a,s)=>{if(!(n.status===xe.IDLE||n.status===xe.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:a,failure:s}),u=()=>document.hidden?l():setTimeout(l,32);n.status===xe.PROCESSING_COMPLETE||n.status===xe.PROCESSING_REVERT_ERROR?n.revert(Va(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(u).catch(()=>{}):n.status===xe.PROCESSING&&n.abortProcessing().then(u);return}n.status!==xe.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:a,failure:s},!0))}),PROCESS_ITEM:Ht(r,(n,a,s)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",xe.PROCESSING).length===o){r.processingQueue.push({id:n.id,success:a,failure:s});return}if(n.status===xe.PROCESSING)return;const u=()=>{const c=r.processingQueue.shift();if(!c)return;const{id:d,success:h,failure:m}=c,p=wn(r.items,d);if(!p||p.archived){u();return}e("PROCESS_ITEM",{query:d,success:h,failure:m},!0)};n.onOnce("process-complete",()=>{a(St(n)),u();const c=r.options.server;if(r.options.instantUpload&&n.origin===ct.LOCAL&&bn(c.remove)){const m=()=>{};n.origin=ct.LIMBO,r.options.server.remove(n.source,m,m)}t("GET_ITEMS_BY_STATUS",xe.PROCESSING_COMPLETE).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",c=>{s({error:c,file:St(n)}),u()});const f=r.options;n.process(RH(DH(f.server.url,f.server.process,f.name,{chunkTransferId:n.transferId,chunkServer:f.server.patch,chunkUploads:f.chunkUploads,chunkForce:f.chunkForce,chunkSize:f.chunkSize,chunkRetryDelays:f.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,d,h)=>{Jt("PREPARE_OUTPUT",c,{query:t,item:n}).then(m=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:m}),d(m)}).catch(h)})}),RETRY_ITEM_PROCESSING:Ht(r,n=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:Ht(r,n=>{Nv(t("GET_BEFORE_REMOVE_FILE"),St(n)).then(a=>{a&&e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:Ht(r,n=>{n.release()}),REMOVE_ITEM:Ht(r,(n,a,s,o)=>{const l=()=>{const f=n.id;wv(r.items,f).archive(),e("DID_REMOVE_ITEM",{error:null,id:f,item:n}),Fc(e,r),a(St(n))},u=r.options.server;n.origin===ct.LOCAL&&u&&bn(u.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:n.id}),u.remove(n.source,()=>l(),f=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:Ve("error",0,f,null),status:{main:ys(r.options.labelFileRemoveError)(f),sub:r.options.labelTapToRetry}})})):((o.revert&&n.origin!==ct.LOCAL&&n.serverId!==null||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert(Va(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:Ht(r,n=>{n.abortLoad()}),ABORT_ITEM_PROCESSING:Ht(r,n=>{if(n.serverId){e("REVERT_ITEM_PROCESSING",{id:n.id});return}n.abortProcessing().then(()=>{r.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ht(r,n=>{if(!r.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:n});return}const a=l=>{l&&e("REVERT_ITEM_PROCESSING",{query:n})},s=t("GET_BEFORE_REMOVE_FILE");if(!s)return a(!0);const o=s(St(n));if(o==null)return a(!0);if(typeof o=="boolean")return a(o);typeof o.then=="function"&&o.then(a)}),REVERT_ITEM_PROCESSING:Ht(r,n=>{n.revert(Va(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(r.options.instantUpload||zH(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(()=>{})}),SET_OPTIONS:({options:n})=>{const a=Object.keys(n),s=HH.filter(l=>a.includes(l));[...s,...Object.keys(n).filter(l=>!s.includes(l))].forEach(l=>{e(`SET_${sc(l,"_").toUpperCase()}`,{value:n[l]})})}}),HH=["server"],$h=e=>e,Dr=e=>document.createElement(e),We=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},Ev=(e,t,r,n)=>{const a=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}},qH=(e,t,r,n,a,s)=>{const o=Ev(e,t,r,a),l=Ev(e,t,r,n);return["M",o.x,o.y,"A",r,r,0,s,0,l.x,l.y].join(" ")},GH=(e,t,r,n,a)=>{let s=1;return a>n&&a-n<=.5&&(s=0),n>a&&n-a>=.5&&(s=0),qH(e,t,r,Math.min(.9999,n)*360,Math.min(.9999,a)*360,s)},VH=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=Io("svg");e.ref.path=Io("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},WH=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const r=parseInt(tt(e.ref.path,"stroke-width"),10),n=e.rect.element.width*.5;let a=0,s=0;t.spin?(a=0,s=.5):(a=0,s=t.progress);const o=GH(n,n,n-r,a,s);tt(e.ref.path,"d",o),tt(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Ov=Je({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:VH,write:WH,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),KH=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},YH=({root:e,props:t})=>{const{isDisabled:r}=t,n=e.query("GET_DISABLED")||t.opacity===0;n&&!r?(t.isDisabled=!0,tt(e.element,"disabled","disabled")):!n&&r&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},jj=Je({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:KH,write:YH}),_j=(e,t=".",r=1e3,n={})=>{const{labelBytes:a="bytes",labelKilobytes:s="KB",labelMegabytes:o="MB",labelGigabytes:l="GB"}=n;e=Math.round(Math.abs(e));const u=r,f=r*r,c=r*r*r;return e<u?`${e} ${a}`:e<f?`${Math.floor(e/u)} ${s}`:e<c?`${Tv(e/f,1,t)} ${o}`:`${Tv(e/c,2,t)} ${l}`},Tv=(e,t,r)=>e.toFixed(t).split(".").filter(n=>n!=="0").join(r),XH=({root:e,props:t})=>{const r=Dr("span");r.className="filepond--file-info-main",tt(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const n=Dr("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,We(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),We(r,$h(e.query("GET_ITEM_NAME",t.id)))},cd=({root:e,props:t})=>{We(e.ref.fileSize,_j(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),We(e.ref.fileName,$h(e.query("GET_ITEM_NAME",t.id)))},Sv=({root:e,props:t})=>{if(Da(e.query("GET_ITEM_SIZE",t.id))){cd({root:e,props:t});return}We(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},ZH=Je({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:cd,DID_UPDATE_ITEM_META:cd,DID_THROW_ITEM_LOAD_ERROR:Sv,DID_THROW_ITEM_INVALID:Sv}),didCreateView:e=>{Hn("CREATE_VIEW",{...e,view:e})},create:XH,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Nj=e=>Math.round(e*100),QH=({root:e})=>{const t=Dr("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const r=Dr("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Ej({root:e,action:{progress:null}})},Ej=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Nj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},JH=({root:e,action:t})=>{const r=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Nj(t.progress)}%`;We(e.ref.main,r),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},eq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},tq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},rq=({root:e})=>{We(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),We(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Pv=({root:e})=>{We(e.ref.main,""),We(e.ref.sub,"")},Wa=({root:e,action:t})=>{We(e.ref.main,t.status.main),We(e.ref.sub,t.status.sub)},nq=Je({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:Pv,DID_REVERT_ITEM_PROCESSING:Pv,DID_REQUEST_ITEM_PROCESSING:eq,DID_ABORT_ITEM_PROCESSING:tq,DID_COMPLETE_ITEM_PROCESSING:rq,DID_UPDATE_ITEM_PROCESS_PROGRESS:JH,DID_UPDATE_ITEM_LOAD_PROGRESS:Ej,DID_THROW_ITEM_LOAD_ERROR:Wa,DID_THROW_ITEM_INVALID:Wa,DID_THROW_ITEM_PROCESSING_ERROR:Wa,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Wa,DID_THROW_ITEM_REMOVE_ERROR:Wa}),didCreateView:e=>{Hn("CREATE_VIEW",{...e,view:e})},create:QH,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),ud={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},dd=[];qe(ud,e=>{dd.push(e)});const kt=e=>{if(fd(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},aq=e=>e.ref.buttonAbortItemLoad.rect.element.width,xs=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),iq=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),sq=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),oq=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),fd=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),lq={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:sq},processProgressIndicator:{opacity:0,align:oq},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Av={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kt},status:{translateX:kt}},Uc={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Qn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:kt},status:{translateX:kt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:kt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:fd},info:{translateX:kt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:fd},buttonRemoveItem:{opacity:1},info:{translateX:kt},status:{opacity:1,translateX:kt}},DID_LOAD_ITEM:Av,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:kt},status:{translateX:kt}},DID_START_ITEM_PROCESSING:Uc,DID_REQUEST_ITEM_PROCESSING:Uc,DID_UPDATE_ITEM_PROCESS_PROGRESS:Uc,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:kt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Av},cq=Je({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),uq=({root:e,props:t})=>{const r=Object.keys(ud).reduce((p,g)=>(p[g]={...ud[g]},p),{}),{id:n}=t,a=e.query("GET_ALLOW_REVERT"),s=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),u=e.query("IS_ASYNC"),f=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;u?o&&!a?c=p=>!/RevertItemProcessing/.test(p):!o&&a?c=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!o&&!a&&(c=p=>!/Process/.test(p)):c=p=>!/Process/.test(p);const d=c?dd.filter(c):dd.concat();if(l&&a&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),u&&!a){const p=Qn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=iq,p.info.translateY=xs,p.status.translateY=xs,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{Qn[p].status.translateY=xs}),Qn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=aq),f&&a){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=Qn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=kt,p.status.translateY=xs,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(r.RemoveItem.disabled=!0),qe(r,(p,g)=>{const v=e.createChildView(jj,{label:e.query(g.label),icon:e.query(g.icon),opacity:0});d.includes(p)&&e.appendChildView(v),g.disabled&&(v.element.setAttribute("disabled","disabled"),v.element.setAttribute("hidden","hidden")),v.element.dataset.align=e.query(`GET_STYLE_${g.align}`),v.element.classList.add(g.className),v.on("click",y=>{y.stopPropagation(),!g.disabled&&e.dispatch(g.action,{query:n})}),e.ref[`button${p}`]=v}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(cq)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(ZH,{id:n})),e.ref.status=e.appendChildView(e.createChildView(nq,{id:n}));const h=e.appendChildView(e.createChildView(Ov,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=h;const m=e.appendChildView(e.createChildView(Ov,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},dq=({root:e,actions:t,props:r})=>{fq({root:e,actions:t,props:r});let n=t.concat().filter(a=>/^DID_/.test(a.type)).reverse().find(a=>Qn[a.type]);if(n){e.ref.activeStyles=[];const a=Qn[n.type];qe(lq,(s,o)=>{const l=e.ref[s];qe(o,(u,f)=>{const c=a[s]&&typeof a[s][u]<"u"?a[s][u]:f;e.ref.activeStyles.push({control:l,key:u,value:c})})})}e.ref.activeStyles.forEach(({control:a,key:s,value:o})=>{a[s]=typeof o=="function"?o(e):o})},fq=Tt({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),hq=Je({create:uq,write:dq,didCreateView:e=>{Hn("CREATE_VIEW",{...e,view:e})},name:"file"}),mq=({root:e,props:t})=>{e.ref.fileName=Dr("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(hq,{id:t.id})),e.ref.data=!1},pq=({root:e,props:t})=>{We(e.ref.fileName,$h(e.query("GET_ITEM_NAME",t.id)))},gq=Je({create:mq,ignoreRect:!0,write:Tt({DID_LOAD_ITEM:pq}),didCreateView:e=>{Hn("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Iv={type:"spring",damping:.6,mass:7},vq=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Iv},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Iv},styles:["translateY"]}}].forEach(r=>{yq(e,r,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},yq=(e,t,r)=>{const n=Je({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins,ignoreRectUpdate:!0}),a=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(a)},xq=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=oj(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const r=e.ref.top.rect.element,n=e.ref.bottom.rect.element,a=Math.max(r.height+n.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(a-r.height-n.height)/100,e.ref.bottom.translateY=a-n.height},Oj=Je({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:xq,create:vq,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),bq=e=>{const t=e.map(n=>n.id);let r;return{setIndex:n=>{r=n},getIndex:()=>r,getItemIndex:n=>t.indexOf(n.id)}},kv={type:"spring",stiffness:.75,damping:.45,mass:10},Cv="spring",Dv={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},wq=({root:e,props:t})=>{if(e.ref.handleClick=n=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(gq,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Oj,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const r=n=>{if(!n.isPrimary)return;let a=!1;const s={x:n.pageX,y:n.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:n.offsetX,y:n.offsetY};const o=bq(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const l=d=>{if(!d.isPrimary)return;d.stopPropagation(),d.preventDefault(),t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!a&&(a=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},u=d=>{d.isPrimary&&(t.dragOffset={x:d.pageX-s.x,y:d.pageY-s.y},c())},f=()=>{c()},c=()=>{document.removeEventListener("pointercancel",f),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",u),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),a&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",f),document.addEventListener("pointermove",l),document.addEventListener("pointerup",u)};e.element.addEventListener("pointerdown",r)},jq=Tt({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),_q=Tt({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:r,shouldOptimize:n})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let a=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Dv[o.type]);a&&a.type!==r.currentState&&(r.currentState=a.type,e.element.dataset.filepondItemState=Dv[r.currentState]||"");const s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?n||(e.height=e.rect.element.width*s):(jq({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Nq=Je({create:wq,write:_q,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Cv,scaleY:Cv,translateX:kv,translateY:kv,opacity:{type:"tween",duration:150}}}});var Fh=(e,t)=>Math.max(1,Math.floor((e+1)/t));const zh=(e,t,r)=>{if(!r)return;const n=e.rect.element.width,a=t.length;let s=null;if(a===0||r.top<t[0].rect.element.top)return-1;const l=t[0].rect.element,u=l.marginLeft+l.marginRight,f=l.width+u,c=Fh(n,f);if(c===1){for(let m=0;m<a;m++){const p=t[m],g=p.rect.outer.top+p.rect.element.height*.5;if(r.top<g)return m}return a}const d=l.marginTop+l.marginBottom,h=l.height+d;for(let m=0;m<a;m++){const p=m%c,g=Math.floor(m/c),v=p*f,y=g*h,x=y-l.marginTop,w=v+f,b=y+h+l.marginBottom;if(r.top<b&&r.top>x){if(r.left<w)return m;m!==a-1?s=m:s=null}}return s!==null?s:a},bs={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)}},Eq=({root:e})=>{tt(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Oq=({root:e,action:t})=>{const{id:r,index:n,interactionMethod:a}=t;e.ref.addIndex=n;const s=Date.now();let o=s,l=1;if(a!==Vt.NONE){l=0;const u=e.query("GET_ITEM_INSERT_INTERVAL"),f=s-e.ref.lastItemSpanwDate;o=f<u?s+(u-f):s}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Nq,{spawnDate:o,id:r,opacity:l,interactionMethod:a}),n)},Mv=(e,t,r,n=0,a=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(e.opacity===0&&Tq(e,t,r,n,a),e.scaleX=1,e.scaleY=1,e.opacity=1))},Tq=(e,t,r,n,a)=>{e.interactionMethod===Vt.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===Vt.DROP?(e.translateX=null,e.translateX=t-n*20,e.translateY=null,e.translateY=r-a*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Vt.BROWSE?(e.translateY=null,e.translateY=r-30):e.interactionMethod===Vt.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Sq=({root:e,action:t})=>{const{id:r}=t,n=e.childViews.find(a=>a.id===r);n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},Hc=e=>e.rect.element.height+e.rect.element.marginBottom+e.rect.element.marginTop,Pq=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Aq=({root:e,action:t})=>{const{id:r,dragState:n}=t,a=e.query("GET_ITEM",{id:r}),s=e.childViews.find(v=>v.id===r),o=e.childViews.length,l=n.getItemIndex(a);if(!s)return;const u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},f=Hc(s),c=Pq(s);let d=Math.floor(e.rect.outer.width/c);d>o&&(d=o);const h=Math.floor(o/d+1);bs.setHeight=f*h,bs.setWidth=c*d;var m={y:Math.floor(u.y/f),x:Math.floor(u.x/c),getGridIndex:function(){return u.y>bs.getHeight||u.y<0||u.x>bs.getWidth||u.x<0?l:this.y*d+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),x=e.childViews.filter(O=>O.rect.element.height),w=y.map(O=>x.find(I=>I.id===O.id)),b=w.findIndex(O=>O===s),j=Hc(s),T=w.length;let N=T,S=0,E=0,P=0;for(let O=0;O<T;O++)if(S=Hc(w[O]),P=E,E=P+S,u.y<E){if(b>O){if(u.y<P+j){N=O;break}continue}N=O;break}return N}};const p=d>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:s,index:p});const g=n.getIndex();if(g===void 0||g!==p){if(n.setIndex(p),g===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:p})}},Iq=Tt({DID_ADD_ITEM:Oq,DID_REMOVE_ITEM:Sq,DID_DRAG_ITEM:Aq}),kq=({root:e,props:t,actions:r,shouldOptimize:n})=>{Iq({root:e,props:t,actions:r});const{dragCoordinates:a}=t,s=e.rect.element.width,o=e.childViews.filter(w=>w.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(w=>o.find(b=>b.id===w.id)).filter(w=>w),u=a?zh(e,l,a):null,f=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,d=0,h=0;if(l.length===0)return;const m=l[0].rect.element,p=m.marginTop+m.marginBottom,g=m.marginLeft+m.marginRight,v=m.width+g,y=m.height+p,x=Fh(s,v);if(x===1){let w=0,b=0;l.forEach((j,T)=>{if(u){let E=T-u;E===-2?b=-p*.25:E===-1?b=-p*.75:E===0?b=p*.75:E===1?b=p*.25:b=0}n&&(j.translateX=null,j.translateY=null),j.markedForRemoval||Mv(j,0,w+b);let S=(j.rect.element.height+p)*(j.markedForRemoval?j.opacity:1);w+=S})}else{let w=0,b=0;l.forEach((j,T)=>{T===u&&(c=1),T===f&&(h+=1),j.markedForRemoval&&j.opacity<.5&&(d-=1);const N=T+h+c+d,S=N%x,E=Math.floor(N/x),P=S*v,O=E*y,I=Math.sign(P-w),k=Math.sign(O-b);w=P,b=O,!j.markedForRemoval&&(n&&(j.translateX=null,j.translateY=null),Mv(j,P,O,I,k))})}},Cq=(e,t)=>t.filter(r=>r.data&&r.data.id?e.id===r.data.id:!0),Dq=Je({create:Eq,write:kq,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Cq,mixins:{apis:["dragCoordinates"]}}),Mq=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Dq)),t.dragCoordinates=null,t.overflowing=!1},Rq=({root:e,props:t,action:r})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Lq=({props:e})=>{e.dragCoordinates=null},Bq=Tt({DID_DRAG:Rq,DID_END_DRAG:Lq}),$q=({root:e,props:t,actions:r})=>{if(Bq({root:e,props:t,actions:r}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const n=Math.round(t.overflow);n!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=n)}},Fq=Je({create:Mq,write:$q,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),ar=(e,t,r,n="")=>{r?tt(e,t,n):e.removeAttribute(t)},zq=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Dr("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}},Uq=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,tt(e.element,"name",e.query("GET_NAME")),tt(e.element,"aria-controls",`filepond--assistant-${t.id}`),tt(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Tj({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Sj({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Pj({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),hd({root:e}),Aj({root:e,action:{value:e.query("GET_REQUIRED")}}),Ij({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=r=>{if(!e.element.value)return;const n=Array.from(e.element.files).map(a=>(a._relativePath=a.webkitRelativePath,a));setTimeout(()=>{t.onload(n),zq(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Tj=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&ar(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Sj=({root:e,action:t})=>{ar(e.element,"multiple",t.value)},Pj=({root:e,action:t})=>{ar(e.element,"webkitdirectory",t.value)},hd=({root:e})=>{const t=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),n=t||!r;ar(e.element,"disabled",n)},Aj=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&ar(e.element,"required",!0):ar(e.element,"required",!1)},Ij=({root:e,action:t})=>{ar(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Rv=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){ar(t,"required",!1),ar(t,"name",!1);const r=e.query("GET_ACTIVE_ITEMS");let n=!1;for(let a=0;a<r.length;a++)r[a].status===xe.LOAD_ERROR&&(n=!0);e.element.setCustomValidity(n?e.query("GET_LABEL_INVALID_FIELD"):"")}else ar(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&ar(t,"required",!0)},Hq=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},qq=Je({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Uq,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Tt({DID_LOAD_ITEM:Rv,DID_REMOVE_ITEM:Rv,DID_THROW_ITEM_INVALID:Hq,DID_SET_DISABLED:hd,DID_SET_ALLOW_BROWSE:hd,DID_SET_ALLOW_DIRECTORIES_ONLY:Pj,DID_SET_ALLOW_MULTIPLE:Sj,DID_SET_ACCEPTED_FILE_TYPES:Tj,DID_SET_CAPTURE_METHOD:Ij,DID_SET_REQUIRED:Aj})}),Lv={ENTER:13,SPACE:32},Gq=({root:e,props:t})=>{const r=Dr("label");tt(r,"for",`filepond--browser-${t.id}`),tt(r,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=n=>{(n.keyCode===Lv.ENTER||n.keyCode===Lv.SPACE)&&(n.preventDefault(),e.ref.label.click())},e.ref.handleClick=n=>{n.target===r||r.contains(n.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),kj(r,t.caption),e.appendChild(r),e.ref.label=r},kj=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&tt(r,"tabindex","0"),t},Vq=Je({name:"drop-label",ignoreRect:!0,create:Gq,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Tt({DID_SET_LABEL_IDLE:({root:e,action:t})=>{kj(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Wq=Je({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Kq=({root:e})=>{const t=e.rect.element.width*.5,r=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Wq,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))},Yq=({root:e,action:t})=>{if(!e.ref.blob){Kq({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},Xq=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Zq=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Qq=({root:e,props:t,actions:r})=>{Jq({root:e,props:t,actions:r});const{blob:n}=e.ref;r.length===0&&n&&n.opacity===0&&(e.removeChildView(n),e.ref.blob=null)},Jq=Tt({DID_DRAG:Yq,DID_DROP:Zq,DID_END_DRAG:Xq}),eG=Je({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Qq}),Cj=(e,t)=>{try{const r=new DataTransfer;t.forEach(n=>{n instanceof File?r.items.add(n):r.items.add(new File([n],n.name,{type:n.type}))}),e.files=r.files}catch{return!1}return!0},tG=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},cc=(e,t)=>e.ref.fields[t],Uh=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Bv=({root:e})=>Uh(e),rG=({root:e,action:t})=>{const a=!(e.query("GET_ITEM",t.id).origin===ct.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),s=Dr("input");s.type=a?"file":"hidden",s.name=e.query("GET_NAME"),e.ref.fields[t.id]=s,Uh(e)},nG=({root:e,action:t})=>{const r=cc(e,t.id);if(!r||(t.serverFileReference!==null&&(r.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const n=e.query("GET_ITEM",t.id);Cj(r,[n.file])},aG=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const r=cc(e,t.id);r&&Cj(r,[t.file])},0)},iG=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},sG=({root:e,action:t})=>{const r=cc(e,t.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[t.id])},oG=({root:e,action:t})=>{const r=cc(e,t.id);r&&(t.value===null?r.removeAttribute("value"):r.type!="file"&&(r.value=t.value),Uh(e))},lG=Tt({DID_SET_DISABLED:iG,DID_ADD_ITEM:rG,DID_LOAD_ITEM:nG,DID_REMOVE_ITEM:sG,DID_DEFINE_VALUE:oG,DID_PREPARE_OUTPUT:aG,DID_REORDER_ITEMS:Bv,DID_SORT_ITEMS:Bv}),cG=Je({tag:"fieldset",name:"data",create:tG,write:lG,ignoreRect:!0}),uG=e=>"getRootNode"in e?e.getRootNode():document,dG=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],fG=["css","csv","html","txt"],hG={zip:"zip|compressed",epub:"application/epub+zip"},Dj=(e="")=>(e=e.toLowerCase(),dG.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):fG.includes(e)?"text/"+e:hG[e]||""),Hh=e=>new Promise((t,r)=>{const n=wG(e);if(n.length&&!mG(e))return t(n);pG(e).then(t)}),mG=e=>e.files?e.files.length>0:!1,pG=e=>new Promise((t,r)=>{const n=(e.items?Array.from(e.items):[]).filter(a=>gG(a)).map(a=>vG(a));if(!n.length){t(e.files?Array.from(e.files):[]);return}Promise.all(n).then(a=>{const s=[];a.forEach(o=>{s.push.apply(s,o)}),t(s.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),gG=e=>{if(Mj(e)){const t=qh(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},vG=e=>new Promise((t,r)=>{if(bG(e)){yG(qh(e)).then(t).catch(r);return}t([e.getAsFile()])}),yG=e=>new Promise((t,r)=>{const n=[];let a=0,s=0;const o=()=>{s===0&&a===0&&t(n)},l=u=>{a++;const f=u.createReader(),c=()=>{f.readEntries(d=>{if(d.length===0){a--,o();return}d.forEach(h=>{h.isDirectory?l(h):(s++,h.file(m=>{const p=xG(m);h.fullPath&&(p._relativePath=h.fullPath),n.push(p),s--,o()}))}),c()},r)};c()};l(e)}),xG=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,r=e.name,n=Dj(lc(e.name));return n.length&&(e=e.slice(0,e.size,n),e.name=r,e.lastModifiedDate=t),e},bG=e=>Mj(e)&&(qh(e)||{}).isDirectory,Mj=e=>"webkitGetAsEntry"in e,qh=e=>e.webkitGetAsEntry(),wG=e=>{let t=[];try{if(t=_G(e),t.length)return t;t=jG(e)}catch{}return t},jG=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},_G=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const r=t.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},Co=[],Pn=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),NG=(e,t,r)=>{const n=EG(t),a={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return a.destroy=n.addListener(a),a},EG=e=>{const t=Co.find(n=>n.element===e);if(t)return t;const r=OG(e);return Co.push(r),r},OG=e=>{const t=[],r={dragenter:SG,dragover:PG,dragleave:IG,drop:AG},n={};qe(r,(s,o)=>{n[s]=o(e,t),e.addEventListener(s,n[s],!1)});const a={element:e,addListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1),t.length===0&&(Co.splice(Co.indexOf(a),1),qe(r,o=>{e.removeEventListener(o,n[o],!1)}))})};return a},TG=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Gh=(e,t)=>{const r=uG(t),n=TG(r,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let Rj=null;const ws=(e,t)=>{try{e.dropEffect=t}catch{}},SG=(e,t)=>r=>{r.preventDefault(),Rj=r.target,t.forEach(n=>{const{element:a,onenter:s}=n;Gh(r,a)&&(n.state="enter",s(Pn(r)))})},PG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Hh(n).then(a=>{let s=!1;t.some(o=>{const{filterElement:l,element:u,onenter:f,onexit:c,ondrag:d,allowdrop:h}=o;ws(n,"copy");const m=h(a);if(!m){ws(n,"none");return}if(Gh(r,u)){if(s=!0,o.state===null){o.state="enter",f(Pn(r));return}if(o.state="over",l&&!m){ws(n,"none");return}d(Pn(r))}else l&&!s&&ws(n,"none"),o.state&&(o.state=null,c(Pn(r)))})})},AG=(e,t)=>r=>{r.preventDefault();const n=r.dataTransfer;Hh(n).then(a=>{t.forEach(s=>{const{filterElement:o,element:l,ondrop:u,onexit:f,allowdrop:c}=s;if(s.state=null,!(o&&!Gh(r,l))){if(!c(a))return f(Pn(r));u(Pn(r),a)}})})},IG=(e,t)=>r=>{Rj===r.target&&t.forEach(n=>{const{onexit:a}=n;n.state=null,a(Pn(r))})},kG=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:a,filterItems:s=c=>c}=r,o=NG(e,n?document.documentElement:e,a);let l="",u="";o.allowdrop=c=>t(s(c)),o.ondrop=(c,d)=>{const h=s(d);if(!t(h)){f.ondragend(c);return}u="drag-drop",f.onload(h,c)},o.ondrag=c=>{f.ondrag(c)},o.onenter=c=>{u="drag-over",f.ondragstart(c)},o.onexit=c=>{u="drag-exit",f.ondragend(c)};const f={updateHopperState:()=>{l!==u&&(e.dataset.hopperState=u,l=u)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return f};let md=!1;const ta=[],Lj=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let n=!1,a=t;for(;a!==document.body;){if(a.classList.contains("filepond--root")){n=!0;break}a=a.parentNode}if(!n)return}Hh(e.clipboardData).then(n=>{n.length&&ta.forEach(a=>a(n))})},CG=e=>{ta.includes(e)||(ta.push(e),!md&&(md=!0,document.addEventListener("paste",Lj)))},DG=e=>{Rh(ta,ta.indexOf(e)),ta.length===0&&(document.removeEventListener("paste",Lj),md=!1)},MG=()=>{const e=r=>{t.onload(r)},t={destroy:()=>{DG(e)},onload:()=>{}};return CG(e),t},RG=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,tt(e.element,"role","alert"),tt(e.element,"aria-live","polite"),tt(e.element,"aria-relevant","additions")};let $v=null,Fv=null;const qc=[],uc=(e,t)=>{e.element.textContent=t},LG=e=>{e.element.textContent=""},Bj=(e,t,r)=>{const n=e.query("GET_TOTAL_ITEMS");uc(e,`${r} ${t}, ${n} ${n===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Fv),Fv=setTimeout(()=>{LG(e)},1500)},$j=e=>e.element.parentNode.contains(document.activeElement),BG=({root:e,action:t})=>{if(!$j(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);qc.push(r.filename),clearTimeout($v),$v=setTimeout(()=>{Bj(e,qc.join(", "),e.query("GET_LABEL_FILE_ADDED")),qc.length=0},750)},$G=({root:e,action:t})=>{if(!$j(e))return;const r=t.item;Bj(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},FG=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");uc(e,`${n} ${a}`)},zv=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename,a=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");uc(e,`${n} ${a}`)},js=({root:e,action:t})=>{const n=e.query("GET_ITEM",t.id).filename;uc(e,`${t.status.main} ${n} ${t.status.sub}`)},zG=Je({create:RG,ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:BG,DID_REMOVE_ITEM:$G,DID_COMPLETE_ITEM_PROCESSING:FG,DID_ABORT_ITEM_PROCESSING:zv,DID_REVERT_ITEM_PROCESSING:zv,DID_THROW_ITEM_REMOVE_ERROR:js,DID_THROW_ITEM_LOAD_ERROR:js,DID_THROW_ITEM_INVALID:js,DID_THROW_ITEM_PROCESSING_ERROR:js}),tag:"span",name:"assistant"}),Fj=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),r=>r.charAt(1).toUpperCase()),zj=(e,t=16,r=!0)=>{let n=Date.now(),a=null;return(...s)=>{clearTimeout(a);const o=Date.now()-n,l=()=>{n=Date.now(),e(...s)};o<t?r||(a=setTimeout(l,t-o)):l()}},UG=1e6,Do=e=>e.preventDefault(),HG=({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter(u=>u.length).forEach(u=>{e.element.classList.add(u)}),e.ref.label=e.appendChildView(e.createChildView(Vq,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Fq,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Oj,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(zG,{...t})),e.ref.data=e.appendChildView(e.createChildView(cG,{...t})),e.ref.measure=Dr("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(u=>!Cr(u.value)).map(({name:u,value:f})=>{e.element.dataset[u]=f}),e.ref.widthPrevious=null,e.ref.widthUpdated=zj(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const a=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!a&&(e.element.addEventListener("touchmove",Do,{passive:!1}),e.element.addEventListener("gesturestart",Do));const o=e.query("GET_CREDITS");if(o.length===2){const u=document.createElement("a");u.className="filepond--credits",u.href=o[0],u.tabIndex=-1,u.target="_blank",u.rel="noopener noreferrer nofollow",u.textContent=o[1],e.element.appendChild(u),e.ref.credits=u}},qG=({root:e,props:t,actions:r})=>{if(YG({root:e,props:t,actions:r}),r.filter(T=>/^DID_SET_STYLE_/.test(T.type)).filter(T=>!Cr(T.data.value)).map(({type:T,data:N})=>{const S=Fj(T.substring(8).toLowerCase(),"_");e.element.dataset[S]=N.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=WG(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:a,label:s,list:o,panel:l}=e.ref;a&&a.updateHopperState();const u=e.query("GET_PANEL_ASPECT_RATIO"),f=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),d=f?e.query("GET_MAX_FILES")||UG:1,h=c===d,m=r.find(T=>T.type==="DID_ADD_ITEM");if(h&&m){const T=m.data.interactionMethod;s.opacity=0,f?s.translateY=-40:T===Vt.API?s.translateX=40:T===Vt.BROWSE?s.translateY=40:s.translateY=30}else h||(s.opacity=1,s.translateX=0,s.translateY=0);const p=GG(e),g=VG(e),v=s.rect.element.height,y=!f||h?0:v,x=h?o.rect.element.marginTop:0,w=c===0?0:o.rect.element.marginBottom,b=y+x+g.visual+w,j=y+x+g.bounds+w;if(o.translateY=Math.max(0,y-o.rect.element.marginTop)-p.top,u){const T=e.rect.element.width,N=T*u;u!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=u,e.ref.updateHistory=[]);const S=e.ref.updateHistory;S.push(T);const E=2;if(S.length>E*2){const O=S.length,I=O-10;let k=0;for(let A=O;A>=I;A--)if(S[A]===S[A-2]&&k++,k>=E)return}l.scalable=!1,l.height=N;const P=N-y-(w-p.bottom)-(h?x:0);g.visual>P?o.overflow=P:o.overflow=null,e.height=N}else if(n.fixedHeight){l.scalable=!1;const T=n.fixedHeight-y-(w-p.bottom)-(h?x:0);g.visual>T?o.overflow=T:o.overflow=null}else if(n.cappedHeight){const T=b>=n.cappedHeight,N=Math.min(n.cappedHeight,b);l.scalable=!0,l.height=T?N:N-p.top-p.bottom;const S=N-y-(w-p.bottom)-(h?x:0);b>n.cappedHeight&&g.visual>S?o.overflow=S:o.overflow=null,e.height=Math.min(n.cappedHeight,j-p.top-p.bottom)}else{const T=c>0?p.top+p.bottom:0;l.scalable=!0,l.height=Math.max(v,b-T),e.height=Math.max(v,j-T)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},GG=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},VG=e=>{let t=0,r=0;const n=e.ref.list,a=n.childViews[0],s=a.childViews.filter(x=>x.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(x=>s.find(w=>w.id===x.id)).filter(x=>x);if(o.length===0)return{visual:t,bounds:r};const l=a.rect.element.width,u=zh(a,o,n.dragCoordinates),f=o[0].rect.element,c=f.marginTop+f.marginBottom,d=f.marginLeft+f.marginRight,h=f.width+d,m=f.height+c,p=typeof u<"u"&&u>=0?1:0,g=o.find(x=>x.markedForRemoval&&x.opacity<.45)?-1:0,v=o.length+p+g,y=Fh(l,h);return y===1?o.forEach(x=>{const w=x.rect.element.height+c;r+=w,t+=w*x.opacity}):(r=Math.ceil(v/y)*m,t=r),{visual:t,bounds:r}},WG=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Vh=(e,t)=>{const r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),a=e.query("GET_TOTAL_ITEMS");let s=e.query("GET_MAX_FILES");const o=t.length;return!n&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):(s=n?s:1,!n&&r?!1:Da(s)&&a+o>s?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ve("warning",0,"Max files")}),!0):!1)},KG=(e,t,r)=>{const n=e.childViews[0];return zh(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Uv=e=>{const t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){const a=kG(e.element,s=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?s.every(u=>Hn("ALLOW_HOPPER_ITEM",u,{query:e.query}).every(f=>f===!0)&&o(u)):!0},{filterItems:s=>{const o=e.query("GET_IGNORED_FILES");return s.filter(l=>Sn(l)?!o.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});a.onload=(s,o)=>{const u=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),f=e.query("GET_ACTIVE_ITEMS").map(c=>u.find(d=>d.id===c.id)).filter(c=>c);Jt("ADD_ITEMS",s,{dispatch:e.dispatch}).then(c=>{if(Vh(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:KG(e.ref.list,f,o),interactionMethod:Vt.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},a.ondragstart=s=>{e.dispatch("DID_START_DRAG",{position:s})},a.ondrag=zj(s=>{e.dispatch("DID_DRAG",{position:s})}),a.ondragend=s=>{e.dispatch("DID_END_DRAG",{position:s})},e.ref.hopper=a,e.ref.drip=e.appendChildView(e.createChildView(eG))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Hv=(e,t)=>{const r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),a=r&&!n;a&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(qq,{...t,onload:s=>{Jt("ADD_ITEMS",s,{dispatch:e.dispatch}).then(o=>{if(Vh(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Vt.BROWSE})})}}),0):!a&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},qv=e=>{const t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=MG(),e.ref.paster.onload=a=>{Jt("ADD_ITEMS",a,{dispatch:e.dispatch}).then(s=>{if(Vh(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Vt.PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},YG=Tt({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Hv(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Uv(e)},DID_SET_ALLOW_PASTE:({root:e})=>{qv(e)},DID_SET_DISABLED:({root:e,props:t})=>{Uv(e),qv(e),Hv(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),XG=Je({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:HG,write:qG,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Do),e.element.removeEventListener("gesturestart",Do)},mixins:{styles:["height"]}}),ZG=(e={})=>{let t=null;const r=ko(),n=hU(QU(r),[vH,tH(r)],[UH,eH(r)]);n.dispatch("SET_OPTIONS",{options:e});const a=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",a);let s=null,o=!1,l=!1,u=null,f=null;const c=()=>{o||(o=!0),clearTimeout(s),s=setTimeout(()=>{o=!1,u=null,f=null,l&&(l=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const d=XG(n,{id:Mh()});let h=!1,m=!1;const p={_read:()=>{o&&(f=window.innerWidth,u||(u=f),!l&&f!==u&&(n.dispatch("DID_START_RESIZE"),l=!0)),m&&h&&(h=d.element.offsetParent===null),!h&&(d._read(),m=d.rect.element.hidden)},_write:R=>{const D=n.processActionQueue().filter(q=>!/^SET_/.test(q.type));h&&!D.length||(x(D),h=d._write(R,D,l),aH(n.query("GET_ITEMS")),h&&n.processDispatchQueue())}},g=R=>D=>{const q={type:R};if(!D)return q;if(D.hasOwnProperty("error")&&(q.error=D.error?{...D.error}:null),D.status&&(q.status={...D.status}),D.file&&(q.output=D.file),D.source)q.file=D.source;else if(D.item||D.id){const F=D.item?D.item:n.query("GET_ITEM",D.id);q.file=F?St(F):null}return D.items&&(q.items=D.items.map(St)),/progress/.test(R)&&(q.progress=D.progress),D.hasOwnProperty("origin")&&D.hasOwnProperty("target")&&(q.origin=D.origin,q.target=D.target),q},v={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},y=R=>{const D={pond:M,...R};delete D.type,d.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:D,bubbles:!0,cancelable:!0,composed:!0}));const q=[];R.hasOwnProperty("error")&&q.push(R.error),R.hasOwnProperty("file")&&q.push(R.file);const F=["type","error","file"];Object.keys(R).filter(C=>!F.includes(C)).forEach(C=>q.push(R[C])),M.fire(R.type,...q);const $=n.query(`GET_ON${R.type.toUpperCase()}`);$&&$(...q)},x=R=>{R.length&&R.filter(D=>v[D.type]).forEach(D=>{const q=v[D.type];(Array.isArray(q)?q:[q]).forEach(F=>{D.type==="DID_INIT_ITEM"?y(F(D.data)):setTimeout(()=>{y(F(D.data))},0)})})},w=R=>n.dispatch("SET_OPTIONS",{options:R}),b=R=>n.query("GET_ACTIVE_ITEM",R),j=R=>new Promise((D,q)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:F=>{D(F)},failure:F=>{q(F)}})}),T=(R,D={})=>new Promise((q,F)=>{E([{source:R,options:D}],{index:D.index}).then($=>q($&&$[0])).catch(F)}),N=R=>R.file&&R.id,S=(R,D)=>(typeof R=="object"&&!N(R)&&!D&&(D=R,R=void 0),n.dispatch("REMOVE_ITEM",{...D,query:R}),n.query("GET_ACTIVE_ITEM",R)===null),E=(...R)=>new Promise((D,q)=>{const F=[],$={};if(ac(R[0]))F.push.apply(F,R[0]),Object.assign($,R[1]||{});else{const C=R[R.length-1];typeof C=="object"&&!(C instanceof Blob)&&Object.assign($,R.pop()),F.push(...R)}n.dispatch("ADD_ITEMS",{items:F,index:$.index,interactionMethod:Vt.API,success:D,failure:q})}),P=()=>n.query("GET_ACTIVE_ITEMS"),O=R=>new Promise((D,q)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:F=>{D(F)},failure:F=>{q(F)}})}),I=(...R)=>{const D=Array.isArray(R[0])?R[0]:R,q=D.length?D:P();return Promise.all(q.map(j))},k=(...R)=>{const D=Array.isArray(R[0])?R[0]:R;if(!D.length){const q=P().filter(F=>!(F.status===xe.IDLE&&F.origin===ct.LOCAL)&&F.status!==xe.PROCESSING&&F.status!==xe.PROCESSING_COMPLETE&&F.status!==xe.PROCESSING_REVERT_ERROR);return Promise.all(q.map(O))}return Promise.all(D.map(O))},A=(...R)=>{const D=Array.isArray(R[0])?R[0]:R;let q;typeof D[D.length-1]=="object"?q=D.pop():Array.isArray(R[0])&&(q=R[1]);const F=P();return D.length?D.map(C=>xn(C)?F[C]?F[C].id:null:C).filter(C=>C).map(C=>S(C,q)):Promise.all(F.map(C=>S(C,q)))},M={...oc(),...p,...JU(n,r),setOptions:w,addFile:T,addFiles:E,getFile:b,processFile:O,prepareFile:j,removeFile:S,moveFile:(R,D)=>n.dispatch("MOVE_ITEM",{query:R,index:D}),getFiles:P,processFiles:k,removeFiles:A,prepareFiles:I,sort:R=>n.dispatch("SORT",{compare:R}),browse:()=>{var R=d.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{M.fire("destroy",d.element),n.dispatch("ABORT_ALL"),d._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",a),n.dispatch("DID_DESTROY")},insertBefore:R=>hv(d.element,R),insertAfter:R=>mv(d.element,R),appendTo:R=>R.appendChild(d.element),replaceElement:R=>{hv(d.element,R),R.parentNode.removeChild(R),t=R},restoreElement:()=>{t&&(mv(t,d.element),d.element.parentNode.removeChild(d.element),t=null)},isAttachedTo:R=>d.element===R||t===R,element:{get:()=>d.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),en(M)},Uj=(e={})=>{const t={};return qe(ko(),(n,a)=>{t[n]=a[0]}),ZG({...t,...e})},QG=e=>e.charAt(0).toLowerCase()+e.slice(1),JG=e=>Fj(e.replace(/^data-/,"")),Hj=(e,t)=>{qe(t,(r,n)=>{qe(e,(a,s)=>{const o=new RegExp(r);if(!o.test(a)||(delete e[a],n===!1))return;if(Ot(n)){e[n]=s;return}const u=n.group;dt(n)&&!e[u]&&(e[u]={}),e[u][QG(a.replace(o,""))]=s}),n.mapping&&Hj(e[n.group],n.mapping)})},eV=(e,t={})=>{const r=[];qe(e.attributes,a=>{r.push(e.attributes[a])});const n=r.filter(a=>a.name).reduce((a,s)=>{const o=tt(e,s.name);return a[JG(s.name)]=o===s.name?!0:o,a},{});return Hj(n,t),n},tV=(e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Hn("SET_ATTRIBUTE_TO_OPTION_MAP",r);const n={...t},a=eV(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,r);Object.keys(a).forEach(o=>{dt(a[o])?(dt(n[o])||(n[o]={}),Object.assign(n[o],a[o])):n[o]=a[o]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const s=Uj(n);return e.files&&Array.from(e.files).forEach(o=>{s.addFile(o)}),s.replaceElement(e),s},rV=(...e)=>fU(e[0])?tV(...e):Uj(...e),nV=["fire","_read","_write"],Gv=e=>{const t={};return dj(e,t,nV),t},aV=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(r,n)=>t[n]),iV=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:(a,s)=>{},post:(a,s,o)=>{const l=Mh();n.onmessage=u=>{u.data.id===l&&s(u.data.message)},n.postMessage({id:l,message:a},o)},terminate:()=>{n.terminate(),URL.revokeObjectURL(r)}}},sV=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=a=>{r(a)},n.src=e}),qj=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},oV=e=>qj(e,e.name),Vv=[],lV=e=>{if(Vv.includes(e))return;Vv.push(e);const t=e({addFilter:sH,utils:{Type:ie,forin:qe,isString:Ot,isFile:Sn,toNaturalFileSize:_j,replaceInString:aV,getExtensionFromFilename:lc,getFilenameWithoutExtension:bj,guesstimateMimeType:Dj,getFileFromBlob:ua,getFilenameFromURL:Hi,createRoute:Tt,createWorker:iV,createView:Je,createItemAPI:St,loadImage:sV,copyFile:oV,renameFile:qj,createBlob:vj,applyFilterChain:Jt,text:We,getNumericAspectRatioFromString:mj},views:{fileActionButton:jj}});oH(t.options)},cV=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",uV=()=>"Promise"in window,dV=()=>"slice"in Blob.prototype,fV=()=>"URL"in window&&"createObjectURL"in window.URL,hV=()=>"visibilityState"in document,mV=()=>"performance"in window,pV=()=>"supports"in(window.CSS||{}),gV=()=>/MSIE|Trident/.test(window.navigator.userAgent),pd=(()=>{const e=ij()&&!cV()&&hV()&&uV()&&dV()&&fV()&&mV()&&(pV()||gV());return()=>e})(),Vr={apps:[]},vV="filepond",qn=()=>{};let Wv={},Ds=qn,Gc=qn,Kv=qn,Yv=qn,gd=qn,Xv=qn,Zv=qn;if(pd()){BU(()=>{Vr.apps.forEach(r=>r._read())},r=>{Vr.apps.forEach(n=>n._write(r))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:pd,create:Ds,destroy:Gc,parse:Kv,find:Yv,registerPlugin:gd,setOptions:Zv}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>qe(ko(),(r,n)=>{Wv[r]=n[1]});Wv={},t(),Ds=(...r)=>{const n=rV(...r);return n.on("destroy",Gc),Vr.apps.push(n),Gv(n)},Gc=r=>{const n=Vr.apps.findIndex(a=>a.isAttachedTo(r));return n>=0?(Vr.apps.splice(n,1)[0].restoreElement(),!0):!1},Kv=r=>Array.from(r.querySelectorAll(`.${vV}`)).filter(s=>!Vr.apps.find(o=>o.isAttachedTo(s))).map(s=>Ds(s)),Yv=r=>{const n=Vr.apps.find(a=>a.isAttachedTo(r));return n?Gv(n):null},gd=(...r)=>{r.forEach(lV),t()},Xv=()=>{const r={};return qe(ko(),(n,a)=>{r[n]=a[0]}),r},Zv=r=>(dt(r)&&(Vr.apps.forEach(n=>{n.setOptions(r)}),lH(r)),Xv())}/*!
 * react-filepond v7.1.3
 * A handy FilePond adapter component for React
 * 
 * Copyright (c) 2024 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const yV=pd(),xV=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];class Qv extends Yj.Component{constructor(t){super(t),this.allowFilesSync=!0}componentDidMount(){if(this._input=this._element.querySelector('input[type="file"]'),this._inputClone=this._input.cloneNode(),!yV)return;const t=Object.assign({},this.props);if(t.onupdatefiles){const r=t.onupdatefiles;t.onupdatefiles=n=>{this.allowFilesSync=!1,r(n)}}this._pond=Ds(this._input,t),Object.keys(this._pond).filter(r=>!xV.includes(r)).forEach(r=>{this[r]=this._pond[r]})}componentWillUnmount(){if(!this._pond)return;const t=document.createElement("div");t.append(this._pond.element),t.id="foo",this._pond.destroy(),this._pond=void 0,this._element.append(this._inputClone)}shouldComponentUpdate(){return this.allowFilesSync?!0:(this.allowFilesSync=!0,!1)}componentDidUpdate(){if(!this._pond)return;const t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}render(){const{id:t,name:r,className:n,allowMultiple:a,required:s,captureMethod:o,acceptedFileTypes:l}=this.props;return _.createElement("div",{className:"filepond--wrapper",ref:u=>this._element=u},_.createElement("input",{type:"file",name:r,id:t,accept:l,multiple:a,required:s,className:n,capture:o}))}}/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Gj=({addFilter:e,utils:t})=>{const{Type:r,isString:n,replaceInString:a,guesstimateMimeType:s,getExtensionFromFilename:o,getFilenameFromURL:l}=t,u=(m,p)=>{const g=(/^[^/]+/.exec(m)||[]).pop(),v=p.slice(0,-2);return g===v},f=(m,p)=>m.some(g=>/\*$/.test(g)?u(p,g):g===p),c=m=>{let p="";if(n(m)){const g=l(m),v=o(g);v&&(p=s(v))}else p=m.type;return p},d=(m,p,g)=>{if(p.length===0)return!0;const v=c(m);return g?new Promise((y,x)=>{g(m,v).then(w=>{f(p,w)?y():x()}).catch(x)}):f(p,v)},h=m=>p=>m[p]===null?!1:m[p]||p;return e("SET_ATTRIBUTE_TO_OPTION_MAP",m=>Object.assign(m,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(m,{query:p})=>p("GET_ALLOW_FILE_TYPE_VALIDATION")?d(m,p("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(m,{query:p})=>new Promise((g,v)=>{if(!p("GET_ALLOW_FILE_TYPE_VALIDATION")){g(m);return}const y=p("GET_ACCEPTED_FILE_TYPES"),x=p("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),w=d(m,y,x),b=()=>{const j=y.map(h(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(N=>N!==!1),T=j.filter((N,S)=>j.indexOf(N)===S);v({status:{main:p("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(p("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:T.join(", "),allButLastType:T.slice(0,-1).join(", "),lastType:T[T.length-1]})}})};if(typeof w=="boolean")return w?g(m):b();w.then(()=>{g(m)}).catch(b)})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}},bV=typeof window<"u"&&typeof window.document<"u";bV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Gj}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Vj=({addFilter:e,utils:t})=>{const{Type:r,replaceInString:n,toNaturalFileSize:a}=t;return e("ALLOW_HOPPER_ITEM",(s,{query:o})=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const l=o("GET_MAX_FILE_SIZE");if(l!==null&&s.size>l)return!1;const u=o("GET_MIN_FILE_SIZE");return!(u!==null&&s.size<u)}),e("LOAD_FILE",(s,{query:o})=>new Promise((l,u)=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return l(s);const f=o("GET_FILE_VALIDATE_SIZE_FILTER");if(f&&!f(s))return l(s);const c=o("GET_MAX_FILE_SIZE");if(c!==null&&s.size>c){u({status:{main:o("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(c,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const d=o("GET_MIN_FILE_SIZE");if(d!==null&&s.size<d){u({status:{main:o("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(d,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const h=o("GET_MAX_TOTAL_FILE_SIZE");if(h!==null&&o("GET_ACTIVE_ITEMS").reduce((p,g)=>p+g.fileSize,0)>h){u({status:{main:o("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(h,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}l(s)})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}},wV=typeof window<"u"&&typeof window.document<"u";wV&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Vj}));gd(Gj,Vj);const jV=()=>{const e="",[t,r]=_.useState([]),[n,a]=_.useState(null),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[f,c]=_.useState(!1),[d,h]=_.useState(null),[m,p]=_.useState("grid"),[g,v]=_.useState(""),[y,x]=_.useState(null),w=yr(),{user:b}=Fe(),[j,T]=_.useState({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""});_.useEffect(()=>{N(),S()},[]);const N=async()=>{try{const D=await se.get("/employees");r(D.data)}catch(D){console.error("Failed to fetch employees:",D)}finally{o(!1)}},S=async()=>{try{const D=await se.get("/employees/statistics");a(D.data)}catch(D){console.error("Failed to fetch statistics:",D)}},E=async D=>{var q,F;if(D.preventDefault(),!j.name||!j.email){M("Please fill in all required fields","error");return}try{const $=new FormData;if(Object.keys(j).forEach(C=>{j[C]&&$.append(C,j[C])}),d)await se.post(`/employees/${d.id}`,$,{headers:{"Content-Type":"multipart/form-data"},params:{_method:"PUT"}}),M("Employee updated successfully!");else{const C=await se.post("/employees",$,{headers:{"Content-Type":"multipart/form-data"}});M(`Employee created! Password: ${C.data.password} (Also sent to email)`,"success",1e4)}A(),N(),S()}catch($){M(((F=(q=$.response)==null?void 0:q.data)==null?void 0:F.message)||"Failed to save employee","error")}},P=async D=>{if(window.confirm(`Are you sure you want to delete ${D.user.name}?`))try{await se.delete(`/employees/${D.id}`),M("Employee deleted successfully!"),N(),S()}catch{M("Failed to delete employee","error")}},O=()=>{h(null),T({name:"",email:"",role:"developer",profile_image:null,date_of_birth:"",joining_date:"",designation:"",salary:"",address:"",phone:"",emergency_contact:"",cv:null,notes:""}),u(!0)},I=D=>{h(D),T({name:D.user.name,email:D.user.email,role:D.user.role,profile_image:null,date_of_birth:D.date_of_birth||"",joining_date:D.joining_date||"",designation:D.designation||"",salary:D.salary||"",address:D.address||"",phone:D.phone||"",emergency_contact:D.emergency_contact||"",cv:null,notes:D.notes||""}),u(!0)},k=D=>{var z,W;const q=((z=D==null?void 0:D.user)==null?void 0:z.role)||"",F=q==="project_manager"?"project-manager":q,$=(W=D==null?void 0:D.user)==null?void 0:W.id,C=b==null?void 0:b.role;$&&w(`${C==="admin"?"/admin":C==="project_manager"?"/manager":C==="developer"?"/developer":C==="client"?"/client":""}/users/${F}/${$}`)},A=()=>{u(!1),c(!1),h(null)},M=(D,q="success",F=3e3)=>{x({message:D,type:q}),setTimeout(()=>x(null),F)},R=t.filter(D=>{var q;return D.user.name.toLowerCase().includes(g.toLowerCase())||D.user.email.toLowerCase().includes(g.toLowerCase())||((q=D.designation)==null?void 0:q.toLowerCase().includes(g.toLowerCase()))});return s?i.jsx(rt,{}):i.jsxs("div",{className:"space-y-5",children:[y&&i.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-[8px] shadow-lg ${y.type==="error"?"bg-red-500":"bg-green-500"} text-white`,children:y.message}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Team Members"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your team members and their roles"})]}),i.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg text-white text-sm font-medium transition-all shadow-md hover:shadow-lg",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Employee"]})]}),n&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Total Employees"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.total_employees})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Developers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.developers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Project Managers"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.project_managers})]})]})}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Avg Performance"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[Math.round(n.avg_performance),"%"]})]})]})})]}),i.jsx("div",{className:"bg-white rounded-[16px] p-5 shadow-sm border border-gray-100 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsxs("div",{className:"flex-1 w-full relative",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search employees...",value:g,onChange:D=>v(D.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent"})]}),i.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>p("grid"),className:`px-3 py-2 rounded-lg transition-all ${m==="grid"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Grid View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),i.jsx("button",{onClick:()=>p("table"),className:`px-3 py-2 rounded-lg transition-all ${m==="table"?"bg-white text-gray-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Table View",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),m==="grid"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((D,q)=>{const $={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsx("div",{className:"bg-white rounded-[16px] shadow-md hover:shadow-xl transition-all border border-gray-100 overflow-hidden",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-20 h-20 rounded-full object-cover border-4 border-gray-100 mb-3"}):i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-3 border-4 border-gray-100",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:D.user.name.charAt(0).toUpperCase()}),i.jsx("h3",{className:"text-base font-bold text-gray-800 mb-1",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:D.designation||D.user.email}),i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${$}`,children:D.user.role.replace("_"," ").toUpperCase()})]}),D.notes&&i.jsx("p",{className:"text-xs text-gray-600 text-center mb-4 line-clamp-2 px-2",children:D.notes}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Projects"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_projects||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tasks"}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:D.total_tasks||0})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Performance"}),i.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>k(D),className:"flex-1 px-3 py-2 text-xs font-medium rounded-lg transition-all",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:"View Profile"}),i.jsx("button",{onClick:()=>I(D),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Edit",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>P(D),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",title:"Delete",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},D.id)})}),m==="table"&&i.jsx("div",{className:"bg-white rounded-[16px] shadow-md border border-gray-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Employee"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Role"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Designation"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Performance"}),i.jsx("th",{className:"text-left py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Joined"}),i.jsx("th",{className:"text-right py-3 px-5 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map((D,q)=>{const $={admin:"bg-purple-100 text-purple-700",project_manager:"bg-blue-100 text-blue-700",developer:"bg-green-100 text-green-700",client:"bg-pink-100 text-pink-700"}[D.user.role]||"bg-gray-100 text-gray-700";return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"py-3 px-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[D.profile_image?i.jsx("img",{src:`${e}/storage/${D.profile_image}`,alt:D.user.name,className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200"}):i.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:D.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:D.user.name}),i.jsx("p",{className:"text-xs text-gray-500",children:D.user.email})]})]})}),i.jsx("td",{className:"py-3 px-5",children:i.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${$}`,children:D.user.role.replace("_"," ")})}),i.jsx("td",{className:"py-3 px-5 text-sm text-gray-700",children:D.designation||"-"}),i.jsx("td",{className:"py-3 px-5",children:i.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[D.performance_score,"%"]})}),i.jsx("td",{className:"py-3 px-5 text-xs text-gray-600",children:D.joining_date?new Date(D.joining_date).toLocaleDateString():"-"}),i.jsx("td",{className:"py-3 px-5 text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:()=>k(D),className:"px-2 py-1.5 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Profile"}),i.jsx("button",{onClick:()=>I(D),className:"px-2 py-1.5 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Edit"}),i.jsx("button",{onClick:()=>P(D),className:"px-2 py-1.5 text-xs bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Delete"})]})})]},D.id)})})]})})}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700",style:{background:"#59569D",color:"#fff"},children:i.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Employee":"Add New Employee"})}),i.jsx("style",{dangerouslySetInnerHTML:{__html:`
              .employees-modal-scroll::-webkit-scrollbar {
                width: 6px;
              }
              .employees-modal-scroll::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 3px;
              }
              .employees-modal-scroll::-webkit-scrollbar-thumb:hover {
                background: #555;
              }
            `}}),i.jsxs("form",{onSubmit:E,className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] employees-modal-scroll",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),i.jsx(Qv,{files:j.profile_image?[j.profile_image]:[],onupdatefiles:D=>{var q;T({...j,profile_image:((q=D[0])==null?void 0:q.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["image/jpeg","image/png","image/jpg","image/gif"],maxFileSize:"2MB",labelIdle:'Drag & Drop profile image or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects JPEG, PNG, JPG, or GIF",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 2MB",credits:!1,stylePanelLayout:"compact circle",imagePreviewHeight:170,imageCropAspectRatio:"1:1",imageResizeTargetWidth:200,imageResizeTargetHeight:200,stylePanelAspectRatio:"1:1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:j.name,onChange:D=>T({...j,name:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:j.email,onChange:D=>T({...j,email:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),i.jsxs("select",{value:j.role,onChange:D=>T({...j,role:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"project_manager",children:"Project Manager"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),i.jsx("input",{type:"text",value:j.designation,onChange:D=>T({...j,designation:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",value:j.date_of_birth,onChange:D=>T({...j,date_of_birth:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),i.jsx("input",{type:"date",value:j.joining_date,onChange:D=>T({...j,joining_date:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),i.jsx("input",{type:"number",value:j.salary,onChange:D=>T({...j,salary:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",value:j.phone,onChange:D=>T({...j,phone:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),i.jsx("input",{type:"text",value:j.emergency_contact,onChange:D=>T({...j,emergency_contact:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Upload"}),i.jsx(Qv,{files:j.cv?[j.cv]:[],onupdatefiles:D=>{var q;T({...j,cv:((q=D[0])==null?void 0:q.file)||null})},allowMultiple:!1,maxFiles:1,acceptedFileTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],maxFileSize:"5MB",labelIdle:'Drag & Drop your CV or <span class="filepond--label-action">Browse</span>',labelFileTypeNotAllowed:"Invalid file type",fileValidateTypeLabelExpectedTypes:"Expects PDF, DOC, or DOCX",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is 5MB",credits:!1,stylePanelLayout:"compact"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:j.address,onChange:D=>T({...j,address:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{value:j.notes,onChange:D=>T({...j,notes:D.target.value}),rows:"2",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:A,className:"flex-1 px-6 py-2.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-2.5 rounded-lg text-white font-medium transition-colors",style:{background:"#59569D"},children:d?"Update":"Create"})]})]})]})}),f&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gray-800 text-white p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-4",children:[d.profile_image?i.jsx("img",{src:`${e}/storage/${d.profile_image}`,alt:d.user.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold",children:d.user.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:d.user.name}),i.jsx("p",{className:"text-gray-300",children:d.user.email})]})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-240px)]",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Role"}),i.jsx("p",{className:"font-medium text-gray-800 capitalize",children:d.user.role.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Designation"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.designation||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.date_of_birth?new Date(d.date_of_birth).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Joining Date"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.joining_date?new Date(d.joining_date).toLocaleDateString():"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phone"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.phone||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.emergency_contact||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salary"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.salary?`$${d.salary}`:"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Promotion"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.last_promotion_date?new Date(d.last_promotion_date).toLocaleDateString():"-"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Address"}),i.jsx("p",{className:"font-medium text-gray-800",children:d.address||"-"})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Performance Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Completed Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.tasks_completed})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Rejected Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.tasks_rejected})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Client Satisfaction"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.client_satisfaction_points})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Performance Score"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[d.performance_score,"%"]})]})]})]}),d.notes&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Notes"}),i.jsx("p",{className:"text-gray-700",children:d.notes})]})]}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:A,className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Close"})})]})}),R.length===0&&i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"#59569D20"},children:i.jsx("svg",{className:"w-8 h-8",style:{color:"#59569D"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"No Employees Found"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Start by adding your first employee"})]})]})};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],NV=gi("circle",_V);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_s=gi("message-circle",EV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Jv=gi("paperclip",OV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],SV=gi("plus",TV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AV=gi("send",PV);function Ns(){const{user:e}=Fe(),[t]=fN(),[r,n]=_.useState([]),[a,s]=_.useState(null),[o,l]=_.useState(!0),[u,f]=_.useState([]),[c,d]=_.useState(""),[h,m]=_.useState(!0),[p,g]=_.useState(!1),[v,y]=_.useState([]),[x,w]=_.useState([]),[b,j]=_.useState([]),[T,N]=_.useState(""),[S,E]=_.useState("direct"),[P,O]=_.useState(""),[I,k]=_.useState(!1),[A,M]=_.useState(""),[R,D]=_.useState([]),q=_.useRef(null),F=_.useRef(null),$=_.useRef(null);_.useEffect(()=>{L(),W(),V(),B(!0),$.current=setInterval(()=>{a&&!a.is_virtual&&z(a.id)},2e3);const K=setInterval(()=>{B(!0)},3e4);return()=>{clearInterval($.current),clearInterval(K),B(!1)}},[]),_.useEffect(()=>{const K=t.get("userId");if(K&&r.length>0&&!a){const G=r.find(X=>{var J;return X.type==="direct"&&((J=X.users)==null?void 0:J.some(ae=>ae.id==K))});G&&s(G)}},[t,r]),_.useEffect(()=>{a&&z(a.id)},[a]),_.useEffect(()=>{C()},[u]);const C=()=>{var K;(K=q.current)==null||K.scrollIntoView({behavior:"smooth"})},L=async()=>{try{const[K,G]=await Promise.all([se.get("/chat/rooms").catch(pe=>{var je;return console.error("Rooms fetch error:",(je=pe.response)==null?void 0:je.data),{data:{rooms:[],groupChatMessages:{}}}}),se.get("/chat/team-members").catch(pe=>{var je;return console.error("Team members fetch error:",(je=pe.response)==null?void 0:je.data),{data:[]}})]);console.log("Raw API Response:",K.data);const X=K.data;let J=(Array.isArray(X)?X:X.rooms||[]).map(pe=>({...pe,is_virtual:!1}));const ae=X.groupChatMessages||{},re=Array.isArray(G.data)?G.data:[],le=(pe,je)=>{if(!pe)return!0;const be=pe,un=je;return be==="developer"?un==="developer"||un==="project_manager"||un==="admin":be==="project_manager"?!0:be==="client"?un==="project_manager"||un==="admin":!0};J=J.filter(pe=>{if((pe==null?void 0:pe.type)!=="direct"||!Array.isArray(pe==null?void 0:pe.users))return!0;const je=pe.users.find(be=>(be==null?void 0:be.id)!==(e==null?void 0:e.id))||pe.users[0];return le(e==null?void 0:e.role,je==null?void 0:je.role)}),console.log("Existing Rooms:",J),console.log("Group Chat Messages:",ae);const oe=new Set(J.filter(pe=>(pe==null?void 0:pe.type)==="direct"&&(pe==null?void 0:pe.users)).flatMap(pe=>pe.users.filter(je=>(je==null?void 0:je.id)!==(e==null?void 0:e.id)).map(je=>je==null?void 0:je.id)).filter(Boolean)),ve=re.filter(pe=>(pe==null?void 0:pe.id)&&!oe.has(pe.id)).filter(pe=>le(e==null?void 0:e.role,pe==null?void 0:pe.role)).map(pe=>{const be=(ae[pe.id]||[])[0]||null;return console.log(`Virtual room for ${pe.name}:`,be),{id:`virtual-${pe.id}`,type:"direct",display_name:pe.name||"Unknown User",users:[pe],unread_count:0,last_message:be,is_virtual:!0,virtual_user:pe}});n([...J,...ve]),m(!1)}catch(K){console.error("Failed to load rooms:",K),n([]),m(!1)}},z=async K=>{try{if(String(K).startsWith("virtual-")){f([]);return}const G=await se.get(`/chat/rooms/${K}/messages`);f(G.data.messages);try{await se.post(`/chat/rooms/${K}/mark-read`)}catch(X){console.error("Mark-read failed:",X)}n(X=>X.map(J=>J.id===K?{...J,unread_count:0}:J)),await L()}catch(G){console.error("Failed to load messages:",G),String(K).startsWith("virtual-")&&f([])}},W=async()=>{try{const K=await se.get("/chat/team-members");y(K.data)}catch(K){console.error("Failed to load team members:",K)}},V=async()=>{try{const K=await se.get("/chat/online-users");w(K.data.map(G=>G.id))}catch(K){console.error("Failed to load online users:",K)}},B=async K=>{try{await se.post("/chat/online-status",{is_online:K})}catch(G){console.error("Failed to update online status:",G)}},H=K=>{const G=K.target.value;d(G);const X=G.lastIndexOf("@");if(X!==-1){const J=G.substring(X+1);if(G.substring(0,X),(X===0||G[X-1]===" ")&&J.indexOf(" ")===-1){M(J);const le=((a==null?void 0:a.users)||[]).filter(oe=>oe.id!==(e==null?void 0:e.id)&&oe.name.toLowerCase().includes(J.toLowerCase()));D(le),k(le.length>0)}}else k(!1),D([])},Z=K=>{const G=c.lastIndexOf("@"),X=c.substring(0,G),J=c.substring(G+A.length+1);d(`${X}@${K.name} ${J}`),k(!1),M("")},U=K=>{const G=["bg-red-100 text-red-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-cyan-100 text-cyan-800"];return G[K%G.length]},Q=(K,G=!1)=>K.split(/(@\w+)/).map((J,ae)=>{if(J.startsWith("@")){const re=J.substring(1),le=v.find(oe=>oe.name.includes(re)||oe.name.split(" ")[0]===re);if(le)return i.jsxs("span",{className:"font-bold",children:["@",le.name.split(" ")[0]]},ae)}return J}),ne=async K=>{if(K.preventDefault(),!(!c.trim()||!a))try{let G=a.id;if(a.is_virtual&&a.virtual_user){const ae=await se.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});G=ae.data.id,s(ae.data)}const X=new FormData;X.append("message",c),X.append("type","text");const J=await se.post(`/chat/rooms/${G}/messages`,X);f(ae=>[...ae,J.data]),d(""),L()}catch(G){console.error("Failed to send message:",G)}},te=async K=>{const G=K.target.files[0];if(!(!G||!a))try{let X=a.id;if(a.is_virtual&&a.virtual_user){const le=await se.post("/chat/rooms",{type:"direct",user_ids:[a.virtual_user.id]});X=le.data.id,s(le.data)}const J=new FormData;J.append("file",G),J.append("message",G.name);const ae=G.type.startsWith("image/");J.append("type",ae?"image":"file");const re=await se.post(`/chat/rooms/${X}/messages`,J,{headers:{"Content-Type":"multipart/form-data"}});f(le=>[...le,re.data]),L()}catch(X){console.error("Failed to upload file:",X)}},he=async()=>{if(b.length!==0)try{const K=await se.post("/chat/rooms",{type:S,name:S==="group"?T:null,user_ids:b});n(G=>[K.data,...G]),s(K.data),g(!1),j([]),N(""),E("direct")}catch(K){console.error("Failed to create chat:",K)}},ce=v.filter(K=>K.name.toLowerCase().includes(P.toLowerCase())||K.email.toLowerCase().includes(P.toLowerCase())),ge=K=>x.includes(K),Y=K=>{const G=new Date(K),J=new Date-G;return J<6e4?"Just now":J<36e5?`${Math.floor(J/6e4)}m ago`:J<864e5?G.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):G.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i.jsxs("div",{className:"flex h-[calc(100vh-4rem)] bg-gray-50 relative",children:[o&&a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 lg:hidden",onClick:()=>l(!1)}),i.jsxs("div",{className:`${o?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:relative z-20 w-80 lg:w-72 bg-white border-r border-gray-100 flex flex-col transition-transform duration-300 h-full`,children:[i.jsx("div",{className:"px-4 py-3.5 bg-[#59569D] border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2.5",children:[i.jsx(_s,{className:"w-5 h-5 text-white"}),i.jsx("h2",{className:"text-base font-semibold text-white",children:"Messages"})]}),i.jsx("button",{onClick:()=>g(!0),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"New Chat",children:i.jsx(SV,{className:"w-5 h-5 text-white"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:h?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"})}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[i.jsx(_s,{className:"w-12 h-12 mb-3 text-[#59569D] opacity-30"}),i.jsx("p",{className:"text-sm font-medium",children:"No conversations yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Start a new chat to begin"})]}):r.map(K=>{var G,X,J,ae;return i.jsxs("button",{onClick:async()=>{if(K.is_virtual)try{const re=await se.post("/chat/rooms",{type:"direct",user_ids:[K.virtual_user.id]});s(re.data),await L()}catch(re){console.error("Failed to create chat room:",re)}else{s(K);try{await se.post(`/chat/rooms/${K.id}/mark-read`)}catch(re){console.error("Mark-read on open failed:",re)}n(re=>re.map(le=>le.id===K.id?{...le,unread_count:0}:le)),await L()}l(!1)},className:`w-full px-4 py-3 flex items-start space-x-3 transition-all border-l-4 ${(a==null?void 0:a.id)===K.id?"bg-[#59569D]/5 border-[#59569D]":"border-transparent hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"w-11 h-11 rounded-full bg-[#59569D] flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:((X=(G=K.display_name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),!K.is_virtual&&ge((ae=(J=K.users)==null?void 0:J[0])==null?void 0:ae.id)&&i.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),i.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:K.display_name}),K.last_message&&i.jsx("span",{className:"text-[11px] text-gray-500 ml-2 flex-shrink-0",children:Y(K.last_message.created_at)})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:`text-xs truncate flex-1 ${K.unread_count>0?"text-gray-900 font-medium":"text-gray-500"}`,children:K.last_message?i.jsxs(i.Fragment,{children:[K.type==="group"&&K.last_message.user&&i.jsxs("span",{className:"font-semibold",children:[K.last_message.user.id===(e==null?void 0:e.id)?"You":K.last_message.user.name.split(" ")[0],":"]})," ",K.last_message.type==="image"?" Photo":K.last_message.type==="file"?" File":K.last_message.message]}):i.jsx("span",{className:"italic text-gray-400",children:"Start a conversation..."})}),K.unread_count>0&&(a==null?void 0:a.id)!==K.id&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-[10px] rounded-full font-semibold min-w-[20px] text-center flex-shrink-0",children:K.unread_count>99?"99+":K.unread_count})]})]})]},K.id)})})]}),a?i.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[i.jsx("div",{className:"px-4 py-3.5 bg-[#59569D] border-b border-white/10",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.type==="direct"&&a.users?i.jsx(i.Fragment,{children:(()=>{var G,X,J;const K=a.users.find(ae=>ae.id!==(e==null?void 0:e.id))||a.users[0];return i.jsxs(i.Fragment,{children:[K!=null&&K.profile_image?i.jsx("img",{src:`/storage/${K.profile_image}`,alt:K.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40 flex-shrink-0"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white font-semibold flex-shrink-0 shadow-sm border-2 border-white/30",children:((X=(G=K==null?void 0:K.name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-sm font-semibold text-white truncate",children:(K==null?void 0:K.name)||a.display_name}),i.jsx("p",{className:"text-xs text-gray-300 capitalize",children:((J=K==null?void 0:K.role)==null?void 0:J.replace("_"," "))||"User"})]})]})})()}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30",children:i.jsx(_s,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-sm font-semibold text-white truncate",children:a.display_name}),a.type==="group"&&a.users&&i.jsxs("p",{className:"text-xs text-white/80",children:[a.users.length," members"]})]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[u.map(K=>{var X;const G=K.user_id===(e==null?void 0:e.id);return i.jsx("div",{className:`flex ${G?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md ${G?"order-2":"order-1"}`,children:[!G&&i.jsx("p",{className:"text-[10px] text-gray-500 mb-0.5 px-2",children:(X=K.user)==null?void 0:X.name}),i.jsx("div",{className:`px-3.5 py-2.5 text-sm ${G?"bg-[#F25292] text-white rounded-2xl rounded-br-sm shadow-sm":"bg-gray-50 text-gray-900 rounded-2xl rounded-bl-sm border border-gray-100"}`,children:K.type==="image"?i.jsx("img",{src:`/storage/${K.file_path}`,alt:"Shared image",className:"rounded-lg max-w-full"}):K.type==="file"?i.jsxs("a",{href:`/storage/${K.file_path}`,download:!0,className:"flex items-center space-x-2 hover:underline text-xs",children:[i.jsx(Jv,{className:"w-3 h-3"}),i.jsx("span",{children:K.message})]}):i.jsx("p",{className:`whitespace-pre-wrap break-words ${G?"text-white":""}`,children:Q(K.message,G)})}),i.jsx("p",{className:`text-[10px] text-gray-500 mt-0.5 px-2 ${G?"text-right":""}`,children:Y(K.created_at)})]})},K.id)}),i.jsx("div",{ref:q})]}),i.jsx("form",{onSubmit:ne,className:"px-4 py-3 bg-white border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-2 relative",children:[i.jsx("input",{type:"file",ref:F,onChange:te,className:"hidden"}),i.jsx("button",{type:"button",onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},className:"p-2 hover:bg-[#59569D]/10 text-[#59569D] rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:i.jsx(Jv,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{type:"text",value:c,onChange:H,placeholder:"Type a message...",className:"w-full px-4 py-2.5 text-sm bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D] focus:bg-white transition-all"}),I&&R.length>0&&i.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 max-h-48 overflow-y-auto",children:[i.jsx("div",{className:"px-3 py-2 bg-[#59569D] text-white text-xs font-semibold rounded-t-lg",children:"Group Members"}),R.map((K,G)=>{var X,J;return i.jsxs("button",{type:"button",onClick:()=>Z(K),className:`w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-3 transition-colors border-b border-gray-100 last:border-b-0 ${U(K.id).split(" ")[0]} bg-opacity-10`,children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0 ${U(K.id).split(" ")[0]}`,children:(J=(X=K.name)==null?void 0:X.charAt(0))==null?void 0:J.toUpperCase()}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-xs font-semibold text-gray-900",children:K.name.split(" ")[0]})}),i.jsxs("div",{className:`px-2 py-0.5 rounded-full text-[9px] font-semibold truncate max-w-[80px] ${U(K.id)}`,children:["@",K.name.split(" ")[0]]})]},K.id)})]})]}),i.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-2.5 bg-[#59569D] text-white rounded-full hover:bg-[#59569D]/90 hover:shadow-md transition-all disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0",title:"Send message",children:i.jsx(AV,{className:"w-5 h-5"})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-[#59569D]/10 flex items-center justify-center",children:i.jsx(_s,{className:"w-10 h-10 text-[#59569D]"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-1.5",children:"Select a conversation"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Choose a chat from the list to start messaging"})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-[#59569D] rounded-t-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"New Chat"}),i.jsx("button",{onClick:()=>g(!1),className:"text-white/80 hover:text-white transition-colors",children:i.jsx(Zj,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"flex items-center space-x-2.5 mb-2 cursor-pointer",children:[i.jsx("input",{type:"radio",value:"direct",checked:S==="direct",onChange:K=>{E(K.target.value),j([])},className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Direct Message"})]}),i.jsxs("label",{className:"flex items-center space-x-2.5 cursor-pointer",children:[i.jsx("input",{type:"radio",value:"group",checked:S==="group",onChange:K=>E(K.target.value),className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Group Chat"})]})]}),S==="group"&&i.jsx("input",{type:"text",value:T,onChange:K=>N(K.target.value),placeholder:"Group name",className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D]"}),i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",value:P,onChange:K=>O(K.target.value),placeholder:"Search team members...",className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59569D]/30 focus:border-[#59569D]"})}),i.jsx("div",{className:"max-h-64 overflow-y-auto mb-4 border border-gray-200 rounded-lg",children:ce.map(K=>{var G,X;return i.jsxs("label",{className:"flex items-center space-x-3 px-3 py-2.5 hover:bg-[#59569D]/5 cursor-pointer border-b border-gray-100 last:border-b-0",children:[i.jsx("input",{type:S==="direct"?"radio":"checkbox",checked:b.includes(K.id),onChange:J=>{j(S==="direct"?J.target.checked?[K.id]:[]:ae=>J.target.checked?[...ae,K.id]:ae.filter(re=>re!==K.id))},className:"text-[#59569D] focus:ring-[#59569D]"}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-[#59569D] flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:((X=(G=K.name)==null?void 0:G.charAt(0))==null?void 0:X.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:K.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:K.email})]}),ge(K.id)&&i.jsx(NV,{className:"w-2.5 h-2.5 text-green-400 fill-current flex-shrink-0"})]},K.id)})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:he,disabled:b.length===0||S==="group"&&!T,className:"px-4 py-2 text-sm bg-[#59569D] text-white rounded-lg hover:bg-[#59569D]/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Chat"})]})]})]})})]})}const Es=()=>{const{user:e,logout:t}=Fe(),r=async()=>{await t()};return i.jsxs("div",{children:[i.jsx(Ho,{title:"Settings",subtitle:"Manage your account and preferences"}),i.jsxs("div",{className:"max-w-2xl",children:[i.jsxs(Ne,{className:"mb-6",children:[i.jsx("h3",{style:{fontSize:"18px",fontFamily:"Inter, sans-serif"},className:"font-semibold mb-4",children:"Account Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-900",children:e==null?void 0:e.name})]}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-900",children:e==null?void 0:e.email})]}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"block font-medium text-gray-700 mb-1",children:"User ID"}),i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"text-gray-600 font-mono",children:e==null?void 0:e.id})]})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx(hc,{variant:"secondary",children:"Edit Profile"})})]}),i.jsxs(Ne,{className:"mb-6",children:[i.jsx("h3",{style:{fontSize:"18px",fontFamily:"Inter, sans-serif"},className:"font-semibold mb-4",children:"Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{style:{fontSize:"14px",fontFamily:"Inter, sans-serif"},className:"font-medium text-gray-900",children:"Email Notifications"}),i.jsx("p",{style:{fontSize:"13px",fontFamily:"Inter, sans-serif"},className:"text-gray-600",children:"Receive email updates about your projects"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Task Reminders"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded about upcoming due dates"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),i.jsxs(Ne,{className:"border border-red-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-red-600",children:"Danger Zone"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Sign Out"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sign out from your account"})]}),i.jsx(hc,{variant:"danger",onClick:r,children:"Sign Out"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Delete Account"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all data"})]}),i.jsx(hc,{variant:"danger",children:"Delete Account"})]})]})]})]})]})},Os=({children:e})=>{const{user:t,loading:r}=Fe();return r?i.jsx(rt,{}):t?e:i.jsx(Qt,{to:"/login",replace:!0})},Ts=({allowed:e,children:t})=>{const{user:r,loading:n}=Fe();if(n)return i.jsx(rt,{});if(!r)return i.jsx(Qt,{to:"/login",replace:!0});if(!(Array.isArray(e)?e:[e]).includes(r.role)){const s=o=>{switch(o){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return"/admin"}};return i.jsx(Qt,{to:`${s(r.role)}/dashboard`,replace:!0})}return t},IV=()=>{const{user:e,loading:t}=Fe();if(t)return i.jsx(rt,{});const n=e?(a=>{switch(a){case"admin":return"/admin";case"project_manager":return"/manager";case"developer":return"/developer";case"client":return"/client";default:return""}})(e.role):"";return i.jsxs(Q_,{children:[i.jsx(me,{path:"/login",element:e?i.jsx(Qt,{to:`${n}/dashboard`,replace:!0}):i.jsx(AN,{})}),i.jsx(me,{index:!0,element:e?i.jsx(Qt,{to:`${n}/dashboard`,replace:!0}):i.jsx(Qt,{to:"/login",replace:!0})}),i.jsxs(me,{path:"/admin/*",element:i.jsx(Os,{children:i.jsx(Ts,{allowed:["admin"],children:i.jsx(_N,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(Qt,{to:"/admin/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(IN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Gi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Vi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Wi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Ki,{})}),i.jsx(me,{path:"tasks",element:i.jsx(BN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(Zi,{})}),i.jsx(me,{path:"clients",element:i.jsx(j5,{})}),i.jsx(me,{path:"employees",element:i.jsx(jV,{})}),i.jsx(me,{path:"activity-logs",element:i.jsx(ov,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ns,{})}),i.jsx(me,{path:"settings",element:i.jsx(Es,{})})]}),i.jsxs(me,{path:"/manager/*",element:i.jsx(Os,{children:i.jsx(Ts,{allowed:["project_manager"],children:i.jsx(EN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(Qt,{to:"/manager/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(kN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Gi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Vi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Wi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Ki,{})}),i.jsx(me,{path:"tasks",element:i.jsx($N,{})}),i.jsx(me,{path:"calendar",element:i.jsx(Zi,{})}),i.jsx(me,{path:"activity-logs",element:i.jsx(ov,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ns,{})}),i.jsx(me,{path:"settings",element:i.jsx(Es,{})})]}),i.jsxs(me,{path:"/developer/*",element:i.jsx(Os,{children:i.jsx(Ts,{allowed:["developer"],children:i.jsx(TN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(Qt,{to:"/developer/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(CN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Gi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Vi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Wi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Ki,{})}),i.jsx(me,{path:"tasks",element:i.jsx(FN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(Zi,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ns,{})}),i.jsx(me,{path:"settings",element:i.jsx(Es,{})})]}),i.jsxs(me,{path:"/client/*",element:i.jsx(Os,{children:i.jsx(Ts,{allowed:["client"],children:i.jsx(PN,{})})}),children:[i.jsx(me,{index:!0,element:i.jsx(Qt,{to:"/client/dashboard",replace:!0})}),i.jsx(me,{path:"dashboard",element:i.jsx(DN,{})}),i.jsx(me,{path:"projects",element:i.jsx(Gi,{})}),i.jsx(me,{path:"projects/:projectId",element:i.jsx(Vi,{})}),i.jsx(me,{path:"projects/:projectId/tasks",element:i.jsx(Yi,{})}),i.jsx(me,{path:"projects/:projectId/tasks/:taskId",element:i.jsx(Xi,{})}),i.jsx(me,{path:"users/:userId/analytics",element:i.jsx(Wi,{})}),i.jsx(me,{path:"users/:userType/:userId",element:i.jsx(Ki,{})}),i.jsx(me,{path:"tasks",element:i.jsx(zN,{})}),i.jsx(me,{path:"calendar",element:i.jsx(Zi,{})}),i.jsx(me,{path:"chat",element:i.jsx(Ns,{})}),i.jsx(me,{path:"settings",element:i.jsx(Es,{})})]}),i.jsx(me,{path:"*",element:i.jsx(Qt,{to:e?`${n}/dashboard`:"/login",replace:!0})})]})};function kV(){return i.jsx(oN,{children:i.jsx(pN,{children:i.jsx(IV,{})})})}function aW(){return i.jsx(kV,{})}export{aW as default};
